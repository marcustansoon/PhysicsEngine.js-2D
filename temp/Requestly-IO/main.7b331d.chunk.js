(this.webpackJsonprequestly=this.webpackJsonprequestly||[]).push([[0],{143:function(e,t,n){},166:function(e,t,n){},187:function(e){e.exports=JSON.parse('[{"id":"bronze","allowDiscounts":false,"monthly":{"price":{"USD":0,"INR":0,"EUR":0,"GBP":0,"MXN":0,"CAD":0,"CNY":0},"planId":null,"days":30},"quarterly":{"price":{"USD":0,"INR":0,"EUR":0,"GBP":0,"MXN":0,"CAD":0,"CNY":0},"planId":null,"days":90},"half-yearly":{"price":{"USD":0,"INR":0,"EUR":0,"GBP":0,"MXN":0,"CAD":0,"CNY":0},"planId":null,"days":180},"annual":{"price":{"USD":0,"INR":0,"EUR":0,"GBP":0,"MXN":0,"CAD":0,"CNY":0},"planId":null,"days":365},"name":"Free"},{"id":"gold","allowDiscounts":true,"popular":true,"monthly":{"price":{"USD":10,"EUR":10,"INR":400,"GBP":10,"MXN":200,"CAD":10,"CNY":60},"planId":"gold_1m","days":30},"quarterly":{"price":{"USD":30,"EUR":30,"INR":600,"GBP":30,"MXN":600,"CAD":30,"CNY":180},"planId":"gold_3m","days":90},"half-yearly":{"price":{"USD":50,"EUR":50,"INR":1000,"GBP":50,"MXN":1000,"CAD":50,"CNY":300},"planId":"gold_6m","days":180},"annual":{"price":{"USD":100,"EUR":100,"INR":4000,"GBP":100,"MXN":2000,"CAD":100,"CNY":600},"planId":"gold_12m","days":365},"name":"Gold"},{"id":"enterprise","allowDiscounts":false,"popular":false,"monthly":{"price":{"USD":10,"EUR":10,"INR":400,"GBP":10,"MXN":400,"CAD":10,"CNY":60},"planId":"enterprise_1m","days":30},"quarterly":{"price":{"USD":30,"EUR":30,"INR":1200,"GBP":30,"MXN":1200,"CAD":30,"CNY":180},"planId":"enterprise_3m","days":90},"half-yearly":{"price":{"USD":60,"EUR":60,"INR":2400,"GBP":60,"MXN":2400,"CAD":60,"CNY":360},"planId":"enterprise_6m","days":180},"annual":{"price":{"USD":100,"EUR":100,"INR":4000,"GBP":100,"MXN":4000,"CAD":100,"CNY":600},"planId":"enterprise_12m","days":365},"name":"Enterprise"}]')},197:function(e,t,n){},248:function(e,t,n){},316:function(e){e.exports=JSON.parse('[{"id":"Users","title":"Number of Users","bronze":{"title":"Limited access","enabled":false,"icon":"frown"},"silver":{"title":"Unlimited Users","enabled":true,"icon":"uncheck"},"gold":{"title":"Best for Indie Dev","enabled":true,"icon":"check"},"enterprise":{"title":"Best for Team/Company","enabled":true,"icon":"check"}},{"id":"rules","title":"Rules","bronze":{"title":"50 Rules","limit":50,"enabled":true,"icon":"frown"},"silver":{"title":"25 Rules (Max 10 Active)","limit":25,"enabled":true,"icon":"check"},"gold":{"title":"Unlimited Rules","limit":10000,"enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Rules","limit":10000,"enabled":true,"icon":"check"}},{"id":"active_rules","title":"Active Rules","bronze":{"title":"50 Active Rules","limit":50,"enabled":true,"icon":"frown"},"silver":{"title":"10 Active Rules","limit":10,"enabled":true,"icon":"check"},"gold":{"title":"Unlimited Active Rules","limit":10000,"enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Active Rules","limit":10000,"enabled":true,"icon":"check"}},{"id":"favourite_rules","title":"Favourite Rules","bronze":{"title":"50 Favourite Rules","limit":50,"enabled":true,"icon":"frown"},"silver":{"title":"10 Favourite Rules","limit":10,"enabled":true,"icon":"check"},"gold":{"title":"Unlimited Favourite Rules","limit":10000,"enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Favourite Rules","limit":10000,"enabled":true,"icon":"check"}},{"id":"files","title":"Files","bronze":{"title":"50 Files","limit":50,"enabled":true,"icon":"frown"},"silver":{"title":"10 Files","limit":10,"enabled":true,"icon":"check"},"gold":{"title":"Unlimited Files","limit":1000,"enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Files","limit":1000,"enabled":true,"icon":"check"}},{"id":"groups","title":"Groups","bronze":{"title":"Limited Groups","enabled":false,"icon":"frown"},"silver":{"title":"Limited Groups","enabled":true,"icon":"frown"},"gold":{"title":"Unlimited Groups","enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Groups","enabled":true,"icon":"check"}},{"id":"shared_lists","title":"Shared Lists","bronze":{"title":"50 Shared Lists","limit":50,"enabled":true,"icon":"frown"},"silver":{"title":"10 Shared Lists","limit":10,"enabled":true,"icon":"check"},"gold":{"title":"Unlimited Shared Lists","limit":1000,"enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Shared Lists","limit":1000,"enabled":true,"icon":"check"}},{"id":"rule_pairs","title":"Rule Pairs","bronze":{"title":"50 Rule Pairs","limit":50,"enabled":true,"icon":"frown"},"silver":{"title":"10 Rule Pairs","limit":10,"enabled":true,"icon":"check"},"gold":{"title":"Unlimited Rule Pairs","limit":10000,"enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Rule Pairs","limit":10000,"enabled":true,"icon":"check"}},{"id":"RESPONSE_BODY_CHARACTER_LIMIT","title":"AJAX Response Char Limit","showInComparisonTable":false,"bronze":{"title":"Upto 6,000 Characters AJAX Response","limit":6000,"enabled":true,"icon":"check"},"silver":{"title":"Upto 6,000 Characters AJAX Response","limit":6000,"enabled":true,"icon":"check"},"gold":{"title":"Upto 60,000 Characters AJAX Response","limit":60000,"enabled":true,"icon":"check"},"enterprise":{"title":"Upto 6,000 Characters AJAX Response","limit":6000,"enabled":true,"icon":"check"}},{"id":"export_import","title":"Export & Import Rules","bronze":{"title":"Import & Export Rules","enabled":true,"icon":"frown"},"silver":{"title":"Import & Export Rules","enabled":false,"icon":"frown"},"gold":{"title":"Import & Export Rules","enabled":true,"icon":"check"},"enterprise":{"title":"Import & Export Rules","enabled":true,"icon":"check"}},{"id":"Customer Support","title":"Priority Support","bronze":{"title":"Support","enabled":true,"icon":"frown"},"silver":{"title":"Priority Support","enabled":false,"icon":"frown"},"gold":{"title":"Priority Support (Slack)","enabled":true,"icon":"check"},"enterprise":{"title":"Priority Support (Slack)","enabled":true,"icon":"check"}}]')},422:function(e,t){if("undefined"===typeof n)var n=!0;var a={browser:"chrome",storageType:"sync",contextMenuContexts:["browser_action"],collectExtUsageStats:!0,env:"prod",WEB_URL:"https://app.requestly.io",firebaseConfig:{apiKey:"AIzaSyC2WOxTtgKH554wCezEJ4plxnMNXaUSFXY",authDomain:"app.requestly.io",databaseURL:"https://requestly.firebaseio.com",projectId:"project-7820168409702389920",storageBucket:"project-7820168409702389920.appspot.com",messagingSenderId:"911299702852"},logLevel:"info",stripeConfig:{publishableKey:"pk_live_FgVCiLBLJBaVSLulhPWptlDg",productIds:{enterprisePlan:{INR:{monthly:"price_1Hs62NIVcpOtHqujisdpsA53",quarterly:"price_1Hs62NIVcpOtHqujbIhUiCNO","half-yearly":"price_1Hs62NIVcpOtHqujk2TCvkba",annual:"price_1Hs62OIVcpOtHqujuSmvQ0LR"},USD:{monthly:"price_1Hs62NIVcpOtHqujNdJXy1U2",quarterly:"price_1Hs62NIVcpOtHqujA6BhjyBc","half-yearly":"price_1Hs62NIVcpOtHqujrfFCxb4I",annual:"price_1Hs62NIVcpOtHqujafhBiwBk"},default:"price_1Hs62NIVcpOtHqujNdJXy1U2"}}},version:"21.12.23"};n?e.exports=a:window&&(window.RQ=window.RQ||{},window.RQ.configs=a)},423:function(e,t,n){if("undefined"===typeof a)var a=!0;var r,c={};r=a?n(422):window.RQ.configs,c.APP_MODES={DESKTOP:"DESKTOP",EXTENSION:"EXTENSION",WORDPRESS:"WORDPRESS",CLOUDFLARE:"CLOUDFLARE"},c.COMPANY_INFO={SUPPORT_EMAIL:"contact@requestly.io"},c.VERSION=3,c.TRACK_ERRORS=!0,c.ONBOARDING_DAYS_TO_EXPIRE=7,c.ONBOARDING_TASKS=5,c.FILE_PICKER_URL="/library/filepicker",c.VERSIONS={REPLACE_RULE:2},c.ENV=r.env,c.PUBLIC_NAMESPACE="__REQUESTLY__",c.RULES_PAGE_URL=r.WEB_URL+"/rules/",c.RULES_PAGE_URL_PATTERN=c.RULES_PAGE_URL+"*",c.PRICING_PAGE_URL=r.WEB_URL+"/pricing/",c.GOODBYE_PAGE_URL=r.WEB_URL+"/goodbye/",c.DELAY_API_URL=r.WEB_URL+"/delay/",c.MOCK_URL=r.WEB_URL+"/mock/",c.BLACK_LIST_DOMAINS=["requestly.in","requestly.io","rq.in","rq.io","__rq"],c.STRING_CONSTANTS={SLASH:"/"},c.LIMITS={NUMBER_SHARED_LISTS:10,NUMBER_EXECUTION_LOGS:25},c.DEFAULTS={APP_INIT_TIMEOUT:5e3},c.OBJECT_TYPES={GROUP:"group",RULE:"rule"},c.RULE_TYPES={REDIRECT:"Redirect",CANCEL:"Cancel",REPLACE:"Replace",HEADERS:"Headers",USERAGENT:"UserAgent",SCRIPT:"Script",QUERYPARAM:"QueryParam",RESPONSE:"Response",DELAY:"Delay"},c.DELAY_REQUEST_CONSTANTS={DELAY_PARAM_NAME:"delay",DELAY_PARAM_VALUE:"true",MIN_DELAY_VALUE:1,MAX_DELAY_VALUE_NON_XHR:1e4,MAX_DELAY_VALUE_XHR:5e3,DELAY_TYPE:{CLIENT_SIDE:"clientSideDelay",SERVER_SIDE:"serverSideDelay"},REQUEST_TYPE:{XHR:"xmlhttprequest"},METHOD_TYPE:{GET:"GET"}},c.OBJECT_FORMAT_KEYS={CREATION_DATE:"creationDate",NAME:"name",ID:"id",RULE_TYPE:"ruleType",STATUS:"status",OBJECT_TYPE:"objectType",GROUP_ID:"groupId",IS_FAVOURITE:"isFavourite"},c.HEADER_NAMES={USER_AGENT:"User-Agent"},c.GROUP_STATUS={ACTIVE:"Active",INACTIVE:"Inactive"},c.RULE_STATUS={ACTIVE:"Active",INACTIVE:"Inactive"},c.SUBSCRIPTION_STATUS={ACTIVE:"active",CANCELLED:"cancelled"},c.RULE_KEYS={URL:"Url",HOST:"host",PATH:"path",HEADER:"Header",OVERWRITE:"Overwrite",IGNORE:"Ignore",PARAM:"param",VALUE:"value"},c.PATH_FROM_PAIR={RULE_KEYS:"source.key",RULE_OPERATORS:"source.operator",SCRIPT_LIBRARIES:"libraries",SOURCE_PAGE_URL_OPERATOR:"source.filters.pageUrl.operator",SOURCE_PAGE_URL_VALUE:"source.filters.pageUrl.value",SOURCE_RESOURCE_TYPE:"source.filters.resourceType",SOURCE_REQUEST_METHOD:"source.filters.requestMethod"},c.HEADER_SUGGESTIONS={Request:[{label:"authorization",value:"authorization"},{label:"cache-control",value:"cache-control"},{label:"cookie",value:"cookie"},{label:"connection",value:"connection"},{label:"origin",value:"origin"},{label:"user-agent",value:"user-agent"}],Response:[{label:"age",value:"age"},{label:"access-control-allow-origin",value:"access-control-allow-origin"},{label:"access-control-allow-credentials",value:"access-control-allow-credentials"},{label:"expires",value:"expires"},{label:"server",value:"server"},{label:"x-frame-options",value:"x-frame-options"}]},c.URL_COMPONENTS={PROTOCOL:"Protocol",URL:"Url",HOST:"host",PATH:"path",QUERY:"query",HASH:"hash"},c.RULE_OPERATORS={EQUALS:"Equals",CONTAINS:"Contains",MATCHES:"Matches",WILDCARD_MATCHES:"Wildcard_Matches"},c.RULE_SOURCE_FILTER_TYPES={PAGE_URL:"pageUrl",RESOURCE_TYPE:"resourceType",REQUEST_METHOD:"requestMethod"},c.MODIFICATION_TYPES={ADD:"Add",REMOVE:"Remove",REMOVE_ALL:"Remove All",MODIFY:"Modify",REPLACE:"Replace"},c.NEED_HELP_QUERY_TYPES={FEEDBACK:"Feedback",BUG:"Bug",QUESTION:"Question",FEATURE_REQUEST:"FeatureRequest"},c.CLIENT_MESSAGES={GET_SCRIPT_RULES:"getScriptRules",DO_SETUP_RESPONSE_RULE_HANDLER:"doSetupResponseRuleHandler",GET_USER_AGENT_RULE_PAIRS:"getUserAgentRulePairs",OVERRIDE_RESPONSE:"overrideResponse",NOTIFY_RULES_APPLIED:"notifyRulesApplied"},c.EXTENSION_MESSAGES={FOCUS_TAB:"focusTab",GET_FULL_LOGS:"getFullLogs",CLEAR_LOGS_FOR_TAB:"clearLogsForTab",CLEAR_LOGS_FOR_DOMAIN:"clearLogsForDomain",GET_FAVOURITE_RULES:"getFavouriteRules",GET_FLAGS:"getFlags"},c.HEADERS_TARGET={REQUEST:"Request",RESPONSE:"Response"},c.REQUEST_TYPES={MAIN_FRAME:"mainFrame",PAGE_REQUEST:"pageRequest"},c.SCRIPT_TYPES={URL:"url",CODE:"code"},c.SCRIPT_CODE_TYPES={JS:"js",CSS:"css"},c.SCRIPT_LOAD_TIME={BEFORE_PAGE_LOAD:"beforePageLoad",AFTER_PAGE_LOAD:"afterPageLoad"},c.SCRIPT_LIBRARIES={JQUERY:{name:"jQuery",src:"https://code.jquery.com/jquery-2.2.4.js"},UNDERSCORE:{name:"Underscore",src:"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"}},c.RESPONSE_BODY_TYPES={STATIC:"static",CODE:"code"},c.RESPONSE_CODES={NOT_FOUND:404},c.STORAGE_KEYS={REQUESTLY_SETTINGS:"rq_settings",USER_INFO:"user_info",LATEST_NOTIFICATION_READ_BY_USER:"latestNotificationReadId"},c.MESSAGES={DELETE_ITEMS_NO_SELECTION_WARNING:"Please select one or more rules to delete.",DELETE_ITEMS:"Are you sure you want to delete the selected items?",DELETE_GROUP_WITH_RULES_WARNING:"There are some rules contained in this group. Please delete or ungroup them before deleting the group.",DELETE_GROUP:"Are you sure you want to delete the group?",UNGROUP_ITEMS_NO_SELECTION_WARNING:"Please select one or more rules to ungroup.",UNGROUP_ITEMS:"Are you sure you want to ungroup the selected items?",SIGN_IN_TO_VIEW_SHARED_LISTS:"Please login to view your Shared Lists.",SIGN_IN_TO_CREATE_SHARED_LISTS:"Please login to share the selected rules",SIGN_IN_TO_SUBMIT_QUERY:"Please login to contact our support team.",ERROR_AUTHENTICATION:"Received some error in authentication. Please try again later!!",SHARED_LISTS_LIMIT_REACHED:"You can not create more than"+c.LIMITS.NUMBER_SHARED_LISTS+"shared lists",ERROR_TAB_FOCUS:"The tab cannot be focused, as it might have been closed.",DEACTIVATE_REQUESTLY_MENU_OPTION:"Deactivate Requestly"},c.RESOURCES={EXTENSION_ICON:"/resources/images/48x48.png",EXTENSION_ICON_GREYSCALE:"/resources/images/48x48_greyscale.png",EXTENSION_ICON_GREEN:"/resources/images/48x48_green.png"},c.GA_EVENTS={CATEGORIES:{RULES:"rules",RULE:"rule",GROUP:"group",USER:"user",SHARED_LIST:"shared list",RULE_LOGS:"rule logs",EXTENSION:"extension",IN_APP_NOTIFICATION:"InAppNotification",NEED_HELP_FEATURE:"need help feature",PRICING:"pricing",LICENSE:"license",LIBRARY:"library",UNLOCK:"unlock",REMOTE_RULES:"remoteRules",SPONSOR_SIDERAIL:"sponsor_siderail",LOGIN:"login",SIGNUP:"signup",REFERRAL:"referral",PAGE_VISITS:"page visits",REQUEST_UPGRADE:"request upgrade",MARKETPLACE:"marketplace",CHECKOUT:"checkout page",TEAMS:"teams page",ONBOARDING:"onboarding page",RULE_PAIRS:"rule pairs",DESKTOP_APP:"desktop app"},ACTIONS:{MODIFIED:"modified",CREATED:"created",DELETED:"deleted",ACTIVATED:"activated",DEACTIVATED:"deactivated",IMPORTED:"imported",EXPORTED:"exported",LIMIT_REACHED:"limit reached",AUTHENTICATED:"authenticated",VIEWED:"viewed",CLICKED:"clicked",COPIED:"copied",MARKED_FAVOURITE:"marked favourite",UNMARKED_FAVOURITE:"unmarked favourite",WORKFLOW_STARTED:"workflow started",ALREADY_LOGIN:"already login",LOGIN_REQUESTED:"login requested",LOGIN_DONE:"login done",LOGIN_REJECTED:"login rejected",FORM_SUBMITTED:"form submitted",FORM_REJECTED:"form rejected",INVALID_SUBMIT:"invalid submit",GROUPED:"grouped",UNGROUPED:"ungrouped",SHARED:"shared",ERROR:"error occured",TASK_COMPLETED:"task completed",BACKUP_CREATED:"backup created",BACKUP_USED:"backup used",CARD_ERROR:"card error",CARD_ACCEPTED:"card accepted",CARD_ENTERED:"card num and cv entered",CURRENCY_CHANGE:"currency_changed",DURATION_CHANGE:"duration_changed",APPLIED_SUCCESSFULLY:"applied_successfully",APPLIED_UNSUCCESSFULLY:"applied_unsuccessfully",REVOKED:"revoked",BOUGHT:"bought",UPDATED:"updated",REQUEST_ADMIN:"enterprise_plan_requested",UNINSTALLED:"uninstalled",UNINSTALL_RESPONSE:"uninstall_response",ROUTE_VIEWED:"route_viewed",EMAIL_LOGIN_PERFORMED:"email_login_performed",EMAIL_SIGNUP_PERFORMED:"email_signup_performed",GMAIL_LOGIN_PERFORMED:"gmail_login_performed",GMAIL_SIGNUP_PERFORMED:"gmail_signup_performed",MICROSOFT_LOGIN_PERFORMED:"microsoft_login_performed",APPLE_LOGIN_PERFORMED:"apple_login_performed",REFERRAL_APPLIED:"referral_applied",REFERRAL_FAILED:"referral_failed",EMAIL_VERIFICATION_RESEND:"resend_email_verification",EMAIL_VERIFICATION_SUCCESSFUL:"email_verification_successful",EMAIL_VERIFICATION_FAILED:"email_verification_failed",TRAFFIC_TABLE_VIEWED:"traffic_table_viewed",TRAFFIC_TABLE_MODIFIED:"traffic_table_modified",APP_LAUNCHED:"app_launched",APP_CLOSED:"app_closed",APP_NOT_LAUNCHED:"app_not_launched",PROXY_SERVER:"proxy_server_started",BG_PROCESS:"bg_process_started",MANUAL_SETUP_MAC:"manual_setup_mac",DARK_MODE_ENABLED:"dark_mode_enabled",DARK_MODE_DISABLED:"dark_mode_disabled",UPGRADE_REQUIRED_FOR_DARK_MODE:"upgrade_required_for_dark_mode",SIMULATE_RULE:"simulate_rule"},ATTR:{PAYMENT_MODE:"payment_mode",PLANNAME:"planname",PLAN_DURATION:"plan_duration",PLAN_ID:"plan_id",PLAN_START_DATE:"plan_startDate",PLAN_END_DATE:"plan_endDate",COUPON:"coupon",COUPON_VALUE:"coupon_value",LICENSE:"licensekey",COMPANY:"company",PROFILE:"profile",REMOTE_RULES_ENDPOINT:"remoteRulesEndpoint",REMOTE_RULES_FREQUENCY:"remoteRulesFrequency",NUM_RULES:"NUM_RULES",NUM_ACTIVE_RULES:"NUM_ACTIVE_RULES",NUM_GROUPS:"NUM_GROUPS",NUM_ACTIVE_GROUPS:"NUM_ACTIVE_GROUPS",NUM_SHARED_LISTS:"NUM_SHARED_LISTS",SIGNUP_DATE:"SIGNUP_DATE"},VALUES:{PAYPAL:"paypal"},GA_CUSTOM_DIMENSIONS:{USER_ID:"dimension1"},GA_CUSTOM_METRICS:{num_rules:"metric1"}},c.USER={AUTHORIZED:"authorized-user",UNAUTHORIZED:"unauthorized-user"},c.FIREBASE_NODES={USERS:"users",PUBLIC:"public",SHARED_LISTS:"sharedLists",FEEDBACK:"feedback",FILES:"files"},c.DATASTORE={ACTIONS:{CHECK_USER_AUTH:"check:userAuthenticated",AUTHENTICATE:"authenticate",FETCH_USER_DETAILS:"fetchUserDetails",GETVALUE:"getValue",SETVALUE:"setValue"}},c.MESSAGE_HANDLER={ACTIONS:{SUBMIT_EVENT:"submitEvent",SUBMIT_ATTR:"submitAttr"},MESSAGE_TYPES:{EVENT:"event",ATTRIBUTE:"attribute"},SINKS:{CUSTOMERLY:"customerly"}},c.getSharedListURL=function(e,t){var n=t.replace(new RegExp(" +|/+","g"),"-").replace(/-+/g,"-");return c.RULES_PAGE_URL+"#sharedList/"+e+"-"+n},c.getSharedListTimestamp=function(e){return e.split("-")[0]},c.fireAjax=function(e,t){return new Promise((function(n,a){var r=new XMLHttpRequest;r.open("GET",e,t),r.onreadystatechange=function(){4===this.readyState&&(this.status>=200&&this.status<400?n(JSON.parse(this.responseText)):a())},r.send()}))},a?e.exports=c:Object.assign(window.RQ,c)},508:function(e,t,n){},509:function(e,t,n){},535:function(e,t,n){},537:function(e,t,n){},595:function(e,t){if("undefined"===typeof n)var n=!0;var a={enabled:!1,ns:"Requestly: ",log:function(e){this.enabled&&console.log.apply(console,[this.ns].concat(Array.prototype.slice.call(arguments)))},error:function(e){this.enabled&&console.error.apply(console,[this.ns].concat(Array.prototype.slice.call(arguments)))}};n?e.exports=a:(window.RQ=window.RQ||{},window.RQ.components=window.RQ.components||{},window.RQ.components.logger=a)},596:function(e,t,n){(function(t){var a=n(129).default,r=n(145).default,c=n(146).default,i=n(94).default;e.exports=function(){var e={976:function(e,t,n){if(void 0===a)var a=!0;var r,c={};r=a?n(531):window.RQ.configs,c.APP_MODES={DESKTOP:"DESKTOP",EXTENSION:"EXTENSION",WORDPRESS:"WORDPRESS",CLOUDFLARE:"CLOUDFLARE"},c.COMPANY_INFO={SUPPORT_EMAIL:"contact@requestly.io"},c.VERSION=3,c.TRACK_ERRORS=!0,c.ONBOARDING_DAYS_TO_EXPIRE=7,c.ONBOARDING_TASKS=5,c.FILE_PICKER_URL="/library/filepicker",c.VERSIONS={REPLACE_RULE:2},c.ENV=r.env,c.PUBLIC_NAMESPACE="__REQUESTLY__",c.RULES_PAGE_URL=r.WEB_URL+"/rules/",c.RULES_PAGE_URL_PATTERN=c.RULES_PAGE_URL+"*",c.PRICING_PAGE_URL=r.WEB_URL+"/pricing/",c.GOODBYE_PAGE_URL=r.WEB_URL+"/goodbye/",c.DELAY_API_URL=r.WEB_URL+"/delay/",c.MOCK_URL=r.WEB_URL+"/mock/",c.BLACK_LIST_DOMAINS=["requestly.in","requestly.io","rq.in","rq.io","__rq"],c.STRING_CONSTANTS={SLASH:"/"},c.LIMITS={NUMBER_SHARED_LISTS:10,NUMBER_EXECUTION_LOGS:25},c.DEFAULTS={APP_INIT_TIMEOUT:5e3},c.OBJECT_TYPES={GROUP:"group",RULE:"rule"},c.RULE_TYPES={REDIRECT:"Redirect",CANCEL:"Cancel",REPLACE:"Replace",HEADERS:"Headers",USERAGENT:"UserAgent",SCRIPT:"Script",QUERYPARAM:"QueryParam",RESPONSE:"Response",DELAY:"Delay"},c.DELAY_REQUEST_CONSTANTS={DELAY_PARAM_NAME:"delay",DELAY_PARAM_VALUE:"true",MIN_DELAY_VALUE:1,MAX_DELAY_VALUE_NON_XHR:1e4,MAX_DELAY_VALUE_XHR:5e3,DELAY_TYPE:{CLIENT_SIDE:"clientSideDelay",SERVER_SIDE:"serverSideDelay"},REQUEST_TYPE:{XHR:"xmlhttprequest"},METHOD_TYPE:{GET:"GET"}},c.OBJECT_FORMAT_KEYS={CREATION_DATE:"creationDate",NAME:"name",ID:"id",RULE_TYPE:"ruleType",STATUS:"status",OBJECT_TYPE:"objectType",GROUP_ID:"groupId",IS_FAVOURITE:"isFavourite"},c.HEADER_NAMES={USER_AGENT:"User-Agent"},c.GROUP_STATUS={ACTIVE:"Active",INACTIVE:"Inactive"},c.RULE_STATUS={ACTIVE:"Active",INACTIVE:"Inactive"},c.SUBSCRIPTION_STATUS={ACTIVE:"active",CANCELLED:"cancelled"},c.RULE_KEYS={URL:"Url",HOST:"host",PATH:"path",HEADER:"Header",OVERWRITE:"Overwrite",IGNORE:"Ignore",PARAM:"param",VALUE:"value"},c.PATH_FROM_PAIR={RULE_KEYS:"source.key",RULE_OPERATORS:"source.operator",SCRIPT_LIBRARIES:"libraries",SOURCE_PAGE_URL_OPERATOR:"source.filters.pageUrl.operator",SOURCE_PAGE_URL_VALUE:"source.filters.pageUrl.value",SOURCE_RESOURCE_TYPE:"source.filters.resourceType",SOURCE_REQUEST_METHOD:"source.filters.requestMethod"},c.HEADER_SUGGESTIONS={Request:[{label:"authorization",value:"authorization"},{label:"cache-control",value:"cache-control"},{label:"cookie",value:"cookie"},{label:"connection",value:"connection"},{label:"origin",value:"origin"},{label:"user-agent",value:"user-agent"}],Response:[{label:"age",value:"age"},{label:"access-control-allow-origin",value:"access-control-allow-origin"},{label:"access-control-allow-credentials",value:"access-control-allow-credentials"},{label:"expires",value:"expires"},{label:"server",value:"server"},{label:"x-frame-options",value:"x-frame-options"}]},c.URL_COMPONENTS={PROTOCOL:"Protocol",URL:"Url",HOST:"host",PATH:"path",QUERY:"query",HASH:"hash"},c.RULE_OPERATORS={EQUALS:"Equals",CONTAINS:"Contains",MATCHES:"Matches",WILDCARD_MATCHES:"Wildcard_Matches"},c.RULE_SOURCE_FILTER_TYPES={PAGE_URL:"pageUrl",RESOURCE_TYPE:"resourceType",REQUEST_METHOD:"requestMethod"},c.MODIFICATION_TYPES={ADD:"Add",REMOVE:"Remove",REMOVE_ALL:"Remove All",MODIFY:"Modify",REPLACE:"Replace"},c.NEED_HELP_QUERY_TYPES={FEEDBACK:"Feedback",BUG:"Bug",QUESTION:"Question",FEATURE_REQUEST:"FeatureRequest"},c.CLIENT_MESSAGES={GET_SCRIPT_RULES:"getScriptRules",DO_SETUP_RESPONSE_RULE_HANDLER:"doSetupResponseRuleHandler",GET_USER_AGENT_RULE_PAIRS:"getUserAgentRulePairs",OVERRIDE_RESPONSE:"overrideResponse",NOTIFY_RULES_APPLIED:"notifyRulesApplied"},c.EXTENSION_MESSAGES={FOCUS_TAB:"focusTab",GET_FULL_LOGS:"getFullLogs",CLEAR_LOGS_FOR_TAB:"clearLogsForTab",CLEAR_LOGS_FOR_DOMAIN:"clearLogsForDomain",GET_FAVOURITE_RULES:"getFavouriteRules",GET_FLAGS:"getFlags"},c.HEADERS_TARGET={REQUEST:"Request",RESPONSE:"Response"},c.REQUEST_TYPES={MAIN_FRAME:"mainFrame",PAGE_REQUEST:"pageRequest"},c.SCRIPT_TYPES={URL:"url",CODE:"code"},c.SCRIPT_CODE_TYPES={JS:"js",CSS:"css"},c.SCRIPT_LOAD_TIME={BEFORE_PAGE_LOAD:"beforePageLoad",AFTER_PAGE_LOAD:"afterPageLoad"},c.SCRIPT_LIBRARIES={JQUERY:{name:"jQuery",src:"https://code.jquery.com/jquery-2.2.4.js"},UNDERSCORE:{name:"Underscore",src:"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"}},c.RESPONSE_BODY_TYPES={STATIC:"static",CODE:"code"},c.RESPONSE_CODES={NOT_FOUND:404},c.STORAGE_KEYS={REQUESTLY_SETTINGS:"rq_settings",USER_INFO:"user_info",LATEST_NOTIFICATION_READ_BY_USER:"latestNotificationReadId"},c.MESSAGES={DELETE_ITEMS_NO_SELECTION_WARNING:"Please select one or more rules to delete.",DELETE_ITEMS:"Are you sure you want to delete the selected items?",DELETE_GROUP_WITH_RULES_WARNING:"There are some rules contained in this group. Please delete or ungroup them before deleting the group.",DELETE_GROUP:"Are you sure you want to delete the group?",UNGROUP_ITEMS_NO_SELECTION_WARNING:"Please select one or more rules to ungroup.",UNGROUP_ITEMS:"Are you sure you want to ungroup the selected items?",SIGN_IN_TO_VIEW_SHARED_LISTS:"Please login to view your Shared Lists.",SIGN_IN_TO_CREATE_SHARED_LISTS:"Please login to share the selected rules",SIGN_IN_TO_SUBMIT_QUERY:"Please login to contact our support team.",ERROR_AUTHENTICATION:"Received some error in authentication. Please try again later!!",SHARED_LISTS_LIMIT_REACHED:"You can not create more than"+c.LIMITS.NUMBER_SHARED_LISTS+"shared lists",ERROR_TAB_FOCUS:"The tab cannot be focused, as it might have been closed.",DEACTIVATE_REQUESTLY_MENU_OPTION:"Deactivate Requestly"},c.RESOURCES={EXTENSION_ICON:"/resources/images/48x48.png",EXTENSION_ICON_GREYSCALE:"/resources/images/48x48_greyscale.png",EXTENSION_ICON_GREEN:"/resources/images/48x48_green.png"},c.GA_EVENTS={CATEGORIES:{RULES:"rules",RULE:"rule",GROUP:"group",USER:"user",SHARED_LIST:"shared list",RULE_LOGS:"rule logs",EXTENSION:"extension",IN_APP_NOTIFICATION:"InAppNotification",NEED_HELP_FEATURE:"need help feature",PRICING:"pricing",LICENSE:"license",LIBRARY:"library",UNLOCK:"unlock",REMOTE_RULES:"remoteRules",SPONSOR_SIDERAIL:"sponsor_siderail",LOGIN:"login",SIGNUP:"signup",REFERRAL:"referral",PAGE_VISITS:"page visits",REQUEST_UPGRADE:"request upgrade",MARKETPLACE:"marketplace",CHECKOUT:"checkout page",TEAMS:"teams page",ONBOARDING:"onboarding page",RULE_PAIRS:"rule pairs",DESKTOP_APP:"desktop app"},ACTIONS:{MODIFIED:"modified",CREATED:"created",DELETED:"deleted",ACTIVATED:"activated",DEACTIVATED:"deactivated",IMPORTED:"imported",EXPORTED:"exported",LIMIT_REACHED:"limit reached",AUTHENTICATED:"authenticated",VIEWED:"viewed",CLICKED:"clicked",COPIED:"copied",MARKED_FAVOURITE:"marked favourite",UNMARKED_FAVOURITE:"unmarked favourite",WORKFLOW_STARTED:"workflow started",ALREADY_LOGIN:"already login",LOGIN_REQUESTED:"login requested",LOGIN_DONE:"login done",LOGIN_REJECTED:"login rejected",FORM_SUBMITTED:"form submitted",FORM_REJECTED:"form rejected",INVALID_SUBMIT:"invalid submit",GROUPED:"grouped",UNGROUPED:"ungrouped",SHARED:"shared",ERROR:"error occured",TASK_COMPLETED:"task completed",BACKUP_CREATED:"backup created",BACKUP_USED:"backup used",CARD_ERROR:"card error",CARD_ACCEPTED:"card accepted",CARD_ENTERED:"card num and cv entered",CURRENCY_CHANGE:"currency_changed",DURATION_CHANGE:"duration_changed",APPLIED_SUCCESSFULLY:"applied_successfully",APPLIED_UNSUCCESSFULLY:"applied_unsuccessfully",REVOKED:"revoked",BOUGHT:"bought",UPDATED:"updated",REQUEST_ADMIN:"enterprise_plan_requested",UNINSTALLED:"uninstalled",UNINSTALL_RESPONSE:"uninstall_response",ROUTE_VIEWED:"route_viewed",EMAIL_LOGIN_PERFORMED:"email_login_performed",EMAIL_SIGNUP_PERFORMED:"email_signup_performed",GMAIL_LOGIN_PERFORMED:"gmail_login_performed",GMAIL_SIGNUP_PERFORMED:"gmail_signup_performed",MICROSOFT_LOGIN_PERFORMED:"microsoft_login_performed",APPLE_LOGIN_PERFORMED:"apple_login_performed",REFERRAL_APPLIED:"referral_applied",REFERRAL_FAILED:"referral_failed",EMAIL_VERIFICATION_RESEND:"resend_email_verification",EMAIL_VERIFICATION_SUCCESSFUL:"email_verification_successful",EMAIL_VERIFICATION_FAILED:"email_verification_failed",TRAFFIC_TABLE_VIEWED:"traffic_table_viewed",TRAFFIC_TABLE_MODIFIED:"traffic_table_modified",APP_LAUNCHED:"app_launched",APP_CLOSED:"app_closed",APP_NOT_LAUNCHED:"app_not_launched",PROXY_SERVER:"proxy_server_started",BG_PROCESS:"bg_process_started",MANUAL_SETUP_MAC:"manual_setup_mac",DARK_MODE_ENABLED:"dark_mode_enabled",DARK_MODE_DISABLED:"dark_mode_disabled",UPGRADE_REQUIRED_FOR_DARK_MODE:"upgrade_required_for_dark_mode",SIMULATE_RULE:"simulate_rule"},ATTR:{PAYMENT_MODE:"payment_mode",PLANNAME:"planname",PLAN_DURATION:"plan_duration",PLAN_ID:"plan_id",PLAN_START_DATE:"plan_startDate",PLAN_END_DATE:"plan_endDate",COUPON:"coupon",COUPON_VALUE:"coupon_value",LICENSE:"licensekey",COMPANY:"company",PROFILE:"profile",REMOTE_RULES_ENDPOINT:"remoteRulesEndpoint",REMOTE_RULES_FREQUENCY:"remoteRulesFrequency",NUM_RULES:"NUM_RULES",NUM_ACTIVE_RULES:"NUM_ACTIVE_RULES",NUM_GROUPS:"NUM_GROUPS",NUM_ACTIVE_GROUPS:"NUM_ACTIVE_GROUPS",NUM_SHARED_LISTS:"NUM_SHARED_LISTS",SIGNUP_DATE:"SIGNUP_DATE"},VALUES:{PAYPAL:"paypal"},GA_CUSTOM_DIMENSIONS:{USER_ID:"dimension1"},GA_CUSTOM_METRICS:{num_rules:"metric1"}},c.USER={AUTHORIZED:"authorized-user",UNAUTHORIZED:"unauthorized-user"},c.FIREBASE_NODES={USERS:"users",PUBLIC:"public",SHARED_LISTS:"sharedLists",FEEDBACK:"feedback",FILES:"files"},c.DATASTORE={ACTIONS:{CHECK_USER_AUTH:"check:userAuthenticated",AUTHENTICATE:"authenticate",FETCH_USER_DETAILS:"fetchUserDetails",GETVALUE:"getValue",SETVALUE:"setValue"}},c.MESSAGE_HANDLER={ACTIONS:{SUBMIT_EVENT:"submitEvent",SUBMIT_ATTR:"submitAttr"},MESSAGE_TYPES:{EVENT:"event",ATTRIBUTE:"attribute"},SINKS:{CUSTOMERLY:"customerly"}},c.getSharedListURL=function(e,t){var n=t.replace(new RegExp(" +|/+","g"),"-").replace(/-+/g,"-");return c.RULES_PAGE_URL+"#sharedList/"+e+"-"+n},c.getSharedListTimestamp=function(e){return e.split("-")[0]},c.fireAjax=function(e,t){return new Promise((function(n,a){var r=new XMLHttpRequest;r.open("GET",e,t),r.onreadystatechange=function(){4===this.readyState&&(this.status>=200&&this.status<400?n(JSON.parse(this.responseText)):a())},r.send()}))},a?e.exports=c:Object.assign(window.RQ,c)},531:function(e){if(void 0===t)var t=!0;var n={browser:"chrome",storageType:"sync",contextMenuContexts:["browser_action"],collectExtUsageStats:!0,env:"prod",WEB_URL:"https://app.requestly.io",firebaseConfig:{apiKey:"AIzaSyC2WOxTtgKH554wCezEJ4plxnMNXaUSFXY",authDomain:"app.requestly.io",databaseURL:"https://requestly.firebaseio.com",projectId:"project-7820168409702389920",storageBucket:"project-7820168409702389920.appspot.com",messagingSenderId:"911299702852"},logLevel:"info",stripeConfig:{publishableKey:"pk_live_FgVCiLBLJBaVSLulhPWptlDg",productIds:{enterprisePlan:{INR:{monthly:"price_1Hs62NIVcpOtHqujisdpsA53",quarterly:"price_1Hs62NIVcpOtHqujbIhUiCNO","half-yearly":"price_1Hs62NIVcpOtHqujk2TCvkba",annual:"price_1Hs62OIVcpOtHqujuSmvQ0LR"},USD:{monthly:"price_1Hs62NIVcpOtHqujNdJXy1U2",quarterly:"price_1Hs62NIVcpOtHqujA6BhjyBc","half-yearly":"price_1Hs62NIVcpOtHqujrfFCxb4I",annual:"price_1Hs62NIVcpOtHqujafhBiwBk"},default:"price_1Hs62NIVcpOtHqujNdJXy1U2"}}},version:"21.12.23"};t?e.exports=n:window&&(window.RQ=window.RQ||{},window.RQ.configs=n)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var c=t[a]={exports:{}};return e[a](c,c.exports,n),c.exports}n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};return function(){"use strict";n.r(s),n.d(s,{getInstance:function(){return g}});var e=n(976),t="^/(.+)/(|i|g|ig|gi)$";function o(e){var n,a=function(e){return-1!==e.search(new RegExp(t))}(e);return a?(n=e.match(new RegExp(t)),new RegExp(n[1],n[2])):null}function l(t,n){var a=new URL(t);switch(n){case e.URL_COMPONENTS.URL:return t;case e.URL_COMPONENTS.PROTOCOL:return a.protocol;case e.URL_COMPONENTS.HOST:return a.host;case e.URL_COMPONENTS.PATH:return a.pathname;case e.URL_COMPONENTS.QUERY:return a.search;case e.URL_COMPONENTS.HASH:return a.hash}console.error("Invalid source key",t,n)}function u(e){var t={};return e&&"?"!==e?("?"===e[0]&&(e=e.substr(1)),e.split("&").forEach((function(e){var n=e.split("=")[0],a=e.split("=")[1];t[n]=t[n]||[],t[n].push(a)})),t):t}function d(e){var t=[];for(var n in e)(e[n]||[]).forEach((function(e){void 0===e?t.push(n):t.push(n+"="+e)}));return t.join("&")}function O(e){return e.split("#")[0].split("?")[0]}var j=n(976).RULE_TYPES,E={};E.GENERATE_RANDOM_NUMBER={applicableRuleTypes:[j.HEADERS],name:"rq_rand",description:"Generate Random Number",usage:"rq_rand(4) (Max 8 digits allowed)",argument:"[0-9]+",getRandomNumber:function(e){return Math.ceil(Math.random()*Math.pow(10,e))},argumentEvaluator:function(e){var t=i(e,1)[0],n=t[0],a=Math.min(n,8),r=E.GENERATE_RANDOM_NUMBER.getRandomNumber(a);for(r=r.toString();r.length<a;)r+="0";return r}},E.GET_REQUEST_ORIGIN={applicableRuleTypes:[j.HEADERS],name:"rq_request_origin",description:"The origin request header",usage:"rq_request_origin()",argument:"",argumentEvaluator:function(e){i(e,1)[0];var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t&&t.requestOrigin?t.requestOrigin:"*"}};var b=n(976),p=function(){function e(){r(this,e)}return c(e,null,[{key:"populateMatchesInString",value:function(e,t){return t.forEach((function(t,n){0!==n&&(t=t||"",e=e.replace(new RegExp("[$]"+n,"g"),t))})),e}},{key:"checkRegexMatch",value:function(t,n,a){var r,c=o(t);return c&&-1!==n.search(c)?(r=c.exec(n)||[],e.populateMatchesInString(a,r)):null}},{key:"checkWildCardMatch",value:function(t,n,a){var r,c,i,s,o=[];for(n="|"+n+"|",r=(t="|"+t+"|").split("*"),c=0;c<r.length;c++){if(i=r[c],-1===(s=n.indexOf(i)))return null;0===s?o.push(""):o.push(n.substr(0,s)),n=n.slice(s+i.length)}return e.populateMatchesInString(a,o)}},{key:"matchUrlWithRuleSource",value:function(t,n,a){for(var r=t.operator,c=l(n,t.key),i=t.value,s=b.BLACK_LIST_DOMAINS||[],o=0;o<s.length;o++)if(-1!==n.indexOf(s[o]))return null;return e.matchUrlCriteria(c,r,i,a)}},{key:"matchUrlCriteria",value:function(t,n,a,r){var c=r||"";switch(n){case b.RULE_OPERATORS.EQUALS:if(a===t)return c;break;case b.RULE_OPERATORS.CONTAINS:if(-1!==t.indexOf(a))return c;break;case b.RULE_OPERATORS.MATCHES:return e.checkRegexMatch(a,t,c);case b.RULE_OPERATORS.WILDCARD_MATCHES:return e.checkWildCardMatch(a,t,c)}return null}},{key:"matchUrlWithRulePair",value:function(t,n,a){var r=void 0!==t.destination?t.destination:null,c=null;return e.matchRequestWithRuleSourceFilters(t.source.filters,a)&&(c=e.matchUrlWithRuleSource(t.source,n,r)),c}},{key:"matchUrlWithRulePairs",value:function(e,t,n){var a,r=t,c=null;for(a=0;a<e.length;a++)null!==(c=this.matchUrlWithRulePair(e[a],r,n))&&(r=c);return r!==t?r:null}},{key:"matchRequestWithRuleSourceFilters",value:function(t,n){if(!t||!n)return!0;for(var a in t){var r=t[a]||[];switch(a){case b.RULE_SOURCE_FILTER_TYPES.PAGE_URL:if(!r.every((function(t){return e.matchPageUrlFilter(t,n)})))return!1;break;case b.RULE_SOURCE_FILTER_TYPES.REQUEST_METHOD:if(!r.some((function(e){return n.method===e})))return!1;break;case b.RULE_SOURCE_FILTER_TYPES.RESOURCE_TYPE:if(!r.some((function(e){return n.type===e})))return!1}}return!0}},{key:"matchPageUrlFilter",value:function(t,n){var a=n.pageUrl;return null!==e.matchUrlCriteria(a,t.operator,t.value)}},{key:"matchValueForPredefinedFunctions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return e;var n=function(n){var a=E[n];if("function"!=typeof a.argumentEvaluator)return{v:e};var c=void 0;if(a.argument.constructor===Array&&a.argument.length>0)for(c=a.argument[0],r=1;r<a.argument.length;r++)c+="( *, *"+a.argument[r]+")?";else c=a.argument;var i=a.pattern||new RegExp(a.name+"\\("+c+"\\)","ig");e=e.replace(i,(function(e){var n=e.match(new RegExp(a.name+"\\((.*)\\)","i")),r=[];return null!=n&&n.length>1?(n[1].split(",").forEach((function(e){r.push(e.trim())})),a.argumentEvaluator(r,t)):e}))};for(var a in E){var r,c=n(a);if("object"===typeof c)return c.v}return e}},{key:"getHeaderModification",value:function(e,t){var n;return e===b.RULE_TYPES.USERAGENT?{source:t.source,target:b.HEADERS_TARGET.REQUEST,type:b.MODIFICATION_TYPES.REPLACE,header:b.HEADER_NAMES.USER_AGENT,value:t.userAgent}:((n=t).source=n.source||{},n)}},{key:"addHeader",value:function(e,t){e.push({name:t.name,value:t.value})}},{key:"removeHeader",value:function(e,t){for(var n=e.length-1;n>=0;n--){var a=e[n];a.name&&a.name.toLowerCase()===t.toLowerCase()&&e.splice(n,1)}}},{key:"modifyHeaderIfExists",value:function(e,t){for(var n=e.length-1;n>=0;n--){var a=e[n];if(a.name&&a.name.toLowerCase()===t.name.toLowerCase()){a.value=t.value;break}}}},{key:"replaceHeader",value:function(e,t){this.removeHeader(e,t.name),this.addHeader(e,t)}}]),e}(),S=p,h={BLOCK:"block",REDIRECT:"redirect",ADD_DELAY:"add_delay"},T=n(976),m=n(976),f=function(){function t(){r(this,t)}return c(t,null,[{key:"process",value:function(e){for(var t=e.rule,n=e.requestURL,a=e.details,r=n,c=t.pairs,i=null,s=r,o=0;o<c.length;o++)i=c[o],S.matchRequestWithRuleSourceFilters(i.source.filters,a)&&null!==S.matchUrlWithRuleSource(i.source,r)&&(s=this.applyQueryParamModifications(i.modifications,s));return s!==r?{action:"redirect",url:s}:null}},{key:"applyQueryParamModifications",value:function(e,n){var a=n;return e.forEach((function(e){a=t.applyQueryParamModification(e,a)})),a}},{key:"applyQueryParamModification",value:function(t,n){var a=n,r=O(n),c=l(n,m.URL_COMPONENTS.HASH),i=l(n,m.URL_COMPONENTS.QUERY),s=u(i),o=t.param,j=t.value;switch(t.type){case m.MODIFICATION_TYPES.ADD:a=function(t,n,a,r){var c=t,i=O(t),s=l(t,e.URL_COMPONENTS.HASH),o=l(t,e.URL_COMPONENTS.QUERY),j=u(o);return j[n]=r?[]:j[n]||[],j[n].push(a),c=(o=d(j))?i+"?"+o:i,c+=s}(a,o,j,"Overwrite"===t.actionWhenParamExists),"Ignore"===t.actionWhenParamExists&&(a=n);break;case m.MODIFICATION_TYPES.REMOVE:o in s&&(delete s[o],a=(i=d(s))?r+"?"+i:r,a+=c);break;case m.MODIFICATION_TYPES.REMOVE_ALL:a=r+c}return a}}]),t}(),A=f,R=n(976),x=n(976),N=n(976),C=n(976);function g(e){return function(){function e(){r(this,e)}return c(e,null,[{key:"getRuleProcessorInstance",value:function(e){switch(e.toLowerCase()){case C.RULE_TYPES.REDIRECT.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){var t=e.rule,n=e.requestURL,a=e.details,r=S.matchUrlWithRulePairs(t.pairs,n,a);return r&&r!==n?{action:h.REDIRECT,url:r}:null}}]),e}();case C.RULE_TYPES.REPLACE.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){for(var t,n=e.rule,a=e.requestURL,r=e.details,c=n.pairs,i=null,s=null,l=a,u=0;u<c.length;u++)(i=c[u]).from=i.from||"",i.source&&!S.matchRequestWithRuleSourceFilters(i.source.filters,r)||i.source&&i.source.value&&null===S.matchUrlWithRuleSource(i.source,l)||(t=null!==(s=o(i.from)),s=s||i.from,(t&&l.match(s)||-1!==l.indexOf(s))&&(l=l.replace(s,i.to)));return l!==a?{action:"redirect",url:l}:null}}]),e}();case C.RULE_TYPES.HEADERS.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){for(var t=e.rule,n=e.requestURL,r=e.details,c=e.originalHeaders,i=e.typeOfHeaders,s=e.payload,o=void 0===s?{}:s,l=!1,u=t.pairs||[],d=a(c),O=0;O<u.length;O++){var j=u[O],E=j;if(E.target&&E.header&&null!==S.matchUrlWithRulePair(j,n,r)&&(l=!0,!i||E.target===i)){var b=S.matchValueForPredefinedFunctions(E.value,o);switch(E.type){case T.MODIFICATION_TYPES.ADD:S.addHeader(d,{name:E.header,value:b});break;case T.MODIFICATION_TYPES.REMOVE:S.removeHeader(d,E.header);break;case T.MODIFICATION_TYPES.MODIFY:S.modifyHeaderIfExists(d,{name:E.header,value:b});break;case T.MODIFICATION_TYPES.REPLACE:S.replaceHeader(d,{name:E.header,value:b})}}}return l?{action:"modify_headers",newHeaders:d,originalHeaders:c}:null}}]),e}();case C.RULE_TYPES.CANCEL.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){var t=e.rule,n=e.requestURL,a=e.details,r=n,c=S.matchUrlWithRulePairs(t.pairs,r,a);return"string"==typeof c&&0===c.length?{action:h.BLOCK}:null}}]),e}();case C.RULE_TYPES.QUERYPARAM.toLowerCase():return A;case C.RULE_TYPES.SCRIPT.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){var t=e.rule,n=e.requestURL,a=t.pairs[0];if(null===S.matchUrlWithRulePair(a,n))return null;var r=[],c=[];return a.libraries&&a.libraries.forEach((function(e){r.includes(e)||r.push(e)})),{action:"insert",data:{cssScripts:(c=c.concat(a.scripts||[])).filter((function(e){return e.codeType===R.SCRIPT_CODE_TYPES.CSS})),jsScripts:c.filter((function(e){return!e.codeType||e.codeType===R.SCRIPT_CODE_TYPES.JS})),libraries:r}}}}]),e}();case C.RULE_TYPES.USERAGENT.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){var t=e.rule,n=e.requestURL,r=e.originalRequestHeaders,c=void 0===r?[]:r,i=e.details,s=void 0===i?{}:i;console.log({rule:t,requestURL:n,originalRequestHeaders:c,details:s});var o=!1,l=a(c),u=t.ruleType,d=t.pairs||[],O=null;s&&s.pageDomain&&(O=s.pageDomain);for(var j=0;j<d.length;j++){var E=d[j],b=S.getHeaderModification(u,E);(!b.source.value||null!==S.matchUrlWithRuleSource(b.source,n)||u===x.RULE_TYPES.USERAGENT&&b.source.requestType===x.REQUEST_TYPES.MAIN_FRAME&&O&&null!==S.matchUrlWithRuleSource(b.source,O))&&(o=!0,S.replaceHeader(l,{name:b.header,value:b.value}))}return o?{action:"modify_user_agent",newRequestHeaders:l}:null}}]),e}();case C.RULE_TYPES.DELAY.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){for(var t=e.rule,n=e.requestURL,a=e.details,r=t.pairs,c=null,i=n,s=null,o=null,l=0;l<r.length;l++)if(c=r[l],S.matchRequestWithRuleSourceFilters(c.source.filters,a)&&null!==S.matchUrlWithRuleSource(c.source,n)&&(!c.source||!c.source.value||null!==S.matchUrlWithRuleSource(c.source,i)))return s=c.delay,o=c.delayType||N.DELAY_REQUEST_CONSTANTS.DELAY_TYPE.CLIENT_SIDE,{action:h.ADD_DELAY,delay:s,delayType:o};return null}}]),e}();case C.RULE_TYPES.RESPONSE.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){var t=e.rule,n=e.requestURL,a=t.pairs[0];return null===S.matchUrlWithRulePair(a,n)?null:a.response&&a.response.type&&a.response.value?{action:"modify_response",response:a.response.value,responseType:a.response.type}:null}}]),e}();default:return null}}}]),e}().getRuleProcessorInstance(e)}}(),s}()}).call(this,n(125))},603:function(e,t){var n={GET_FUNCTION_FROM_STRING:function(e){return new Function("return "+e)()}};e.exports=n},605:function(e){e.exports=JSON.parse('{"fresh-chrome":{"id":"fresh-chrome","name":"Google Chrome","description":"New Profile","icon":"chrome.png","isActive":false,"comingSoon":false,"isAvailable":false},"existing-chrome":{"id":"existing-chrome","name":"Google Chrome","description":"Existing Profile","icon":"chrome.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-chrome-beta":{"id":"fresh-chrome-beta","name":"Chrome Beta","description":"New Profile","icon":"chrome-beta.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-chrome-dev":{"id":"fresh-chrome-dev","name":"Chrome Dev","description":"New Profile","icon":"chrome-dev.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-chrome-canary":{"id":"fresh-chrome-canary","name":"Chrome Canary","description":"New Profile","icon":"chrome-canary.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-chromium":{"id":"fresh-chromium","name":"Chromium","description":"New Profile","icon":"chromium.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-chromium-dev":{"id":"fresh-chromium-dev","name":"Chromium Dev","description":"New Profile","icon":"chromium.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-edge":{"id":"fresh-edge","name":"Microsoft Edge ","description":"New Profile","icon":"edge.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-edge-beta":{"id":"fresh-edge-beta","name":"Edge Beta","description":"New Profile","icon":"edge-beta.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-edge-dev":{"id":"fresh-edge-dev","name":"Edge Developer","description":"New Profile","icon":"edge-dev.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-edge-canary":{"id":"fresh-edge-canary","name":"Edge Canary","description":"New Profile","icon":"edge-can.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-brave":{"id":"fresh-brave","name":"Brave","description":"New Profile","icon":"brave.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-opera":{"id":"fresh-opera","name":"Opera","description":"New Profile","icon":"opera.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-firefox":{"id":"fresh-firefox","name":"Mozilla Firefox","description":"New Profile","icon":"firefox.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-safari":{"id":"fresh-safari","name":"Safari","description":"New Profile","icon":"safari.png","isActive":false,"comingSoon":false,"isAvailable":false},"electron":{"id":"electron","name":"Any Electron App","description":"Spotify, VS Code, more","icon":"electron.png","isActive":false,"comingSoon":true,"isAvailable":false},"fresh-terminal":{"id":"fresh-terminal","name":"Terminal","description":"New Window","icon":"terminal.png","isActive":false,"comingSoon":true,"isAvailable":false},"existing-terminal":{"id":"existing-terminal","name":"Terminal","description":"Existing Window","icon":"terminal.png","isActive":false,"comingSoon":true,"isAvailable":false},"system-wide":{"id":"system-wide","name":"Everywhere","description":"System Wide","icon":"pc.png","isActive":false,"comingSoon":true,"isAvailable":false},"android":{"id":"android","name":"Android","description":"External Device","icon":"android.png","isActive":false,"comingSoon":true,"isAvailable":false},"ios":{"id":"ios","name":"iOS","description":"External Device","icon":"ios.png","isActive":false,"comingSoon":true,"isAvailable":false},"raspberry-pi":{"id":"raspberry-pi","name":"Raspberry Pi","description":"External Device","icon":"raspberry-pi.png","isActive":false,"comingSoon":true,"isAvailable":false}}')},8:function(e,t,n){var a=n(422),r=n(423),c=n(595),i=n(596),s=n(603);e.exports={CONFIG:a,CONSTANTS:r,COMPONENTS:{LOGGER:c},RULE_PROCESSOR:i,UTILS:s}},963:function(e,t,n){},970:function(e,t,n){},987:function(e,t,n){},988:function(e,t,n){},989:function(e,t,n){},990:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getAppVersion",(function(){return Vi})),n.d(a,"isAppInstalled",(function(){return Yi})),n.d(a,"getStorageSuperObject",(function(){return Hi})),n.d(a,"getStorageObject",(function(){return Ki})),n.d(a,"saveStorageObject",(function(){return qi})),n.d(a,"removeStorageObject",(function(){return Wi})),n.d(a,"removeStorageObjects",(function(){return Qi})),n.d(a,"clearStorage",(function(){return zi})),n.d(a,"startBackgroundProcess",(function(){return Xi})),n.d(a,"saveRootCert",(function(){return Ji}));var r={};n.r(r),n.d(r,"getExtensionVersion",(function(){return es})),n.d(r,"isExtensionInstalled",(function(){return ts})),n.d(r,"isExtensionVersionCompatible",(function(){return ns})),n.d(r,"getStorageType",(function(){return rs})),n.d(r,"getStorageInfo",(function(){return cs})),n.d(r,"getStorageSuperObject",(function(){return is})),n.d(r,"getStorageObject",(function(){return ss})),n.d(r,"saveStorageObject",(function(){return os})),n.d(r,"removeStorageObject",(function(){return ls})),n.d(r,"removeStorageObjects",(function(){return us})),n.d(r,"clearStorage",(function(){return ds})),n.d(r,"setStorageType",(function(){return Os})),n.d(r,"getRemoteRulesSettings",(function(){return js})),n.d(r,"getUserInfo",(function(){return Es})),n.d(r,"setRemoteRulesSettings",(function(){return bs}));var c=n(1),i=n.n(c),s=n(58),o=n.n(s),l=n(59),u=n(6),d={UPDATE_USER_INFO:"update-user-info",UPDATE_APP_MODE:"update-app-mode",UPDATE_SEARCH:"update-search",TOGGLE_ACTIVE_MODAL:"toggle-active-modal",UPDATE_BACKUP_INFO:"update-backup-info",UPDATE_GROUPS:"update-groups",UPDATE_RULES_AND_GROUPS:"update-rules-and-groups",UPDATE_REFRESH_PENDING_STATUS:"update-refresh-pending-status",TOGGLE_SELECTED_RULE:"toggle-selected-rule-2",SET_SELECTED_RULES:"set-selected-rules",SET_SELECT_ALL_RULES_OF_A_GROUP:"set-select-all-rules-of-a-group",CLEAR_SELECTED_RULES:"clear-selected-rules",UPDATE_RULES_TO_POPULATE:"update-rules-to-populate",UPDATE_GROUPWISE_RULES_TO_POPULATE:"update-groupwise-rules-to-populate",UPDATE_CURRENTLY_SELECTED_RULE_DATA:"update-currently-selected-rule-data",UPDATE_CURRENTLY_SELECTED_RULE_CONFIG:"update-currently-selected-rule-config",CLEAR_CURRENTLY_SELECTED_RULE_AND_CONFIG:"clear-currently-selected-rule-and-config",SELECT_ALL_RULES:"select-all-rules",UPDATE_SELECTED_SHARED_LISTS:"update-selected-shared-lists",UPDATE_MARKETPLACE_RULES:"update-marketplace-rules",TOGGLE_MARKETPLACE_RULES:"toggle-marketplace-rules",UPDATE_DESKTOP_SPECIFIC_DETAILS:"update-desktop-specific-details",UPDATE_TEAM_USERS_TO_CHECKOUT:"team-users-to-checkout"},O=n(4),j=n(3),E={SHARED_LISTS:"shared_lists",RULES:"rules",ACTIVE_RULES:"active_rules",RULE_PAIRS:"rule_pairs",GROUPS:"groups",FILES:"files",EXPORT_IMPORT:"export_import",DARK_MODE:"dark_mode",BACKUP_RULES:"backup_rules",SYNCING:"rules_syncing",ADS:"ads",LOGS:"logs",FAV_RULES:"favourite_rules",EXECUTION_LOGS:"execution_logs",RESPONSE_BODY_CHARACTER_LIMIT:"characters"},b=E,p=n(8),S={REQUESTLY_DOCS:"https://docs.requestly.io/",REQUESTLY_DOCS_USING_RULES:"https://docs.requestly.io/using-rules/",REQUESTLY_DOCS_SHARING_RULES:"https://docs.requestly.io/managing-rules/sharing",REQUESTLY_DOCS_FILES_SERVICE:"https://docs.requestly.io/library/introduction-to-library",REQUESTLY_DOCS_PREMIUM_SUBSCRIPTION:"https://docs.requestly.io/premium-subscription",REQUESTLY_DOCS_TEAM_SUBSCRIPTION:"https://docs.requestly.io/premium-subscription#for-teams",REQUESTLY_DOCS_BACKUP_DATA:"https://docs.requestly.io/managing-rules/backup-and-restore",REQUESTLY_BLOG:"https://requestly.io/blog/",REQUESTLY_DESKTOP_APP:"https://requestly.io/desktop",REQUESTLY_PRIVACY_POLICY:"https://requestly.io/privacy",REQUESTLY_TERMS_AND_CONDITIONS:"https://requestly.io/terms/",CONTACT_US:"mailto:"+p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL,CONTACT_US_PAGE:"https://requestly.io/contact-us/",REQUESTLY_GITHUB_ISSUES:"https://github.com/requestly/customer-support/issues",FEEDBACK:"https://feedback.requestly.io/",CHROME_EXTENSION:"https://chrome.google.com/webstore/detail/requestly/mdnleldcmiljblolnjhpnblkcekpdkpa",FIREFOX_EXTENSION:"https://app.requestly.in/firefox/builds/requestly-latest.xpi",EDGE_EXTENSION:"https://microsoftedge.microsoft.com/addons/detail/requestly-redirect-url-/ehghoapnlpepjmfbgaomdiilchcjemak",GDPR:{EXPORT_DATA:"https://requestly.gdprpage.com/subject",DELETE_ACCOUNT:"https://requestly.gdprpage.com/subject",SIGN_DPA:"https://requestly.gdprpage.com/dpa"}},h={MODES:{}};h.MODES.CREATE="create",h.MODES.EDIT="edit",h.MODES.SHARED_LIST_RULE_VIEW="shared-list-rule-view";var T=h,m=function(e,t){return e.concat(t).replace(/\/\//g,"/")},f={ABSOLUTE:{},ROOT:"/",INDEX_HTML:"/index.html",ANY:"*"};f.DASHBOARD=f.ROOT,f.LANDING="/en-us",f.OVERVIEW={},f.OVERVIEW.RELATIVE="/overview",f.OVERVIEW.ABSOLUTE=m(f.DASHBOARD,f.OVERVIEW.RELATIVE),f.ONBOARDING={},f.ONBOARDING.RELATIVE="/onboarding",f.ONBOARDING.ABSOLUTE=m(f.DASHBOARD,f.ONBOARDING.RELATIVE),f.RULES={},f.RULES.RELATIVE="/rules",f.RULES.ABSOLUTE=m(f.DASHBOARD,f.RULES.RELATIVE),f.RULES.MY_RULES={},f.RULES.MY_RULES.RELATIVE="/my-rules",f.RULES.MY_RULES.ABSOLUTE=m(f.RULES.ABSOLUTE,f.RULES.MY_RULES.RELATIVE),f.RULE_EDITOR={},f.RULE_EDITOR.STUB="/rules/editor",f.RULE_EDITOR.RELATIVE=f.RULE_EDITOR.STUB,f.RULE_EDITOR.ABSOLUTE=m(f.DASHBOARD,f.RULE_EDITOR.STUB),f.RULE_EDITOR.CREATE_RULE={},f.RULE_EDITOR.CREATE_RULE.RELATIVE=f.RULE_EDITOR.RELATIVE+"/"+T.MODES.CREATE,f.RULE_EDITOR.CREATE_RULE.ABSOLUTE=f.RULE_EDITOR.ABSOLUTE+"/"+T.MODES.CREATE,f.RULE_EDITOR.CREATE_RULE.REDIRECT_RULE={},f.RULE_EDITOR.CREATE_RULE.REDIRECT_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+p.CONSTANTS.RULE_TYPES.REDIRECT,f.RULE_EDITOR.CREATE_RULE.REDIRECT_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+p.CONSTANTS.RULE_TYPES.REDIRECT,f.RULE_EDITOR.CREATE_RULE.CANCEL_RULE={},f.RULE_EDITOR.CREATE_RULE.CANCEL_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+p.CONSTANTS.RULE_TYPES.CANCEL,f.RULE_EDITOR.CREATE_RULE.CANCEL_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+p.CONSTANTS.RULE_TYPES.CANCEL,f.RULE_EDITOR.CREATE_RULE.REPLACE_RULE={},f.RULE_EDITOR.CREATE_RULE.REPLACE_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+p.CONSTANTS.RULE_TYPES.REPLACE,f.RULE_EDITOR.CREATE_RULE.REPLACE_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+p.CONSTANTS.RULE_TYPES.REPLACE,f.RULE_EDITOR.CREATE_RULE.HEADERS_RULE={},f.RULE_EDITOR.CREATE_RULE.HEADERS_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+p.CONSTANTS.RULE_TYPES.HEADERS,f.RULE_EDITOR.CREATE_RULE.HEADERS_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+p.CONSTANTS.RULE_TYPES.HEADERS,f.RULE_EDITOR.CREATE_RULE.QUERY_PARAMS_RULE={},f.RULE_EDITOR.CREATE_RULE.QUERY_PARAMS_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+p.CONSTANTS.RULE_TYPES.QUERYPARAM,f.RULE_EDITOR.CREATE_RULE.QUERY_PARAMS_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+p.CONSTANTS.RULE_TYPES.QUERYPARAM,f.RULE_EDITOR.CREATE_RULE.SCRIPT_RULE={},f.RULE_EDITOR.CREATE_RULE.SCRIPT_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+p.CONSTANTS.RULE_TYPES.SCRIPT,f.RULE_EDITOR.CREATE_RULE.SCRIPT_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+p.CONSTANTS.RULE_TYPES.SCRIPT,f.RULE_EDITOR.CREATE_RULE.RESPONSE_RULE={},f.RULE_EDITOR.CREATE_RULE.RESPONSE_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+p.CONSTANTS.RULE_TYPES.RESPONSE,f.RULE_EDITOR.CREATE_RULE.RESPONSE_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+p.CONSTANTS.RULE_TYPES.RESPONSE,f.RULE_EDITOR.CREATE_RULE.USER_AGENT_RULE={},f.RULE_EDITOR.CREATE_RULE.USER_AGENT_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+p.CONSTANTS.RULE_TYPES.USERAGENT,f.RULE_EDITOR.CREATE_RULE.USER_AGENT_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+p.CONSTANTS.RULE_TYPES.USERAGENT,f.RULE_EDITOR.CREATE_RULE.DELAY_RULE={},f.RULE_EDITOR.CREATE_RULE.DELAY_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+p.CONSTANTS.RULE_TYPES.DELAY,f.RULE_EDITOR.CREATE_RULE.DELAY_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+p.CONSTANTS.RULE_TYPES.DELAY,f.RULE_EDITOR.EDIT_RULE={},f.RULE_EDITOR.EDIT_RULE.RELATIVE=f.RULE_EDITOR.RELATIVE+"/"+T.MODES.EDIT,f.RULE_EDITOR.EDIT_RULE.ABSOLUTE=f.RULE_EDITOR.ABSOLUTE+"/"+T.MODES.EDIT,f.MOCK_SERVER={},f.MOCK_SERVER.RELATIVE="/mock-server",f.MOCK_SERVER.ABSOLUTE=m(f.DASHBOARD,f.MOCK_SERVER.RELATIVE),f.MOCK_SERVER.MY_MOCKS={},f.MOCK_SERVER.MY_MOCKS.STUB="/my-mocks",f.MOCK_SERVER.MY_MOCKS.RELATIVE=f.MOCK_SERVER.RELATIVE+f.MOCK_SERVER.MY_MOCKS.STUB,f.MOCK_SERVER.MY_MOCKS.ABSOLUTE=f.MOCK_SERVER.ABSOLUTE+f.MOCK_SERVER.MY_MOCKS.STUB,f.MOCK_SERVER.VIEWER={},f.MOCK_SERVER.VIEWER.STUB="/viewer",f.MOCK_SERVER.VIEWER.RELATIVE=f.MOCK_SERVER.RELATIVE+f.MOCK_SERVER.VIEWER.STUB,f.MOCK_SERVER.VIEWER.ABSOLUTE=f.MOCK_SERVER.ABSOLUTE+f.MOCK_SERVER.VIEWER.STUB,f.MOCK_SERVER.VIEWER.CREATE={},f.MOCK_SERVER.VIEWER.CREATE.STUB="/create",f.MOCK_SERVER.VIEWER.CREATE.RELATIVE=f.MOCK_SERVER.VIEWER.RELATIVE+f.MOCK_SERVER.VIEWER.CREATE.STUB,f.MOCK_SERVER.VIEWER.CREATE.ABSOLUTE=f.MOCK_SERVER.VIEWER.ABSOLUTE+f.MOCK_SERVER.VIEWER.CREATE.STUB,f.FILES={},f.FILES.RELATIVE="/files",f.FILES.ABSOLUTE=m(f.DASHBOARD,f.FILES.RELATIVE),f.FILES.MY_FILES={},f.FILES.MY_FILES.STUB="/my-files",f.FILES.MY_FILES.RELATIVE=f.FILES.RELATIVE+f.FILES.MY_FILES.STUB,f.FILES.MY_FILES.ABSOLUTE=f.FILES.ABSOLUTE+f.FILES.MY_FILES.STUB,f.FILES.VIEWER={},f.FILES.VIEWER.STUB="/viewer",f.FILES.VIEWER.RELATIVE=f.FILES.RELATIVE+f.FILES.VIEWER.STUB,f.FILES.VIEWER.ABSOLUTE=f.FILES.ABSOLUTE+f.FILES.VIEWER.STUB,f.FILES.VIEWER.CREATE={},f.FILES.VIEWER.CREATE.STUB="/create",f.FILES.VIEWER.CREATE.RELATIVE=f.FILES.VIEWER.RELATIVE+f.FILES.VIEWER.CREATE.STUB,f.FILES.VIEWER.CREATE.ABSOLUTE=f.FILES.VIEWER.ABSOLUTE+f.FILES.VIEWER.CREATE.STUB,f.MARKETPLACE={},f.MARKETPLACE.RELATIVE="/marketplace",f.MARKETPLACE.ABSOLUTE=m(f.DASHBOARD,f.MARKETPLACE.RELATIVE),f.SHARED_LISTS={},f.SHARED_LISTS.RELATIVE="/shared-lists",f.SHARED_LISTS.ABSOLUTE=m(f.DASHBOARD,f.SHARED_LISTS.RELATIVE),f.SHARED_LISTS.MY_LISTS={},f.SHARED_LISTS.MY_LISTS.STUB="/my-lists",f.SHARED_LISTS.MY_LISTS.RELATIVE=f.SHARED_LISTS.RELATIVE+f.SHARED_LISTS.MY_LISTS.STUB,f.SHARED_LISTS.MY_LISTS.ABSOLUTE=f.SHARED_LISTS.ABSOLUTE+f.SHARED_LISTS.MY_LISTS.STUB,f.SHARED_LISTS.VIEWER={},f.SHARED_LISTS.VIEWER.STUB="/viewer",f.SHARED_LISTS.VIEWER.RELATIVE=f.SHARED_LISTS.RELATIVE+f.SHARED_LISTS.VIEWER.STUB,f.SHARED_LISTS.VIEWER.ABSOLUTE=f.SHARED_LISTS.ABSOLUTE+f.SHARED_LISTS.VIEWER.STUB,f.UNLOCK_PREMIUM={},f.UNLOCK_PREMIUM.RELATIVE="/unlock-premium",f.UNLOCK_PREMIUM.ABSOLUTE=m(f.DASHBOARD,f.UNLOCK_PREMIUM.RELATIVE),f.REFERRAL={},f.REFERRAL.RELATIVE="/referral",f.REFERRAL.ABSOLUTE=m(f.DASHBOARD,f.REFERRAL.RELATIVE),f.BACKUP={},f.BACKUP.RELATIVE="/backup",f.BACKUP.ABSOLUTE=m(f.DASHBOARD,f.BACKUP.RELATIVE),f.REQUEST_UPGRADE={},f.REQUEST_UPGRADE.RELATIVE="/request-upgrade",f.REQUEST_UPGRADE.ABSOLUTE=m(f.DASHBOARD,f.REQUEST_UPGRADE.RELATIVE),f.PRICING={},f.PRICING.RELATIVE="/pricing",f.PRICING.ABSOLUTE=m(f.DASHBOARD,f.PRICING.RELATIVE),f.LICENSE={},f.LICENSE.RELATIVE="/license",f.LICENSE.ABSOLUTE=m(f.DASHBOARD,f.LICENSE.RELATIVE),f.LICENSE.MANAGE={},f.LICENSE.MANAGE.STUB="/manage",f.LICENSE.MANAGE.RELATIVE=f.LICENSE.RELATIVE+f.LICENSE.MANAGE.STUB,f.LICENSE.MANAGE.ABSOLUTE=f.LICENSE.ABSOLUTE+f.LICENSE.MANAGE.STUB,f.SETTINGS={},f.SETTINGS.RELATIVE="/settings",f.SETTINGS.ABSOLUTE=m(f.DASHBOARD,f.SETTINGS.RELATIVE),f.SETTINGS.REMOTE_RULES={},f.SETTINGS.REMOTE_RULES.STUB="/remote-rules",f.SETTINGS.REMOTE_RULES.RELATIVE=f.SETTINGS.RELATIVE+f.SETTINGS.REMOTE_RULES.STUB,f.SETTINGS.REMOTE_RULES.ABSOLUTE=f.SETTINGS.ABSOLUTE+f.SETTINGS.REMOTE_RULES.STUB,f.SETTINGS.STORAGE_SETTINGS={},f.SETTINGS.STORAGE_SETTINGS.STUB="/storage-settings",f.SETTINGS.STORAGE_SETTINGS.RELATIVE=f.SETTINGS.RELATIVE+f.SETTINGS.STORAGE_SETTINGS.STUB,f.SETTINGS.STORAGE_SETTINGS.ABSOLUTE=f.SETTINGS.ABSOLUTE+f.SETTINGS.STORAGE_SETTINGS.STUB,f.ACCEPT_TEAM_INVITE={},f.ACCEPT_TEAM_INVITE.RELATIVE="/accept-team-invite",f.ACCEPT_TEAM_INVITE.ABSOLUTE=m(f.DASHBOARD,f.ACCEPT_TEAM_INVITE.RELATIVE),f.ACCOUNT={},f.ACCOUNT.RELATIVE="/account",f.ACCOUNT.ABSOLUTE=m(f.DASHBOARD,f.ACCOUNT.RELATIVE),f.ACCOUNT.MY_ACCOUNT={},f.ACCOUNT.MY_ACCOUNT.STUB="/my-account",f.ACCOUNT.MY_ACCOUNT.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.MY_ACCOUNT.STUB,f.ACCOUNT.MY_ACCOUNT.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.MY_ACCOUNT.STUB,f.ACCOUNT.MY_BACKUPS={},f.ACCOUNT.MY_BACKUPS.STUB="/my-backups",f.ACCOUNT.MY_BACKUPS.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.MY_BACKUPS.STUB,f.ACCOUNT.MY_BACKUPS.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.MY_BACKUPS.STUB,f.ACCOUNT.MY_REFERRALS={},f.ACCOUNT.MY_REFERRALS.STUB="/my-referrals",f.ACCOUNT.MY_REFERRALS.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.MY_REFERRALS.STUB,f.ACCOUNT.MY_REFERRALS.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.MY_REFERRALS.STUB,f.ACCOUNT.TEAM={},f.ACCOUNT.TEAM.STUB="/team",f.ACCOUNT.TEAM.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.TEAM.STUB,f.ACCOUNT.TEAM.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.TEAM.STUB,f.ACCOUNT.MY_TEAMS={},f.ACCOUNT.MY_TEAMS.STUB="/my-teams",f.ACCOUNT.MY_TEAMS.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.MY_TEAMS.STUB,f.ACCOUNT.MY_TEAMS.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.MY_TEAMS.STUB,f.ACCOUNT.PERSONAL_SUBSCRIPTION={},f.ACCOUNT.PERSONAL_SUBSCRIPTION.STUB="/personal-subscription",f.ACCOUNT.PERSONAL_SUBSCRIPTION.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.PERSONAL_SUBSCRIPTION.STUB,f.ACCOUNT.PERSONAL_SUBSCRIPTION.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.PERSONAL_SUBSCRIPTION.STUB,f.ACCOUNT.UPDATE_SUBSCRIPTION={},f.ACCOUNT.UPDATE_SUBSCRIPTION.STUB="/update-subscription",f.ACCOUNT.UPDATE_SUBSCRIPTION.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.UPDATE_SUBSCRIPTION.STUB,f.ACCOUNT.UPDATE_SUBSCRIPTION.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.UPDATE_SUBSCRIPTION.STUB,f.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US={},f.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US.STUB="/update-subscription-contact-us",f.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US.STUB,f.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US.STUB,f.ACCOUNT.UPDATE_PAYMENT_METHOD={},f.ACCOUNT.UPDATE_PAYMENT_METHOD.STUB="/update-payment-method",f.ACCOUNT.UPDATE_PAYMENT_METHOD.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.UPDATE_PAYMENT_METHOD.STUB,f.ACCOUNT.UPDATE_PAYMENT_METHOD.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.UPDATE_PAYMENT_METHOD.STUB,f.ACCOUNT.REFRESH_SUBSCRIPTION={},f.ACCOUNT.REFRESH_SUBSCRIPTION.STUB="/refresh-subscription",f.ACCOUNT.REFRESH_SUBSCRIPTION.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.REFRESH_SUBSCRIPTION.STUB,f.ACCOUNT.REFRESH_SUBSCRIPTION.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.REFRESH_SUBSCRIPTION.STUB,f.ACCOUNT.CHECKOUT={},f.ACCOUNT.CHECKOUT.STUB="/checkout",f.ACCOUNT.CHECKOUT.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.CHECKOUT.STUB,f.ACCOUNT.CHECKOUT.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.CHECKOUT.STUB,f.GOODBYE={},f.GOODBYE.RELATIVE="/goodbye",f.GOODBYE.ABSOLUTE=m(f.DASHBOARD,f.GOODBYE.RELATIVE),f.FEEDBACK={},f.FEEDBACK.RELATIVE="/feedback",f.FEEDBACK.ABSOLUTE=m(f.DASHBOARD,f.FEEDBACK.RELATIVE),f.ACCOUNT.SUPPORT={},f.ACCOUNT.SUPPORT.RELATIVE="/support",f.ACCOUNT.SUPPORT.ABSOLUTE=m(f.DASHBOARD,f.ACCOUNT.SUPPORT.RELATIVE),f.AUTH={},f.AUTH.SIGN_IN={},f.AUTH.SIGN_IN.RELATIVE="/signin",f.AUTH.SIGN_IN.ABSOLUTE=m(f.DASHBOARD,f.AUTH.SIGN_IN.RELATIVE),f.AUTH.DEKSTOP_SIGN_IN={},f.AUTH.DEKSTOP_SIGN_IN.RELATIVE="/desktop-sign-in",f.AUTH.DEKSTOP_SIGN_IN.ABSOLUTE=m(f.DASHBOARD,f.AUTH.DEKSTOP_SIGN_IN.RELATIVE),f.AUTH.SIGN_UP={},f.AUTH.SIGN_UP.RELATIVE="/signup",f.AUTH.SIGN_UP.ABSOLUTE=m(f.DASHBOARD,f.AUTH.SIGN_UP.RELATIVE),f.AUTH.FORGOT_PASSWORD={},f.AUTH.FORGOT_PASSWORD.RELATIVE="/forgot",f.AUTH.FORGOT_PASSWORD.ABSOLUTE=m(f.DASHBOARD,f.AUTH.FORGOT_PASSWORD.RELATIVE),f.AUTH.EMAIL_ACTION={},f.AUTH.EMAIL_ACTION.RELATIVE="/emailAction",f.AUTH.EMAIL_ACTION.ABSOLUTE=m(f.DASHBOARD,f.AUTH.EMAIL_ACTION.RELATIVE),f.AUTH.RESET_PASSWORD={},f.AUTH.RESET_PASSWORD.RELATIVE="/resetPassword",f.AUTH.RESET_PASSWORD.ABSOLUTE=m(f.DASHBOARD,f.AUTH.RESET_PASSWORD.RELATIVE),f.AUTH.VERIFY_EMAIL={},f.AUTH.VERIFY_EMAIL.RELATIVE="/verifyEmail",f.AUTH.VERIFY_EMAIL.ABSOLUTE=m(f.DASHBOARD,f.AUTH.VERIFY_EMAIL.RELATIVE),f.AUTH.EMAIL_LINK_SIGNIN={},f.AUTH.EMAIL_LINK_SIGNIN.RELATIVE="/emailLinkSignIn",f.AUTH.EMAIL_LINK_SIGNIN.ABSOLUTE=m(f.DASHBOARD,f.AUTH.EMAIL_LINK_SIGNIN.RELATIVE),f.LEGACY={},f.HASH={},f.HASH.SHARED_LISTS="#sharedList",f.HASH.RULE_EDITOR="#edit",f.LEGACY.FILES_LIBRARY={},f.LEGACY.FILES_LIBRARY.ABSOLUTE="/library",f.LEGACY.PRICING={},f.LEGACY.PRICING.ABSOLUTE="/pricing",f.LEGACY.LICENSE={},f.LEGACY.LICENSE.ABSOLUTE="/license",f.LEGACY.LICENSE.MANAGE={},f.LEGACY.LICENSE.MANAGE.ABSOLUTE=f.LEGACY.LICENSE.ABSOLUTE+"/manage",f.LEGACY.SETTINGS={},f.LEGACY.SETTINGS.ABSOLUTE="/settings",f.LEGACY.SETTINGS.REMOTE_RULES={},f.LEGACY.SETTINGS.REMOTE_RULES.ABSOLUTE=f.LEGACY.SETTINGS.ABSOLUTE+"/remote-rules",f.LEGACY.UNLOCK_PREMIUM={},f.LEGACY.UNLOCK_PREMIUM.ABSOLUTE="/unlock",f.LEGACY.GOODBYE={},f.LEGACY.GOODBYE.ABSOLUTE="/goodbye",f.PAYMENT_SUCCESS={},f.PAYMENT_SUCCESS.RELATIVE="/paymentSuccess",f.PAYMENT_SUCCESS.ABSOLUTE=m(f.LANDING,f.PAYMENT_SUCCESS.RELATIVE),f.PAYMENT_FAIL={},f.PAYMENT_FAIL.RELATIVE="/paymentFail",f.PAYMENT_FAIL.ABSOLUTE=m(f.LANDING,f.PAYMENT_FAIL.RELATIVE),f.APP_MODE={},f.APP_MODE.RELATIVE="/app-mode",f.APP_MODE.ABSOLUTE=m(f.DASHBOARD,f.APP_MODE.RELATIVE),f.DESKTOP={},f.DESKTOP.RELATIVE="/desktop",f.DESKTOP.ABSOLUTE=m(f.DASHBOARD,f.DESKTOP.RELATIVE),f.DESKTOP.MANUAL_SETUP={},f.DESKTOP.MANUAL_SETUP.STUB="/manual-setup",f.DESKTOP.MANUAL_SETUP.RELATIVE=f.DESKTOP.RELATIVE+f.DESKTOP.MANUAL_SETUP.STUB,f.DESKTOP.MANUAL_SETUP.ABSOLUTE=m(f.DESKTOP.ABSOLUTE,f.DESKTOP.MANUAL_SETUP.STUB),f.DESKTOP.MY_APPS={},f.DESKTOP.MY_APPS.STUB="/my-apps",f.DESKTOP.MY_APPS.RELATIVE=f.DESKTOP.RELATIVE+f.DESKTOP.MY_APPS.STUB,f.DESKTOP.MY_APPS.ABSOLUTE=m(f.DESKTOP.ABSOLUTE,f.DESKTOP.MY_APPS.STUB),f.DESKTOP.INTERCEPT_TRAFFIC={},f.DESKTOP.INTERCEPT_TRAFFIC.STUB="/intercept-traffic",f.DESKTOP.INTERCEPT_TRAFFIC.RELATIVE=f.DESKTOP.RELATIVE+f.DESKTOP.INTERCEPT_TRAFFIC.STUB,f.DESKTOP.INTERCEPT_TRAFFIC.ABSOLUTE=m(f.DESKTOP.ABSOLUTE,f.DESKTOP.INTERCEPT_TRAFFIC.STUB),f.PAGE404={},f.PAGE404.RELATIVE="/404",f.PAGE404.ABSOLUTE=f.PAGE404.RELATIVE,f.PAGE403={},f.PAGE403.RELATIVE="/403",f.PAGE403.ABSOLUTE=m(f.LANDING,f.PAGE403.RELATIVE),f.EXTENSION_INSTALLED="/extension-installed";var A,R=f,x={COLUMN_WIDTHS:[10,50,25,15]},N=n(27),C=n(2),g=function(){return{filters:{},key:p.CONSTANTS.RULE_KEYS.URL,operator:p.CONSTANTS.RULE_OPERATORS.CONTAINS,value:""}},_=(A={},Object(O.a)(A,p.CONSTANTS.RULE_TYPES.REDIRECT,{ID:1,TYPE:p.CONSTANTS.RULE_TYPES.REDIRECT,NAME:"Redirect Request",DESCRIPTION:"Redirect a request URL",ICON:function(){return Object(C.jsx)(N.y,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#5b9027",SECONDARY_COLOR:"#4E7C22",TOOL_TIP_PLACEMENT:"top",PAIR_CONFIG:{TITLE:"Rule Conditions"},EMPTY_PAIR_FORMAT:{destination:"",source:g()},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!0,ALLOW_APPLY_RULE_TO_ALL_URLS:!1,ALLOW_REQUEST_SOURCE_FILTERS:!0}),Object(O.a)(A,p.CONSTANTS.RULE_TYPES.CANCEL,{ID:2,TYPE:p.CONSTANTS.RULE_TYPES.CANCEL,NAME:"Cancel Request",DESCRIPTION:"Block URLs by specifying keywords or entire URL",ICON:function(){return Object(C.jsx)(N.a,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#d32a0e",SECONDARY_COLOR:"#BB250C",TOOL_TIP_PLACEMENT:"top",PAIR_CONFIG:{TITLE:"Enter Keywords or URLs or Domains to be blocked"},EMPTY_PAIR_FORMAT:{source:g()},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!0,ALLOW_APPLY_RULE_TO_ALL_URLS:!1,ALLOW_REQUEST_SOURCE_FILTERS:!0}),Object(O.a)(A,p.CONSTANTS.RULE_TYPES.REPLACE,{ID:3,TYPE:p.CONSTANTS.RULE_TYPES.REPLACE,NAME:"Replace String",DESCRIPTION:"Replace parts of URL like hostname, query value",ICON:function(){return Object(C.jsx)(N.m,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#2aa5e7",SECONDARY_COLOR:"#199ADE",TOOL_TIP_PLACEMENT:"top",PAIR_CONFIG:{TITLE:"Enter the part of URL that needs to be replaced"},EMPTY_PAIR_FORMAT:{from:"",to:"",source:g()},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!1,ALLOW_APPLY_RULE_TO_ALL_URLS:!0,ALLOW_REQUEST_SOURCE_FILTERS:!0}),Object(O.a)(A,p.CONSTANTS.RULE_TYPES.HEADERS,{ID:4,TYPE:p.CONSTANTS.RULE_TYPES.HEADERS,NAME:"Modify Headers",DESCRIPTION:"Modify HTTP headers in request and response",ICON:function(){return Object(C.jsx)(N.q,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#dd9d12",SECONDARY_COLOR:"#C58C10",TOOL_TIP_PLACEMENT:"top",PAIR_CONFIG:{TITLE:"Headers Modification Rules"},EMPTY_PAIR_FORMAT:{header:"",value:"",type:"Add",target:"Request",source:g()},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!1,ALLOW_APPLY_RULE_TO_ALL_URLS:!0,ALLOW_REQUEST_SOURCE_FILTERS:!0}),Object(O.a)(A,p.CONSTANTS.RULE_TYPES.QUERYPARAM,{ID:5,TYPE:p.CONSTANTS.RULE_TYPES.QUERYPARAM,NAME:"Query Param",DESCRIPTION:"Add or Remove Query Parameters",ICON:function(){return Object(C.jsx)(N.x,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#AA66CC",SECONDARY_COLOR:"#9F53C6",TOOL_TIP_PLACEMENT:"bottom",PAIR_CONFIG:{TITLE:"Query Parameter Modifications"},EMPTY_PAIR_FORMAT:{modifications:[],source:g()},EMPTY_MODIFICATION_FORMAT:{actionWhenParamExists:p.CONSTANTS.RULE_KEYS.OVERWRITE,param:"",type:"Add",value:""},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!0,ALLOW_APPLY_RULE_TO_ALL_URLS:!0,ALLOW_REQUEST_SOURCE_FILTERS:!0}),Object(O.a)(A,p.CONSTANTS.RULE_TYPES.SCRIPT,{ID:6,TYPE:p.CONSTANTS.RULE_TYPES.SCRIPT,NAME:"Insert Scripts",DESCRIPTION:"Add custom JS / CSS to any website",ICON:function(){return Object(C.jsx)(N.e,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#444340",SECONDARY_COLOR:"#373634",TOOL_TIP_PLACEMENT:"bottom",PAIR_CONFIG:{TITLE:"Insert Scripts"},EMPTY_PAIR_FORMAT:{libraries:[],source:g(),scripts:[]},EMPTY_SCRIPT_FORMAT:{codeType:"js",fileName:"",loadTime:"afterPageLoad",type:"code",value:""},ALLOW_ADD_PAIR:!1,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!1,ALLOW_APPLY_RULE_TO_ALL_URLS:!0,ALLOW_REQUEST_SOURCE_FILTERS:!1,CUSTOM_SCRIPT_CHARACTER_LIMIT:5000}),Object(O.a)(A,p.CONSTANTS.RULE_TYPES.RESPONSE,{ID:7,TYPE:p.CONSTANTS.RULE_TYPES.RESPONSE,NAME:"Modify Response",DESCRIPTION:"Modify AJAX response",ICON:function(){return Object(C.jsx)(N.f,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#880e4f",SECONDARY_COLOR:"#710C42",TOOL_TIP_PLACEMENT:"bottom",PAIR_CONFIG:{TITLE:"Modify response of an AJAX request"},EMPTY_PAIR_FORMAT:{source:g(),response:{type:"static",value:""}},ALLOW_ADD_PAIR:!1,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!1,ALLOW_APPLY_RULE_TO_ALL_URLS:!1,ALLOW_REQUEST_SOURCE_FILTERS:!0,RESPONSE_BODY_CHARACTER_LIMIT:1500,RESPONSE_BODY_JAVASCRIPT_DEFAULT_VALUE:"function modifyResponse(args) {\n  const {method, url, response, responseType, requestHeaders, requestData} = args;\n  // Change response below depending upon request attributes received in args\n  \n  return response;\n}"}),Object(O.a)(A,p.CONSTANTS.RULE_TYPES.USERAGENT,{ID:8,TYPE:p.CONSTANTS.RULE_TYPES.USERAGENT,NAME:"User-Agent",DESCRIPTION:"Emulate for different devices by varying user-agent",ICON:function(){return Object(C.jsx)(N.G,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#2bbbad",SECONDARY_COLOR:"#26A69A",TOOL_TIP_PLACEMENT:"bottom",PAIR_CONFIG:{TITLE:"Rule Conditions"},EMPTY_PAIR_FORMAT:{source:g(),env:"",envType:""},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!0,ALLOW_APPLY_RULE_TO_ALL_URLS:!0,ALLOW_REQUEST_SOURCE_FILTERS:!0}),Object(O.a)(A,p.CONSTANTS.RULE_TYPES.DELAY,{ID:9,TYPE:p.CONSTANTS.RULE_TYPES.DELAY,NAME:"Delay Network Requests",DESCRIPTION:"Delay a request URL",ICON:function(){return Object(C.jsx)(N.B,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#68ce35",SECONDARY_COLOR:"#5ab52d",TOOL_TIP_PLACEMENT:"bottom",PAIR_CONFIG:{TITLE:"Enter Request URL Pattern"},EMPTY_PAIR_FORMAT:{source:g(),delay:"100"},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!0,ALLOW_APPLY_RULE_TO_ALL_URLS:!1,ALLOW_REQUEST_SOURCE_FILTERS:!0}),A),I={GROUP_RULES:"group_rules",GROUP_DETAILS:"group_details",UNGROUPED_GROUP_ID:"",UNGROUPED_GROUP_NAME:"Ungrouped",COLUMN_WIDTHS:[6,6,8,30,11,20,19]},L={COLUMN_WIDTHS:[8,22,35,20,15]},v={COLUMN_WIDTHS:[27,50,13,10],MODES:{REGULAR:"regular",FILE_PICKER:"filePicker"}},y={PRIMARY_COLOR:"#0a48b3",BTN_BGCOLOR_PRIMARY:"#f8f9fa",BTN_FONT_COLOR_PRIMARY:"#393f49",BTN_FONT_COLOR_HOVER:"#FFFFFF",BTN_COLOR_IN_ROW:"#465e74",ICON_COLOR_ON_HOVER:"#525f7f"},U={ACTION_LABELS:{}};U.ACTION_LABELS.LOG_IN="LOG IN",U.ACTION_LABELS.SIGN_UP="SIGN UP",U.ACTION_LABELS.REQUEST_RESET_PASSWORD="REQUEST RESET PASSWORD",U.ACTION_LABELS.DO_RESET_PASSWORD="DO RESET PASSWORD";var P=U,D=[{label:"Albania",value:"AL"},{label:"Algeria",value:"DZ"},{label:"Argentina",value:"AR"},{label:"Australia",value:"AU"},{label:"Austria",value:"AT"},{label:"Bahamas",value:"BS"},{label:"Bangladesh",value:"BD"},{label:"Belgium",value:"BE"},{label:"Benin",value:"BJ"},{label:"Bhutan",value:"BT"},{label:"Bolivia",value:"BO"},{label:"Brazil",value:"BR"},{label:"Bulgaria",value:"BG"},{label:"Cambodia",value:"KH"},{label:"Cameroon",value:"CM"},{label:"Canada",value:"CA"},{label:"Chile",value:"CL"},{label:"China",value:"CN"},{label:"Colombia",value:"CO"},{label:"Costa Rica",value:"CR"},{label:"Cuba",value:"CU"},{label:"Cyprus",value:"CY"},{label:"Czechia",value:"CZ"},{label:"Denmark",value:"DK"},{label:"Dominica",value:"DM"},{label:"Dominican Republic ",value:"DO"},{label:"Egypt",value:"EG"},{label:"Ethiopia",value:"ET"},{label:"Fiji",value:"FJ"},{label:"Finland",value:"FI"},{label:"France",value:"FR"},{label:"Georgia",value:"GE"},{label:"Germany",value:"DE"},{label:"Ghana",value:"GH"},{label:"Greece",value:"GR"},{label:"Greenland",value:"GL"},{label:"Hong Kong",value:"HK"},{label:"Hungary",value:"HU"},{label:"Iceland",value:"IS"},{label:"India",value:"IN"},{label:"Indonesia",value:"ID"},{label:"Iran",value:"IR"},{label:"Iraq",value:"IQ"},{label:"Ireland",value:"IE"},{label:"Israel",value:"IL"},{label:"Italy",value:"IT"},{label:"Jamaica",value:"JM"},{label:"Japan",value:"JP"},{label:"Kazakhstan",value:"KZ"},{label:"Kenya",value:"KE"},{label:"Korea",value:"KP"},{label:"Kuwait",value:"KW"},{label:"Kyrgyzstan",value:"KG"},{label:"Latvia",value:"LV"},{label:"Lebanon",value:"LB"},{label:"Lesotho",value:"LS"},{label:"Liberia",value:"LR"},{label:"Libya",value:"LY"},{label:"Lithuania",value:"LT"},{label:"Luxembourg",value:"LU"},{label:"Malaysia",value:"MY"},{label:"Maldives",value:"MV"},{label:"Mali",value:"ML"},{label:"Malta",value:"MT"},{label:"Marshall Islands ",value:"MH"},{label:"Martinique",value:"MQ"},{label:"Mauritania",value:"MR"},{label:"Mauritius",value:"MU"},{label:"Mayotte",value:"YT"},{label:"Mexico",value:"MX"},{label:"Monaco",value:"MC"},{label:"Mongolia",value:"MN"},{label:"Montenegro",value:"ME"},{label:"Montserrat",value:"MS"},{label:"Morocco",value:"MA"},{label:"Mozambique",value:"MZ"},{label:"Myanmar",value:"MM"},{label:"Namibia",value:"NA"},{label:"Nauru",value:"NR"},{label:"Nepal",value:"NP"},{label:"Netherlands ",value:"NL"},{label:"New Caledonia",value:"NC"},{label:"New Zealand",value:"NZ"},{label:"Nicaragua",value:"NI"},{label:"Niger ",value:"NE"},{label:"Nigeria",value:"NG"},{label:"Niue",value:"NU"},{label:"Norfolk Island",value:"NF"},{label:"Northern Mariana Islands ",value:"MP"},{label:"Norway",value:"NO"},{label:"Oman",value:"OM"},{label:"Pakistan",value:"PK"},{label:"Palau",value:"PW"},{label:"Palestine, State of",value:"PS"},{label:"Panama",value:"PA"},{label:"Papua New Guinea",value:"PG"},{label:"Paraguay",value:"PY"},{label:"Peru",value:"PE"},{label:"Philippines ",value:"PH"},{label:"Pitcairn",value:"PN"},{label:"Poland",value:"PL"},{label:"Portugal",value:"PT"},{label:"Puerto Rico",value:"PR"},{label:"Qatar",value:"QA"},{label:"Republic of North Macedonia",value:"MK"},{label:"Romania",value:"RO"},{label:"Russian Federation ",value:"RU"},{label:"Rwanda",value:"RW"},{label:"R\xe9union",value:"RE"},{label:"Saint Barth\xe9lemy",value:"BL"},{label:"Saint Helena, Ascension and Tristan da Cunha",value:"SH"},{label:"Saint Kitts and Nevis",value:"KN"},{label:"Saint Lucia",value:"LC"},{label:"Saint Martin (French part)",value:"MF"},{label:"Saint Pierre and Miquelon",value:"PM"},{label:"Saint Vincent and the Grenadines",value:"VC"},{label:"Samoa",value:"WS"},{label:"San Marino",value:"SM"},{label:"Sao Tome and Principe",value:"ST"},{label:"Saudi Arabia",value:"SA"},{label:"Senegal",value:"SN"},{label:"Serbia",value:"RS"},{label:"Seychelles",value:"SC"},{label:"Sierra Leone",value:"SL"},{label:"Singapore",value:"SG"},{label:"Sint Maarten (Dutch part)",value:"SX"},{label:"Slovakia",value:"SK"},{label:"Slovenia",value:"SI"},{label:"Solomon Islands",value:"SB"},{label:"Somalia",value:"SO"},{label:"South Africa",value:"ZA"},{label:"South Georgia and the South Sandwich Islands",value:"GS"},{label:"South Sudan",value:"SS"},{label:"Spain",value:"ES"},{label:"Sri Lanka",value:"LK"},{label:"Sudan ",value:"SD"},{label:"Suriname",value:"SR"},{label:"Svalbard and Jan Mayen",value:"SJ"},{label:"Sweden",value:"SE"},{label:"Switzerland",value:"CH"},{label:"Syrian Arab Republic",value:"SY"},{label:"Taiwan (Province of China)",value:"TW"},{label:"Tajikistan",value:"TJ"},{label:"Tanzania",value:"TZ"},{label:"Thailand",value:"TH"},{label:"Timor-Leste",value:"TL"},{label:"Togo",value:"TG"},{label:"Tokelau",value:"TK"},{label:"Tonga",value:"TO"},{label:"Trinidad and Tobago",value:"TT"},{label:"Tunisia",value:"TN"},{label:"Turkey",value:"TR"},{label:"Turkmenistan",value:"TM"},{label:"Turks and Caicos Islands ",value:"TC"},{label:"Tuvalu",value:"TV"},{label:"Uganda",value:"UG"},{label:"Ukraine",value:"UA"},{label:"United Arab Emirates ",value:"AE"},{label:"United Kingdom",value:"GB"},{label:"United States",value:"US"},{label:"Uruguay",value:"UY"},{label:"Uzbekistan",value:"UZ"},{label:"Vanuatu",value:"VU"},{label:"Venezuela (Bolivarian Republic of)",value:"VE"},{label:"Viet Nam",value:"VN"},{label:"Virgin Islands (British)",value:"VG"},{label:"Virgin Islands (U.S.)",value:"VI"},{label:"Wallis and Futuna",value:"WF"},{label:"Western Sahara",value:"EH"},{label:"Yemen",value:"YE"},{label:"Zambia",value:"ZM"},{label:"Zimbabwe",value:"ZW"}],w={PLAN_NAMES:{}};w.PLAN_NAMES.BRONZE="bronze",w.PLAN_NAMES.SILVER="silver",w.PLAN_NAMES.GOLD="gold",w.PLAN_NAMES.ENTERPRISE="enterprise",w.COUNTRY_CODES=D;var M=w,k={MODES:{CHECK_LIMIT:"check_limit",CHECK_IF_ENABLED:"check_if_enabled"}},G=k,F={PERSONAL:[]};F.PERSONAL.push("gmail.com"),F.PERSONAL.push("hotmail.com"),F.PERSONAL.push("yahoo.com"),F.PERSONAL.push("outlook.com"),F.PERSONAL.push("googlemail.com"),F.PERSONAL.push("protonmail.com"),F.PERSONAL.push("yandex.mail"),F.PERSONAL.push("yandex.ru"),F.PERSONAL.push("mail.ru"),F.PERSONAL.push("bk.ru"),F.PERSONAL.push("qq.com"),F.DESTROYABLE=[],F.DESTROYABLE.push("mailinator.com"),F.DESTROYABLE.push("yopmail.com"),F.DESTROYABLE.push("eoopy.com"),F.DESTROYABLE.push("ttirv.com");var B=F,V={};V.reactSelectCustomStyles={option:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{border:"none"})},control:function(e){return Object(j.a)(Object(j.a)({},e),{},{border:"0",marginTop:"3%",boxShadow:"0 1px 3px rgb(50 50 93 / 15%), 0 1px 0 rgb(0 0 0 / 2%)",fontSize:"0.875rem"})}};var Y=V,H={DISMISS_PROXY_INFO_BANNER:"DISMISS_PROXY_INFO_BANNER"},K=H,q={};q.FEATURES=b,q.PRICING=M,q.MIGRATED_TO_NEW_UI="migrated-to-new-ui",q.STORAGE_MIGRATED_TO_LOCAL="storage-migrated-to-local",q.LAST_BACKUP_TIMESTAMP="last-backup-timestamp",q.LAST_SYNC_TIMESTAMP="last-synced-on",q.RQ_SETTINGS="rq_settings",q.LINKS=S,q.STYLES=Y,q.RULE_EDITOR_CONFIG=T,q.PATHS=R,q.RULE_TYPES_CONFIG=_,q.RULES_LIST_TABLE_CONSTANTS=I,q.SHARED_LISTS_TABLE_CONSTANTS=L,q.MARKETPLACE_TABLE_CONSTANTS=x,q.FILES_TABLE_CONSTANTS=v,q.THEME_COLORS=y,q.AUTH=P,q.LIMIT_REACHED_MODAL=G,q.NOTIFICATION_DURATION=2e3,q.DELAY_COMPATIBILITY_VERSION="21.6.4",q.EXECUTION_LOGS_COMPATIBILITY_VERSION="21.11.16",q.MOCK_RESPONSE_BODY_CHARACTER_LIMIT=8e5,q.BETA="beta",q.LOCAL="local",q.PROD="prod",q.EMAIL_DOMAINS=B,q.COOKIES=K;var W=q,Q=W.RULES_LIST_TABLE_CONSTANTS,z={UPDATE_USER_INFO:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{user:{loggedIn:t.payload.loggedIn,details:t.payload.details}})},UPDATE_APP_MODE:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{appMode:t.payload.appMode?t.payload.appMode:e.appMode})},UPDATE_SEARCH:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{search:Object(j.a)(Object(j.a)({},e.search),{},Object(O.a)({},t.payload.searchType,t.payload.value))})},TOGGLE_ACTIVE_MODAL:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{activeModals:Object(j.a)(Object(j.a)({},e.activeModals),{},Object(O.a)({},t.payload.modalName,{isActive:"undefined"!==typeof t.payload.newValue?t.payload.newValue:!e.activeModals[t.payload.modalName].isActive,props:t.payload.newProps||e.activeModals[t.payload.modalName].props}))})},UPDATE_BACKUP_INFO:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{lastBackupTimeStamp:t.payload})})},UPDATE_GROUPS:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{allRules:Object(j.a)(Object(j.a)({},e.rules.allRules),{},{groups:t.payload})})})},UPDATE_RULES_AND_GROUPS:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{allRules:{rules:t.payload.rules,groups:t.payload.groups}})})},UPDATE_RULES_TO_POPULATE:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{rulesToPopulate:t.payload})})},UPDATE_GROUPWISE_RULES_TO_POPULATE:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{groupwiseRulesToPopulate:t.payload})})},TOGGLE_SELECTED_RULE:function(e,t){var n=e.rules.selectedRules[t.payload.ruleId];return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{selectedRules:Object(j.a)(Object(j.a)({},e.rules.selectedRules),{},Object(O.a)({},t.payload.ruleId,!n))})})},SET_SELECTED_RULES:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{selectedRules:t.payload})})},SET_SELECT_ALL_RULES_OF_A_GROUP:function(e,t){var n=t.payload.groupId,a=e.rules.groupwiseRulesToPopulate[n][Q.GROUP_RULES],r={};return a.forEach((function(e){r[e.id]=t.payload.newValue})),Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{selectedRules:Object(j.a)(Object(j.a)({},e.rules.selectedRules),r)})})},CLEAR_SELECTED_RULES:function(e){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{selectedRules:{}})})},UPDATE_CURRENTLY_SELECTED_RULE_DATA:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{currentlySelectedRule:Object(j.a)(Object(j.a)({},e.rules.currentlySelectedRule),{},{data:t.payload})})})},UPDATE_CURRENTLY_SELECTED_RULE_CONFIG:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{currentlySelectedRule:Object(j.a)(Object(j.a)({},e.rules.currentlySelectedRule),{},{config:t.payload})})})},CLEAR_CURRENTLY_SELECTED_RULE_AND_CONFIG:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{currentlySelectedRule:{config:!1,data:!1}})})},UPDATE_REFRESH_PENDING_STATUS:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{pendingRefresh:Object(j.a)(Object(j.a)({},e.pendingRefresh),{},Object(O.a)({},t.payload.type,t.payload.newValue?t.payload.newValue:!e.pendingRefresh[t.payload.type]))})},SELECT_ALL_RULES:function(e,t){var n=t.payload.newValue,a={};return e.rules.rulesToPopulate.forEach((function(e){a[e.id]=n})),Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{selectedRules:a})})},UPDATE_SELECTED_SHARED_LISTS:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{sharedLists:Object(j.a)(Object(j.a)({},e.sharedLists),{},{selectedLists:t.payload})})},UPDATE_MARKETPLACE_RULES:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{marketplace:Object(j.a)(Object(j.a)({},e.marketplace),{},{ruleStatus:Object(j.a)(Object(j.a)({},e.marketplace.ruleStatus),t.payload)})})},TOGGLE_MARKETPLACE_RULES:function(e,t){var n=e.marketplace.ruleStatus[t.payload];return Object(j.a)(Object(j.a)({},e),{},{marketplace:Object(j.a)(Object(j.a)({},e.marketplace),{},{ruleStatus:Object(j.a)(Object(j.a)({},e.marketplace.ruleStatus),{},Object(O.a)({},t.payload,n===p.CONSTANTS.RULE_STATUS.ACTIVE?p.CONSTANTS.RULE_STATUS.INACTIVE:p.CONSTANTS.RULE_STATUS.ACTIVE))})})},UPDATE_DESKTOP_SPECIFIC_DETAILS:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{desktopSpecificDetails:Object(j.a)(Object(j.a)({},e.desktopSpecificDetails),t.payload)})},UPDATE_TEAM_USERS_TO_CHECKOUT:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{pricing:Object(j.a)(Object(j.a)({},e.pricing),{},{teamUsersToCheckout:t.payload})})}},X=n(605),J={user:{loggedIn:!1,details:!1},appMode:p.CONSTANTS.APP_MODES.EXTENSION,rules:{allRules:{rules:[],groups:[]},currentlySelectedRule:{data:!1,config:!1},rulesToPopulate:[],groupwiseRulesToPopulate:{},selectedRules:{},lastBackupTimeStamp:""},search:{rules:"",files:"",sharedLists:"",marketplace:""},pendingRefresh:{rules:!1,sharedLists:!1},sharedLists:{selectedLists:!1},activeModals:{loadingModal:{isActive:!1,props:{}},authModal:{isActive:!1,props:{}},renameGroupModal:{isActive:!1,props:{}},extensionModal:{isActive:!1,props:{}}},marketplace:{ruleStatus:{}},desktopSpecificDetails:{isBackgroundProcessActive:!1,isProxyServerRunning:!1,proxyPort:8080,appsList:X,availableAppsScanned:!1,proxyIp:"127.0.0.1"},pricing:{teamUsersToCheckout:15}},Z=Object(c.createContext)(J),$=Z.Provider,ee=function(e){var t=e.children,n=Object(c.useReducer)((function(e,t){switch(t.type){case d.UPDATE_USER_INFO:return z.UPDATE_USER_INFO(e,t);case d.UPDATE_APP_MODE:return z.UPDATE_APP_MODE(e,t);case d.UPDATE_SEARCH:return z.UPDATE_SEARCH(e,t);case d.TOGGLE_ACTIVE_MODAL:return z.TOGGLE_ACTIVE_MODAL(e,t);case d.UPDATE_SELECTED_SHARED_LISTS:return z.UPDATE_SELECTED_SHARED_LISTS(e,t);case d.UPDATE_BACKUP_INFO:return z.UPDATE_BACKUP_INFO(e,t);case d.UPDATE_GROUPS:return z.UPDATE_GROUPS(e,t);case d.UPDATE_RULES_AND_GROUPS:return z.UPDATE_RULES_AND_GROUPS(e,t);case d.UPDATE_RULES_TO_POPULATE:return z.UPDATE_RULES_TO_POPULATE(e,t);case d.UPDATE_GROUPWISE_RULES_TO_POPULATE:return z.UPDATE_GROUPWISE_RULES_TO_POPULATE(e,t);case d.UPDATE_REFRESH_PENDING_STATUS:return z.UPDATE_REFRESH_PENDING_STATUS(e,t);case d.TOGGLE_SELECTED_RULE:return z.TOGGLE_SELECTED_RULE(e,t);case d.SET_SELECTED_RULES:return z.SET_SELECTED_RULES(e,t);case d.SET_SELECT_ALL_RULES_OF_A_GROUP:return z.SET_SELECT_ALL_RULES_OF_A_GROUP(e,t);case d.CLEAR_SELECTED_RULES:return z.CLEAR_SELECTED_RULES(e);case d.UPDATE_CURRENTLY_SELECTED_RULE_DATA:return z.UPDATE_CURRENTLY_SELECTED_RULE_DATA(e,t);case d.UPDATE_CURRENTLY_SELECTED_RULE_CONFIG:return z.UPDATE_CURRENTLY_SELECTED_RULE_CONFIG(e,t);case d.CLEAR_CURRENTLY_SELECTED_RULE_AND_CONFIG:return z.CLEAR_CURRENTLY_SELECTED_RULE_AND_CONFIG(e,t);case d.SELECT_ALL_RULES:return z.SELECT_ALL_RULES(e,t);case d.UPDATE_MARKETPLACE_RULES:return z.UPDATE_MARKETPLACE_RULES(e,t);case d.TOGGLE_MARKETPLACE_RULES:return z.TOGGLE_MARKETPLACE_RULES(e,t);case d.UPDATE_DESKTOP_SPECIFIC_DETAILS:return z.UPDATE_DESKTOP_SPECIFIC_DETAILS(e,t);case d.UPDATE_TEAM_USERS_TO_CHECKOUT:return z.UPDATE_TEAM_USERS_TO_CHECKOUT(e,t);default:throw new Error}}),J),a=Object(u.a)(n,2),r=a[0],i=a[1];return Object(C.jsx)($,{value:{state:r,dispatch:i},children:t})},te=n(13),ne=n(7),ae=n.n(ne),re=n(35),ce=n(38),ie=n.n(ce),se=n(46),oe=n(993),le=n(994),ue=n(995),de=n(996),Oe=n(997),je=n(998),Ee=n(999),be=n(23),pe=n(344),Se=function(e){return Object(C.jsx)(oe.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:Object(C.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:Object(C.jsx)(pe.a,{})})})},he=n(72),Te=n.n(he),me=W.PATHS,fe=W.LINKS,Ae=function(e,t){t?window.location.href=me.RULES.ABSOLUTE:e.push(me.RULES.ABSOLUTE)},Re=function(e,t){e.push("".concat(me.RULE_EDITOR.EDIT_RULE.ABSOLUTE,"/").concat(t))},xe=function(e,t,n){var a=n.replace(new RegExp(" +|/+","g"),"-").replace(/-+/g,"-");e.push("".concat(me.SHARED_LISTS.VIEWER.ABSOLUTE,"/").concat(t,"-").concat(a))},Ne=function(e){e.push(me.MOCK_SERVER.ABSOLUTE)},Ce=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.push({pathname:me.MOCK_SERVER.VIEWER.ABSOLUTE+"/".concat(t),state:n?{mockUrl:n}:null})},ge=function(e){e.push(me.MOCK_SERVER.VIEWER.CREATE.ABSOLUTE)},_e=function(e){e.push(me.AUTH.FORGOT_PASSWORD.ABSOLUTE)},Ie=function(e){e.push(me.PRICING.ABSOLUTE)},Le=function(e,t){t?window.location.href=me.ACCOUNT.ABSOLUTE:e.push(me.ACCOUNT.ABSOLUTE)},ve=function(e,t,n,a){var r=new URL(window.location.href);r.pathname=me.ACCOUNT.TEAM.ABSOLUTE+"/".concat(t),a&&r.searchParams.set("autoRefresh","true"),n?window.location=r.href:e.push(r.pathname+r.search)},ye=function(e,t){t?window.location.href=me.ACCOUNT.MY_TEAMS.ABSOLUTE:e.push(me.ACCOUNT.MY_TEAMS.ABSOLUTE)},Ue=function(e,t,n){var a=new URL(window.location.href);a.pathname=me.ACCOUNT.PERSONAL_SUBSCRIPTION.ABSOLUTE,n&&a.searchParams.set("autoRefresh","true"),t?window.location=a.href:e.push(a.pathname+a.search)},Pe=function(e){var t=e.mode,n=e.teamId,a=e.planType,r=e.days,c=new URL(window.location.href);c.pathname=me.ACCOUNT.CHECKOUT.ABSOLUTE,c.searchParams.set("m",t),"team"===t&&c.searchParams.set("t",n),c.searchParams.set("p",a),c.searchParams.set("d",r),window.location=c.href},De=function(e){var t=e.mode,n=e.teamId,a=e.planType,r=e.isRenewal,c=new URL(window.location.href);c.pathname=me.ACCOUNT.UPDATE_SUBSCRIPTION.ABSOLUTE,c.searchParams.set("m",t),"team"===t&&c.searchParams.set("t",n),c.searchParams.set("p",a),r&&c.searchParams.set("r",!0),window.location=c.href},we=function(e){var t=e.mode,n=e.teamId,a=new URL(window.location.href);a.pathname=me.ACCOUNT.UPDATE_PAYMENT_METHOD.ABSOLUTE,a.searchParams.set("m",t),"team"===t&&a.searchParams.set("t",n),window.location=a.href},Me=function(e){var t="?ref=stripe&paymentId=5357551a-e2d7";e&&"string"===typeof e&&(t=t.concat("err="+e)),window.location.href=me.PAYMENT_FAIL.ABSOLUTE+t},ke=function(e,t){t?window.location.href=me.ONBOARDING.ABSOLUTE:e.push(me.ONBOARDING.ABSOLUTE)},Ge=function(e,t){t?window.location.href=me.PAGE404.ABSOLUTE:e.push(me.PAGE404.ABSOLUTE)},Fe=function(e,t){t?window.location.href=me.PAGE403.ABSOLUTE:e.push(me.PAGE403.ABSOLUTE)},Be=n(247),Ve={};Be.b.config({maxCount:2}),Ve.success=function(e){Be.b.success(e)},Ve.info=function(e){Be.b.info(e)},Ve.error=function(e){Be.b.error(e)},Ve.warn=function(e){Be.b.warn(e)};var Ye=n(186),He=function(e){if(!e||Object(he.isEmpty)(e)||"string"!==typeof e)throw new Error("Cant parse the invite code");return e.replace(/\//g,"").replace(/\\/g,"")},Ke=function(){var e=Object(re.g)(),t=Object(c.useRef)(!0),n=new URLSearchParams(window.location.search).get("code"),a=Object(c.useState)(!0),r=Object(u.a)(a,2),s=r[0],o=r[1],l=Object(c.useState)(!0),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useState)(!1),b=Object(u.a)(E,2),p=b[0],S=b[1],h=Object(c.useState)(""),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useCallback)((function(){o(!0);var e=Object(be.a)();Object(be.b)(e,"getTeamInvite")({inviteCode:He(n)}).then((function(e){if(!t.current)return null;var n=e.data;n.success?(j(!0),f(n.teamName)):j(!1),o(!1)})).catch((function(e){if(!t.current)return null;console.log(e.message),j(!1),o(!1)}))}),[n]),R=function(){S(!0);var a=Object(be.a)();Object(be.b)(a,"acceptTeamInvite")({inviteCode:He(n)}).then((function(n){if(!t.current)return null;var a=n.data;S(!1),a.success?(Ve.info("You have been added to the team"),Le(e,!0)):Ve.warn(a.message)})).catch((function(e){if(!t.current)return null;Ve.warn(e.message)}))};return Object(c.useEffect)((function(){return!n||Object(he.isEmpty)(n)?(j(!1),o(!1)):A(),function(){t.current=!1}}),[n,A]),Object(C.jsx)(de.a,{className:" mt--7",fluid:!0,children:Object(C.jsx)(Oe.a,{children:Object(C.jsx)(oe.a,{children:Object(C.jsx)(je.a,{className:" shadow",children:Object(C.jsx)(Ee.a,{children:Object(C.jsx)(Oe.a,{children:s?Object(C.jsx)(Se,{customLoadingMessage:"Verifying invite"}):O?!m||Object(he.isEmpty)(m)?Object(C.jsx)(C.Fragment,{}):Object(C.jsx)(oe.a,{children:Object(C.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(C.jsxs)("h4",{children:["You have been invited to join the team:"," ",Object(C.jsx)("span",{style:{textTransform:"capitalize"},children:m})," "]}),p?Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)("br",{}),Object(C.jsxs)("h5",{children:[Object(C.jsx)(N.n,{color:"orange"})," This process may take a few seconds. Do not close this page."]})]}):null,Object(C.jsx)("br",{}),Object(C.jsxs)(ue.a,{className:"btn-icon btn-3",color:"primary",type:"button",disabled:p,onClick:R,children:[Object(C.jsx)("span",{className:"btn-inner--icon",children:Object(C.jsx)("b",{children:p?Object(C.jsx)(Ye.a,{className:"icon-spin"}):Object(C.jsx)(N.M,{})})}),Object(C.jsx)("span",{className:"btn-inner--text",children:p?"Accepting":"Accept Invite"})]}),Object(C.jsxs)(ue.a,{className:"btn-icon btn-3",color:"primary",outline:!0,type:"button",disabled:p,onClick:function(){return Le(e)},children:[Object(C.jsx)("span",{className:"btn-inner--icon",children:Object(C.jsx)("b",{children:Object(C.jsx)(N.N,{})})}),Object(C.jsx)("span",{className:"btn-inner--text",children:"Ignore Invite"})]})]})}):Object(C.jsx)(oe.a,{children:Object(C.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(C.jsx)("h4",{children:"This invite has either been expired or is not meant for you. Please ask the team owner to add you directly."}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsxs)("h4",{children:["Click"," ",Object(C.jsx)("span",{className:"cursor-pointer",onClick:function(){return Le(e)},children:"here"})," ","to go back to account settings."]})]})})})})})})})})},qe=n(18),We=function(e){return e.rules},Qe=function(e){return We(e).allRules},ze=function(e){return Qe(e).rules},Xe=function(e){var t=function(e){return ze(e).filter((function(e){return"MKTRuleID"in e}))}(e);return t.filter((function(e,t,n){return n.findIndex((function(t){return t.MKTRuleID===e.MKTRuleID}))===t}))},Je=function(e){return Qe(e).groups},Ze=function(e){return We(e).groupwiseRulesToPopulate},$e=function(e){return We(e).selectedRules},et=function(e){return We(e).currentlySelectedRule},tt=function(e){return et(e).data},nt=function(e){return e.user},at=function(e){return e.search},rt=function(e){return e.pendingRefresh},ct=function(e){return rt(e).rules},it=function(e){return e.activeModals},st=function(e){return e.appMode},ot=function(e){return e.desktopSpecificDetails},lt=function(e){return e.pricing.teamUsersToCheckout},ut=n(187),dt=n(316),Ot=ut,jt=dt,Et=function(e){return!!(e&&e.loggedIn&&e.details.planDetails)&&("referral"===e.details.planDetails.type?pt(e.details.planDetails.planId)&&!mt(e.details.planDetails):"active"===e.details.planDetails.status&&pt(e.details.planDetails.planId)&&!mt(e.details.planDetails))},bt=function(e){return e&&pt(e.planId)&&!mt(e)&&("active"===e.status||"referral"===e.type)},pt=function(e){if(!e)return!1;var t=e.split("_")[0];return t===W.PRICING.PLAN_NAMES.SILVER||t===W.PRICING.PLAN_NAMES.GOLD||t===W.PRICING.PLAN_NAMES.ENTERPRISE},St=function(e){return!!e&&e.split("_")[0]===W.PRICING.PLAN_NAMES.ENTERPRISE},ht=function(e){if(!e)return" ";var t=e.split("_")[0];return t===W.PRICING.PLAN_NAMES.BRONZE?"Free":t===W.PRICING.PLAN_NAMES.SILVER||t===W.PRICING.PLAN_NAMES.GOLD?"Personal":t===W.PRICING.PLAN_NAMES.ENTERPRISE?"For Your Team":" "},Tt=function(e){if(!e||!e.subscription)return null;var t=e.subscription.endDate;return e.subscription.current_period_end&&(t=new Date(1e3*e.subscription.current_period_end).toISOString().split("T")[0]),t},mt=function(e){return!(!e||!e.subscription)&&Tt(e)<(new Date).toISOString().split("T")[0]},ft=function(e){var t=e.details?e.details.planDetails:null;if(!t||!t.planId||!t.subscription||!Ot)return W.PRICING.PLAN_NAMES.BRONZE;if(!Et(e))return W.PRICING.PLAN_NAMES.BRONZE;if(mt(t))return W.PRICING.PLAN_NAMES.BRONZE;var n=t.planId;if(["silver_1m","silver_6m","silver_12m"].indexOf(n)>=0)return W.PRICING.PLAN_NAMES.SILVER;if("gold_6m"===n)return W.PRICING.PLAN_NAMES.GOLD;for(var a in Ot){var r=Ot[a];for(var c in r)if("object"===typeof r[c]&&r[c].planId===n)return r.name.toLowerCase()}return W.PRICING.PLAN_NAMES.BRONZE},At=function(e,t){var n=xt(e);if(n)return n[t].enabled;switch(e){case W.FEATURES.LOGS:return t===W.PRICING.PLAN_NAMES.GOLD;case W.FEATURES.ADS:return t===W.PRICING.PLAN_NAMES.BRONZE;default:return!1}},Rt=function(e,t){var n=xt(e);if(n)return n[t].limit;switch(e){case W.FEATURES.RULES:return 10;case W.FEATURES.ACTIVE_RULES:case W.FEATURES.FAV_RULES:case W.FEATURES.RULE_PAIRS:return 3;case W.FEATURES.SHARED_LISTS:return 10;case W.FEATURES.RESPONSE_BODY_CHARACTER_LIMIT:return 1500;default:return 3}},xt=function(e){return jt.filter((function(t){return t.id===e}))[0]},Nt=n(36),Ct=n(124),gt=n(82),_t=n(63),It=n(74),Lt=n(15),vt=function(e,t){return{type:d.UPDATE_USER_INFO,payload:{loggedIn:e,details:t}}},yt=function(e){return{type:d.UPDATE_BACKUP_INFO,payload:e}},Ut=function(e){return{type:d.UPDATE_GROUPS,payload:e}},Pt=function(e,t){return{type:d.UPDATE_RULES_AND_GROUPS,payload:{rules:Object(Lt.a)(e),groups:Object(Lt.a)(t)}}},Dt=function(e,t){return{type:d.UPDATE_REFRESH_PENDING_STATUS,payload:{type:e,newValue:t}}},wt=function(e){return{type:d.UPDATE_CURRENTLY_SELECTED_RULE_DATA,payload:e}},Mt=function(){return{type:d.CLEAR_CURRENTLY_SELECTED_RULE_AND_CONFIG}},kt=function(e,t,n){return{type:d.TOGGLE_ACTIVE_MODAL,payload:{modalName:e,newValue:t,newProps:n}}},Gt=function(e){return{type:d.UPDATE_DESKTOP_SPECIFIC_DETAILS,payload:e}},Ft=W.AUTH.ACTION_LABELS,Bt=function(e){var t=e.src,n=Object(c.useContext)(Z).dispatch,a=function(e){n(kt("authModal",!0,{redirectURL:window.location.href,authMode:Ft.LOG_IN,src:t}))},r=Object(c.useCallback)(a,[n,t]);return Object(c.useEffect)((function(){r()}),[r]),Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(Nt.a,{className:"primary-card",children:Object(C.jsx)(Ct.a,{style:{textAlign:"center"},align:"center",children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(C.jsx)("h1",{className:"display-3",children:"You need to login first!"}),Object(C.jsxs)("p",{className:"lead",children:["Please make sure you're logged in to your account before accessing this page"," "]}),Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(It.a,{type:"primary",onClick:a,children:"Login"}),Object(C.jsx)(It.a,{type:"primary",onClick:function(e){n(kt("authModal",!0,{redirectURL:window.location.href,authMode:Ft.SIGN_UP,src:t}))},children:"Sign up"})]})]})})})})})},Vt=function(e){var t=e.message,n=Object(re.g)();return Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(Nt.a,{className:"primary-card",children:Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,align:"center",children:Object(C.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(C.jsx)("h1",{className:"display-3",children:t||null}),Object(C.jsx)("p",{className:"lead",children:Object(C.jsx)(It.a,{type:"link",onClick:function(){return Ie(n)},children:"Get Requestly Premium"})})]})})})})})},Yt=["component","premiumRequired","premiumMessage","routeSrc"],Ht=function(e){var t=e.component,n=e.premiumRequired,a=e.premiumMessage,r=e.routeSrc,s=Object(qe.a)(e,Yt),o=Object(c.useContext)(Z).state,l=nt(o),d=Object(c.useState)(!1),O=Object(u.a)(d,2),E=O[0],b=O[1];return Object(c.useEffect)((function(){E||b(Et(l))}),[l,E]),Object(C.jsx)(i.a.Fragment,{children:l.loggedIn?n&&!E?Object(C.jsx)(Vt,{message:a}):Object(C.jsx)(t,Object(j.a)({},s)):Object(C.jsx)(Bt,{src:r})})},Kt=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ht,{component:Ke})})},qt=n(1002),Wt=n(1006),Qt=n(1007),zt=n(520),Xt=n(1004),Jt=n(97),Zt=n(544),$t=n(79),en=n(157),tn=n(543),nn=n(192),an=function(e){switch(e){case"marketer":return"Marketer";case"developer":default:return"Developer";case"designer":return"Designer";case"consultant":return"Consultant";case"support":return"Customer Support";case"eng_manager":return"Engineering Manager";case"prod_manager":return"Product Manager";case"tester":return"Tester";case"gamer":return"Video Gamer";case"goanimator":return"Goanimator";case"student":return"Student";case"other":return"Other"}},rn=function(e){var t=e.onChangeHandler;return Object(C.jsxs)($t.a,{children:[Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(){return t("marketer",an("marketer"))},children:an("marketer")})},0),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(){return t("developer",an("developer"))},children:an("developer")})},1),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(){return t("designer",an("designer"))},children:an("designer")})},2),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(){return t("consultant",an("consultant"))},children:an("consultant")})},3),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(){return t("support",an("support"))},children:an("support")})},4),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(){return t("eng_manager",an("eng_manager"))},children:an("eng_manager")})},5),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(){return t("prod_manager",an("prod_manager"))},children:an("prod_manager")})},6),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(){return t("tester",an("tester"))},children:an("tester")})},7),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(){return t("gamer",an("gamer"))},children:an("gamer")})},8),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(){return t("goanimator",an("goanimator"))},children:an("goanimator")})},9),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(){return t("student",an("student"))},children:an("student")})},10),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(){return t("other",an("other"))},children:an("other")})},11)]})},cn=function(e,t){return Object(C.jsx)(en.a,{trigger:["click"],overlay:Object(C.jsx)(rn,{onChangeHandler:t}),style:{background:"transparent",border:"none",boxShadow:"none"},children:Object(C.jsxs)(tn.a.Text,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"capitalize",cursor:"pointer"},children:[ie()(e)?"Choose":e," ",Object(C.jsx)(nn.a,{})]})})},sn=n(32),on=n(513),ln=Object(on.a)(p.CONFIG.firebaseConfig),un=n(514),dn=n.n(un),On=n(1018),jn=function(){return(new Date).getTime()},En=function(){return Math.random().toString(36).substr(2,5)},bn=function(e){return e.replace("_"," ").match(/([A-Z]?[^A-Z]*)/g).slice(0,-1).map((function(e){return e.toLowerCase()})).join(" ")},pn=function(e){try{new URL(e)}catch(t){return!1}return!0},Sn=function(e){return e.split("@")[1]},hn=function(e){var t=Sn(e);return!!t&&!(W.EMAIL_DOMAINS.PERSONAL.includes(t)||W.EMAIL_DOMAINS.DESTROYABLE.includes(t))},Tn=function(e){return new Blob([e]).size},mn=function(e){var t=Sn(e);return t?W.EMAIL_DOMAINS.PERSONAL.includes(t)?"PERSONAL":W.EMAIL_DOMAINS.DESTROYABLE.includes(t)?"DESTROYABLE":hn(e)?"BUSINESS":"UNDEFINED":"UNDEFINED"},fn=function(e){return e.toLocaleDateString("en-CA")},An=function(){var e=(new Date).getHours();return e<12?"Good Morning":e>=12&&e<=17?"Good Afternoon":"Good Evening"},Rn=function(e){var t=W.PRICING.COUNTRY_CODES.find((function(t){return t.value===e}));return t?t.label:null},xn=function(e){switch(e){case p.CONSTANTS.APP_MODES.EXTENSION:return"Browser Extension";case p.CONSTANTS.APP_MODES.DESKTOP:return"Desktop App";case p.CONSTANTS.APP_MODES.CLOUDFLARE:return"Cloudflare App";case p.CONSTANTS.APP_MODES.WORDPRESS:return"Wordpress Plugin";default:return bn(e)}},Nn=function(e){switch(e){case p.CONSTANTS.APP_MODES.EXTENSION:return"Extension";case p.CONSTANTS.APP_MODES.DESKTOP:return"Desktop App";case p.CONSTANTS.APP_MODES.CLOUDFLARE:return"Cloudflare";case p.CONSTANTS.APP_MODES.WORDPRESS:return"Wordpress";default:return bn(e)}},Cn=function(e){return e&&"string"===typeof e&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},gn=p.CONSTANTS.GA_EVENTS,_n=function(){var e=Object(te.a)(ae.a.mark((function e(t,n){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Aa.updateValueAsPromise(["customProfile",t,"signup"],{emailVerified:n}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),In=function(e,t){t||(t=new Date);var n=fn(t);return ya(gn.ATTR.SIGNUP_DATE,n),Aa.setValue(["customProfile",e,"signup"],{signup_date:n})},Ln=function(){return va(gn.CATEGORIES.USER,gn.ACTIONS.EMAIL_VERIFICATION_RESEND,"verification sent from - ".concat(window.location.pathname)),function(){var e=Object(se.g)(ln).currentUser;return e?e.sendEmailVerification({url:window.location.href,handleCodeInApp:!0}):Promise.reject({status:!1,errorCode:"Could not send Email"})}(window.location.href).then((function(){Ve.info("Check your inbox for verification link")})).catch((function(e){e.message&&Ve.error(e.message)}))},vn=W.PATHS,yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.pathname;return e.includes(W.PATHS.PRICING.RELATIVE)},Un=function(e,t){var n,a,r,c=Object(j.a)({},t);c.uid=null!==(n=null!==(a=null===c||void 0===c?void 0:c.uid)&&void 0!==a?a:null===(r=window)||void 0===r?void 0:r.uid)&&void 0!==n?n:null;try{window.$crisp?window.$crisp.push(["set","session:event",[[[e,c,"green"]]]]):console.log("Crisp hasn't loaded yet!")}catch(i){console.error(i)}window.gtag("event",e,c)},Pn={INDEX_PAGE:"rules_index_page"},Dn={INDEX_PAGE:"shared_lists_index_page"},wn="login_success",Mn="forgot_password_attempted",kn="email",Gn="gmail",Fn="apple",Bn="email_link",Vn="referral_applied",Yn="referral_failed",Hn="feedback_submitted",Kn={BACKGROUND:{PROCESS_STARTED:"background_process_started"}},qn={STARTED:"proxy_server_started"},Wn={DELETED:"mock_deleted",UPDATED:"mock_updated",CREATED:"mock_created"},Qn={DELETED:"file_deleted",UPDATED:"file_updated",CREATED:"file_created"},zn={REMOVE_CLICKED:"remove_limits_clicked",LIMIT_REACHED:"limit_reached"},Xn=function(e){var t=e.auth_provider,n=e.email,a=e.place,r={auth_provider:t,email:n,place:null!==a&&void 0!==a?a:window.location.href};Un("login_attempted",r)},Jn=function(e){var t=e.uid,n=e.refCode;Un(Yn,{uid:t,refCode:n})},Zn=function(e){var t=e.auth_provider,n=e.uid,a=e.place,r=e.email,c={auth_provider:t,uid:n,place:null!==a&&void 0!==a?a:window.location.href,email:r};Un(wn,c)},$n=function(e){var t=e.auth_provider,n=e.place,a=e.email;Un(wn,{auth_provider:t,place:n,email:a})},ea=function(e){var t=e.auth_provider,n=e.email,a=e.error;Un("signup_failed",{auth_provider:t,email:n,error:a})},ta=function(e){var t=e.auth_provider,n=e.email,a=e.ref_code,r=e.uid;Un("signup_success",{auth_provider:t,email:n,ref_code:a,uid:r})},na=function(){Un("verify_oobcode_failed")},aa=p.CONSTANTS.GA_EVENTS,ra=p.COMPONENTS.LOGGER;function ca(e,t,n,a){if(function(e){var t=e.auth_provider,n=e.email,a=e.ref_code;Un("signup_attempted",{auth_provider:t,email:n,ref_code:a})}({ref_code:a,auth_provider:kn,email:t}),!e||ie()(e))return ea({auth_provider:kn,email:t,error:"no-name"}),Promise.reject({status:!1,errorCode:"no-name"});if(!t||ie()(t))return ea({auth_provider:kn,email:t,error:"no-email"}),Promise.reject({status:!1,errorCode:"no-email"});if(!n||ie()(n))return ea({auth_provider:kn,email:t,error:"no-password"}),Promise.reject({status:!1,errorCode:"no-password"});var r=Object(se.g)(ln);return Object(se.e)(r,t,n).then((function(n){return Object(se.j)(n.user,{url:window.location.href,handleCodeInApp:!0}).then((function(){In(n.user.uid),_n(n.user.uid,!1)})),Object(se.r)(n.user,{displayName:e,photoURL:"https://www.gravatar.com/avatar/".concat(dn()(t))}).then((function(){var e=ba(n.user),r=Object(sn.c)();return Object(sn.h)(Object(sn.e)(r,Ea(e.uid)),e).then((function(){ra.log("Profile Created Successfully"),Pa(e.email),ta({auth_provider:kn,email:t,ref_code:a,uid:e.uid});var n=Object(be.a)();a&&Object(be.b)(n,"applyRefCode")({code:a,uid:e.uid,email:e.email}).then((function(t){var n,r;return t&&t.data&&t.data.reward?(va(aa.CATEGORIES.REFERRAL,aa.ACTIONS.REFERRAL_APPLIED,"".concat(aa.CATEGORIES.REFERRAL,"_").concat(t.data.reward.type)),function(e){var t=e.uid,n=e.refCode,a=e.rewardType;Un(Vn,{uid:t,refCode:n,rewardType:a})}({uid:e.uid,refCode:a,rewardType:null===t||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.reward)||void 0===r?void 0:r.type}),{success:!0,msg:"Referral Code applied successfully!",result:t.data}):(va(aa.CATEGORIES.REFERRAL,aa.ACTIONS.REFERRAL_FAILED,"".concat(aa.CATEGORIES.REFERRAL,"_").concat(aa.ACTIONS.REFERRAL_FAILED)),Jn({uid:e.uid,refCode:a}),{success:!1,msg:"Invalid Referral Code",result:t.data})})).catch((function(t){Jn({uid:e.uid,refCode:a}),console.error(t)}));return Promise.resolve({status:!0,msg:"SignUp Successful"})})).catch((function(e){return ea({auth_provider:kn,email:t,error:null===e||void 0===e?void 0:e.message}),Promise.reject({status:!1,errorCode:""})}))})).catch((function(e){return ea({auth_provider:kn,email:t,error:null===e||void 0===e?void 0:e.message}),Promise.reject({status:!1,errorCode:""})}))})).catch((function(e){var n=e.code;return ea({auth_provider:kn,email:t,error:n}),Promise.reject({status:!1,errorCode:n})}))}function ia(e){!function(e){var t=e.email;Un(Mn,{email:t})}({email:e});var t=Object(se.g)(ln);return Object(se.k)(t,e).then((function(t){return function(e){var t=e.email;Un("forgot_password_success",{email:t})}({email:e}),ra.log("Password reset email sent"),Promise.resolve({status:!0,msg:"Password reset email sent"})})).catch((function(t){var n=t.code;return function(e){var t=e.email,n=e.error;Un("forgot_password_failed",{email:t,error:n})}({email:e,error:n}),Promise.reject({status:!1,errorCode:n})}))}function sa(e){if(Un(Mn),!e)return na(),Promise.reject({status:!1,msg:""});var t=Object(se.g)(ln);return Object(se.s)(t,e).then((function(e){return Un("verify_oobcode_success"),Promise.resolve({status:!0,email:e})})).catch((function(){return na(),ra.log("Invalid OOB Code"),Promise.reject({status:!1,msg:""})}))}function oa(e,t){if(Un("reset_password_attempted"),!t)return Promise.reject({status:!1,msg:"Password is Required"});var n=Object(se.g)(ln);return Object(se.d)(n,e,t).then((function(e){return Un("reset_password_success"),ra.log("Password reset successful"),Promise.resolve({status:!0,msg:"Password Reset Successful"})})).catch((function(e){Un("reset_password_failed");var t=e.message;return ra.log("Error Resetting Password"),Promise.reject({status:!1,msg:t})}))}function la(e){Xn({auth_provider:Gn});var t=new se.a;t.addScope("profile"),t.addScope("email");var n=Object(se.g)(ln);return Object(se.o)(n,t).then((function(t){var n,a,r=Object(se.f)(t).isNewUser||!1,c=(null===t||void 0===t||null===(n=t.user)||void 0===n?void 0:n.uid)||null,i=(null===t||void 0===t||null===(a=t.user)||void 0===a?void 0:a.email)||null;r?(Pa(i),ta({auth_provider:Gn,email:i,uid:c}),In(c),_n(c,!0)):(Ua(aa.ACTIONS.GMAIL_LOGIN_PERFORMED,"google",i),Zn({auth_provider:Gn,uid:c,email:i}));var s=ba(t.user),o=Object(sn.c)();return Object(sn.h)(Object(sn.e)(o,Ea(s.uid)),s),e&&e.call(null,!0),s}))}var ua=function(){return Xn({auth_provider:Gn}),new Promise(function(){var e=Object(te.a)(ae.a.mark((function e(t,n){var a,r,c;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(On.a)(),r=Object(sn.c)(),c=Object(sn.e)(r,"ot-auth-codes/".concat(a)),Object(sn.d)(c,function(){var e=Object(te.a)(ae.a.mark((function e(n){var a,r,i,s;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.val()){e.next=4;break}return $n({auth_provider:Gn}),e.abrupt("return");case 4:return i=Object(se.g)(ln),e.next=7,Object(se.l)(i,r);case 7:s=e.sent,Object(sn.f)(c),Zn({auth_provider:Gn,uid:null===s||void 0===s||null===(a=s.user)||void 0===a?void 0:a.uid}),t(s.user);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.open((n=a)?"".concat(vn.AUTH.DEKSTOP_SIGN_IN.ABSOLUTE,"?ot-auth-code=").concat(n):vn.AUTH.DEKSTOP_SIGN_IN.ABSOLUTE,"_blank");case 5:case"end":return e.stop()}var n}),e)})));return function(t,n){return e.apply(this,arguments)}}())},da=function(){var e=Object(te.a)(ae.a.mark((function e(t,n){var a,r,c,i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xn({auth_provider:Bn,email:t}),e.prev=1,a=Object(se.g)(ln),e.next=5,Object(se.n)(a,t,window.location.href);case 5:return r=e.sent,c=ba(r.user),i=Object(sn.c)(),Object(sn.h)(Object(sn.e)(i,Ea(c.uid)),c),Zn({auth_provider:Bn,uid:c.uid,email:t}),n&&n.call(null,!0),e.abrupt("return",c);case 14:return e.prev=14,e.t0=e.catch(1),console.error(e.t0),$n({auth_provider:Bn,email:t}),e.abrupt("return",null);case 19:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,n){return e.apply(this,arguments)}}();function Oa(e){return ja.apply(this,arguments)}function ja(){return(ja=Object(te.a)(ae.a.mark((function e(t){var n,a,r,c;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(sn.c)(),a=Object(sn.e)(n,"users/".concat(t,"/profile")),r=!1,e.next=5,Object(sn.b)(Object(sn.a)(a,"/"));case 5:if(void 0!==(c=e.sent.toJSON()).isBackupEnabled){e.next=12;break}return e.next=9,Object(sn.h)(a,{isBackupEnabled:!0});case 9:r=!0,e.next=13;break;case 12:r=c.isBackupEnabled;case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ea(e){return"users/"+e+"/profile"}function ba(e){var t=Object.assign({},e.providerData[0]);return t.uid=e.uid,t.photoURL||(t.photoURL="https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y"),t.displayName||(t.displayName="User"),t}function pa(e){var t=Object(sn.c)();return Object(sn.e)(t,e.join("/"))}function Sa(e,t){var n=pa(e);Object(sn.d)(n,(function(e){return t.call(null,e.val())}),(function(){return t.call(null,null)}),{onlyOnce:!0})}function ha(e){return new Promise((function(t,n){return Sa(e,t)}))}function Ta(e,t,n){var a=pa(e);Object(sn.h)(a,t).then((function(){return n()}))}function ma(e,t){return new Promise((function(n){return Ta(e,t,n)}))}function fa(){var e=Object(se.g)(ln);return Object(se.q)(e)}var Aa={isUserAuthenticated:function(e){!function(e){var t=Object(se.g)(ln).currentUser;t?e.call(null,ba(t)):e.call(null,null)}(e)},authenticate:function(){return la()},getValue:function(e){return new Promise((function(t,n){try{Sa(e,t)}catch(a){n(a)}}))},setValue:function(e,t){return function(e,t){var n=pa(e);return Object(sn.g)(n,t)}(e,t)},updateValueAsPromise:function(e,t){return ma(e,t)},updateValue:function(e,t){return Ta(e,t)}},Ra=n(352),xa=p.CONSTANTS.GA_EVENTS;function Na(e){if(e.attr&&e.value){var t=e.attr.toLowerCase(),n=e.value;if(Aa.isUserAuthenticated((function(e){e&&e.uid&&function(e,t,n){var a=e.uid,r={};r[t]=n;var c=Object(sn.c)();Object(sn.h)(Object(sn.e)(c,"/customProfile/".concat(a,"/attributes")),r)}(e,t,n)})),window.sib&&window.sendinblue&&window.sib.email_id){var a=window.sib.email_id,r={};r[t]=n,window.sendinblue.identify(a,r)}xa.GA_CUSTOM_METRICS[t]&&window.ga("set",xa.GA_CUSTOM_METRICS[t],n)}}function Ca(e){if(e&&e.uid&&e.providerData&&e.providerData.length>0){var t=e.providerData[0];return{name:t.displayName,email:t.email,uid:e.uid}}}function ga(e){var t=Ca(e);!function(){window.sib={equeue:[],client_key:"ajzj60vxaywpk24xe054qsh1"},window.sib.email_id=e?t.email:"N/A",window.sib.display_chat=0,window.sib.display_logo=0,window.sib.custom_welcome_message=e?"Hello, how can we help you?":"Please sign in to your account or enter your email here first for better support.",window.sib.custom_offline_message="We are currently offline. In order to answer you, please indicate your email in your messages.",window.sendinblue={};for(var n=["track","identify","trackLink","page"],a=0;a<n.length;a++)!function(e){window.sendinblue[e]=function(){var t=Array.prototype.slice.call(arguments);(window.sib[e]||function(){var n={};n[e]=t,window.sib.equeue.push(n)})(t[0],t[1],t[2])}}(n[a]);var r=document.createElement("script");a=document.getElementsByTagName("script")[0],r.type="text/javascript",r.id="sendinblue-js",r.async=!0,r.src="https://sibautomation.com/sa.js?key="+window.sib.client_key,a.parentNode.insertBefore(r,a),window.sendinblue.page()}()}function _a(e){if(window.$crisp=[],window.CRISP_WEBSITE_ID="1c7370cc-6ff1-446f-89fa-9769ac56b756",function(){var e=document,t=e.createElement("script");t.src="https://client.crisp.chat/l.js",t.async=1,e.getElementsByTagName("head")[0].appendChild(t)}(),e){var t=Ca(e);window.$crisp.push(["set","user:email",t.email])}window.$crisp.push(["safe",!0])}var Ia,La=p.CONSTANTS.GA_EVENTS,va=function(e,t,n,a){!function(e){e.eventValue&&"number"==typeof e.eventValue?window.ga("send",{hitType:"event",eventCategory:e.eventCategory,eventAction:e.eventAction,eventLabel:e.eventLabel,eventValue:Math.ceil(e.eventValue)}):window.ga("send",{hitType:"event",eventCategory:e.eventCategory,eventAction:e.eventAction,eventLabel:e.eventLabel}),window.sib&&window.sendinblue&&window.sib.email_id&&window.sendinblue.track(e.eventLabel,{eventCategory:e.eventCategory},{eventAction:e.eventAction});try{window.$crisp?window.$crisp.push(["set","session:event",[[[e.eventLabel,e.eventAction,"blue"]]]]):console.log("Crisp hasn't loaded yet!")}catch(t){console.error(t)}}({eventCategory:e,eventAction:t,eventLabel:n?n.replace(".","_").replace("@","_at_"):null,eventValue:a})},ya=function(e,t){Na({attr:e,value:String(t).replace(".","_")})},Ua=function(e,t,n){va(La.CATEGORIES.LOGIN,e,La.CATEGORIES.LOGIN+"_"+e)},Pa=function(e){var t=e.split("@")[1],n=mn(e);va(La.CATEGORIES.SIGNUP,"SignUp with ".concat(n," email"),"".concat(n," email - @").concat(t))},Da=function(e){ya("rq_last_activity_ts",fn(new Date)),ya("rq_last_activity",e)},wa=function(e){va(La.CATEGORIES.DESKTOP_APP,"".concat(e),"".concat(La.CATEGORIES.DESKTOP_APP,"_").concat(e))},Ma=p.CONSTANTS.GA_EVENTS,ka=function(e){var t=e.isOpen,n=e.handleToggleModal,a=Object(re.g)(),r=Object(c.useState)(""),i=Object(u.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(!1),d=Object(u.a)(l,2),O=d[0],j=d[1];return Object(C.jsxs)(Zt.a,{style:{marginTop:"200px"},visible:t,onCancel:n,footer:null,children:[Object(C.jsx)("div",{children:Object(C.jsx)("h3",{children:"Create New Team"})}),Object(C.jsx)("div",{children:Object(C.jsxs)(Ct.a,{style:{paddingTop:"10px",alignItems:"center"},children:[Object(C.jsx)(gt.a,{children:Object(C.jsx)("h4",{children:"Name your team"})}),Object(C.jsx)(gt.a,{style:{fontSize:"0.9em"},align:"right",children:Object(C.jsx)(Jt.a,{type:"text",placeholder:"Team name",style:{textTransform:"capitalize",marginLeft:"90px"},value:s,onChange:function(e){o(e.target.value),va(Ma.CATEGORIES.TEAMS,Ma.ACTIONS.WORKFLOW_STARTED,"Name for New Team entered by user")}})})]})}),Object(C.jsxs)("div",{style:{marginTop:"20px",display:"flex",flexDirection:"row-reverse"},children:[Object(C.jsx)(It.a,{type:"primary",style:{marginLeft:"10px"},disabled:ie()(s)||O,onClick:function(e){e&&e.preventDefault(),j(!0);var t=Object(be.a)();Object(be.b)(t,"createTeam")({teamName:s,minUsers:5}).then((function(e){Ve.info("Team Created");var t=e.data.teamId;j(!1),ve(a,t),va(Ma.CATEGORIES.TEAMS,Ma.ACTIONS.CREATED,"New Team Created Redirected to New Team Page",{teamName:s})})).catch((function(e){Ve.error("Unable to Create Team"),va(Ma.CATEGORIES.TEAMS,Ma.ACTIONS.ERROR,"Error in creating New Team",{error:e.message}),j(!1)}))},children:O?Object(C.jsx)(N.E,{className:"icon-spin"}):Object(C.jsx)("span",{children:"Create Team"})}),Object(C.jsx)(It.a,{type:"secondary","data-dismiss":"modal",onClick:n,children:"Close"})]})]})},Ga=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Nt.a,{className:"primary-card",title:"My Teams",children:Object(C.jsx)(Ct.a,{children:Object(C.jsxs)(gt.a,{span:24,align:"center",children:[Object(C.jsx)("p",{children:"You can create or join multiple teams. Each team is billed separately and subscription is shared with all members."}),Object(C.jsx)("br",{}),Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(It.a,{type:"primary",onClick:function(){return a(!0)},children:"Create your first team"}),Object(C.jsx)(It.a,{onClick:function(e){return window.open(W.LINKS.REQUESTLY_DOCS_TEAM_SUBSCRIPTION,"_blank")},children:"Know More"})]})]})})}),Object(C.jsx)(ka,{isOpen:n,handleToggleModal:function(){a(!n)}})]})},Fa=n(144),Ba=n(551),Va=n(550),Ya=n(73),Ha=p.CONSTANTS.GA_EVENTS,Ka=function(e){var t=e.teams,n=void 0===t?[]:t,a=Object(re.g)(),r=Object(c.useState)(!1),i=Object(u.a)(r,2),s=i[0],o=i[1],l=[{title:"Team",dataIndex:"name",render:function(e,t){return Object(C.jsx)("span",{onClick:function(){ve(a,t.id),va(Ha.CATEGORIES.TEAMS,Ha.ACTIONS.ROUTE_VIEWED,"Redirected to Selected Team Page by user",{teamId:t.id})},style:{cursor:"pointer"},children:e})}},{title:"Members",dataIndex:"accessCount"},{title:"Admins",dataIndex:"adminCount"},{title:"Subscription",render:function(e,t){return function(e,t){switch(e){case"active":return Object(C.jsxs)("span",{style:{width:"300px"},onClick:function(){return ve(a,t)},children:[Object(C.jsx)(Fa.a,{status:"success"})," Active"]});case"incomplete":return Object(C.jsxs)(It.a,{className:"btn-icon btn-3",color:"primary",size:"sm",type:"button",onClick:function(){return ve(a,t)},children:[Object(C.jsx)("span",{children:Object(C.jsx)(N.t,{})}),Object(C.jsx)("span",{children:"Pay now"})]});default:return Object(C.jsxs)("span",{style:{width:"300px"},children:[Object(C.jsx)(Fa.a,{status:"error"})," Inactive"]})}}(t.subscriptionStatus,t.id)}},{title:"Actions",align:"right",render:function(e,t){return Object(C.jsx)("span",{style:{width:"300px",cursor:"pointer"},onClick:function(){ve(a,t.id),va(Ha.CATEGORIES.TEAMS,Ha.ACTIONS.ROUTE_VIEWED,"Redirected to Selected Team Page by user",{teamId:t.id})},children:Object(C.jsx)(Ba.a,{})})}}];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ya.a,{rowKey:"id",pagination:!1,options:!1,search:!1,dateFormatter:!1,columns:l,dataSource:function(){var e=[];return n&&Object.keys(n).forEach((function(t){e.push(Object(j.a)({id:t},n[t]))})),e}(),headerTitle:"My Teams",toolBarRender:function(){return[Object(C.jsx)(It.a,{type:"primary",onClick:function(){o(!0),va(Ha.CATEGORIES.TEAMS,Ha.ACTIONS.CLICKED,"Create New Team Btn Clicked")},icon:Object(C.jsx)(Va.a,{}),children:"Create New Team"})]}}),Object(C.jsx)(ka,{isOpen:s,handleToggleModal:function(){o(!s)}})]})},qa=n(109),Wa=n(115),Qa=function(){var e=Object(C.jsx)(Wa.a,{style:{fontSize:24},spin:!0}),t=Object(c.useState)(!0),n=Object(u.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)([]),s=Object(u.a)(i,2),o=s[0],l=s[1],d=Object(c.useRef)(!0),O=Object(c.useCallback)((function(){r(!0);var e=Object(be.a)();Object(be.b)(e,"getUserTeams")().then((function(e){if(!d.current)return null;var t=e.data;if(!t.success)throw new Error("Unable to find team");l(t.data),r(!1)})).catch((function(e){if(!d.current)return null;console.log(e),Ve.error("You dont have permission to view this team.")}))}),[]);return Object(c.useEffect)((function(){return O(),function(){d.current=!1}}),[O]),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{children:o.length>0?Object(C.jsx)(Ka,{teams:o}):Object(C.jsx)(C.Fragment,{children:a?Object(C.jsx)(qa.a,{style:{marginTop:"40px"},indicator:e,tip:"Loading Teams"}):Object(C.jsx)(Ga,{})})})})},za=function(e){var t=e.customHeading,n=e.hideShadow,a=Object(re.g)();return Object(C.jsx)(Oe.a,{className:"my-4",children:Object(C.jsx)(oe.a,{children:Object(C.jsxs)(je.a,{className:n?"has-no-border has-no-box-shadow":"shadow",children:[Object(C.jsx)(qt.a,{className:"bg-white border-0",children:Object(C.jsx)(Oe.a,{className:"align-items-center",children:Object(C.jsx)(oe.a,{children:Object(C.jsx)("h3",{className:"mb-0",children:t||"My Subscription"})})})}),Object(C.jsx)(Ee.a,{children:Object(C.jsxs)("div",{style:{textAlign:"center"},className:"mb-4",children:[Object(C.jsx)("p",{children:"Get the most out of Requestly. Upgrade to one of our premium plans."}),Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(It.a,{type:"primary",onClick:function(){return Ie(a)},children:"View Plans"}),Object(C.jsx)(It.a,{type:"secondary",onClick:function(e){return window.open(W.LINKS.REQUESTLY_DOCS_PREMIUM_SUBSCRIPTION,"_blank")},children:"Know More"})]})]})})]})})})},Xa=n(1019),Ja=ut,Za="USD",$a=function(e){switch(e){case"monthly":default:return 30;case"quarterly":return 90;case"half-yearly":return 180;case"annual":return 365}},er={IN:"INR",MX:"MXN",GB:"GBP",EU:"EUR",US:"USD",CA:"CAD",CN:"CNY"},tr=function(e,t){var n;switch(n=!t&&e?nr(e):t){case"INR":return"\u20b9";case"MXN":return"Mex$";case"USD":return"$";case"GBP":return"\xa3";case"EUR":return"\u20ac";case"CAD":return"C$";case"CNY":return"CN\xa5";default:return n}},nr=function(e){return er[e]||Za},ar=function(e,t){var n=Ja.find((function(t){return t.id===e}));return n||Ge(null,!0),(n[t]||Ge(null,!0)).planId||Ge(null,!0)},rr=function(e){switch(e){case"active":return"Active";case"incomplete":case"unpaid":return"Payment pending";case"incomplete_expired":return"Payment Unsuccessful";case"trialing":return"Active Trial Period";case"past_due":return"Past due";case"canceled":return"Cancelled";default:return"Contact us"}},cr=function(e){switch(e){case"team":return"Team Subscription";case"unlock":return"Unlocked Subscription";case"license":return"Enterprise Plan";case"paypal":return"Paypal Subscription";case"individual":return"Personal Subscription";default:return"Premium Plan"}},ir=function(e){var t=e.customHeading,n=e.hideShadow,a=e.hideManagePersonalSubscriptionButtion,r=e.subscriptionDetails,c=Object(re.g)(),s=r.validFrom,o=r.validTill,l=r.status,u=r.type;return r?Object(C.jsx)(Oe.a,{className:"my-4",children:Object(C.jsx)(oe.a,{children:Object(C.jsxs)(je.a,{className:n?"has-no-border has-no-box-shadow":"shadow",children:[Object(C.jsx)(qt.a,{className:"bg-white border-0",children:Object(C.jsx)(Oe.a,{className:"align-items-center",children:Object(C.jsx)(oe.a,{className:"text-center text-sm-center text-xl-left text-lg-left text-md-left margin-bottom-1-when-xs margin-bottom-1-when-sm",children:Object(C.jsxs)("h3",{className:"mb-0",children:[t||"Current Subscription"," ",a?null:Object(C.jsx)("span",{style:{textAlign:"center"},children:Object(C.jsx)(It.a,{type:"link",size:"small",onClick:function(){return Ue(c)},children:"(Manage Personal Subscription)"})})]})})})}),Object(C.jsx)("br",{}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsxs)(Xa.b,{title:!1,bordered:!0,size:"small",column:2,children:[Object(C.jsx)(Xa.b.Item,{label:"Status",children:Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(Fa.a,{status:l&&"active"===l?"success":"error",text:rr(l)}),"canceled"===l||"incomplete_expired"===l?Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(It.a,{size:"small",type:"link",onClick:function(e){e.preventDefault(),"individual"===u?Pe({mode:u,planType:"gold",days:365}):"team"===u?ye(c):Ie(c)},children:"Renew"})}):null]})}),Object(C.jsx)(Xa.b.Item,{label:"Type",children:cr(u)}),Object(C.jsx)(Xa.b.Item,{label:"Valid From",children:new Date(s).toDateString()}),Object(C.jsx)(Xa.b.Item,{label:"Valid Till",children:new Date(o).toDateString()})]})})})]})})}):Object(C.jsx)(i.a.Fragment,{})},sr=function(e){var t=e.hideShadow,n=e.customHeading,a=e.hideManagePersonalSubscriptionButtion,r=e.hideIfSubscriptionIsPersonal,s=e.hideIfNoSubscription,o=Object(c.useContext)(Z).state,l=nt(o),d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(!1),p=Object(u.a)(b,2),S=p[0],h=p[1],T=Object(c.useState)(!1),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(!1),x=Object(u.a)(R,2),N=x[0],g=x[1],_=Object(c.useState)(!1),I=Object(u.a)(_,2),L=I[0],v=I[1];return Object(c.useEffect)((function(){l.details&&l.details.planDetails&&l.details.planDetails.status?(E(l.details.planDetails.status),h(l.details.planDetails.type),A(l.details.planDetails.subscription.startDate),g(l.details.planDetails.subscription.endDate)):v(!0)}),[l]),l?r&&l&&l.details&&l.details.planDetails&&"individual"===l.details.planDetails.type||s&&L?Object(C.jsx)(i.a.Fragment,{}):Object(C.jsx)("div",{className:"profile-card profile-card-shadow",style:{marginTop:"2rem"},children:j&&S&&f&&N&&!L?Object(C.jsx)(ir,{customHeading:n,hideShadow:t,hideManagePersonalSubscriptionButtion:a,subscriptionDetails:{validFrom:f,validTill:N,status:j,type:S}}):Object(C.jsx)(za,{customHeading:n,hideShadow:t})}):Object(C.jsx)(i.a.Fragment,{})},or=n(1003),lr=n(1005),ur=n(171),dr=function(e){var t=Object(se.g)(ln).currentUser;if(t){var n={};ha(["userSubscriptions",t.uid,"planDetails"]).then((function(e){var a=ba(t);window.uid=null===a||void 0===a?void 0:a.uid,n={profile:a,isLoggedIn:!0,planDetails:e}})).then(Object(te.a)(ae.a.mark((function a(){var r;return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,ha(["users",t.uid,"profile","isBackupEnabled"]);case 2:r=a.sent,n.isBackupEnabled=!!r,e(vt(!0,n));case 5:case"end":return a.stop()}}),a)})))).catch((function(t){console.error("Unable to fetch user plan",t.message),window.uid=null,e(vt(!1,!1))}))}else window.uid=null,e(vt(!1,!1))},Or=function(e){var t=e.customHeading,n=e.shadow,a=e.hideBillingAddress,r=(e.hideIndiaInCountryList,Object(c.useContext)(Z)),s=r.dispatch,o=r.state,l=nt(o),d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(""),p=Object(u.a)(b,2),S=p[0],h=p[1],T=Object(c.useState)(""),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(""),x=Object(u.a)(R,2),N=x[0],g=x[1],_=Object(c.useState)(""),I=Object(u.a)(_,2),L=I[0],v=I[1],y=Object(c.useState)(""),U=Object(u.a)(y,2),P=U[0],D=U[1],w=Object(c.useState)(""),M=Object(u.a)(w,2),k=M[0],G=M[1],F=Object(c.useState)(""),B=Object(u.a)(F,2),V=B[0],Y=B[1],H=function(){(function(e,t){var n=t.CompanyName,a=t.FullName,r=t.Address,c={};if(n&&(c.companyName=n),a&&(c.displayName=a),r){var i=r.AddrLine1,s=r.AddrLine2,o=r.AddrCity,l=r.AddrState,u=r.AddrCountry,d=r.AddrZIP;c.address={},i&&(c.address.line1=i),s&&(c.address.line2=s),o&&(c.address.city=o),l&&(c.address.state=l),u&&(c.address.country=u),d&&(c.address.postal_code=d)}return Aa.updateValueAsPromise(["users",e,"profile"],c)})(l.details.profile.uid,{FullName:S,Address:{AddrLine1:f,AddrLine2:N,AddrCity:L,AddrState:P,AddrCountry:k,AddrZIP:V}}).then((function(){E(!1),dr(s),Ve.info("Profile saved")}))};return Object(c.useEffect)((function(){Aa.getValue(["users",l.details.profile.uid]).then((function(e){if(e){var t=e.profile;t&&(t.displayName&&h(t.displayName),t.address&&(t.address.line1&&A(t.address.line1),t.address.line2&&g(t.address.line2),t.address.city&&v(t.address.city),t.address.state&&D(t.address.state),t.address.postal_code&&Y(t.address.postal_code),t.address.country&&G(t.address.country)))}}))}),[l]),Object(C.jsxs)(je.a,{className:"profile-card ".concat(n?"profile-card-shadow":""),children:[Object(C.jsx)(qt.a,{className:"bg-white border-0",children:Object(C.jsx)(Oe.a,{className:"align-items-center",children:Object(C.jsx)(oe.a,{xs:"8",children:Object(C.jsx)("h3",{className:"mb-0",children:t||"My account"})})})}),Object(C.jsx)(Ee.a,{children:Object(C.jsxs)(lr.a,{className:"profile-card-form",children:[Object(C.jsx)("h6",{className:"heading-small text-muted mb-4",children:"Basic information"}),Object(C.jsx)("div",{className:"pl-lg-4",children:Object(C.jsxs)(Oe.a,{className:"profile-card-form-info",children:[Object(C.jsxs)(or.a,{className:"profile-card-form-field",children:[Object(C.jsx)("label",{className:"form-control-label",htmlFor:"input-username",children:"Name"}),Object(C.jsx)(Xt.a,{className:"form-control-alternative",value:S,id:"input-username",placeholder:"Full Name",type:"text",onChange:function(e){E(!0),h(e.target.value)},style:{textTransform:"capitalize"}})]}),Object(C.jsxs)(or.a,{className:"profile-card-form-field",children:[Object(C.jsx)("label",{className:"form-control-label",htmlFor:"input-email",children:"Email address"}),Object(C.jsx)(Xt.a,{className:"form-control-alternative",id:"input-email",placeholder:"Email address",type:"email",disabled:"disabled",defaultValue:l.details.profile.email,style:{textTransform:"lowercase"}})]})]})}),a?Object(C.jsx)(i.a.Fragment,{}):Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)("h6",{className:"heading-small text-muted mb-4",children:"Billing address"}),Object(C.jsxs)("div",{className:"pl-lg-4",children:[Object(C.jsxs)(Oe.a,{children:[Object(C.jsx)(oe.a,{md:"4",children:Object(C.jsxs)(or.a,{children:[Object(C.jsx)("label",{className:"form-control-label",htmlFor:"input-address-line1",children:"Line 1"}),Object(C.jsx)(Xt.a,{className:"form-control-alternative",id:"input-address-line1",placeholder:"Street",type:"text",value:f,onChange:function(e){E(!0),A(e.target.value)}})]})}),Object(C.jsx)(oe.a,{md:"4",children:Object(C.jsxs)(or.a,{children:[Object(C.jsx)("label",{className:"form-control-label",htmlFor:"input-address-line2",children:"Line 2"}),Object(C.jsx)(Xt.a,{className:"form-control-alternative",id:"input-address-line2",placeholder:"Appartment",type:"text",value:N,onChange:function(e){E(!0),g(e.target.value)}})]})}),Object(C.jsx)(oe.a,{md:"4",children:Object(C.jsxs)(or.a,{children:[Object(C.jsx)("label",{className:"form-control-label",htmlFor:"input-address-city",children:"City"}),Object(C.jsx)(Xt.a,{className:"form-control-alternative",id:"input-address-city",placeholder:"City",type:"text",value:L,onChange:function(e){E(!0),v(e.target.value)}})]})})]}),Object(C.jsxs)(Oe.a,{children:[Object(C.jsx)(oe.a,{lg:"4",children:Object(C.jsxs)(or.a,{children:[Object(C.jsx)("label",{className:"form-control-label",htmlFor:"input-state",children:"State"}),Object(C.jsx)(Xt.a,{className:"form-control-alternative",id:"input-state",placeholder:"State",type:"text",value:P,onChange:function(e){E(!0),D(e.target.value)}})]})}),Object(C.jsx)(oe.a,{lg:"4",children:Object(C.jsxs)(or.a,{children:[Object(C.jsx)("label",{className:"form-control-label",htmlFor:"input-country",children:"Country"}),Object(C.jsx)(ur.a,{styles:W.STYLES.reactSelectCustomStyles,id:"input-country",className:"form-control-alternative",classNamePrefix:"form-control-alternative",placeholder:"eg. United States",options:W.PRICING.COUNTRY_CODES,value:Object(he.isEmpty)(k)?null:{value:k,label:Rn(k)},onChange:function(e){E(!0),G(e.value)}})]})}),Object(C.jsx)(oe.a,{lg:"4",children:Object(C.jsxs)(or.a,{children:[Object(C.jsx)("label",{className:"form-control-label",htmlFor:"input-zip-code",children:"ZIP/Postal Code"}),Object(C.jsx)(Xt.a,{className:"form-control-alternative",id:"input-zip-code",placeholder:"eg. V6B 3K9",type:"text",value:V,onChange:function(e){E(!0),Y(e.target.value)}})]})})]})]})]}),j?Object(C.jsx)(Oe.a,{className:"align-items-center",children:Object(C.jsx)(oe.a,{className:"text-center",xs:"12",children:Object(C.jsx)(ue.a,{color:j?"primary":"secondary",onClick:H,size:"sm",disabled:!j,children:"Save"})})}):Object(C.jsx)(i.a.Fragment,{})]})})]})},jr=n(272),Er=n.n(jr),br=function(e){var t=e.auth_provider,n=e.place;Un("login_requested",{place:n,auth_provider:t})},pr="forgot-password",Sr="sign-in",hr="sign-up",Tr=function(e){Ve.error(e,{hideProgressBar:!0,autoClose:6e3})},mr=function(e){Ve.warn(e,{hideProgressBar:!0})},fr=function(e){Ve.info(e,{hideProgressBar:!0,autoClose:5e3})},Ar=function(e,t){switch(e){case Sr:return function(e){switch(e){case"auth/invalid-email":return"Please enter a valid email";case"auth/user-not-found":return"This email is not registered. Please sign up.";case"auth/wrong-password":return"Invalid email or password. Please try again or use Forgot Password.";case"auth/user-disabled":return"Sorry but your account is disabled. Please write us at "+p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL;default:return"Sorry, we couldn\u2019t log you in. Please write us at "+p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL}}(t);case hr:return function(e){switch(e){case"no-name":return"Please enter your name.";case"no-email":case"auth/invalid-email":return"Please enter a valid email address.";case"no-password":return"Please enter a password to create.";case"auth/email-already-in-use":return"The email you entered is already in use. Try signing in.";case"auth/weak-password":return"Please choose a stronger password";case"auth/operation-not-allowed":return"Sorry but your account is disabled. Please write us at "+p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL;default:return"Sorry, we couldn\u2019t sign you up. Please write us at "+p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL}}(t);case pr:return function(e){switch(e){case"auth/user-not-found":return"Unable to find an account with this email address. Please try again.";case"auth/invalid-email":return"This email seems invalid. Please recheck.";default:return"Unable to request new password this time. Please write us at "+p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL}}(t);default:return"An unexpected has occurred. Please write us at "+p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL}},Rr=function(e,t,n,a,r,c,i){switch(e&&e.preventDefault(),r){case W.FEATURES.SHARED_LISTS:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REQUESTED,"Email Login requested on SharedList index page"),br({place:Dn.INDEX_PAGE});break;case W.FEATURES.RULES:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,p.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REQUESTED,"Email Login requested on rules index page"),br({place:Pn.INDEX_PAGE})}return ie()(t)||!Er()(t)?(mr("Please enter a valid email"),null):ie()(n)?(mr("Oops! You forgot to enter password"),null):(a&&a(!0),void function(e,t){Xn({auth_provider:kn,email:e});var n=Object(se.g)(ln);return Object(se.m)(n,e,t).then((function(e){var t,n;ra.log("Profile Logged In Successfully");var a=(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.uid)||null,r=(null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.email)||null;return Ua(aa.ACTIONS.EMAIL_LOGIN_PERFORMED,"email",r),Zn({auth_provider:kn,uid:a,email:r}),Promise.resolve({status:!0,msg:"Profile Logged In Successfully",result:e})})).catch((function(t){$n({email:e});var n=t.code,a=t.message;return Promise.reject({status:!1,msg:a,errorCode:n})}))}(t,n).then((function(e){var t=e.result;if(t.user.uid){switch(fr("".concat(An(),", ").concat(t.user.displayName.split(" ")[0])),r){case W.FEATURES.SHARED_LISTS:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_DONE,"Email Login done on SharedList index page");break;case W.FEATURES.RULES:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,p.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_DONE,"Email Login done on Rules index page")}c&&c()}else Tr("Sorry we couldn't log you in. Can you please retry?"),a&&a(!1),i&&i()})).catch((function(e){var t=e.errorCode;if(Tr(Ar(Sr,t)),r)switch(r){case W.FEATURES.SHARED_LISTS:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REJECTED,"Email Login rejected on SharedList index page");break;case W.FEATURES.RULES:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,p.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REJECTED,"Email Login rejected on Rules index page")}a&&a(!1),i&&i()})))},xr=function(e,t,n,a,r){switch(e&&e(!0),t){case W.FEATURES.SHARED_LISTS:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REQUESTED,"Apple Login requested on SharedList index page"),br({auth_provider:Fn,place:Dn.INDEX_PAGE});break;case W.FEATURES.RULES:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,p.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REQUESTED,"Apple Login requested on rules index page"),br({auth_provider:Fn,place:Pn.INDEX_PAGE})}(function(e){var t=Object(se.g)(ln),n=new se.b("apple.com");return Object(se.o)(t,n).then((function(t){var n,a,r=Object(se.f)(t).isNewUser,c=(null===t||void 0===t||null===(n=t.user)||void 0===n?void 0:n.uid)||null,i=(null===t||void 0===t||null===(a=t.user)||void 0===a?void 0:a.email)||null;r?(Pa(i),ta({auth_provider:Fn,uid:c,email:i}),In(c),_n(c,!0)):(Ua(aa.ACTIONS.APPLE_LOGIN_PERFORMED,"apple"),Zn({auth_provider:Fn,uid:c,email:i}));var s=ba(t.user),o=Object(sn.c)();return Object(sn.h)(Object(sn.e)(o,Ea(s.uid)),s),e&&e.call(null,!0),s})).catch((function(){$n({auth_provider:Fn})}))})().then((function(c){if(c&&c.uid){switch(fr("".concat(An(),", ").concat(c.displayName.split(" ")[0])),t){case W.FEATURES.SHARED_LISTS:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_DONE,"Apple Login done on SharedList index page");break;case W.FEATURES.RULES:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,p.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_DONE,"Apple Login done on Rules index page")}a===W.AUTH.ACTION_LABELS.SIGN_UP&&ke(r),n&&n()}else if(Tr("Sorry, the email or password you have entered isn't right. Can you please try again?"),e&&e(!1),t)switch(t){case W.FEATURES.SHARED_LISTS:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REJECTED,"Apple login rejected on SharedList index page");break;case W.FEATURES.RULES:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,p.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REJECTED,"Apple login rejected on Rules index page")}})).catch((function(){e&&e(!1)}))},Nr=function(e,t,n,a,r){if(e.preventDefault(),ie()(t))return mr("Please set a new password"),null;n(!0);var c=function(){var e=new URLSearchParams(window.location.search);return e.has("oobCode")?e.get("oobCode"):null}(),i=function(e,i){e?function(e,t,n,a,r){var c=function(e){e?(a(!1),t&&(r&&r(),fr("Password reset successful. Logging you in."),Rr(null,t,n))):(Tr("Please try again with a stronger password or request a new reset link."),a(!1))};oa(e,n).then((function(e){var t=e.status;e.msg,c(t)}),(function(e){var t=e.status;e.msg,c(t)})).catch((function(){c(!1)}))}(c,i,t,n,r):(Tr("This Link has been expired. Please create a new reset request."),n(!1),_e(a))};sa(c).then((function(e){var t=e.status,n=(e.msg,e.email);i(t,n)}),(function(e){var t=e.status;e.msg;i(t,null)})).catch((function(){i(!1,null)}))},Cr=function(){var e=Object(te.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",fa());case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(){return e.apply(this,arguments)}}(),gr=Jt.a.TextArea,_r=function(){var e=Object(re.g)(),t=Object(c.useContext)(Z),n=t.dispatch,a=t.state,r=nt(a),s=Object(c.useState)(!1),o=Object(u.a)(s,2),l=o[0],d=o[1],O=Object(c.useState)(""),j=Object(u.a)(O,2),E=j[0],b=j[1],p=Object(c.useState)(""),S=Object(u.a)(p,2),h=S[0],T=S[1],m=Object(c.useState)(""),f=Object(u.a)(m,2),A=f[0],R=f[1],x=Object(c.useState)(""),N=Object(u.a)(x,2),g=N[0],_=N[1],I=Object(c.useState)(!1),L=Object(u.a)(I,2),v=L[0],y=L[1],U=Object(c.useState)(!1),P=Object(u.a)(U,2),D=P[0],w=P[1],M=Et(r),k=r.details.profile.photoURL?r.details.profile.photoURL:"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y",G=r.details.profile.displayName?r.details.profile.displayName:"User";if("URLSearchParams"in window){var F=new URL(k),B=F.searchParams;B.set("s","180"),F.search=B.toString(),k=F.toString()}return Object(c.useEffect)((function(){r.details&&Aa.getValue(["customProfile",r.details.profile.uid]).then((function(e){if(e){var t=e.position,n=e.companyName;t&&b(an(t)),n&&T(n)}}))}),[r.details.profile.uid,r]),Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsxs)(Nt.a,{className:"primary-card",children:[Object(C.jsxs)(Oe.a,{className:"profile-container",children:[Object(C.jsxs)(oe.a,{className:"profile-container-left profile-container-child",xl:"8",children:[Object(C.jsx)(Or,{shadow:!0,hideBillingAddress:!0}),Object(C.jsx)(sr,{})]}),Object(C.jsx)(oe.a,{className:"profile-container-right profile-container-child mb-5 mb-xl-0",xl:"4",children:Object(C.jsxs)(je.a,{className:"profile-card profile-card-shadow",children:[Object(C.jsx)(Oe.a,{className:"justify-content-center",children:Object(C.jsx)(oe.a,{className:"order-lg-2",lg:"3",children:Object(C.jsx)("div",{className:"card-profile-image",children:Object(C.jsx)("a",{href:"https://gravatar.com",target:"_blank",rel:"noopener noreferrer",children:Object(C.jsx)("img",{alt:"...",className:"rounded-circle",src:k})})})})}),Object(C.jsx)(qt.a,{className:"profile-card-header border-0 pt-1 pt-md-1 pb-0 pb-md-1"}),Object(C.jsxs)(Ee.a,{className:"profile-card-body pt-0 pt-md-1",style:{fontSize:"14px"},children:[Object(C.jsx)(Oe.a,{children:Object(C.jsx)("div",{className:"col",children:Object(C.jsx)("div",{className:"card-profile-stats d-flex justify-content-center mt-md-5"})})}),Object(C.jsxs)("div",{className:"text-center",children:[Object(C.jsx)("h3",{children:G}),Object(C.jsxs)("div",{className:"h5 mt-4",children:[Object(C.jsx)("i",{className:"ni business_briefcase-24 mr-2"}),cn(E,(function(e,t){b(t),Aa.updateValueAsPromise(["customProfile",r.details.profile.uid],{position:e}).then((function(){dr(n)}))}))]}),Object(C.jsx)("div",{style:{margin:"1rem 0"},children:Object(C.jsxs)(Wt.a,{className:"input-group mb-4",children:[Object(C.jsx)(Qt.a,{addonType:"prepend",children:Object(C.jsx)(zt.a,{children:Object(C.jsx)("i",{className:"ni ni-building"})})}),Object(C.jsx)(Xt.a,{className:"form-control-alternative",type:"text",placeholder:"Company name",id:"companyName",value:h,onChange:function(e){d(!0),T(e.target.value)},style:{textTransform:"capitalize"}})]})}),Object(C.jsx)("div",{className:"my-4",children:Object(C.jsx)(It.a,{type:l?"primary":"secondary",onClick:function(){Aa.updateValueAsPromise(["customProfile",r.details.profile.uid],{companyName:h}).then((function(){Ve.info("Profile saved"),d(!1)}))},size:"small",disabled:!l,children:"Save profile"})}),Object(C.jsx)("hr",{className:"my-4"}),Object(C.jsxs)("div",{style:{textAlign:"left"},children:[Object(C.jsx)(Oe.a,{className:"my-2",children:Object(C.jsx)(oe.a,{children:Object(C.jsx)(It.a,{type:"secondary",size:"small",onClick:function(){Cr().then((function(){_e(e)}))},children:"Reset Password"})})}),Object(C.jsx)(Oe.a,{className:"my-2",children:Object(C.jsx)(oe.a,{children:Object(C.jsx)(It.a,{type:"secondary",size:"small",onClick:function(){return window.open(W.LINKS.GDPR.EXPORT_DATA,"_blank")},children:"Request Data Download"})})}),Object(C.jsx)(Oe.a,{className:"my-2",children:Object(C.jsx)(oe.a,{children:Object(C.jsx)(It.a,{type:"secondary",size:"small",onClick:function(){return window.open(W.LINKS.GDPR.DELETE_ACCOUNT,"_blank")},children:"Request Account Deletion"})})}),Object(C.jsx)(Oe.a,{className:"my-2",children:Object(C.jsx)(oe.a,{children:Object(C.jsx)(It.a,{type:"secondary",size:"small",onClick:function(){!function(e,t){t?window.location.href=me.ACCOUNT.REFRESH_SUBSCRIPTION.ABSOLUTE:e.push(me.ACCOUNT.REFRESH_SUBSCRIPTION.ABSOLUTE)}(e)},children:"Refresh Subscription"})})}),M?Object(C.jsx)(Oe.a,{className:"my-2",children:Object(C.jsx)(oe.a,{children:Object(C.jsx)(It.a,{type:"secondary",size:"small",onClick:function(){w(!0)},children:"Cancel Subscription"})})}):null]})]})]})]})})]}),Object(C.jsx)(Oe.a,{className:"profile-team",children:Object(C.jsx)(oe.a,{children:Object(C.jsx)(Ee.a,{className:"profile-team-body",children:Object(C.jsx)(Qa,{})})})})]}),Object(C.jsxs)(Zt.a,{title:"Request Cancellation ",visible:D,onOk:function(){if(M){y(!0);var e=r.details.isLoggedIn&&r.details.profile.email,t=Object(be.a)();Object(be.b)(t,"cancelSubscription")({userEmail:e,cancelFormText:A,alternateEmail:g}).then((function(e){e.data.success&&(Ve.success("Your request for cancellation has been sent. It will be processed within 1-2 business days."),w(!1))})).catch((function(e){Ve.error("Something Went Wrong!")})),y(!1)}},confirmLoading:v,onCancel:function(){w(!1),y(!1)},destroyOnClose:!0,okText:"Submit",cancelText:"Cancel",width:600,children:[Object(C.jsx)(Jt.a,{addonBefore:"Alternate Email",defaultValue:"(Optional)",value:g,onChange:function(e){return _(e.target.value)},style:{marginBottom:"1rem"}}),"We are sad to see you go. Please let us know the reason.",Object(C.jsx)(gr,{rows:5,value:A,onChange:function(e){return R(e.target.value)}})]})]})},Ir=function(){return Object(C.jsx)(Ht,{component:_r})},Lr=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ir,{})})},vr=n(10),yr=n(11),Ur=n(16),Pr=n(17),Dr=n(1008),wr=n(521),Mr=(Ia={},Object(O.a)(Ia,p.CONSTANTS.APP_MODES.EXTENSION,{appMode:p.CONSTANTS.APP_MODES.EXTENSION,fullName:xn(p.CONSTANTS.APP_MODES.EXTENSION),shortName:Nn(p.CONSTANTS.APP_MODES.EXTENSION),Icon:function(){return Object(C.jsx)(N.c,{size:"1.5em"})},iconBackgroundColor:"red",description:"Requestly browser extension available for Chrome & Firefox",actionLabel:"Add to Chrome",actionLink:W.LINKS.CHROME_EXTENSION}),Object(O.a)(Ia,p.CONSTANTS.APP_MODES.DESKTOP,{appMode:p.CONSTANTS.APP_MODES.DESKTOP,fullName:xn(p.CONSTANTS.APP_MODES.DESKTOP),shortName:Nn(p.CONSTANTS.APP_MODES.DESKTOP),Icon:function(){return Object(C.jsx)(N.i,{size:"1.5em"})},iconBackgroundColor:"green",description:"Run Requestly on top of your favourite apps \u2013 Spotify, Slack, Postman, VSCode",actionLabel:"Download for MacOS, Windows & Linux",actionLink:W.LINKS.REQUESTLY_DESKTOP_APP}),Object(O.a)(Ia,p.CONSTANTS.APP_MODES.WORDPRESS,{appMode:p.CONSTANTS.APP_MODES.WORDPRESS,fullName:xn(p.CONSTANTS.APP_MODES.WORDPRESS),shortName:Nn(p.CONSTANTS.APP_MODES.WORDPRESS),Icon:function(){return Object(C.jsx)(N.O,{size:"1.7em"})},iconBackgroundColor:"teal",description:"Use Requestly in Wordpress to create redirects and mocks",actionLabel:"COMING SOON"}),Object(O.a)(Ia,p.CONSTANTS.APP_MODES.CLOUDFLARE,{appMode:p.CONSTANTS.APP_MODES.CLOUDFLARE,fullName:xn(p.CONSTANTS.APP_MODES.CLOUDFLARE),shortName:Nn(p.CONSTANTS.APP_MODES.CLOUDFLARE),Icon:function(){return Object(C.jsx)(wr.a,{size:"1.7em"})},iconBackgroundColor:"orange",description:"Use Requestly in Cloudflare to modify requests even before it reaches your web server",actionLabel:"COMING SOON"}),Ia),kr=function(){var e=Object(c.useContext)(Z).state,t=st(e);return Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(de.a,{className:" mt--7 sm-margin-top-negative-3",fluid:!0,children:Object(C.jsx)(Oe.a,{children:Object(C.jsx)(oe.a,{children:Object(C.jsx)(je.a,{className:"shadow",children:Object(C.jsx)(Ee.a,{children:Object(C.jsxs)(le.a,{style:{background:"transparent"},children:[Object(C.jsx)(Oe.a,{className:"mb-4 ",children:Object(C.jsx)(oe.a,{className:"text-center",children:Object(C.jsx)("h2",{children:"Requestly is available as"})})}),Object(C.jsx)(Oe.a,{children:Object.keys(Mr).map((function(e){return Object(C.jsx)(oe.a,{md:"6 mb-6",children:Object(C.jsx)(je.a,{className:"card-stats mb-4 mb-lg-0 reduce-opacity-on-hover ".concat(Mr[e].actionLink?"cursor-pointer":"cursor-disabled"," "),onClick:function(){return Mr[e].actionLink?window.open(Mr[e].actionLink,"_blank"):null},children:Object(C.jsxs)(Ee.a,{children:[Object(C.jsxs)(Oe.a,{children:[Object(C.jsxs)("div",{className:"col",children:[Object(C.jsxs)(Dr.a,{className:"text-uppercase text-muted ",children:[xn(e),t===e?Object(C.jsx)("span",{className:"badge badge-pill badge-sm badge-success ml-2",children:"Current"}):null]}),Object(C.jsx)("span",{children:Mr[e].description})]}),Object(C.jsx)(oe.a,{className:"col-auto",children:Object(C.jsx)("div",{className:"icon icon-shape text-white rounded-circle shadow bg-gradient-".concat(Mr[e].iconBackgroundColor),style:{fontSize:"1.5em"},children:i.a.createElement(Mr[e].Icon)})})]}),Object(C.jsx)("p",{className:"mt-3  text-muted text-sm",children:e===t?Object(C.jsxs)("span",{className:"text-nowrap",children:["You are currently using Requestly"," ",xn(e)]}):Object(C.jsxs)("span",{className:"text-nowrap",children:[Mr[e].actionLabel,Mr[e].actionLink?Object(C.jsx)(N.o,{className:"ml-2 fix-icon-is-down"}):null]})})]})})},e)}))})]})})})})})})})},Gr=function(e){Object(Ur.a)(n,e);var t=Object(Pr.a)(n);function n(){return Object(vr.a)(this,n),t.apply(this,arguments)}return Object(yr.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(kr,{})})}}]),n}(i.a.Component),Fr=n.p+"static/media/google.eae9aa93.svg",Br=n.p+"static/media/apple.348e84b8.svg";function Vr(){var e={};return new URLSearchParams(window.location.search).forEach((function(t,n){e[n]=t})),e}var Yr=W.AUTH.ACTION_LABELS,Hr=function(e){var t=e.setAuthMode,n=e.authMode,a=e.src,r=e.callbacks,i=Object(re.g)(),s=r||{},o=s.onSignInSuccess,l=s.onRequestPasswordResetSuccess,d=Object(c.useContext)(Z).state,O=st(d),j=Object(c.useState)(!1),E=Object(u.a)(j,2),b=E[0],S=E[1],h=Object(c.useState)(""),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useState)(""),R=Object(u.a)(A,2),x=R[0],g=R[1],_=Object(c.useState)(""),I=Object(u.a)(_,2),L=I[0],v=I[1],y=Object(c.useState)(),U=Object(u.a)(y,2),P=U[0],D=U[1];Object(c.useEffect)((function(){var e=Vr();P||"string"==typeof P||(e.rcode?D(e.rcode):D(""))}),[P]);var w=function(){switch(n){default:case Yr.LOG_IN:return"or Sign in with";case Yr.SIGN_UP:return"or Sign up using"}};return Object(C.jsx)(je.a,{style:{maxWidth:"400px",margin:"0 auto"},className:"bg-secondary shadow border-0 auth-modal",children:Object(C.jsxs)(Ee.a,{className:"px-lg-5 py-lg-5 lg-padding-top-one",children:[Object(C.jsx)("div",{className:"auth-modal-title",children:Object(C.jsx)("small",{className:"text-dark",children:function(){switch(n){default:case Yr.LOG_IN:return"Sign in with work email";case Yr.SIGN_UP:return Object(C.jsxs)("div",{children:["Sign up with Work Email & get"," ",Object(C.jsx)("span",{className:"text-primary",children:"1\xa0month\xa0premium for free"})]});case Yr.REQUEST_RESET_PASSWORD:return"Enter the email address associated with your account. We will email you a link to reset your password.";case Yr.DO_RESET_PASSWORD:return"Enter the new password you want to create. This password will be used when you sign in next time."}}()})}),Object(C.jsxs)(lr.a,{role:"form",children:[n===Yr.SIGN_UP?Object(C.jsx)(or.a,{className:"mb-3",children:Object(C.jsxs)(Wt.a,{className:"input-group",children:[Object(C.jsx)("div",{className:"input-group-icon",children:Object(C.jsx)(N.K,{size:20})}),Object(C.jsx)(Xt.a,{required:!0,placeholder:"John Doe",type:"text",onChange:function(e){return f(e.target.value)},value:m})]})}):null,n===Yr.DO_RESET_PASSWORD?null:Object(C.jsx)(or.a,{className:"mb-3",children:Object(C.jsxs)(Wt.a,{className:"input-group",children:[Object(C.jsx)("div",{className:"input-group-icon",children:Object(C.jsx)(N.l,{size:20})}),Object(C.jsx)(Xt.a,{required:!0,placeholder:"example@microsoft.com",type:"email",onChange:function(e){return g(e.target.value)},value:x})]})}),function(){switch(n){case Yr.LOG_IN:case Yr.SIGN_UP:case Yr.DO_RESET_PASSWORD:return Object(C.jsx)(or.a,{children:Object(C.jsxs)(Wt.a,{className:"input-group",children:[Object(C.jsx)("div",{className:"input-group-icon",children:Object(C.jsx)(N.t,{size:20})}),Object(C.jsx)(Xt.a,{required:!0,placeholder:"Password",type:"password",onChange:function(e){return v(e.target.value)},value:L})]})});default:return null}}(),P?Object(C.jsxs)("div",{className:"text-center text-muted mb-4 text-green",children:[Object(C.jsx)("small",{children:"Yay! Referral Code applied successfully!"})," ",Object(C.jsx)("br",{}),Object(C.jsxs)("small",{children:[Object(C.jsx)("b",{children:"Sign up with work email"})," to get Free Requestly Premium"]})]}):null,Object(C.jsx)("div",{className:"text-center",children:function(){if(b)return Object(C.jsx)(ue.a,{className:"auth-modal-btn primary",color:"primary",type:"button",children:Object(C.jsx)(N.E,{className:"icon-spin"})});switch(n){default:case Yr.LOG_IN:return Object(C.jsx)(ue.a,{id:"auth-form-submit-btn",className:"my-4 auth-modal-btn primary",color:"primary",type:"submit",onClick:function(e){return Rr(e,x,L,S,a,o,(function(){return v("")}))},children:"Sign in"});case Yr.SIGN_UP:return Object(C.jsx)(ue.a,{id:"auth-form-submit-btn",className:"auth-modal-btn primary",color:"primary",type:"submit",onClick:function(e){return function(e,t,n,a,r,c,i){e.preventDefault(),c(!0),ca(t,n,a,r).then((function(e){var t=e.status,r=e.errorCode;t?(fr("Check your email for link to verify email"),Rr(null,n,a),ke(i)):(Tr(Ar(hr,r)),c(!1))})).catch((function(e){var t=e.errorCode;Tr(Ar(hr,t)),c(!1)}))}(e,m,x,L,P,S,i)},children:"Sign up"});case Yr.REQUEST_RESET_PASSWORD:return Object(C.jsx)(ue.a,{id:"auth-form-submit-btn",className:"auth-modal-btn primary",color:"primary",type:"submit",onClick:function(e){return function(e,t,n,a){if(e.preventDefault(),ie()(t)||!Er()(t))return mr("Please enter a valid email"),null;n(!0),ia(t).then((function(e){var t=e.status,r=e.msg;t?(fr(r),n(!1),a&&a()):(Tr(r),n(!1))})).catch((function(e){var t=e.errorCode;Tr(Ar(pr,t)),n(!1)}))}(e,x,S,l)},children:"Send reset link"});case Yr.DO_RESET_PASSWORD:return Object(C.jsx)(ue.a,{id:"auth-form-submit-btn",className:"my-4",color:"primary",type:"submit",onClick:function(e){return Nr(e,L,S,i,(function(){return t(Yr.LOG_IN)}))},children:"Set new password"})}}()}),function(){switch(n){case Yr.LOG_IN:case Yr.SIGN_UP:return Object(C.jsxs)(qt.a,{className:"auth-modal-social-auth",children:[Object(C.jsx)("div",{className:"auth-modal-social-auth-title",children:Object(C.jsx)("small",{className:"text-dark",children:w()})}),Object(C.jsxs)("div",{className:"text-center",style:{display:"flex",flexDirection:"column",width:"60%",margin:"0 auto"},children:[Object(C.jsxs)(ue.a,{className:"btn-neutral w-75 my-2 btn-icon auth-modal-btn",color:"default",onClick:function(){return function(e,t,n,a,r,c){switch(e&&e(!0),t){case W.FEATURES.SHARED_LISTS:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REQUESTED,"Google Login requested on SharedList index page"),br({auth_provider:Gn,place:Dn.INDEX_PAGE});break;case W.FEATURES.RULES:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,p.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REQUESTED,"Google Login requested on rules index page"),br({auth_provider:Gn,place:Pn.INDEX_PAGE})}(a&&a===p.CONSTANTS.APP_MODES.DESKTOP?ua:la)().then((function(a){if(a&&a.uid){switch(fr("".concat(An(),", ").concat(a.displayName.split(" ")[0])),t){case W.FEATURES.SHARED_LISTS:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_DONE,"Google Login done on SharedList index page");break;case W.FEATURES.RULES:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,p.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_DONE,"Google Login done on Rules index page")}r===W.AUTH.ACTION_LABELS.SIGN_UP&&ke(c),n&&n()}else if(Tr("Sorry, the email or password you have entered isn't right. Can you please try again?"),e&&e(!1),t)switch(t){case W.FEATURES.SHARED_LISTS:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REJECTED,"Google Login rejected on SharedList index page");break;case W.FEATURES.RULES:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,p.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REJECTED,"Google Login rejected on Rules index page")}})).catch((function(){e&&e(!1)}))}(S,a,o,O,n,i)},children:[Object(C.jsx)("span",{className:"btn-inner--icon",children:Object(C.jsx)("img",{style:{width:"1.4rem",margin:"0 .4rem"},alt:"Login with Google",src:Fr})}),Object(C.jsx)("span",{className:"btn-inner--text",children:"Google"})]}),O&&O===p.CONSTANTS.APP_MODES.EXTENSION?Object(C.jsxs)(ue.a,{className:"btn-neutral w-75 my-2 btn-icon auth-modal-btn",color:"default",onClick:function(){return xr(S,a,o,n,i)},children:[Object(C.jsx)("span",{className:"btn-inner--icon",children:Object(C.jsx)("img",{style:{width:"1.4rem",margin:"0 .4rem"},alt:"Login with Apple",src:Br})}),Object(C.jsx)("span",{className:"btn-inner--text",children:"Apple"})]}):null]})]});default:return null}}(),Object(C.jsxs)(Oe.a,{className:"auth-modal-footer",children:[function(){switch(n){default:case Yr.LOG_IN:return Object(C.jsx)(oe.a,{children:Object(C.jsx)("span",{className:"float-left text-muted cursor-pointer",onClick:function(){return t(Yr.SIGN_UP)},children:"Sign up"})});case Yr.SIGN_UP:case Yr.REQUEST_RESET_PASSWORD:case Yr.DO_RESET_PASSWORD:return Object(C.jsx)(oe.a,{children:Object(C.jsx)("span",{className:"float-left text-muted cursor-pointer",onClick:function(){return t(Yr.LOG_IN)},children:"Sign in"})})}}(),function(){switch(n){default:case Yr.LOG_IN:case Yr.SIGN_UP:return Object(C.jsx)(oe.a,{children:Object(C.jsx)("span",{className:"float-right text-muted cursor-pointer",onClick:function(){return t(Yr.REQUEST_RESET_PASSWORD)},children:"Reset password"})});case Yr.DO_RESET_PASSWORD:return Object(C.jsx)(oe.a,{children:Object(C.jsx)("span",{className:"float-right text-muted cursor-pointer",onClick:function(){return t(Yr.REQUEST_RESET_PASSWORD)},children:"Resend"})});case Yr.REQUEST_RESET_PASSWORD:return Object(C.jsx)(oe.a,{children:Object(C.jsx)("span",{className:"float-right text-muted cursor-pointer",onClick:function(){return t(Yr.SIGN_UP)},children:"Sign up"})})}}()]})]})]})})},Kr=W.AUTH.ACTION_LABELS,qr=function(e){var t=e.authMode,n=Object(re.g)(),a=Object(c.useContext)(Z).state,r=nt(a),s=Object(c.useState)(t||Kr.LOG_IN),o=Object(u.a)(s,2),l=o[0],d=o[1],O=Object(c.useCallback)((function(){var e=new URLSearchParams(window.location.search);e.has("redirectUrl")?n.push(e.get("redirectUrl")):Ae(n)}),[n]);return Object(c.useEffect)((function(){!r.loggedIn||l!==Kr.LOG_IN&&l!==Kr.SIGN_UP||O()}),[r.loggedIn,O,l]),Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:6,offset:9,className:"auth-page-shadow",children:Object(C.jsx)(Hr,{authMode:l,setAuthMode:d})})})})},Wr=function(e){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(qr,{authMode:e.authMode})})},Qr=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(u.a)(r,2),o=s[0],l=s[1],d=function(){var e=Object(te.a)(ae.a.mark((function e(t){var n,r,c,i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams(window.location.search),e.next=3,t.getIdToken();case 3:r=e.sent,c=n.get("ot-auth-code"),i=Object(be.a)(),Object(be.b)(i,"createAuthToken")({oneTimeCode:c,idToken:r}).then((function(e){a(!0)})).catch((function(e){console.error(e.message),l(!0)}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){return Object(C.jsxs)("h4",{className:"display-6",children:[Object(C.jsx)(N.b,{className:"mr-2"}),"You're now logged into the desktop app. This window can now be safely closed."]})},j=function(){return Object(C.jsxs)("h4",{className:"display-6",children:[Object(C.jsx)(N.n,{className:"mr-2"}),"An unexpected error has occurred. Please close this window and try logging in again"]})};return Object(c.useEffect)((function(){var e=Object(se.g)(ln);Object(se.h)(e).then(function(){var t=Object(te.a)(ae.a.mark((function t(n){var a;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n||!n.user){t.next=5;break}return t.next=3,d(n.user);case 3:t.next=12;break;case 5:if(!e.currentUser){t.next=10;break}return t.next=8,d(e.currentUser);case 8:t.next=12;break;case 10:a=new se.a,Object(se.p)(e,a);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}),[]),Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(de.a,{className:" mt--5",fluid:!0,children:Object(C.jsx)(Oe.a,{children:Object(C.jsx)("div",{className:" col",children:Object(C.jsx)(je.a,{className:" shadow",children:Object(C.jsx)(Ee.a,{children:Object(C.jsx)(Oe.a,{children:Object(C.jsx)(oe.a,{lg:"12",md:"12",className:"text-center",children:Object(C.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:o?j():n?O():Object(C.jsxs)("h4",{className:"display-6",children:[Object(C.jsx)(N.E,{className:"icon-spin mr-2"}),"Authenticating"]})})})})})})})})})})},zr=function(){return Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(Qr,{})})},Xr=n(1009),Jr=n(343),Zr=n(1024),$r=n(177),ec=n(332),tc=function(e){var t=e.mode,n=e.teamId,a=e.currency,r=e.duration,i=e.isPlanVerificationPassed,s=e.stripe,o=e.planType,l=Object(c.useRef)(!0),d=Object(c.useContext)(Z).state,O=nt(d),j=Object(c.useState)(!1),E=Object(u.a)(j,2),b=E[0],p=E[1],S=Object(c.useState)(!1),h=Object(u.a)(S,2),T=h[0],m=h[1],f=function(){var e=Object(te.a)(ae.a.mark((function e(){var c,u,d;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.current){e.next=2;break}return e.abrupt("return",null);case 2:if(b){e.next=4;break}return e.abrupt("return",null);case 4:if(i){e.next=6;break}return e.abrupt("return",null);case 6:if(!T){e.next=8;break}return e.abrupt("return",null);case 8:m(!0),c=ar(o,r),e.t0=t,e.next="individual"===e.t0?13:"team"===e.t0?15:17;break;case 13:return u="createIndividualSubscriptionUsingStripeCheckout",e.abrupt("break",19);case 15:return u="createTeamSubscriptionUsingStripeCheckout",e.abrupt("break",19);case 17:return Me(),e.abrupt("return",null);case 19:d=Object(be.a)(),Object(be.b)(d,u)({rqPlanId:c,currency:a,teamId:n,success_url:"http://"+window.location.host+W.PATHS.PAYMENT_SUCCESS.ABSOLUTE+"?ref=stripe&paymentId=5357551a-e2d7",cancel_url:"http://"+window.location.host+W.PATHS.PAYMENT_FAIL.ABSOLUTE+"?ref=stripe&paymentId=5357551a-e2d7"}).then((function(e){if(!l.current)return null;var t=e.data;if(!t.success)throw Error("couldn't create checkoutSessionId");s.redirectToCheckout({sessionId:t.payload.checkoutSessionId})})).catch((function(e){Me()}));case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=Object(c.useCallback)(f,[b,i,T,o,r,t,a,n,s]),R=Object(c.useCallback)((function(){var e=Object(be.a)();Object(be.b)(e,"getTeamInfo")({teamId:n}).then((function(e){if(!l.current)return null;var t=e.data;if(!t.success)throw new Error("You might already have a subscription");if("active"===t.data.subscriptionStatus)throw new Error("You are already premium");p(!0)})).catch((function(e){if(!l.current)return null;e&&(p(!1),Ve.error("You might already have a subscription"),De({mode:"team",planType:"enterprise",teamId:n}))}))}),[n]),x=Object(c.useCallback)((function(){if(O&&O.details&&O.details.profile.email){var e=Object(be.a)();Object(be.b)(e,"fetchIndividualUserSubscriptionDetails")({}).then((function(e){if(!l.current)return null;var t=e.data.data;!0===e.data.success&&"active"===t.status?(p(!1),De({mode:"individual",planType:"gold"})):p(!0)})).catch((function(e){l.current||p(!0)}))}}),[O]);return Object(c.useEffect)((function(){return i&&("team"===t?R():"individual"===t&&x(),t&&a&&r&&o&&i&&b&&A()),function(){}}),[R,x,t,i,a,r,A,b,o]),Object(C.jsx)(C.Fragment,{})},nc=ut,ac=nr,rc=function(e){switch(parseInt(e)){case 30:return"monthly";case 90:return"quarterly";case 180:return"half-yearly";case 365:return"annual";default:return!1}},cc=function(){var e=Object(re.g)(),t=Object(c.useRef)(!0),n=Object($r.useStripe)(),a=new URLSearchParams(window.location.search),r=a.get("m"),i=a.get("t"),s=a.get("p"),o=a.get("d"),l=Object(c.useState)("US"),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useState)("USD"),b=Object(u.a)(E,2),p=b[0],S=b[1],h=Object(c.useState)(!1),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useState)(!1),R=Object(u.a)(A,2),x=R[0],N=R[1],g=Object(C.jsx)(Wa.a,{style:{fontSize:24},spin:!0}),_=nc.find((function(e){return e.id===s})),I=Object(c.useCallback)((function(t){Ve.error(t||"Invalid URL"),Ge(e)}),[e]),L=Object(c.useCallback)((function(e){var t=ac(e);if(!t)return I();S(t);var n=rc(o);if(!n)return I();f(n);var a=_[n];if(!a)return I();var r=a.price;return r&&r[t]?void N(!0):I()}),[o,_,I]),v=Object(c.useCallback)((function(){fetch("https://api.country.is/").then((function(e){if(!t.current)return null;200===e.status&&e.json().then((function(e){e.country&&j(e.country),L(e.country)})).catch((function(e){if(!t.current)return null;console.log(e),L(O)}))})).catch((function(e){if(!t.current)return null;console.log(e),L(O)}))}),[O,L]);return Object(c.useEffect)((function(){if(!s||!_||!o||"individual"!==r&&"team"!==r||"team"===r&&"string"!==typeof i){if(!t.current)return;I()}else v();return function(){t.current=!1}}),[v,o,r,_,s,I,i]),Object(C.jsx)(Ct.a,{children:Object(C.jsxs)(gt.a,{span:24,children:[Object(C.jsx)(Ct.a,{className:"mb-8 mt-8",children:Object(C.jsx)(gt.a,{span:24,align:"center",children:Object(C.jsx)(qa.a,{tip:"Verifying your details. This should not take more than a minute or two.",indicator:g})})}),Object(C.jsx)(Ct.a,{className:"mb-2",children:Object(C.jsxs)(gt.a,{span:24,align:"center",children:[Object(C.jsxs)("h1",{children:["Wall of Love"," ",Object(C.jsx)("span",{style:{color:"red"},children:Object(C.jsx)(Zr.a,{})})]}),Object(C.jsx)("h4",{children:"We are proud of 100,000+ happy users. Hear what they say about us."})]})}),Object(C.jsxs)(Ct.a,{gutter:"4",children:[Object(C.jsx)(gt.a,{span:8,children:Object(C.jsx)(Xr.a,{author:"Lea Verou, W3C member & Author CSS Secrets",avatar:Object(C.jsx)(Jr.a,{src:"/assets/img/users/Lea-Verou.jpg",alt:"Lea Verou"}),content:Object(C.jsx)("p",{children:"A while ago I posted this for changing resource URLs for local debugging. Since then I've switched to using @requestly_ext instead for Chrome: easy on/off toggling and I can use it to debug with the local version of my libraries on remote websites too!"})})}),Object(C.jsx)(gt.a,{span:8,children:Object(C.jsx)(Xr.a,{author:"Kos Breton, Director (Management) at Coinbase",avatar:Object(C.jsx)(Jr.a,{src:"/assets/img/users/Kos-Breton.jpeg",alt:"Kos Breton"}),content:Object(C.jsx)("p",{children:"Thank you for making this great addon. I just checked out Requestly and indeed it is very easy to set up. It helps me customize my browsing experience entirely. Keep up the great work!"})})}),Object(C.jsx)(gt.a,{span:8,children:Object(C.jsx)(Xr.a,{author:"Mukul Gupta, Senior Software Engineer at Adobe",avatar:Object(C.jsx)(Jr.a,{src:"/assets/img/users/Mukul-Gupta.jpg",alt:"Mukul Gupta"}),content:Object(C.jsx)("p",{children:"I'd rate it as one of the best extensions around to boost developer productivity. Even if you're not a developer but need to navigate through loads of seemingly similar web pages, it is highly recommended with a very small learning curve."})})})]}),Object(C.jsx)("section",{className:"section section-sm ",style:{display:"none"},children:Object(C.jsx)(tc,{mode:r,teamId:i,currency:p,duration:m,isPlanVerificationPassed:x,stripe:n,planType:s})})]})})},ic=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){n||a(Object(ec.a)(p.CONFIG.stripeConfig.publishableKey))}),[n]),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:!1!==n?Object(C.jsx)($r.Elements,{stripe:n,children:Object(C.jsx)(cc,{})}):null})})},sc=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ht,{component:ic})})},oc=function(e){var t=e.skeletonType,n=void 0===t?"list":t;return Object(C.jsx)("div",{className:"spinner-card",style:{padding:24},children:Object(C.jsx)(pe.a,{type:n})})},lc=W.PATHS,uc=function(e){var t=e.delay,n=e.path,a=e.message;n=n||lc.RULES.RELATIVE;var r=Object(c.useState)(t),i=Object(u.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(!1),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useState)(null),b=Object(u.a)(E,2),p=b[0],S=b[1];return Object(c.useEffect)((function(){s===t&&S(setInterval((function(){return o((function(e){return e-1}))}),1e3)),s<=0&&!O&&(p&&clearInterval(p),j(!0))}),[s,O,t,p]),O?Object(C.jsx)(re.a,{push:!0,to:n}):Object(C.jsxs)("h5",{className:"title is-6",children:[a||"Redirecting you to ".concat(n)," in ",Object(C.jsx)("span",{children:s})]})},dc=W.PATHS,Oc=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){var e=Vr(),t=window.location.search;if(e.mode)switch(e.mode){case"resetPassword":a(dc.AUTH.RESET_PASSWORD.RELATIVE+t);break;case"verifyEmail":a(dc.AUTH.VERIFY_EMAIL.RELATIVE+t);break;case"signIn":a(dc.AUTH.EMAIL_LINK_SIGNIN.RELATIVE+t);break;default:a(dc.RULES.RELATIVE)}else a(dc.RULES.RELATIVE)}),[n]),n?Object(C.jsx)(uc,{delay:0,path:n}):Object(C.jsx)(oc,{customLoadingMessage:"Please Wait ... "})},jc=function(e){Object(Ur.a)(n,e);var t=Object(Pr.a)(n);function n(){return Object(vr.a)(this,n),t.apply(this,arguments)}return Object(yr.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Oc,{})})}}]),n}(i.a.Component),Ec=n(65),bc=n(1017),pc=n(151),Sc=n.n(pc),hc=function(e){var t=e.isOpen,n=e.toggle,a=e.featureName,r=void 0===a?"rules":a,i=e.featureLimit,s=void 0===i?10:i,o=e.userPlanName,l=void 0===o?"Free":o,d=e.mode,O=void 0===d?W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT:d,j=Object(re.g)(),E=pt(l),b=bn(r),S=Object(c.useState)(!1),h=Object(u.a)(S,1)[0],T=Object(c.useState)(""),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(""),x=Object(u.a)(R,2),N=x[0],g=x[1];return Object(C.jsxs)(Zt.a,{className:"modal-dialog-centered modal-danger",contentClassName:"bg-gradient-danger bg-gradient-blue",visible:t,onCancel:function(){return n()},footer:null,title:"It's time to upgrade",children:[Object(C.jsxs)("div",{className:"modal-body",children:[Object(C.jsxs)("div",{className:"py-3 text-center",children:[Object(C.jsx)("h4",{className:"heading mt-4",children:O===W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT?r===W.FEATURES.ACTIVE_RULES?"Upgrade now to activate more rules":r===W.FEATURES.RESPONSE_BODY_CHARACTER_LIMIT?"Upgrade now to increase ".concat(b," limit!"):"Upgrade now to create more ".concat(b):"Upgrade now to enable ".concat(b)}),Object(C.jsxs)("p",{children:[O===W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT?Object(C.jsxs)("span",{children:["It seems like you have reached your ",b," limit."," ",Object(C.jsxs)("strong",{children:[E?l:"Free"," "]})," ","accounts are limited to ",s," ",b,"."," "]}):Object(C.jsxs)("span",{children:[Object(C.jsx)("span",{style:{textTransform:"capitalize"},children:b})," ","is a premium feature."]})," ","Upgrade to one of our premium plans to make sure you can access all of the Requestly features whenever you need it."]})]}),function(){var e=new Date("2021-07-30");return(new Date).getTime()<=e.getTime()}()?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("h4",{className:"heading text-center",children:"A sweet surprise for you"}),Object(C.jsxs)("div",{className:"d-flex px-3 justify-content-between",children:[Object(C.jsx)("p",{className:"text-white",children:"50% OFF for first 3 months on Monthly Plan"}),Object(C.jsxs)("h3",{children:[Object(C.jsx)(bc.a,{delay:0,trigger:"hover focus",target:"monthlyCoupon",children:f?"Copied":"Copy To Clipboard"}),Object(C.jsx)(pc.CopyToClipboard,{text:f,onCopy:function(){g(""),A("RQ7Monthly"),navigator.clipboard.writeText("RQ7Monthly").then((function(){va(p.CONSTANTS.GA_EVENTS.CATEGORIES.REQUEST_UPGRADE,p.CONSTANTS.GA_EVENTS.ACTIONS.LIMIT_REACHED,"Monthly coupon code copied")}),(function(e){console.error("Could not copy text: ",e)}))},children:Object(C.jsx)(Fa.a,{style:{textTransform:"none"},id:"monthlyCoupon",className:"text-dark cursor-pointer",color:"light",children:"RQ7Monthly"})})]})]}),Object(C.jsxs)("div",{className:"d-flex px-3 justify-content-between",children:[Object(C.jsx)("p",{className:"text-white",children:"Flat 25% OFF on Annual Plan"}),Object(C.jsxs)("h3",{children:[Object(C.jsx)(pc.CopyToClipboard,{text:N,onCopy:function(){A(""),g("RQ7Annual"),navigator.clipboard.writeText("RQ7Annual").then((function(){va(p.CONSTANTS.GA_EVENTS.CATEGORIES.REQUEST_UPGRADE,p.CONSTANTS.GA_EVENTS.ACTIONS.LIMIT_REACHED,"Annual coupon code copied")}),(function(e){console.error("Could not copy text: ",e)}))},children:Object(C.jsx)(Fa.a,{style:{textTransform:"none"},id:"annualCoupon",className:"text-dark cursor-pointer",color:"light",children:"RQ7Annual"})}),Object(C.jsx)(bc.a,{delay:0,trigger:"hover focus",target:"annualCoupon",children:N?"Copied":"Copy To Clipboard"})]})]})]}):null]}),Object(C.jsxs)("div",{className:"modal-footer",style:{textAlign:"center"},children:[h?Object(C.jsxs)(It.a,{className:"text-white",color:"link","data-dismiss":"modal",type:"button",onClick:function(){return function(e){e.push(me.UNLOCK_PREMIUM.ABSOLUTE)}(j)},children:["Unlock Premium ",Object(C.jsx)(Fa.a,{color:"secondary",children:"New"})]}):null,Object(C.jsx)(It.a,{onClick:function(){Ie(j),n()},className:"btn-white ml-auto",type:"primary",children:"Get Premium"})]})]})},Tc=n(118);function mc(e){return p.CONSTANTS.MOCK_URL+e}function fc(e){var t=Object(se.g)(ln),n=Object(sn.c)();return Object(sn.f)(Object(sn.e)(n,"/users/"+t.currentUser.uid+"/files/"+e))}function Ac(e,t,n){return t.size=e.metadata.size,t.contentType=e.metadata.contentType,t.webContentLink=n,t.createdTime=e.metadata.timeCreated,t.filePath=e.metadata.fullPath,t.modifiedTime=e.metadata.updated,t}function Rc(e,t){return function(e,t){var n=Object(be.a)(),a=Object(be.b)(n,"addMock");if(!["application/json","application/javascript","text/javascript","text/html","text/css","text/plain","image/jpeg","image/png","image/svg+xml"].reduce((function(e,n){return e||n===t.contentType}),!1))return new Promise((function(e,t){e({success:!1,msg:"Unsupported File Type"})}));var r=Object(Tc.c)(ln),c=Object(se.g)(ln);return Object(Tc.e)(Object(Tc.d)(r,"/users/"+c.currentUser.uid+"/files/"+Date.now().toString()+t.name),e).then((function(e){return Object(Tc.b)(e.ref).then((function(n){return(r=n,new Promise((function(e,t){e(r)}))).then((function(r){t.shortUrl=r;var c=Ac(e,t,n);return a(c).then((function(e){return{success:!0,data:{id:e.data,shortUrl:r}}}))}));var r}))}))}(e,t)}var xc=n(1025),Nc=function(e){var t=e.updateCollection,n=e.currentFilesCount,a=e.buttonType,r=void 0===a?"primary":a,s=Object(c.useContext)(Z).state,o=nt(s),l=Object(c.useState)(!1),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useState)(!1),b=Object(u.a)(E,2),p=b[0],S=b[1],h=Object(c.useState)(0),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useState)("Free"),R=Object(u.a)(A,2),x=R[0],N=R[1],g=Object(c.useState)(!1),_=Object(u.a)(g,2),I=_[0],L=_[1];return Object(C.jsxs)(i.a.Fragment,{children:[p?Object(C.jsx)(It.a,{loading:!0,type:r,children:"Uploading..."}):O?Object(C.jsx)(Jt.a,{type:"file",onChange:function(e){S(!0),function(e){var t={},n=e.target.files[0];return n.size>1e7?Ve.warn("File Uploaded Limit Exceeded. Please keep it <10 mb"):(t.name=n.name,t.description="",t.contentType=n.type,Rc(n,t).then((function(e){e.success?Ve.info("File Uploaded Successfully"):Ve.error("File Type not supported")})))}(e).then((function(){t&&t(),j(!1),S(!1)}))}}):Object(C.jsx)(It.a,{type:r,onClick:function(e){var t=ft(o),a=Rt(W.FEATURES.FILES,t);n>=a?(f(a),N(t),L(!0)):j(!0)},icon:Object(C.jsx)(xc.a,{}),children:"Upload File"}),I?Object(C.jsx)(hc,{isOpen:I,toggle:function(){L(!I)},featureName:W.FEATURES.FILES,featureLimit:m,userPlanName:x}):null]})},Cc=n(1022),gc=n(196),_c=n(55),Ic=n.n(_c),Lc=tn.a.Link,vc=tn.a.Text,yc=Jt.a.Search,Uc=function(e){var t=e.filesList,n=void 0===t?{}:t,a=e.updateCollection,r=e.mode,i=e.callback,s=Object(re.g)(),o=[],l=Object(c.useState)(o),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useState)(!1),b=Object(u.a)(E,2),S=b[0],h=b[1],T=Object(c.useState)(!1),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(""),x=Object(u.a)(R,2),N=x[0],g=x[1],_=function(e,t){if(A(!0),e.mockID){var n=Object(be.a)();Object(be.b)(n,"deleteMock")(e.mockID).then((function(n){A(!0),n.data.success?(Ve.info("Mock deleted"),e.isMock||function(e){var t=Object(Tc.c)(ln);Object(Tc.a)(Object(Tc.d)(t,"/"+e)).catch((function(e){if("storage/object-not-found"===e.code)return new Error("File not found")}))}(e.filePath),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.LIBRARY,p.CONSTANTS.GA_EVENTS.ACTIONS.DELETED,"Mock Deleted"),Da("Mock Deleted"),Un(Wn.DELETED,{}),A(!1),t&&t()):Ve.error("Mock cannot be deleted. Try again.")}))}else(function(e){var t=Object(Tc.c)(ln);return Object(Tc.a)(Object(Tc.d)(t,"/"+e.filePath)).then((function(){return fc(e.id)}),(function(t){if("storage/object-not-found"===t.code)return fc(e.id)}))})(e).then((function(){Ve.info("File deleted"),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.LIBRARY,p.CONSTANTS.GA_EVENTS.ACTIONS.DELETED,"File Deleted"),Da("File Deleted"),Un(Qn.DELETED,{}),A(!1),t&&t()}))},I=[{title:"Name",dataIndex:"name",textWrap:"word-break",ellipsis:!0,render:function(e,t){return Object(C.jsx)(Lc,{onClick:function(e){return Ce(s,t.id)},children:e})}},{title:"Size",dataIndex:"size",width:"10%",render:function(e,t){return isNaN(parseInt(t.size))?null:parseInt(t.size)/1e3+" kB"}},{title:"Last Modified",align:"center",valueType:"date",render:function(e,t){var n=t.modifiedTime?t.modifiedTime:t.creationDate?t.creationDate:t.modificationDate;return n?Ic()(n).format("LLL"):"-"}},{title:"Actions",align:"right",width:"8%",render:function(e,t){return r===W.FILES_TABLE_CONSTANTS.MODES.FILE_PICKER?Object(C.jsx)(It.a,{size:"small",type:"secondary",onClick:function(){return i(t.shortUrl)},children:"Insert"}):Object(C.jsx)(gc.a,{children:function(e){var n=e.isHovering;return Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(vc,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(C.jsx)(Ec.a,{title:"Edit",children:Object(C.jsx)(Ba.a,{onClick:function(e){return Ce(s,t.id||t.mockID)}})})}),Object(C.jsx)(vc,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:f?Object(C.jsx)(Wa.a,{}):Object(C.jsx)(Ec.a,{title:"Delete File",children:Object(C.jsx)(Cc.a,{onClick:function(){return _(t,a)}})})})]})}})}}];return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ya.a,{rowKey:"id",headerTitle:Object(C.jsxs)(C.Fragment,{children:["Manage Mocks"," ",Object(C.jsx)(yc,{placeholder:"Enter Mock Name",onChange:function(e){j(o),h(!1)},onSearch:function(e){!function(e){var t=0;if(""!==e){for(var n=0;n<O.length;n++)if(O[n].name.toLowerCase().includes(e.toLowerCase())){j([O[n]]),t=1,h(!0);break}0===t&&Be.b.error("No Mock found with given name")}}(e)},style:{width:200,marginLeft:"10px"}})]}),toolBarRender:function(){return[Object(C.jsx)(Nc,{updateCollection:a,currentFilesCount:Object.keys(n).length,buttonType:"secondary"}),Object(C.jsx)(It.a,{type:"primary",onClick:function(){return ge(s)},icon:Object(C.jsx)(Va.a,{}),children:"Create New Mock"})]},options:!1,pagination:!1,search:!1,dateFormatter:!1,columns:(r!==W.FILES_TABLE_CONSTANTS.MODES.FILE_PICKER&&I.splice(3,0,{title:"Public URL",align:"center",width:"30%",textWrap:"word-break",ellipsis:!0,className:"fit-text-content",render:function(e,t){return Object(C.jsx)("span",{style:{cursor:"pointer"},children:Object(C.jsx)(Sc.a,{text:t.shortUrl||mc(t.mockID),onCopy:function(){var e;g((e=t).shortUrl||mc(e.mockID))},children:Object(C.jsx)(Ec.a,{placement:"topLeft",title:N===(t.shortUrl||mc(t.mockID))?"Copied":"Click to Copy",children:t.shortUrl||mc(t.mockID)})})})}}),I),dataSource:S?O:(o=Object.values(n)).map((function(e){return e.id||(e.id=e.mockID),e}))})})},Pc=function(e){var t=e.filesList,n=void 0===t?{}:t,a=e.updateCollection;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Nt.a,{className:"primary-card",title:null,children:Object(C.jsx)(Uc,{filesList:n,updateCollection:a})})})},Dc=function(e){var t=e.updateCollection,n=Object(re.g)();return Object(C.jsx)(Nt.a,{className:"primary-card",children:Object(C.jsx)(Ct.a,{style:{textAlign:"center"},align:"center",children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(C.jsx)("h1",{className:"display-3",children:"Generate API mocks in seconds!"}),Object(C.jsxs)("p",{className:"lead",children:["Create API mocks instantly, without remote deployment",Object(C.jsx)("br",{}),"Upload or Paste your HTML/JS/CSS/JSON response and generate a publicly accessible URL.",Object(C.jsx)(It.a,{type:"link",color:"secondary",onClick:function(){return window.open(W.LINKS.REQUESTLY_DOCS_FILES_SERVICE,"_blank")},children:"Read Docs"})]}),Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(It.a,{className:"btn-icon btn-3",type:"primary",onClick:function(){return ge(n)},icon:Object(C.jsx)(Ba.a,{}),children:"New Mock Response"}),Object(C.jsx)(Nc,{updateCollection:t,currentFilesCount:0,buttonType:"secondary"})]})]})})})})},wc=function(e){var t=function(e){return e?[p.CONSTANTS.FIREBASE_NODES.USERS,e]:null}(e);return t&&t.push(p.CONSTANTS.FIREBASE_NODES.SHARED_LISTS),t},Mc=function(e){return[p.CONSTANTS.FIREBASE_NODES.PUBLIC,p.CONSTANTS.FIREBASE_NODES.SHARED_LISTS,e]},kc=function(e){return[p.CONSTANTS.FIREBASE_NODES.USERS,e,p.CONSTANTS.FIREBASE_NODES.FILES]},Gc=function(e){return["customProfile",e]},Fc=function(){var e=Object(te.a)(ae.a.mark((function e(t){var n,a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=kc(t),e.next=3,Aa.getValue(n);case 3:if(null!==(a=e.sent)){e.next=6;break}return e.abrupt("return",{});case 6:return e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bc=function(){var e=Object(te.a)(ae.a.mark((function e(){var t,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(be.a)(),n=Object(be.b)(t,"fetchMocks"),e.next=4,n().then((function(e){return e.data}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Vc=function(){var e=Object(te.a)(ae.a.mark((function e(t){var n,a,r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Gc(t),e.next=3,Aa.getValue(n);case 3:return a=e.sent,r=a.migrations&&a.migrations.filesToMock,e.abrupt("return",!!r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yc=function(){var e=Object(te.a)(ae.a.mark((function e(t){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hc(t);case 2:n=Gc(t),Aa.setValue(n,{migrations:{filesToMock:!0}});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Hc=function(){var e=Object(te.a)(ae.a.mark((function e(t){var n,a,r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(be.a)(),e.next=3,Fc(t);case 3:a=e.sent,r=Object(be.b)(n,"addMock"),a&&Object.keys(a).forEach((function(e){a[e].rId=a[e].id,r(a[e])}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kc=function(){var e=Object(c.useContext)(Z).state,t=nt(e),n=Object(c.useState)(!0),a=Object(u.a)(n,2),r=a[0],i=a[1],s=Object(c.useState)([]),o=Object(u.a)(s,2),l=o[0],d=o[1],O=function(){var e=Object(te.a)(ae.a.mark((function e(){var n,a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),d([]),e.next=4,Vc(t.details.profile.uid);case 4:if(n=e.sent){e.next=9;break}return e.next=8,Fc(t.details.profile.uid).then((function(e){var t=function(t){d((function(n){return[].concat(Object(Lt.a)(n),[e[t]])}))};for(var n in e)t(n);return e}));case 8:a=e.sent;case 9:Bc().then((function(e){d(a?function(t){return[].concat(Object(Lt.a)(t),Object(Lt.a)(e))}:e),i(!1)})),n||Yc(t.details.profile.uid);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=Object(c.useCallback)(O,[t]);return Object(c.useLayoutEffect)((function(){t.loggedIn&&t.details.profile&&j()}),[t,j]),r?Object(C.jsx)(oc,{customLoadingMessage:"Loading Mocks"}):ie()(l)?Object(C.jsx)(Dc,{updateCollection:O}):Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Pc,{updateCollection:O,filesList:l})})},qc=function(e){Object(Ur.a)(n,e);var t=Object(Pr.a)(n);function n(){return Object(vr.a)(this,n),t.apply(this,arguments)}return Object(yr.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ht,{component:Kc})})}}]),n}(i.a.Component),Wc=n(25),Qc=n(153),zc=n(189),Xc=n.n(zc),Jc=(n(473),n(474),n(475),n(476),n(477),function(e){var t=e.src;return Object(C.jsx)("div",{className:"d-flex justify-content-center p-3",children:Object(C.jsx)("img",{style:{maxWidth:"15vw",width:"100%"},src:t,alt:""})})}),Zc=n(132),$c=n(552),ei=Qc.a.Option,ti=n(255);ti.config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds@1.4.3/src-noconflict/"),ti.config.setModuleUrl("ace/mode/javascript_worker","https://cdn.jsdelivr.net/npm/ace-builds@1.4.3/src-noconflict/worker-javascript.js");var ni="HTML",ai="CSS",ri="JS",ci="Image",ii="API",si=function(e){var t=e.headersCount,n=e.handleHeadersFieldAdd,a=e.handleHeadersFieldRemove,r=e.headersPairUpdate,i=e.list,s=e.index,o=Object(c.useState)(i[s].key||""),l=Object(u.a)(o,2),d=l[0],O=l[1],j=Object(c.useState)(i[s].value||""),E=Object(u.a)(j,2),b=E[0],p=E[1];return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(Ct.a,{className:"mx-1 my-3",style:{marginBottom:"0.5rem",marginTop:"0.5rem"},children:[Object(C.jsx)(gt.a,{sm:"0.5",className:"align-self-center",span:3,align:"center",children:Object(C.jsx)("h4",{children:"Header Name"})}),Object(C.jsx)(gt.a,{sm:"4",span:8,align:"center",children:Object(C.jsx)(Jt.a,{type:"text",placeholder:"Header",value:i[s].key||"",name:"key",onChange:function(e){O(e.target.value),r(s,e.target.value,b)},style:{width:"80%"}})}),Object(C.jsx)(gt.a,{sm:"0.5",className:"align-self-center",span:3,align:"center",children:Object(C.jsx)("h4",{children:"Value"})}),Object(C.jsx)(gt.a,{sm:"4",span:8,align:"center",children:Object(C.jsx)(Jt.a,{type:"text",placeholder:"Value",value:i[s].value||"",name:"value",onChange:function(e){p(e.target.value),r(s,d,e.target.value)},style:{width:"80%"}})}),Object(C.jsx)(gt.a,{span:2,children:t>1&&Number(s)<t-1?Object(C.jsx)(It.a,{className:"btn-icon btn-3",color:"danger",type:"button",onClick:function(){a(s),O(""),p("")},icon:Object(C.jsx)(Cc.a,{})}):Object(C.jsx)(It.a,{className:"btn-icon btn-3",color:"primary",type:"button",onClick:function(){return n()},icon:Object(C.jsx)(Va.a,{})})})]})})},oi=function(e){var t=e.newFile,n=e.currentFilesCount,a=W.MOCK_RESPONSE_BODY_CHARACTER_LIMIT,r=Object(re.g)(),s=Object(c.useContext)(Z).state,o=nt(s),l=Object(c.useState)(e.fileDetails?e.fileDetails.name:""),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useState)(e.fileDetails?e.fileDetails.contentType:"application/json"),b=Object(u.a)(E,2),p=b[0],S=b[1],h=Object(c.useState)(!e.fileDetails&&ii),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useState)(".js"),R=Object(u.a)(A,2),x=R[0],N=R[1],g=Object(c.useState)(e.fileDetails?e.fileDetails.description:""),_=Object(u.a)(g,2),I=_[0],L=_[1],v=Object(c.useState)(e.fileDetails?e.fileDetails.statusCode:200),y=Object(u.a)(v,2),U=y[0],P=y[1],D=Object(c.useState)([{}]),w=Object(u.a)(D,2),M=w[0],k=w[1],G=Object(c.useState)(e.fileDetails&&(e.fileDetails.body||""===e.fileDetails.body)?e.fileDetails.body:""),F=Object(u.a)(G,2),B=F[0],V=F[1],Y=Object(c.useState)(1),H=Object(u.a)(Y,2),K=H[0],q=H[1],Q=Object(c.useState)(0),z=Object(u.a)(Q,2),X=z[0],J=z[1],$=Object(c.useState)("Free"),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],ae=Object(c.useState)(!1),ce=Object(u.a)(ae,2),ie=ce[0],se=ce[1],oe=function(e,t,n){k((function(a){return a[e].key=t,a[e].value=n,a}))},le=function(){q((function(e){return e+1})),k((function(e){return e.push({}),e}))},ue=function(e){var t;q((function(e){return e-1})),t=e,k((function(e){return e.splice(t,1),e}))},de=function(e){switch(e){case".js":Oe("application/javascript",".js",ri);break;case".html":Oe("text/html",".html",ni);break;case".css":Oe("text/css",".css",ai);break;case".json":Oe("application/json","",ii)}},Oe=function(e,t,n){N(t),S(e),f(n)},je=function(){var t=ft(o),a=Rt(W.FEATURES.FILES,t);n>=a?(J(a),ne(t),se(!0)):e.saveFile({name:O,contentType:p,description:I,body:B,headers:M,statusCode:U,extension:x,isMock:m===ii})},Ee=function(e){"Escape"===e.key?(e.preventDefault(),Ne(r)):"s"===e.key.toLowerCase()&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&(e.preventDefault(),je())};Object(c.useEffect)((function(){return document.addEventListener("keydown",Ee),function(){document.removeEventListener("keydown",Ee)}}),[Ee]),Object(c.useEffect)((function(){var t=e.fileDetails;if(Object(he.isEmpty)(M[0])&&t&&t.headers){for(var n=t.headers,a=[],r=0,c=Object.entries(n);r<c.length;r++){var i=Object(u.a)(c[r],2),s=i[0],o=i[1];a.push({key:s,value:o})}a.length&&(k(a),q(a.length))}if(t){var l=t.contentType.startsWith("image");t.isMock?f(ii):f(l?ci:t.name.split(".")[1].toUpperCase())}}),[]);var be=function(n){return Object(C.jsx)(Ct.a,{style:n,children:Object(C.jsx)(gt.a,{span:24,align:"right",children:Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(It.a,{type:"primary",onClick:je,loading:!!e.saving,icon:Object(C.jsx)(Zc.a,{}),children:e.saving?"Creating":t?"Create Mock":"Save"}),Object(C.jsx)(It.a,{className:"btn-icon btn-3 float-right",type:"button",color:"secondary",onClick:function(){return Ne(r)},children:Object(C.jsx)("span",{className:"btn-inner--text",children:"Close"})})]})})})};return Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsxs)(Nt.a,{className:"primary-card",children:[be({marginTop:"-1rem"}),Object(C.jsx)("br",{}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsxs)(Xa.b,{title:null,bordered:!0,children:[Object(C.jsx)(Xa.b.Item,{label:"Name",children:Object(C.jsx)(Jt.a,{type:"text",placeholder:"Name your mock",value:O,name:"name",onChange:function(e){return j(e.target.value)},disabled:!t,style:{width:"95%"}})}),Object(C.jsx)(Xa.b.Item,{label:"Description",span:2,children:Object(C.jsx)(Jt.a,{type:"text",placeholder:"(Optional)",value:I,name:"desc",onChange:function(e){return L(e.target.value)},style:{width:"95%"}})}),Object(C.jsx)(Xa.b.Item,{label:"Response Type",children:t?Object(C.jsxs)(Qc.a,{value:m,className:"select-before",disabled:!t,onChange:de,style:{minWidth:"40%"},children:[Object(C.jsx)(ei,{value:".js",children:ri}),Object(C.jsx)(ei,{value:".html",children:ni}),Object(C.jsx)(ei,{value:".css",children:ai}),Object(C.jsx)(ei,{value:".json",children:ii})]}):m}),m===ii?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Xa.b.Item,{label:"Status Code ",children:Object(C.jsx)(Jt.a,{type:"number",placeholder:"200",value:U,name:"statusCode",onChange:function(e){return P(e.target.value)},style:{width:"95%"}})}),Object(C.jsx)(Xa.b.Item,{label:"Content Type",children:Object(C.jsx)(Jt.a,{type:"text",placeholder:"content/javascript",value:p,name:"type",disabled:!t,onChange:function(e){return S(e.target.value)}})})]}):null,t?null:e.fileDetails.shortUrl||e.fileDetails.mockID?Object(C.jsx)(Xa.b.Item,{label:"Public URL",span:3,children:Object(C.jsx)(Jt.a,{type:"text",value:e.fileDetails.shortUrl||mc(e.fileDetails.mockID),disabled:!0,addonAfter:Object(C.jsx)(Sc.a,{text:e.fileDetails.shortUrl||mc(e.fileDetails.mockID),children:Object(C.jsx)(Ec.a,{title:"Click to copy",children:Object(C.jsx)($c.a,{})})})})}):Object(C.jsx)("div",{children:Object(C.jsx)(qa.a,{})})]})})}),Object(C.jsx)("div",{className:"margin-bottom-one"}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:p.startsWith("image")?Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{className:"text-align-center",span:24,align:"center",children:Object(C.jsx)(Jc,{src:e.fileDetails.webContentLink})})}):Object(C.jsxs)("div",{children:[m===ii?Object(C.jsxs)("div",{children:[Object(C.jsx)(Ct.a,{className:"pl-3",children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsx)(Fa.a,{className:"mx-1",color:"warning",children:Object(C.jsx)("h4",{children:"Response Headers (Optional)"})})})}),M.map((function(e,t){return Object(C.jsx)(si,{handleHeadersFieldAdd:le,headersCount:K,handleHeadersFieldRemove:ue,headersPairUpdate:oe,index:t,list:M},t)}))]}):null,Object(C.jsx)(Ct.a,{style:{marginBottom:"0.5rem",marginTop:"0.5rem"},children:Object(C.jsxs)(gt.a,{span:24,children:[Object(C.jsx)("h4",{children:m===ii?"Response Body":"File Content"}),Object(C.jsx)(Xc.a,{width:"100%",height:"400px",placeholder:m===ii?"Response Body":"File Content",mode:m===ri?"javascript":m===ai?"css":m===ni?"html":"text",theme:"monokai",name:"body_editor",fontSize:17,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,onChange:function(e){V(e)},value:B,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{marginBottom:"0.5rem",marginTop:"0.5rem"}})]})}),m===ii?Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{xl:"12",children:Object(C.jsxs)("span",{className:"codemirror-character-count",children:[a-Tn(B)>=0?a-Tn(B):0," ","characters left"]})})}):null]})})}),be({marginTop:"1rem"})]}),ie?Object(C.jsx)(hc,{isOpen:ie,toggle:function(){se(!ie)},featureName:W.FEATURES.FILES,featureLimit:X,userPlanName:te}):null]})},li=W.PATHS,ui=function(){var e=Object(te.a)(ae.a.mark((function e(t){var n,a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(be.a)(),a=Object(be.b)(n,"fetchMocks"),e.next=4,a(t).then((function(e){return e.data}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),di=p.CONSTANTS.GA_EVENTS,Oi=function(){var e=Object(re.h)(),t=Object(re.g)(),n=e.state&&e.state.mockUrl,a=Object(c.useContext)(Z).state,r=nt(a),i=Object(c.useState)(!0),s=Object(u.a)(i,2),o=s[0],l=s[1],d=Object(c.useState)(!1),O=Object(u.a)(d,2),E=O[0],b=O[1],S=Object(c.useState)(!1),h=Object(u.a)(S,2),T=h[0],m=h[1],f=Object(c.useState)(!1),A=Object(u.a)(f,2),R=A[0],x=A[1],N=Object(c.useState)(0),g=Object(u.a)(N,2),_=g[0],I=g[1],L=window.location.pathname.split("/")[li.FILES.VIEWER.ABSOLUTE.split("/").length+1-1],v=function(){var e=Object(te.a)(ae.a.mark((function e(n){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("create"!==L){e.next=5;break}x(!0),l(!1),e.next=7;break;case 5:return e.next=7,ui(L).then((function(e){e.success?(m(e.data),l(!1)):e.unauthorized?Fe(t):Ge(t)}));case 7:Bc().then((function(e){e&&I((function(t){return t+e.length}))}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=Object(c.useCallback)(v,[L,t]);return Object(c.useLayoutEffect)((function(){r.loggedIn&&r.details&&r.details.profile&&r.details.profile.uid&&y(r.details.profile.uid)}),[y,r]),Object(c.useEffect)((function(){n&&x(!1)}),[n]),Object(C.jsx)(Nt.a,{className:"primary-card",title:"".concat(R?"Create Mock":"Edit Mock"),children:Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:o?Object(C.jsx)(Se,{}):R?Object(C.jsx)(oi,{newFile:!0,fileDetails:T,saveFile:function(e){var n=e.name,a=e.contentType,r=e.description,c=e.body,i=e.headers,s=e.statusCode,o=e.extension,l=e.isMock;if(ie()(n))Ve.warn("Please enter a valid file name");else if(l&&ie()(s))Ve.warn("Please enter statusCode");else if(l||!ie()(c)||"image"===a)if(l&&Tn(c)>W.MOCK_RESPONSE_BODY_CHARACTER_LIMIT)Ve.warn("Response Body exceeds character limit");else{b(!0);var u={};if(i){var d,O=Object(Wc.a)(i);try{for(O.s();!(d=O.n()).done;){var j=d.value;j.key&&j.value&&(u[j.key]=j.value)}}catch(S){O.e(S)}finally{O.f()}}var E={name:l?n:n+o,contentType:a,description:r,headers:u,statusCode:Number(s),body:c,isMock:l};if(l){var p=Object(be.a)();Object(be.b)(p,"addMock")(E).then((function(e){if(b(!1),e.data){var n=mc(e.data);Ve.info("Mock Created Successfully"),va(di.CATEGORIES.LIBRARY,di.ACTIONS.CREATED,"New Mock Created"),Da("New Mock Created"),Un(Wn.CREATED,{}),Ce(t,e.data,n)}else Ve.error("Unable to create Mock")}))}else(function(e,t){return Rc(new File([t],e.name,{type:e.contentType,lastModified:Date.now()}),e)})(E,c).then((function(e){b(!1),e.success?(Ve.info("File Created Successfully"),va(di.CATEGORIES.LIBRARY,di.ACTIONS.CREATED,"New File Created"),Da("New File Created"),Un(Qn.CREATED,{}),Ce(t,e.data.id,e.data.shortUrl)):Ve.error("Unable to create file")}))}else Ve.warn("Please enter file content")},saving:E,currentFilesCount:_}):Object(C.jsx)(oi,{fileDetails:T,saveFile:function(e){var n=Object(be.a)(),a=Object(be.b)(n,"editMock"),r=e.name,c=e.contentType,i=e.description,s=e.body,o=e.headers,l=e.statusCode,u=e.isMock;if(a(Object(j.a)(Object(j.a)({},e),{},{id:L})),u&&ie()(l))Ve.warn("Please enter statusCode");else if(u||!ie()(s)||" image"===c)if(u&&Tn(s)>W.MOCK_RESPONSE_BODY_CHARACTER_LIMIT)Ve.warn("Response Body exceeds character limit");else{b(!0);var d=Object(j.a)({},T);d.description=i;var O={};if(o){var E,S=Object(Wc.a)(o);try{for(S.s();!(E=S.n()).done;){var h=E.value;h.key&&h.value&&(O[h.key]=h.value)}}catch(A){S.e(A)}finally{S.f()}}var m={name:r,contentType:c,description:i,headers:O,statusCode:Number(l),body:s,isMock:u};if(u){var f=Object(be.a)();Object(be.b)(f,"editMock")(Object(j.a)(Object(j.a)({},m),{},{id:L})).then((function(e){b(!1),e.data.success?(Ve.info("Mock Edited Successfully"),va(di.CATEGORIES.LIBRARY,p.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"Mock Updated"),Da("Mock edited"),Un(Wn.UPDATED,{}),Ce(t,L)):Ve.error(e.data.msg||"Unable to edit mock")}))}else(function(e,t,n){var a=Object(Tc.c)(ln),r=new Blob([t],{type:n.contentType}),c={contentType:n.contentType};return Object(Tc.e)(Object(Tc.d)(a,e),r,c).then((function(e){return Object(Tc.b)(e.ref).then((function(t){var a=Ac(e,n,t);return a.id=n.id,{success:!0,data:a}}))}))})(T.filePath,s,d).then((function(e){b(!1),e.success?(Ve.info("File Edited Successfully"),va(di.CATEGORIES.LIBRARY,p.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"File Updated"),Da("File edited"),Un(Qn.UPDATED,{}),Ce(t,L)):Ve.error("Unable to edit file")}))}else Ve.warn("Please enter file content")},saving:E,currentFilesCount:_})})})})},ji=function(e){Object(Ur.a)(n,e);var t=Object(Pr.a)(n);function n(){return Object(vr.a)(this,n),t.apply(this,arguments)}return Object(yr.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ht,{component:Oi})})}}]),n}(i.a.Component),Ei=n(123),bi=n(417),pi=n(334),Si=n.n(pi),hi=p.CONSTANTS.GA_EVENTS,Ti=function(){var e=Object(be.a)(),t=Object(c.useContext)(Z).state,n=nt(t),a=Object(c.useState)({uses:"",recommend:0,suggestions:""}),r=Object(u.a)(a,2),s=r[0],o=r[1],l=Object(c.useState)(!1),d=Object(u.a)(l,2),E=d[0],b=d[1],p=Object(c.useState)(""),S=Object(u.a)(p,2),h=S[0],T=S[1],m=Object(c.useState)("false"),f=Object(u.a)(m,2),A=f[0],R=f[1],x=Object(be.b)(e,"sendFeedbackResponse"),N=function(e){var t=e.target,n=t.name,a=t.value;o((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(O.a)({},n,a))}))};return Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{style:{width:"100%",height:"100%"},children:E?Object(C.jsx)(Ct.a,{type:"flex",justify:"center",align:"middle",children:Object(C.jsx)(gt.a,{children:Object(C.jsx)(Ei.a,{style:{marginTop:"15%",border:"2px solid #0a48b3",borderRadius:"5px"},children:Object(C.jsx)("div",{style:{margin:"10px 0px 0px 10px",textAlign:"center"},children:Object(C.jsx)("h2",{children:"Thanks \ud83d\ude42 for your valuable feedback."})})})})}):"false"===A?Object(C.jsx)(Ct.a,{type:"flex",justify:"center",align:"middle",children:Object(C.jsx)(gt.a,{children:Object(C.jsx)(Ei.a,{style:{marginTop:"45%",borderTopRightRadius:"10px",borderTopLeftRadius:"10px",borderBottomRightRadius:"10px",borderBottomLeftRadius:"10px",border:"2px solid #0a48b3"},children:Object(C.jsxs)("div",{style:{marginTop:"20px",textAlign:"center",verticalAlign:"middle"},children:[Object(C.jsx)("h3",{children:"How satisified were you while using Requestly?"}),Object(C.jsx)(bi.a,{onChange:function(e){R("true"),o((function(t){return Object(j.a)(Object(j.a)({},t),{},{recommend:e})}))}}),Object(C.jsx)("p",{children:"Select an option"})]})})})}):Object(C.jsx)(Ct.a,{type:"flex",justify:"center",align:"middle",children:Object(C.jsx)(gt.a,{children:Object(C.jsx)(Ei.a,{style:{borderRadius:"10px",border:"2px solid #0a48b3",marginTop:"35px"},children:Object(C.jsxs)("div",{style:{textAlign:"center",verticalAlign:"middle"},children:[Object(C.jsx)("h3",{children:"We are sad to see you go \u2639\ufe0f"}),Object(C.jsxs)("h3",{children:[" ","We value your opinions a lot and your final feedback will help us make Requestly better."]}),Object(C.jsx)("h3",{children:"Thank you!"}),Object(C.jsx)("div",{className:"app",children:Object(C.jsxs)("div",{style:{margin:"20px auto 0px auto",width:"70%"},children:[Object(C.jsxs)("div",{style:{marginBottom:"20px"},children:[Object(C.jsxs)("h3",{children:["What went wrong?"," ",Object(C.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(C.jsx)(Jt.a.TextArea,{name:"uses",rows:3,value:s.uses,onChange:N})]}),Object(C.jsx)("div",{}),Object(C.jsxs)("div",{style:{marginTop:"20px"},children:[Object(C.jsx)("h3",{children:"Any suggestion or feature requests?"}),Object(C.jsx)(Jt.a.TextArea,{name:"suggestions",value:s.suggestions,rows:3,onChange:N})]}),n.loggedIn?null:Object(C.jsxs)("div",{style:{marginTop:"20px"},children:[Object(C.jsxs)("h3",{children:["Enter your Email"," ",Object(C.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(C.jsx)(Jt.a,{placeholder:"Enter your email address",name:"email",value:h,onChange:function(e){return T(e.target.value)}})]}),Object(C.jsx)(It.a,{style:{width:"fit-content",marginTop:"20px"},block:!0,type:"primary",size:"large",onClick:function(){if(""===s.uses)return Ve.error("Please provide what have you used Requestly the most for!");if(!n.loggedIn){if(""===h)return Ve.error("Please provide your e-mail address");if(""!==h&&!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(h.trim()))return Ve.error("Please enter your valid e-mail address")}b(!0),va(hi.CATEGORIES.EXTENSION,hi.ACTIONS.UNINSTALL_RESPONSE,"".concat(n.loggedIn?n.details.profile.email:h," - Uses: ").concat(s.uses,", recommend: ").concat(s.recommend,", suggestions: ").concat(s.suggestions));var e={email:n.loggedIn?n.details.profile.email:h,uses:s.uses,recommend:s.recommend,suggestions:s.suggestions,date:new Date};Si.a.post("https://sheet.best/api/sheets/a850f90b-6dca-4bac-bde2-733811c273e2",e).then((function(e){x({email:n.loggedIn?n.details.profile.email:h,mailType:"goodbye",message:"Rating:"+s.recommend+",Issue:"+s.uses+",Suggestions:"+s.suggestions,userName:n.loggedIn?n.details.profile.displayName:"not_signed_in"}).then((function(){console.log(e.data)})).catch((function(e){console.log(e)}))}))},children:"Submit Review"})]})})]})})})})})})})},mi=function(e){Object(Ur.a)(n,e);var t=Object(Pr.a)(n);function n(){return Object(vr.a)(this,n),t.apply(this,arguments)}return Object(yr.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ti,{})})}}]),n}(i.a.Component),fi=n(1026),Ai=n(1027),Ri=n(1028),xi=function(){var e=Object(be.a)(),t=Object(c.useContext)(Z).state,n=nt(t),a=Object(c.useState)({uses:"",recommend:0,suggestions:""}),r=Object(u.a)(a,2),s=r[0],o=r[1],l=Object(c.useState)(!1),d=Object(u.a)(l,2),E=d[0],b=d[1],p=Object(c.useState)(""),S=Object(u.a)(p,2),h=S[0],T=S[1],m=Object(be.b)(e,"sendFeedbackResponse"),f={1:Object(C.jsx)(fi.a,{}),2:Object(C.jsx)(fi.a,{}),3:Object(C.jsx)(Ai.a,{}),4:Object(C.jsx)(Ri.a,{}),5:Object(C.jsx)(Ri.a,{})};return Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{style:{width:"100%",height:"100%"},children:E?Object(C.jsx)(Ct.a,{type:"flex",justify:"center",align:"middle",children:Object(C.jsx)(gt.a,{children:Object(C.jsx)(Ei.a,{style:{marginTop:"15%",border:"2px solid #0a48b3",borderRadius:"5px"},children:Object(C.jsx)("div",{style:{margin:"10px 0px 0px 10px",textAlign:"center"},children:Object(C.jsx)("h2",{children:"Thanks for your valuable feedback \ud83d\ude42"})})})})}):Object(C.jsx)(Ct.a,{type:"flex",justify:"center",align:"middle",children:Object(C.jsx)(gt.a,{children:Object(C.jsx)(Ei.a,{style:{borderRadius:"10px",border:"2px solid #0a48b3",marginTop:"35px"},children:Object(C.jsxs)("div",{style:{textAlign:"center",verticalAlign:"middle"},children:[Object(C.jsx)("h2",{children:"Feedback on Pricing Change"}),Object(C.jsxs)("div",{className:"app",children:[Object(C.jsx)("h3",{style:{marginTop:"20px"},children:"What's your overall feedback on pricing change"}),Object(C.jsxs)("div",{style:{margin:"20px auto 0px auto",width:"70%"},children:[Object(C.jsx)(bi.a,{onChange:function(e){o((function(t){return Object(j.a)(Object(j.a)({},t),{},{recommend:e})}))},character:function(e){var t=e.index;return f[t+1]}}),Object(C.jsx)("p",{children:"Select an option"}),Object(C.jsxs)("div",{style:{marginTop:"20px"},children:[Object(C.jsx)("h3",{children:"Anything else you want to say?"}),Object(C.jsx)(Jt.a.TextArea,{name:"suggestions",value:s.suggestions,rows:3,onChange:function(e){var t=e.target,n=t.name,a=t.value;o((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(O.a)({},n,a))}))}})]}),n.loggedIn?null:Object(C.jsxs)("div",{style:{marginTop:"20px"},children:[Object(C.jsxs)("h3",{children:["Enter your Email"," ",Object(C.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(C.jsx)(Jt.a,{placeholder:"Enter your email address",name:"email",value:h,onChange:function(e){return T(e.target.value)}})]}),Object(C.jsx)(It.a,{style:{width:"fit-content",marginTop:"20px"},block:!0,type:"primary",size:"large",onClick:function(){if(!n.loggedIn){if(""===h)return Ve.error("Please provide your e-mail address");if(""!==h&&!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(h.trim()))return Ve.error("Please enter your valid e-mail address")}var e,t;b(!0),e=s.suggestions,t=s.recommend,Un(Hn,{recommend:t,suggestions:e});var a={email:n.loggedIn?n.details.profile.email:h,uses:s.uses,recommend:s.recommend,suggestions:s.suggestions,date:(new Date).toJSON().slice(0,10).replace(/-/g,"/")};Si.a.post("https://sheet.best/api/sheets/ffb1a7f7-9f6f-4e60-9fb1-982d43a17e25",a),m({email:n.loggedIn?n.details.profile.email:h,mailType:"pricing",message:"Rating:"+s.recommend+",Issue:"+s.uses+",Suggestions:"+s.suggestions,userName:n.loggedIn?n.details.profile.displayName:"not signed in"}).then((function(){console.log("email-done")})).catch((function(e){console.log(e)}))},children:"Submit"})]})]})]})})})})})})})},Ni=function(e){Object(Ur.a)(n,e);var t=Object(Pr.a)(n);function n(){return Object(vr.a)(this,n),t.apply(this,arguments)}return Object(yr.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(xi,{})})}}]),n}(i.a.Component),Ci=n(1010),gi=n(85),_i=n(1029),Ii=n(1030),Li=tn.a.Link,vi=p.CONSTANTS.GA_EVENTS,yi=function(){var e=Object(c.useContext)(Z).state,t=nt(e),n=Object(c.useState)(""),a=Object(u.a)(n,2),r=a[0],i=a[1],s=Object(c.useState)(""),o=Object(u.a)(s,2),l=o[0],d=o[1],O=Object(c.useState)(""),j=Object(u.a)(O,2),E=j[0],b=j[1],p=Object(c.useState)(!1),S=Object(u.a)(p,2),h=S[0],T=S[1],m=Object(c.useState)(!1),f=Object(u.a)(m,2),A=f[0],R=f[1],x=Object(c.useState)(""),N=Object(u.a)(x,2),g=N[0],_=N[1],I=Object(c.useState)(!1),L=Object(u.a)(I,2),v=L[0],y=L[1],U=Object(c.useState)(!1),P=Object(u.a)(U,2),D=P[0],w=P[1],M=Object(c.useState)(""),k=Object(u.a)(M,2),G=k[0],F=k[1],B=Object(c.useState)(!1),V=Object(u.a)(B,2),Y=V[0],H=V[1],K=function(){if(t.details.isLoggedIn){if(F(t.details.profile.email),t.details.planDetails&&"license"===t.details.planDetails.type){var e=t.details.planDetails.subscription||{},n=e.endDate||1e3*e.current_period_end,a=new Date(n).toISOString().split("T")[0];y("license"===t.details.planDetails.type),d(t.details.planDetails.planId),i(t.details.planDetails.subscription.id),H(new Date(a).toDateString())}w(!1)}},q=Object(c.useCallback)(K,[t.details.isLoggedIn,t.details.planDetails,t.details.profile.email]),Q=Object(c.useCallback)((function(){w(!0),q()}),[q]);if(Object(c.useLayoutEffect)((function(){Q()}),[Q,t]),D)return Object(C.jsx)(Se,{customLoadingMessage:"Fetching your license details"});if(v)return Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,align:"center",children:Object(C.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(C.jsx)("h3",{children:Object(C.jsxs)(Ci.a,{color:"secondary",children:[Object(C.jsx)("strong",{children:Object(C.jsx)("span",{className:"alert-inner--icon",role:"img","aria-label":"emoji",children:"\ud83d\udce2"})})," ",Object(C.jsxs)("span",{className:"alert-inner--text",children:["License is being replaced by Teams."," ",Object(C.jsx)(Li,{onClick:function(){return window.open(W.LINKS.REQUESTLY_DOCS_PREMIUM_SUBSCRIPTION,"_blank")},className:"cursor-pointer",children:"Read more"})]})]})}),Object(C.jsx)("br",{}),Object(C.jsxs)("p",{className:"lead",children:["You have a ",Object(C.jsx)("strong",{children:l.split("_")[0].toUpperCase()})," ","License Key."]}),Object(C.jsxs)("p",{className:"lead",children:["Your License is valid upto : ",Object(C.jsx)("strong",{children:Y})]})]})})});var z=g&&!A,X=g&&A;return Object(C.jsxs)(gi.a,{onSubmit:function(e){e.preventDefault(),function(){T(!0);var e=Object(be.a)();Object(be.b)(e,"applyLicense")({license:r,company:E,email:G}).then((function(e){T(!1),R(e.data.success),_(e.data.message),e.data.success?(va(vi.CATEGORIES.LICENSE,vi.ACTIONS.APPLIED_SUCCESSFULLY,"License Applied ".concat(E," ").concat(r)),ya(vi.ATTR.LICENSE,r),ya(vi.ATTR.COMPANY,E),window.location.reload()):(i(""),va(vi.CATEGORIES.LICENSE,vi.ACTIONS.APPLIED_UNSUCCESSFULLY,"License Failed ".concat(E," ").concat(r))),K()})).catch(console.error)}()},role:"form",id:"applyLicenseForm",children:[Object(C.jsxs)("center",{children:[Object(C.jsx)("h3",{children:Object(C.jsxs)(Ci.a,{color:"secondary",children:[Object(C.jsx)("strong",{children:Object(C.jsx)("span",{className:"alert-inner--icon",role:"img","aria-label":"emoji",children:"\ud83d\udce2"})})," ",Object(C.jsxs)("span",{className:"alert-inner--text",children:["License is being replaced by Teams."," ",Object(C.jsx)(Li,{onClick:function(){return window.open(W.LINKS.REQUESTLY_DOCS_PREMIUM_SUBSCRIPTION,"_blank")},className:"cursor-pointer",children:"Read more"})]})]})}),Object(C.jsx)("br",{}),Object(C.jsx)("h3",{children:"Please enter the following details "})]}),Object(C.jsx)("br",{}),Object(C.jsx)("center",{children:Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{align:"center",span:8,offset:8,children:Object(C.jsxs)(or.a,{className:["mb-3",z?"has-danger":"",X?"has-success":""].join(" "),style:{width:"50%"},children:[Object(C.jsx)(Jt.a,{required:!0,type:"text",placeholder:"Company Name",value:E,disabled:A,onChange:function(e){return b(e.target.value)},className:["form-control-alternative",z?"is-invalid":"",X?"is-valid":""].join(" "),addonBefore:Object(C.jsx)(_i.a,{})}),Object(C.jsx)("br",{}),Object(C.jsx)(Jt.a,{style:{marginTop:"2%"},required:!0,type:"text",placeholder:"License Key",value:r,disabled:A,onChange:function(e){return i(e.target.value)},className:["form-control-alternative",z?"is-invalid":"",X?"is-valid":""].join(" "),addonBefore:Object(C.jsx)(Ii.a,{})}),A?null:Object(C.jsx)(It.a,{className:"my-4",type:"primary",style:{marginTop:"2%"},loading:h,children:"Apply License"})]})})})}),z?Object(C.jsx)("center",{children:Object(C.jsx)("h4",{style:{color:"red"},children:g})}):null,X?Object(C.jsx)("center",{children:Object(C.jsx)("h4",{style:{color:"green"},children:g})}):null]})},Ui=n(1023),Pi=function(){var e=Object(re.g)();return Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(Nt.a,{className:"primary-card",title:"License Details",extra:Object(C.jsx)(It.a,{type:"primary",onClick:function(t){return function(e){e.push(me.LICENSE.MANAGE.ABSOLUTE)}(e)},icon:Object(C.jsx)(Ui.a,{}),children:"Manage License"}),children:Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,align:"center",children:Object(C.jsx)(yi,{})})})})})},Di=function(){return Object(C.jsx)(Ht,{component:Pi})},wi=function(e){Object(Ur.a)(n,e);var t=Object(Pr.a)(n);function n(){return Object(vr.a)(this,n),t.apply(this,arguments)}return Object(yr.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Di,{})})}}]),n}(i.a.Component),Mi=p.CONSTANTS.GA_EVENTS,ki=function(){var e=Object(c.useContext)(Z).state,t=nt(e),n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)(!1),l=Object(u.a)(o,2),d=l[0],O=l[1],E=Object(c.useState)(!1),b=Object(u.a)(E,2),p=b[0],S=b[1],h=Object(c.useState)({}),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useCallback)((function(){if(s(!0),t.loggedIn){var e=Object(be.a)();Object(be.b)(e,"getCompanyLicenseUsers")({}).then((function(e){O(e.data.success),f(e.data.users?e.data.users:{}),s(!1)})).catch((function(e){console.log(e)}))}else s(!1)}),[t]);return Object(c.useLayoutEffect)((function(){A()}),[A]),Object(C.jsx)(i.a.Fragment,{children:r?Object(C.jsx)(oc,{customLoadingMessage:"Loading License Information"}):Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(Nt.a,{className:"primary-card",title:"License Details",children:Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,align:"center",children:Object(C.jsx)(Ei.a,{className:"shadow",children:Object(C.jsx)(Ee.a,{children:d?ie()(m)?Object(C.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:Object(C.jsx)("p",{className:"lead",children:"There are no users using license keys."})}):Object(C.jsx)(Ya.a,{options:!1,pagination:!1,search:!1,dateFormatter:!1,toolBarRender:!1,headerTitle:!1,rowKey:"id",dataSource:Object.keys(m).map((function(e){return Object(j.a)({id:e},m[e])})),columns:[{title:"User Email",dataIndex:"email",textWrap:"word-break",ellipsis:!0},{title:"License Key",dataIndex:"licenseKey",textWrap:"word-break",ellipsis:!0},{title:"Actions",align:"right",render:function(e,t){return Object(C.jsx)(It.a,{danger:!0,onClick:function(e){return function(e){var t=m[e].email,n=Object(be.a)(),a=Object(be.b)(n,"revokeLicense");S(!0),a({userId:e}).then((function(e){S(!1),O(e.data.success),f(e.data.users?e.data.users:{}),Ve.success("Revoked ".concat(t," License")),va(Mi.CATEGORIES.LICENSE,Mi.ACTIONS.REVOKED,"License Revoked ".concat(t))}))}(t.id)},loading:p,children:"Revoke Access"})},textWrap:"word-break",ellipsis:!0}]}):Object(C.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:Object(C.jsx)("p",{className:"lead",children:"Only the company admin can manage licenses. Please talk to your company admin if you want to be added as an admin to your company."})})})})})})})})})},Gi=function(e){Object(Ur.a)(n,e);var t=Object(Pr.a)(n);function n(){return Object(vr.a)(this,n),t.apply(this,arguments)}return Object(yr.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ht,{component:ki})})}}]),n}(i.a.Component),Fi=p.COMPONENTS.LOGGER,Bi={eventCallbackMap:{},requestId:1,constants:{CONTENT_SCRIPT:"content_script",PAGE_SCRIPT:"page_script",DOMAIN:p.CONFIG.WEB_URL,SOURCE_FIELD:"source"},addMessageListener:function(){window.addEventListener("message",this.handleMessageReceived.bind(this))},getSource:function(){return this.constants.PAGE_SCRIPT},registerCallback:function(e,t){if(t){var n=this.requestId++;this.eventCallbackMap[e.action+"_"+n]=t,e.requestId=n}},invokeCallback:function(e){var t=this.eventCallbackMap[e.action+"_"+e.requestId];"function"===typeof t&&(delete this.eventCallbackMap[e.action],t.call(this,e.response))},sendMessage:function(e,t){e.action?(this.registerCallback(e,t),e[this.constants.SOURCE_FIELD]=this.getSource(),window.postMessage(e,this.constants.DOMAIN)):Fi.error("Invalid message. Must contain some action")},sendResponse:function(e,t){var n={action:e.action,requestId:e.requestId,response:t};n[this.constants.SOURCE_FIELD]=this.constants.PAGE_SCRIPT,window.postMessage(n,this.constants.DOMAIN)},handleMessageReceived:function(e){e&&e.origin!==this.constants.DOMAIN?"debug"===p.COMPONENTS.logLevel&&console.log("Ignoring message from the following domain",e.origin,e.data):e&&e.data&&e.data.source===this.constants.CONTENT_SCRIPT&&("debug"===p.COMPONENTS.logLevel&&console.log("Received message:",e.data),this.invokeCallback(e.data))},init:function(){-1!==window.location.hostname.indexOf("requestly.in")&&-1!==this.constants.DOMAIN.indexOf("requestly.io")&&(this.constants.DOMAIN=this.constants.DOMAIN.replace(".io",".in")),this.addMessageListener()}};function Vi(){return window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.VERSION}function Yi(){return!!Vi()}function Hi(){return new Promise((function(e,t){window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES&&window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE?e(window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE.getStorageSuperObject()):t("Couldnt hit desktop API")}))}function Ki(e){return new Promise((function(t,n){window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES&&window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE?t(window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE.getStorageObject(e)):n("Couldnt hit desktop API")}))}function qi(e){return new Promise((function(t,n){window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES&&window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE?t(window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE.setStorageObject(e)):n("Couldnt hit desktop API")}))}function Wi(e){return new Promise((function(t,n){window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES&&window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE?t(window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE.deleteItem(e)):n("Couldnt hit desktop API")}))}function Qi(e){if(!e)return new Error("Empty objects to remove list");var t=[];return e.forEach((function(e){t.push(Wi(e))})),Promise.all(t).catch((function(e){return e}))}function zi(){return new Promise((function(e,t){window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES&&window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE?e(window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE.clearStorage()):t("Couldnt hit desktop API")}))}var Xi=function(){var e=Object(te.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.RQ.DESKTOP.SERVICES.STATE_MANAGEMENT.getState("isBackgroundProcessActive").then(function(){var e=Object(te.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(te.a)(ae.a.mark((function e(n){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=7;break}return e.next=3,window.RQ.DESKTOP.SERVICES.IPC.invokeEventInMain("start-background-process");case 3:a=e.sent,n(a),e.next=8;break;case 7:n(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ji=function(){var e=Object(te.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("save-root-cert").then((function(e){e.success?Ve.success("Certificate saved"):Ve.error("An error occured while saving certificate")})).catch((function(){Ve.error("An error occured while saving certificate")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Zi=a,$i=n(524);function es(){return document.documentElement.getAttribute("rq-ext-version")}function ts(){return!!es()}function ns(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0.0.1",t=es();return t=t||"0.0.1",$i.gte(t,e)}function as(e){return new Promise((function(t){return Bi.sendMessage(e,t)}))}function rs(){return as({action:"GET_STORAGE_TYPE"})}function cs(){return as({action:"GET_STORAGE_INFO"})}function is(){return new Promise((function(e){Bi.sendMessage({action:"GET_STORAGE_SUPER_OBJECT"},e)}))}function ss(e){return new Promise((function(t){Bi.sendMessage({action:"GET_STORAGE_OBJECT",key:e},t)}))}function os(e){return new Promise((function(t){Bi.sendMessage({action:"SAVE_STORAGE_OBJECT",object:e},t)}))}function ls(e){return new Promise((function(t){Bi.sendMessage({action:"REMOVE_STORAGE_OBJECT",key:e},t)}))}function us(e){var t=e;return new Promise((function(e){Bi.sendMessage({action:"REMOVE_STORAGE_OBJECT",key:t},e)}))}function ds(){return new Promise((function(e){Bi.sendMessage({action:"CLEAR_STORAGE"},e)}))}function Os(e){return new Promise((function(t){Bi.sendMessage({action:"SET_STORAGE_TYPE",storageType:e},t)}))}function js(){return as({action:"GET_REMOTE_RULES_SETTINGS"})}function Es(){return as({action:"GET_USER_INFO"})}function bs(e){return new Promise((function(t,n){ts()?Bi.sendMessage({action:"SET_REMOTE_RULES_SETTINGS",remoteRulesSettings:e},t):n("Please make sure your extension is up to date")}))}var ps=r,Ss=function(){function e(t){Object(vr.a)(this,e),this.appMode=t.appMode||p.CONSTANTS.APP_MODES.EXTENSION,this.StorageHelper=function(e){switch(e){case p.CONSTANTS.APP_MODES.EXTENSION:return ps;case p.CONSTANTS.APP_MODES.DESKTOP:default:return Zi}}(this.appMode),this.primaryKeys=t.primaryKeys||["objectType","ruleType"],this.records=[],this.isRecordsFetched=!1,this.cachingEnabled=t.cacheRecords,this.saveRecordWithID=this.saveRecordWithID.bind(this),this.saveRecord=this.saveRecord.bind(this),this.getRecord=this.getRecord.bind(this),this.getRecords=this.getRecords.bind(this)}return Object(yr.a)(e,[{key:"getAllRecords",value:function(){return this.StorageHelper.getStorageSuperObject()}},{key:"getRecords",value:function(e,t){var n=this,a=this;return new Promise((function(r,c){a.cachingEnabled&&a.isRecordsFetched&&!t?r(a.filterRecordsByType(a.records,e)):n.StorageHelper.getStorageSuperObject().then((function(t){for(var n in a.records.length=0,t)a.hasPrimaryKey(t[n])&&a.records.push(t[n]);a.isRecordsFetched=!0,r(a.filterRecordsByType(a.records,e))}))}))}},{key:"hasPrimaryKey",value:function(e){for(var t=0;t<this.primaryKeys.length;t++)if("undefined"!==typeof e[this.primaryKeys[t]])return!0;return!1}},{key:"filterRecordsByType",value:function(e,t){return t?e.filter((function(e){return(e.objectType||p.CONSTANTS.OBJECT_TYPES.RULE)===t})):e}},{key:"saveRecord",value:function(e){var t=this;return this.StorageHelper.saveStorageObject(e).then((function(){t.updateRecord(e)}))}},{key:"saveRuleOrGroup",value:function(e){var t=Object(O.a)({},e.id,Object(j.a)(Object(j.a)({},e),{},{lastModified:(new Date).getTime()}));return this.saveRecord(t)}},{key:"saveMultipleRulesOrGroups",value:function(e){var t={};return e.forEach((function(e){e&&e.id&&(t[e.id]=e)})),this.saveRecord(t)}},{key:"saveRecordWithID",value:function(e){var t=this;return this.StorageHelper.saveStorageObject(Object(O.a)({},e.id,e)).then((function(){t.updateRecord(e)}))}},{key:"getRecord",value:function(e){return this.StorageHelper.getStorageObject(e)}},{key:"removeRecord",value:function(e){var t=this;return this.StorageHelper.removeStorageObject(e).then((function(){t.deleteRecord(e)}))}},{key:"removeRecords",value:function(e){return this.StorageHelper.removeStorageObjects(e)}},{key:"getCachedRecordIndex",value:function(e){for(var t=0;t<this.records.length;t++){if(this.records[t].id===e)return t}return-1}},{key:"updateRecord",value:function(e){var t=e.id,n=this.getCachedRecordIndex(t),a=-1!==n;if("undefined"!==typeof e){if(!this.hasPrimaryKey(e))return;a?this.records[n]=e:this.records.push(e)}}},{key:"deleteRecord",value:function(e){var t=this.getCachedRecordIndex(e);this.records.splice(t,1)}},{key:"printRecords",value:function(){this.StorageHelper.getStorageSuperObject().then((function(e){console.log(e)}))}},{key:"clearDB",value:function(){var e=this;this.StorageHelper.clearStorage().then((function(){e.records=[]}))}}]),e}(),hs=function(e){return new Ss({cacheRecords:!1,appMode:e})};!function(){var e,t,n,a,r,c;e=window,t=document,n="script",a="ga",e.GoogleAnalyticsObject=a,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,r=t.createElement(n),c=t.getElementsByTagName(n)[0],r.async=1,r.src="https://www.google-analytics.com/analytics.js",c.parentNode.insertBefore(r,c),window.ga("create","UA-46800996-7","auto"),window.ga("require","GTM-KN4N9B7")}(),Bi.init();var Ts=n(87),ms=W.RULE_TYPES_CONFIG,fs=function(e){var t=e.ruleData,n=t.imageURL,a=t.rules[0].ruleType;return Object(C.jsx)(C.Fragment,{children:n?Object(C.jsx)("img",{width:"30px",src:n,alt:""}):i.a.createElement(ms[a].ICON)})},As=n(547),Rs=function(e){var t=e.ruleData;return Object(C.jsx)("div",{style:{flexFlow:"wrap"},children:t.map((function(e,t){return Object(C.jsx)(As.a,{style:{padding:"5px",fontSize:"0.7rem"},children:e.toUpperCase()},t)}))})},xs=n(548),Ns=function(e){e.columnWidth;var t=e.ruleData,n=Object(c.useContext)(Z),a=n.state,r=n.dispatch,i=nt(a),s=function(e){return e.marketplace.ruleStatus}(a),o=st(a),l=Object(c.useCallback)(r,[r]),O=Object(c.useState)(!1),E=Object(u.a)(O,2),b=E[0],S=E[1],h=Object(c.useState)(!0),T=Object(u.a)(h,2),m=T[0],f=T[1];Object(c.useEffect)((function(){o===p.CONSTANTS.APP_MODES.EXTENSION&&hs(o).getRecord(W.RQ_SETTINGS).then((function(e){f(!e||e.isExtensionEnabled)}))}),[o]);var A=t.MKTRuleID,R=function(e){var n=[];t.rules.forEach((function(t){n.push(hs(o).saveRuleOrGroup(Object(j.a)(Object(j.a)({},t),{},{status:e})))})),Promise.all(n).then((function(){l(function(e){return{type:d.TOGGLE_MARKETPLACE_RULES,payload:e}}(A))})).then((function(){p.CONSTANTS.RULE_STATUS.ACTIVE,Ve.success("Rule is now ".concat(e.toLowerCase()))})).then((function(){va(p.CONSTANTS.GA_EVENTS.CATEGORIES.MARKETPLACE,"toggled",t.name),Da("Marketplace Rule Toggled")}))},x=function(){return s[A]===p.CONSTANTS.RULE_STATUS.ACTIVE},N=Object(c.useCallback)(x,[A,s]);return Object(c.useEffect)((function(){S(N())}),[N]),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(xs.a,{checked:b,onChange:function(){o!==p.CONSTANTS.APP_MODES.EXTENSION||ts()?o!==p.CONSTANTS.APP_MODES.EXTENSION||!ts()||m?i.loggedIn?S(!b):r(kt("authModal",!0,{redirectURL:window.location.href})):r(kt("extensionModal",!0,{redirectURL:window.location.href,disabled:!0})):r(kt("extensionModal",!0,{redirectURL:window.location.href}))},onClick:function(e){o===p.CONSTANTS.APP_MODES.EXTENSION&&!ts()||o===p.CONSTANTS.APP_MODES.EXTENSION&&ts()&&!m||i.loggedIn&&(x()?R(p.CONSTANTS.RULE_STATUS.INACTIVE):R(p.CONSTANTS.RULE_STATUS.ACTIVE))}})})},Cs=[{title:"Site",width:10,align:"center",dataIndex:"site",render:function(e){return Object(C.jsx)(fs,{ruleData:e})}},{title:"Name",width:200,dataIndex:"name",render:function(e){return Object(C.jsx)("p",{children:e})}},{title:"Tags",width:70,dataIndex:"tags",render:function(e){return Object(C.jsx)(Rs,{ruleData:e})}},{title:"Status",width:40,dataIndex:"status",align:"center",render:function(e){return Object(C.jsx)(Ns,{ruleData:e})}}],gs=function(e){var t=e.marketplaceRules,n=Object(c.useState)([]),a=Object(u.a)(n,2),r=a[0],i=a[1];Object(c.useEffect)((function(){t.map((function(e){return s(e,e.MKTRuleID)}))}),[]);var s=function(e,t){i((function(n){return[].concat(Object(Lt.a)(n),[{key:t,site:e,name:e.name+" "+e.description,tags:e.tags,status:e}])}))};return Object(C.jsx)(Ya.a,{columns:Cs,request:function(){return Promise.resolve({data:r,success:!0})},rowkey:"key",search:!1,toolBarRender:!1,pagination:!1,headerTitle:"Marketplace"})},_s=function(){return Object(C.jsx)("center",{children:Object(C.jsx)("h2",{style:{margin:"2rem"},children:"Couldn`t find any rule matching the given keyword."})})},Is=function(e){var t=e.marketplaceRules,n=Object(c.useContext)(Z),a=n.dispatch,r=function(e){return at(e).marketplace}(n.state),i=t,s=ie()(r)?i:i.filter((function(e){return e.name.match(new RegExp(r,"i"))}));return Object(c.useEffect)((function(){return function(){a({type:d.UPDATE_SEARCH,payload:{searchType:"marketplace",value:""}})}}),[a]),Object(C.jsx)("div",{style:{height:"100%",width:"100%"},children:ie()(s)?Object(C.jsx)(_s,{}):Object(C.jsx)(gs,{marketplaceRules:s})})},Ls=function(e){var t=e.marketplaceRules;return Object(C.jsx)(Is,{marketplaceRules:t})},vs=function(){var e=Object(c.useState)(!0),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),i=Object(u.a)(r,2),s=i[0],o=i[1],l=function(){var e=Object(te.a)(ae.a.mark((function e(){var t,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(Ts.e)(ln),n=Object(Ts.a)(t,"marketplace"),e.next=4,Object(Ts.d)(n);case 4:e.sent.forEach((function(e){o((function(t){return[].concat(Object(Lt.a)(t),[e.data()])}))})),a(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useLayoutEffect)((function(){l()}),[]),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(de.a,{fluid:!0,children:Object(C.jsx)(Oe.a,{children:Object(C.jsxs)(je.a,{children:[Object(C.jsx)(qt.a,{children:Object(C.jsx)(Oe.a,{children:Object(C.jsx)(oe.a,{children:Object(C.jsx)("h3",{style:{marginLeft:"2px"},children:"Marketplace"})})})}),n?Object(C.jsx)("div",{children:Object(C.jsx)(oc,{customLoadingMessage:"Loading Marketplace"})}):Object(C.jsx)(Ls,{marketplaceRules:s})]})})})})},ys=function(){var e=Object(c.useContext)(Z),t=e.dispatch,n=e.state,a=ze(n),r=st(n),s=Xe(n),o=Object(c.useCallback)(t,[t]);Object(c.useEffect)((function(){var e=hs(r).getRecords(p.CONSTANTS.OBJECT_TYPES.GROUP),t=hs(r).getRecords(p.CONSTANTS.OBJECT_TYPES.RULE);Promise.all([e,t]).then((function(e){var t=e[0],n=e[1];o(Pt(n,t))}))}),[o,r]);var l=Object(c.useCallback)((function(){var e={};return s.forEach((function(t){e[t.MKTRuleID]=t.status})),e}),[a]);return Object(c.useEffect)((function(){o(function(e){return{type:d.UPDATE_MARKETPLACE_RULES,payload:e}}(l()))}),[o,l]),Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(de.a,{fluid:!0,children:Object(C.jsx)(vs,{})})})},Us=function(e){Object(Ur.a)(n,e);var t=Object(Pr.a)(n);function n(){return Object(vr.a)(this,n),t.apply(this,arguments)}return Object(yr.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(ys,{})})}}]),n}(i.a.Component),Ps=function(){return Object(C.jsx)(i.a.Fragment,{children:Object(C.jsxs)(je.a,{children:[Object(C.jsx)("div",{children:Object(C.jsx)("div",{style:{textAlign:"center"},children:Object(C.jsx)("h1",{children:"Requestly Premium for Teams"})})}),Object(C.jsx)("h1",{style:{marginLeft:"10px"},children:"My Teams"}),Object(C.jsx)(Oe.a,{className:"profile-team",children:Object(C.jsx)(oe.a,{children:Object(C.jsx)(Ee.a,{className:"profile-team-body",children:Object(C.jsx)(Qa,{})})})})]})})},Ds=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ht,{component:Ps})})},ws=n(556),Ms=n(341),ks=tn.a.Text,Gs=function(){var e=Object(re.g)();return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(Nt.a,{className:"primary-card",children:[Object(C.jsx)(Ms.a,{status:"warning",title:"We are unable to verify this transaction!",subTitle:"Please try again with a different payment method. Any amount deducted would be automatically credited back to your card.",extra:[Object(C.jsx)(It.a,{type:"primary",onClick:function(){return Ie(e)},icon:Object(C.jsx)(ws.a,{}),children:"Try again"},"go-back")]}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,align:"center",children:Object(C.jsx)(ks,{type:"secondary",children:"To pay via PayPal or wire transfer, write to us at contact@requestly.io"})})})]})})},Fs=function(){var e=Object(re.g)();return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Nt.a,{className:"primary-card",children:Object(C.jsx)(Ms.a,{status:"success",title:"Successfully subscribed to Requestly Premium!",subTitle:"Account activation takes 1-2 minutes, please wait. You will shortly receive the receipt on your email address.",extra:[Object(C.jsx)(It.a,{type:"primary",onClick:function(){return Ae(e,!0)},icon:Object(C.jsx)(ws.a,{}),children:"Start using Requestly Premium"},"go-back")]})})})},Bs=n(173),Vs=W.PATHS,Ys=function(){var e=Object(re.g)();return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ms.a,{status:"404",title:"Oops! Error 404",subTitle:"Sorry, we can't find that page! Don't worry though, everything is STILL AWESOME!",extra:Object(C.jsx)(It.a,{type:"primary",onClick:function(){return e.push(Vs.RULES.RELATIVE)},icon:Object(C.jsx)(Bs.a,{}),children:"Back Home"})})})},Hs=W.PATHS,Ks=function(){var e=Object(re.g)();return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ms.a,{status:"403",title:"Oops! No access",subTitle:"Oops! Looks like you are not authorized to access this page. Don't worry though, everything is STILL AWESOME!",extra:Object(C.jsx)(It.a,{type:"primary",onClick:function(){return e.push(Hs.RULES.RELATIVE)},icon:Object(C.jsx)(Bs.a,{}),children:"Back Home"})})})},qs=function(e){var t=e.customHeading,n=e.hideShadow,a=Object(c.useRef)(!0),r=Object(c.useState)(!0),s=Object(u.a)(r,2),o=s[0],l=s[1],d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(!1),p=Object(u.a)(b,2),S=p[0],h=p[1],T=Object(c.useState)(!1),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(!1),x=Object(u.a)(R,2),N=x[0],g=x[1],_=Object(c.useCallback)((function(){var e=Object(be.a)();Object(be.b)(e,"fetchIndividualUserSubscriptionDetails")().then((function(e){if(!a.current)return null;if(!1===e.data.success)return E(!0),void l(!1);var t=e.data.data;g(t.status),"canceled"===t.status&&E(!0),h(new Date(1e3*t.endDate).toDateString()),A(new Date(1e3*t.startDate).toDateString()),l(!1)})).catch((function(e){if(!a.current)return null;l(!1)}))}),[]);return Object(c.useEffect)((function(){return _(),function(){a.current=!1}}),[_]),Object(C.jsx)(i.a.Fragment,{children:o?Object(C.jsx)(Oe.a,{children:Object(C.jsx)(Se,{})}):j?Object(C.jsx)(za,{customHeading:t,hideShadow:n}):Object(C.jsx)(ir,{hideManagePersonalSubscriptionButtion:!0,customHeading:t,hideShadow:n,subscriptionDetails:{validTill:S,validFrom:f,status:N,type:"individual"}})})},Ws=function(e){var t=e.mode,n=e.teamId,a=new URLSearchParams(window.location.search),r=!!a.has("autoRefresh")&&"true"===a.get("autoRefresh"),s=Object(c.useRef)(!0),o=Object(c.useContext)(Z).state,l=nt(o),d=Object(c.useState)(null),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(!1),p=Object(u.a)(b,2),S=p[0],h=p[1],T=Object(c.useState)([]),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(!1),x=Object(u.a)(R,2),g=x[0],_=x[1],I=function(e){if(t){_(!0);var a=[],r="individual"===t?"individualSubscriptions":"teams",c="individual"===t?l.details.profile.uid:n,i=Object(Ts.e)(ln),o=Object(Ts.a)(Object(Ts.b)(Object(Ts.a)(i,r),c),"invoices"),u=Object(Ts.h)(o,Object(Ts.g)("created","desc"),Object(Ts.i)(e||null),Object(Ts.f)(10));Object(Ts.d)(u).then((function(e){if(!s.current)return null;e.empty?h(!0):(e.forEach((function(e){e.data().number&&e.data().hosted_invoice_url&&a.push({id:e.id,total:Math.round(e.data().total/100).toFixed(2),subTotal:Math.round(e.data().subTotal/100).toFixed(2),tax:Math.round((e.data().tax||0)/100).toFixed(2),amountPaid:Math.round(e.data().amountPaid/100).toFixed(2),created:new Date(1e3*e.data().created).toDateString(),periodStart:new Date(1e3*e.data().periodStart).toDateString(),periodEnd:new Date(1e3*e.data().periodEnd).toDateString(),currency:e.data().currency,status:e.data().status,hosted_invoice_url:e.data().hosted_invoice_url,number:e.data().number,productStart:new Date(1e3*e.data().productStart).toDateString(),productEnd:new Date(1e3*e.data().productEnd).toDateString()})})),a.length>0&&(A((function(e){return e.concat(a)})),E(e))),_(!1)}))}},L=Object(c.useCallback)(I,[t,n,l.details.profile.uid]);return Object(c.useEffect)((function(){return L(),function(){s.current=!1}}),[L]),Object(c.useLayoutEffect)((function(){if(r){var e=setInterval((function(){Object(he.isEmpty)(f)&&L()}),2e3);return function(){clearInterval(e)}}}),[f,L,r]),Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,align:"center",children:g?Object(C.jsx)(Se,{customLoadingMessage:"Loading your invoices"}):Object(he.isEmpty)(f)?Object(C.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:Object(C.jsx)("h5",{children:"There are currently no invoices. If you have recently made a purchase, please wait a minute or two."})}):function(){var e=function(e){var t=new Set;return e.filter((function(e){var n=t.has(e.id);return t.add(e.id),!n}))}(f);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ya.a,{rowKey:"id",options:!1,pagination:!1,search:!1,dateFormatter:!1,headerTitle:!1,dataSource:e,columns:[{title:"Invoice ID",dataIndex:"number",render:function(e,t){return Object(C.jsx)(It.a,{type:"link",onClick:function(e){return window.open(t.hosted_invoice_url,"_blank")},children:e})}},{title:"Amount",render:function(e,t){return Object(C.jsx)("span",{className:"font-weight-bold",style:{textTransform:"uppercase"},children:"".concat(t.currency," ").concat(parseInt(t.total)>0?parseInt(t.total):0)})}},{title:"Status",dataIndex:"status",render:function(e,t){return function(e){switch(e.status){case"open":return Object(C.jsx)(i.a.Fragment,{children:Object(C.jsxs)(It.a,{className:"btn-icon btn-3",color:"primary",size:"sm",type:"button",children:[Object(C.jsx)("span",{className:"btn-inner--icon",children:Object(C.jsx)(N.t,{})}),Object(C.jsx)("span",{className:"btn-inner--text",children:"Pay now"})]})});case"paid":return Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)("i",{className:"bg-success"}),Object(C.jsx)("span",{className:"font-weight-bold",children:"Paid"})]});case"void":return Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)("i",{className:"bg-danger"}),Object(C.jsx)("span",{className:"font-weight-bold",children:"Cancelled"})]});case"draft":return Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)("i",{className:"bg-danger"}),Object(C.jsx)("span",{className:"font-weight-bold",children:"Pending"})]});case"uncollectible":return Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)("i",{className:"bg-danger"}),Object(C.jsx)("span",{className:"font-weight-bold",children:"Expired"})]});default:return Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)("i",{className:"bg-success"}),"Paid"]})}}(t)}},{title:"Invoice Date",dataIndex:"created"},{title:"Invoice Period",render:function(e,t){return"".concat(t.productStart," ~ ").concat(t.productEnd)}}]}),Object(C.jsx)("br",{}),S?Object(C.jsx)("span",{children:"- End of all invoices -"}):Object(C.jsx)(It.a,{onClick:function(e){I(j.docs[j.docs.length-1])},type:"link",children:"View Past Invoices"})]})}()})})})},Qs=function(){var e=Object(c.useRef)(!0),t=Object(c.useState)(!0),n=Object(u.a)(t,2),a=n[0],r=n[1],i=Object(c.useCallback)((function(){var t=Object(be.a)();Object(be.b)(t,"fetchIndividualUserSubscriptionDetails")().then((function(t){if(!e.current)return null;!1!==t.data.success?"canceled"===t.data.data.status&&r(!1):r(!1)})).catch((function(t){if(!e.current)return null}))}),[]);return Object(c.useEffect)((function(){return i(),function(){e.current=!1}}),[i]),Object(C.jsx)(de.a,{className:" mt--7",fluid:!0,children:Object(C.jsx)(Oe.a,{children:Object(C.jsx)(oe.a,{children:Object(C.jsxs)(je.a,{className:"shadow",children:[Object(C.jsx)(qt.a,{className:"border-0 has-thin-border-bottom",children:Object(C.jsxs)(Oe.a,{className:"align-items-center",children:[Object(C.jsx)(oe.a,{className:"text-center text-sm-center text-xl-left text-lg-left text-md-left margin-bottom-1-when-xs margin-bottom-1-when-sm",children:Object(C.jsx)("h2",{className:"mb-0",children:"Requestly Premium"})}),a?Object(C.jsx)(oe.a,{xs:"12",xl:"6",lg:"6",md:"6",className:"text-center text-sm-center text-xl-right text-md-right text-lg-right",children:Object(C.jsxs)(ue.a,{className:"btn-icon btn-3",color:"primary",type:"button",onClick:function(){return De({mode:"individual",planType:"gold"})},children:[Object(C.jsx)("span",{className:"btn-inner--icon",children:Object(C.jsx)(N.A,{size:"1rem"})}),Object(C.jsx)("span",{className:"btn-inner--text",children:"Change Plan"})]})}):null]})}),Object(C.jsxs)(Ee.a,{children:[Object(C.jsx)(Oe.a,{children:Object(C.jsxs)(oe.a,{children:[Object(C.jsx)("br",{}),Object(C.jsxs)("h4",{style:{textAlign:"center"},children:["You can manage your personal subscription here. If you want to manage a subscription for a Team instead, click"," ",Object(C.jsx)(l.b,{to:W.PATHS.ACCOUNT.MY_TEAMS.ABSOLUTE,children:"here"}),"."]})]})}),Object(C.jsx)("br",{}),Object(C.jsx)(sr,{hideShadow:!0,customHeading:"Currently Selected Subscription",hideManagePersonalSubscriptionButtion:!0,hideIfSubscriptionIsPersonal:!0,hideIfNoSubscription:!0}),Object(C.jsx)(qs,{hideShadow:!0,customHeading:"Personal Subscription"}),Object(C.jsxs)(je.a,{className:"border-0 has-no-box-shadow",children:[Object(C.jsx)(qt.a,{className:"border-0 has-thin-border-bottom",children:Object(C.jsxs)(Oe.a,{className:"align-items-center",children:[Object(C.jsx)(oe.a,{className:"text-center text-sm-center text-xl-left text-lg-left text-md-left margin-bottom-1-when-xs margin-bottom-1-when-sm",children:Object(C.jsx)("h3",{className:"mb-0",children:"Billing"})}),a?Object(C.jsx)(oe.a,{xs:"12",xl:"6",lg:"6",md:"6",className:"text-center text-sm-center text-xl-right text-md-right text-lg-right",children:Object(C.jsxs)(ue.a,{className:"btn-icon btn-3",color:"primary",type:"button",onClick:function(){return we({mode:"individual"})},children:[Object(C.jsx)("span",{className:"btn-inner--icon",children:Object(C.jsx)(N.h,{size:"1.2rem"})}),Object(C.jsx)("span",{className:"btn-inner--text",children:"Update Payment Method"})]})}):null]})}),Object(C.jsx)(Ee.a,{className:"border-0",children:Object(C.jsx)(Ws,{mode:"individual"})})]}),Object(C.jsx)(Oe.a,{children:Object(C.jsxs)(oe.a,{style:{fontSize:"0.8125rem"},className:"text-center",children:["Any questions? Reach our payment support team at"," ",Object(C.jsx)("a",{href:"mailto:".concat(p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),children:p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})]})})]})]})})})})},zs=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ht,{component:Qs})})},Xs=n(195),Js=n(152),Zs=tn.a.Text;function $s(e){var t=e.currency,n=e.price,a=e.duration,r=e.showOnlyExactAmount,s=e.plan,o=(e.enterpriseSecondPrice,Object(c.useContext)(Z).state),l=lt(o),u=function(){return+n};return 0===Number(n)?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("h1",{style:{textAlign:"center"},children:[Object(C.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:tr(null,t)}),Object(C.jsx)("span",{style:{fontSize:"3rem"},children:"0"}),Object(C.jsx)("span",{children:"/month"})]}),"monthly"===a?null:Object(C.jsx)("h4",{style:{textIndent:"100%",whiteSpace:"nowrap",overflow:"hidden"},children:tr(null,t)})]}):"monthly"===a?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("h1",{style:{textAlign:"center"},children:[Object(C.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:tr(null,t)}),s.id===W.PRICING.PLAN_NAMES.ENTERPRISE?Object(C.jsx)("span",{style:{fontSize:"3rem"},children:u()}):Object(C.jsx)("span",{style:{fontSize:"3rem"},children:+n}),Object(C.jsxs)("span",{children:["/month",s.id===W.PRICING.PLAN_NAMES.ENTERPRISE?"/user":null]})]}),s.id===W.PRICING.PLAN_NAMES.ENTERPRISE?Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{style:{textAlign:"center"},children:Object(C.jsxs)(Zs,{type:"secondary",children:[tr(null,t),u()*l," for ",l," ","users"]})})}):null]}):"quarterly"===a?Object(C.jsx)(i.a.Fragment,{children:r?Object(C.jsxs)("h1",{style:{textAlign:"center"},children:[Object(C.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:tr(null,t)}),+n,Object(C.jsx)("span",{children:"/quarter"})]}):Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsxs)("h1",{style:{textAlign:"center"},children:[Object(C.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:tr(null,t)}),+Math.floor(+n/3),Object(C.jsx)("span",{children:"/month"})]}),Object(C.jsxs)("h1",{children:[tr(null,t),Object(C.jsx)("b",{children:+n})," /quarter"]})]})}):"half-yearly"===a?Object(C.jsx)(i.a.Fragment,{children:r?Object(C.jsxs)("h1",{style:{textAlign:"center"},children:[Object(C.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:tr(null,t)}),+n,Object(C.jsx)("span",{className:"period",children:"/six months"})]}):Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsxs)("h1",{style:{textAlign:"center"},children:[Object(C.jsx)("span",{className:"period",style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:tr(null,t)}),+Math.floor(+n/6),Object(C.jsx)("span",{children:"/month"})]}),Object(C.jsxs)("h1",{style:{textAlign:"center"},children:[tr(null,t),Object(C.jsx)("b",{children:+n})," /six months"]})]})}):"annual"===a?Object(C.jsx)(i.a.Fragment,{children:r?Object(C.jsxs)("h1",{style:{textAlign:"center"},children:[Object(C.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:tr(null,t)}),+n,Object(C.jsx)("span",{children:"/year"})]}):Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsxs)("h1",{style:{textAlign:"center"},children:[Object(C.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:tr(null,t)}),Object(C.jsx)("span",{style:{fontSize:"3rem"},children:s.id===W.PRICING.PLAN_NAMES.ENTERPRISE?+Math.floor(u()/12):+Math.floor(+n/12)}),Object(C.jsxs)("span",{children:["/month",s.id===W.PRICING.PLAN_NAMES.ENTERPRISE?"/user":null]})]}),Object(C.jsxs)("h4",{style:{textAlign:"center"},children:["~ ",tr(null,t),Object(C.jsx)("b",{children:s.id===W.PRICING.PLAN_NAMES.ENTERPRISE?u():+n}),"/year",s.id===W.PRICING.PLAN_NAMES.ENTERPRISE?"/user":null]}),s.id===W.PRICING.PLAN_NAMES.ENTERPRISE?Object(C.jsx)(C.Fragment,{children:Object(C.jsx)("div",{style:{textAlign:"center"},children:Object(C.jsxs)(Zs,{type:"secondary",children:[tr(null,t),u()*l," for"," ",l," users"]})})}):null]})}):void 0}var eo=n(1031),to=n(161),no=n(95);function ao(e){var t=e.feature;return t.title&&!0===t.enabled?Object(C.jsxs)("div",{style:{display:"flex",margin:"10px"},children:[t.icon&&"frown"===t.icon?Object(C.jsx)(eo.a,{}):Object(C.jsx)(to.a,{style:{color:"#0a48b3"}}),Object(C.jsx)("h3",{className:"pricing-table-item-text",style:{margin:"auto"},children:t.title})]}):t.title&&!1===t.enabled?Object(C.jsxs)("div",{style:{display:"flex",margin:"10px"},children:[Object(C.jsx)(no.a,{}),Object(C.jsx)("h3",{className:"pricing-table-item-text",style:{color:"grey",margin:"auto"},children:t.title})]}):t.title?t.title:void 0}var ro=n(1032),co=n(1033),io=n(1015),so=function(e){var t=e.tooltipPlacement,n=e.alwaysVisible,a=Object(c.useContext)(Z),r=a.dispatch,i=a.state,s=lt(i),o=Object(c.useState)(s),l=Object(u.a)(o,2),O=l[0],j=l[1],E=function(e){r({type:d.UPDATE_TEAM_USERS_TO_CHECKOUT,payload:e})};return Object(C.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:Object(C.jsx)(io.a,{min:5,max:50,onChange:function(e){return j(e)},onAfterChange:function(e){return E(e)},value:O,tooltipVisible:n,tooltipPlacement:t})})},oo=p.CONSTANTS.GA_EVENTS,lo=function(e){var t=e.isVisible,n=e.toggleModal,a=e.numberOfDays,r=Object(re.i)().teamId,i=Object(c.useContext)(Z).state,s=nt(i),o=lt(i),l=Object(c.useState)(!1),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useState)(""),b=Object(u.a)(E,2),p=b[0],S=b[1],h=Object(c.useState)(s&&s.details&&s.details.profile&&s.details.profile.email?s.details.profile.email:""),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useState)(365),R=Object(u.a)(A,2),x=R[0],N=R[1];return Object(C.jsx)(Zt.a,{title:"Requestly for Teams",visible:t,onOk:function(){if(r||!Object(he.isEmpty)(m)&&Cn(m))if(r||!Object(he.isEmpty)(p)){j(!0);var e=Object(be.a)(),t=Object(be.b)(e,"enterprisePlanEnquiry"),n=Object(be.b)(e,"createTeam"),c=Object(be.b)(e,"updateTeamStripeUsers");c({teamId:r,stripeUsers:o}),t({userEmail:m,companyName:p,usersCount:o,billingEmail:m}),r?c({teamId:r,stripeUsers:o}).then((function(e){e.data.success&&Pe({mode:"team",teamId:r,planType:"enterprise",days:x})})):n({teamName:"".concat(p,"'s Team"),minUsers:5,stripeUsers:o}).then((function(e){var t=e.data.teamId;va(oo.CATEGORIES.TEAMS,oo.ACTIONS.CREATED,"New Team Created on Enterprise Checkout",{teamName:"".concat(p,"'s Team")}),Pe({mode:"team",teamId:t,planType:"enterprise",days:a||x}),j(!1)}))}else Be.b.error("Please enter your company name");else Be.b.error("Please enter a valid email")},confirmLoading:O,onCancel:function(){n(!1)},destroyOnClose:!0,okText:"Checkout",cancelText:"Cancel",width:600,children:Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsx)(gi.a,{labelCol:{span:6},wrapperCol:{span:14},children:r?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(gi.a.Item,{label:"No. of users",children:Object(C.jsx)(so,{tooltipPlacement:"top",alwaysVisible:!0})}),Object(C.jsx)(gi.a.Item,{label:"Billing Type",children:Object(C.jsxs)(Xs.a.Group,{value:x,onChange:function(e){return N(e.target.value)},children:[Object(C.jsx)(Xs.a.Button,{value:30,children:"Monthly"}),Object(C.jsx)(Xs.a.Button,{value:365,children:"Annual"})]})})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(gi.a.Item,{label:"Company Name",children:Object(C.jsx)(Jt.a,{type:"text",value:p,onChange:function(e){return S(e.target.value)},prefix:Object(C.jsx)(ro.a,{}),placeholder:"Ex: Amazon"})}),Object(C.jsx)(gi.a.Item,{label:"Your email",children:Object(C.jsx)(Jt.a,{type:"email",value:m,onChange:function(e){return f(e.target.value)},prefix:Object(C.jsx)(co.a,{}),placeholder:"sam@amazon.com"})})]})})})})})},uo=tn.a.Text,Oo=ut,jo=W.AUTH.ACTION_LABELS,Eo=function(e){var t=e.features,n=e.currency,a=e.duration,r=e.currentPlan,s=e.onChoosePlan,o=e.isPlanExpired,l=e.annualDiscountValue,d=Object(Js.useMediaQuery)({minWidth:1200}),O=Object(Js.useMediaQuery)({minWidth:768}),j=Object(c.useContext)(Z),E=j.state,b=j.dispatch,p=nt(E),S=Object(re.g)(),h=Object(c.useState)(!1),T=Object(u.a)(h,2),m=T[0],f=T[1];if(!t||!t.length)return Object(C.jsx)("div",{className:"section is-large has-text-centered",children:Object(C.jsx)("button",{className:"button is-loading",children:"Loading"})});var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!m;f(e)},R=function(){return Object(C.jsx)("span",{children:"Upgrade"})};return Object(C.jsx)("div",{style:{display:"grid",justifyContent:"center",gridTemplateColumns:d?"repeat(3,1fr)":O?"repeat(2,1fr)":"auto",gap:d?"50px":O?"10px":"0px"},children:Oo.map((function(e){if("quarterly"===a||"half-yearly"===a)return Object(C.jsx)(i.a.Fragment,{},e.id);var c;c=(e.id,W.PRICING.PLAN_NAMES.ENTERPRISE,e[a].price[n]),"gold"===e.id&&"annual"===a?c-=l/100*c:e.allowDiscounts&&(c-=0*c),c=c.toFixed(2);var u=0===Number(c),d=pt(r),O=St(e.id),j=!(!d||o||!p)&&Et(p),E=function(t){return"gold"===e.id?Object(C.jsx)(Fa.a.Ribbon,{text:"Popular",children:t.children}):t.children};return Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)("div",{onClick:function(){return s(e.id)},children:Object(C.jsx)(E,{text:"Popular",children:Object(C.jsx)(Ei.a,{hoverable:!0,style:"gold"===e.id?{margin:"10px",display:"flex",justifyContent:"center",borderWidth:"3px",borderRadius:"0.5rem",borderColor:"#0a48b3"}:{margin:"10px",display:"flex",justifyContent:"center"},className:"pricing-table-shadow",children:Object(C.jsxs)("div",{style:{width:"300px"},children:[Object(C.jsx)("h1",{style:{display:"grid",placeItems:"center",fontWeight:"bolder"},children:ht(e.id)}),Object(C.jsx)($s,{currency:n,duration:a,price:c,plan:e}),O?Object(C.jsx)(so,{}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{style:{visibility:"hidden"},children:"\xa0"}),Object(C.jsx)("div",{style:{visibility:"hidden"},children:"\xa0"})]}),Object(C.jsx)("div",{style:{textAlign:"center"},children:Object(C.jsx)(uo,{type:"secondary",children:u?"No Credit Card Required":"Cancel Anytime"})}),Object(C.jsx)("hr",{className:"hr-light"}),Object(C.jsx)("div",{children:t.map((function(t){return!1===t.showInComparisonTable?Object(C.jsx)(i.a.Fragment,{},t.id):Object(C.jsx)("div",{style:{textAlign:"center",margin:"1.1rem"},children:Object(C.jsx)(ao,{feature:t[e.id]})},t.id)}))}),Object(C.jsx)("br",{}),u?Object(C.jsx)(It.a,{block:!0,size:"large",shape:"round",type:"secondary",onClick:function(){return p.loggedIn?S.push("/rules"):void b(kt("authModal",!0,{redirectURL:window.location.href,authMode:jo.SIGN_UP}))},children:"Sign up for free"}):O?Object(C.jsx)(It.a,{block:!0,size:"large",shape:"round",type:j&&!O?"default":"primary",icon:Object(C.jsx)(Zc.a,{}),onClick:function(e){p.loggedIn?f(!0):b(kt("authModal",!0,{redirectURL:window.location.href,authMode:jo.SIGN_IN})),e.stopPropagation()},children:O?"Upgrade":j?"Current plan":"Contact Us"}):Object(C.jsx)(It.a,{block:!0,size:"large",shape:"round",type:j&&!O?"default":"primary",disabled:j&&!O,icon:Object(C.jsx)(Zc.a,{}),children:O?R():j?"Current plan":R()})]})})})},e.id),m?Object(C.jsx)(lo,{numberOfDays:$a(a),isVisible:m,toggleModal:A}):null]},e.id)}))})},bo=n(549),po=p.CONSTANTS.GA_EVENTS;function So(e){var t=e.user,n=Object(c.useState)({}),a=Object(u.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)(0),l=Object(u.a)(o,2),d=l[0],O=l[1],j=Object(be.a)(),E=Object(be.b)(j,"getEnterpriseAdminDetails"),b=Object(be.b)(j,"requestEnterprisePlanFromAdmin");return Object(c.useLayoutEffect)((function(){t.details.isLoggedIn&&0===Object.keys(r).length&&E({email:t.details.profile.email}).then((function(e){s(e)}))})),Object(C.jsx)(i.a.Fragment,{children:r&&r.data&&r.data.success?1===d?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("br",{}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,align:"center",children:Object(C.jsx)(Wa.a,{})})}),Object(C.jsx)("br",{})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("br",{}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{className:"",sm:"12",span:14,offset:5,align:"center",children:2===d?Object(C.jsx)(bo.a,{type:"success",showIcon:!0,color:"primary",message:Object(C.jsxs)(C.Fragment,{children:[r.data.enterpriseData.admin.name," ","has been notified. Please get in touch with them for further details."]})}):Object(C.jsx)(bo.a,{type:"info",showIcon:!0,message:Object(C.jsxs)(C.Fragment,{children:["Your organization is already on Requestly Enterprise Plan managed by"," ",r.data.enterpriseData.admin.name,"."," ",Object(C.jsx)("span",{onClick:function(){O(1);var e=r.data.enterpriseData.admin,n=e.email.split("@")[1];b({userEmail:t.details.profile.email,adminEmail:e.email,adminName:e.name}).then((function(){va(po.CATEGORIES.PRICING,po.ACTIONS.REQUEST_ADMIN,"".concat(n," enterprise requested")),O(2)})).catch((function(t){console.log(t),Ve.error("Unable to send email"),Ve.info("Contact directly at: ".concat(e.email))}))},className:"text-light",style:{cursor:"pointer",fontWeight:"bolder"},children:"Click here"})," ","to request Premium subscription for you."]})})})}),Object(C.jsx)("br",{})]}):null})}var ho=p.CONSTANTS.GA_EVENTS,To=Za,mo=er,fo=nr,Ao=function(e){var t=e.currency,n=Object(Js.useMediaQuery)({minWidth:1200}),a=Object(Js.useMediaQuery)({minWidth:768}),r=Object.values(mo).includes(t)?t:null,s=Object(c.useContext)(Z).state,o=nt(s),l=Object(c.useState)(null),d=Object(u.a)(l,1)[0],O=Object(c.useState)(!!r),j=Object(u.a)(O,1)[0],E=Object(c.useState)(r?r.toUpperCase():To),b=Object(u.a)(E,2),S=b[0],h=b[1],T=Object(c.useState)("annual"),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(dt),x=Object(u.a)(R,1)[0],N=Object(c.useState)(!1),g=Object(u.a)(N,2),_=g[0],I=g[1],L=Object(c.useState)(null),v=Object(u.a)(L,2),y=v[0],U=v[1],P=Object(c.useState)(null),D=Object(u.a)(P,2),w=D[0],M=D[1],k=Object(c.useState)(!1),G=Object(u.a)(k,2),F=G[0],B=G[1],V=Object(c.useCallback)((function(){if(j)return h(S),void I(!0);fetch("https://api.country.is/").then((function(e){200===e.status&&e.json().then((function(e){if(e.country){var t=fo(e.country);h(t)}else h(To);I(!0)}))})).catch((function(e){h(To),I(!0)}))}),[]);return Object(c.useLayoutEffect)((function(){o.details.isLoggedIn&&(o.details.planDetails?(M(mt(o.details.planDetails)),U(o.details.planDetails.planId.split("_")[0])):U("bronze")),_||V()}),[d,f,S,_,V,o]),Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)(Oe.a,{children:Object(C.jsxs)("div",{style:{display:"grid",placeItems:"center"},children:[Object(C.jsx)("h1",{className:"font-weight-bolder  mt-4 h1-larger",style:{fontWeight:700},children:"New Plans and Pricing Coming Soon"}),Object(C.jsxs)("h3",{children:["Requestly plans and pricing are changing ",Object(C.jsx)("b",{children:"January 15"}),"."," ",Object(C.jsx)("a",{href:"https://requestly.io/blog/announcing-2021-plans-pricing-updates",target:"_blank",rel:"noreferrer",children:"Read our blog"})," ","to learn more."," "]})]})}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Xs.a.Group,{style:{display:"grid",placeItems:"center",marginTop:"30px"},defaultValue:"annual",buttonStyle:"solid",onChange:function(e){return t=e.target.value,A(t),void va(p.CONSTANTS.GA_EVENTS.CATEGORIES.PRICING,p.CONSTANTS.GA_EVENTS.ACTIONS.DURATION_CHANGE,"Duration changed to ".concat(t));var t},children:Object(C.jsxs)("div",{children:[Object(C.jsx)(Xs.a.Button,{style:{width:a?"200px":"100px",textAlign:"center",borderTopLeftRadius:"20px",borderBottomLeftRadius:"20px",fontWeight:"bold"},value:"monthly",children:"Monthly"}),Object(C.jsx)(Xs.a.Button,{style:{width:a?"200px":"100px",textAlign:"center",borderTopRightRadius:"20px",borderBottomRightRadius:"20px",fontWeight:"bold"},value:"annual",children:"Yearly"})]})}),Object(C.jsx)("h4",{style:{color:"#0a48b3",display:n?"grid":"none",placeItems:"center",marginLeft:"200px",marginTop:"10px",fontWeight:"bold"},children:"~2 months EXTRA!"})]}),Object(C.jsx)(So,{user:o}),Object(C.jsx)(Eo,{currency:S,duration:f,annualDiscountValue:0,features:x,currentPlan:y,isPlanExpired:w,onChoosePlan:function(e){"bronze"!==e&&(o.details.isLoggedIn?St(e)?(va(ho.CATEGORIES.PRICING,ho.ACTIONS.VIEWED,"Redirected@TeamsCheckout.from.pricing.page"),B(!0)):(va(ho.CATEGORIES.PRICING,ho.ACTIONS.VIEWED,"Redirected@Checkout.from.Pricing.Page"),Pe({mode:"individual",planType:"gold",days:$a(f)})):(va(ho.CATEGORIES.PRICING,ho.ACTIONS.LOGIN_REQUESTED,"sign in"),function(e,t){var n=t||{},a=n.redirectURL,r=n.source,c=new URL(window.location.origin+me.AUTH.SIGN_IN.ABSOLUTE);a&&c.searchParams.set("redirectUrl",a),r&&c.searchParams.set("src",r),e?e.push(c.href):window.location=c.href}(!1,{redirectURL:window.location.pathname,source:"pricing",hardRedirect:!0})))}}),Object(C.jsx)("div",{className:"container section content mb-3",children:y===W.PRICING.PLAN_NAMES.SILVER?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("span",{children:["You are on Silver Plan which expires on"," ",Tt(o.details.planDetails),". Silver Plan is deprecated and can no longer be renewed. Please contact us at"," ",Object(C.jsx)("a",{href:"mailto:contact@requestly.io",children:"contact@requestly.io"})," for further questions."]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{})]}):null}),F?Object(C.jsx)(lo,{numberOfDays:$a(f),isVisible:F,toggleModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!F;B(e)}}):null]})};n(423);var Ro={AU:3,BR:5,CA:4,CN:3,DE:1,GB:5,IN:6,JP:6,RU:6,TR:2,US:6},xo=function(){var e=Object(te.a)(ae.a.mark((function e(){var t,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.country.is/");case 2:if(200!==(t=e.sent).status){e.next=10;break}return e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n.country);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),No=function(){var e=Object(te.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=localStorage.getItem("country"))){e.next=6;break}return e.next=4,xo();case 4:t=e.sent,localStorage.setItem("country",t);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Co=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(0),i=Object(u.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(!0),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useCallback)((function(e){""===e?j(!1):void 0!==Ro[e]?(o(Ro[e]),j(!1)):""!==e&&void 0===Ro[e]&&j(!1)}),[]),b=Object(c.useCallback)(Object(te.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,No();case 2:t=e.sent,a(t),E(t);case 5:case"end":return e.stop()}}),e)}))),[E]);Object(c.useLayoutEffect)((function(){b()}),[b]);var p=Object(Js.useMediaQuery)({minWidth:1224}),S=Object(Js.useMediaQuery)({minWidth:768});return Object(C.jsx)("div",{style:{display:"grid",gridTemplateColumns:p?"repeat(12,auto)":S?"repeat(5,auto)":"repeat(3,auto)",justifyContent:"center",gap:"20px"},children:O?Object(C.jsx)(qa.a,{indicator:!0}):[Object(Lt.a)(Array(s)).map((function(e,t){return Object(C.jsx)("div",{children:Object(C.jsx)("img",{height:100,width:100,alt:"",style:{cursor:"default"},src:"assets/img/countries-customer-brand/".concat(n,"/customerLogo-").concat(t,".svg"),className:"bw-color-on-hover"})},t)})),Object(Lt.a)(Array(10-s)).map((function(e,t){return Object(C.jsx)("div",{children:Object(C.jsx)("img",{height:100,width:100,alt:"",style:{cursor:"default"},src:"assets/img/customer-brand/customerLogo-".concat(t,".svg"),className:"bw-color-on-hover"})},t)}))]})},go=n(1021),_o=function(e){var t=Object(be.a)();Object(be.b)(t,"requestEmailSignIn")().then((function(e){console.log(e)})).catch((function(e){return console.error(e.message)}))},Io=function(){var e=Object(Js.useMediaQuery)({minWidth:768}),t=[{ques:Object(C.jsx)(i.a.Fragment,{children:"Do you offer any trial period?"}),answer:Object(C.jsxs)(i.a.Fragment,{children:["No, but we offer ",Object(C.jsx)("strong",{children:"15-days Guarantee Period"}),". If you are not happy with your premium subscription, you may cancel your subscription from Account Settings or by reaching out our support."]})},{ques:Object(C.jsx)(i.a.Fragment,{children:"Is there any discount for an annual subscription?"}),answer:Object(C.jsx)(i.a.Fragment,{children:"Yes, we offer discounts if you choose annual subscription for any plan. Please check annual pricing for details."})},{ques:Object(C.jsx)(i.a.Fragment,{children:"Does unlimited really mean unlimited?"}),answer:Object(C.jsxs)(i.a.Fragment,{children:["For most of the intents and purposes, ",Object(C.jsx)("strong",{children:"yes"}),". It serves the purpose for most of our users. Further, some things might be restricted due to storage or performance reasons. Please contact us in case it happens and we'll look into it."]})},{ques:Object(C.jsx)(i.a.Fragment,{children:"Can I upgrade from personal subscription to a Team subscription?"}),answer:Object(C.jsx)(i.a.Fragment,{children:"Yes. Cancel your personal subscription after activating a Team subscription and we'll refund the adjusted amount of personal subscription."})},{ques:Object(C.jsx)(i.a.Fragment,{children:"Which payment methods do you accept?"}),answer:Object(C.jsxs)(i.a.Fragment,{children:["We are using ",Object(C.jsx)("strong",{children:"Stripe"})," as our payment processor. Stripe supports majority of credit and debit card networks including"," ",Object(C.jsx)("strong",{children:"Visa & Mastercard"}),". American Express and Discover card users need to contact us at"," ",Object(C.jsx)("a",{className:"has-no-text-decoration",href:"mailto:".concat(p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),target:"_blank",rel:"noopener noreferrer",children:Object(C.jsx)("strong",{children:p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})}),"."]})},{ques:Object(C.jsx)(i.a.Fragment,{children:"Do you offer discounts for open-source project maintainers?"}),answer:Object(C.jsxs)(i.a.Fragment,{children:["Yes, we do offer discounts for ",Object(C.jsx)("b",{children:"open-source"})," project maintainers on a case-by-case basis. Please send an email to"," ",Object(C.jsx)("a",{className:"has-no-text-decoration",href:"mailto:".concat(p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),target:"_blank",rel:"noopener noreferrer",children:Object(C.jsx)("strong",{children:p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})})," ","with a description of your project and we'll review."]})},{ques:Object(C.jsx)(i.a.Fragment,{children:" Do you offer discounts for students?"}),answer:Object(C.jsxs)(i.a.Fragment,{children:["Yes, we offer one year free subscription of Requestly Premium to current ",Object(C.jsx)("b",{children:"students"}),". Please share your details at"," ",Object(C.jsx)("a",{className:"has-no-text-decoration",href:"mailto:".concat(p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),target:"_blank",rel:"noopener noreferrer",children:Object(C.jsx)("strong",{children:p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})}),"."]})},{ques:Object(C.jsx)(i.a.Fragment,{children:"I have another query..."}),answer:Object(C.jsxs)(i.a.Fragment,{children:["We are happy to help you. You can live chat with us during our office hours or write to us at"," ",Object(C.jsx)("a",{className:"has-no-text-decoration",href:"mailto:".concat(p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),target:"_blank",rel:"noopener noreferrer",children:Object(C.jsx)("strong",{children:p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})}),"."]})}];return Object(C.jsxs)("div",{children:[Object(C.jsx)("br",{}),Object(C.jsxs)("h1",{style:{textAlign:"center",fontSize:"1.6rem"},children:["Pricing ",Object(C.jsx)("span",{onClick:_o,children:"&"})," limits FAQ"]}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{style:{margin:"0px 5%",display:"flex"},children:Object(C.jsx)(go.b,{grid:{gutter:16,column:e?2:1},dataSource:t,renderItem:function(e){return Object(C.jsx)(go.b.Item,{children:Object(C.jsx)(Xr.a,{author:Object(C.jsxs)("h1",{style:{fontWeight:600,color:"#000"},children:["\u2192 ",e.ques]}),content:Object(C.jsx)("h3",{children:e.answer})})})}})})]})},Lo=function(){var e=Object(c.useContext)(Z).state,t=nt(e);return Object(c.useEffect)((function(){var e=Object(be.a)(),n=Object(be.b)(e,"pricingPageViews");t.loggedIn&&n({email:t.details.profile.email,emailType:mn(t.details.profile.email)})}),[t]),Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(Nt.a,{className:"primary-card",children:Object(C.jsx)(Oe.a,{children:Object(C.jsx)("div",{className:"col text-center",children:Object(C.jsxs)(je.a,{className:"shadow",children:[Object(C.jsx)(Ao,{}),Object(C.jsx)("br",{}),Object(C.jsxs)("div",{style:{textAlign:"center"},children:[Object(C.jsx)("h4",{style:{display:"flex",justifyContent:"center",color:"grey"},children:"Have a coupon code? You can apply on checkout."}),Object(C.jsxs)("h4",{style:{display:"flex",justifyContent:"center",color:"grey"},children:["Prices inclusive of tax. Secure payment by \xa0",Object(C.jsx)(N.F,{size:"2rem",color:"#0a48b3",style:{transform:"translate(0%, -12%)"}})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("h2",{children:"Trusted by developer teams from 500+ organizations"}),Object(C.jsx)(Co,{})]}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)(Io,{})]})})})})})},vo=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Lo,{})})},yo=n(339);var Uo=function(e){var t=e.code,n=e.count,a=e.limit,r=function(){return"".concat(window.location.origin).concat(W.PATHS.AUTH.SIGN_UP.RELATIVE,"?rcode=").concat(t," ")},c=function(){return Object(C.jsxs)(gt.a,{children:[Object(C.jsx)("p",{className:"display-5",children:"When a new user joins with a different work email domain from yours, you both receive 1 month of Requestly Premium."}),Object(C.jsxs)("p",{className:"display-5",children:["When a new user joins with same work email domain as yours, you both receive 2 months of Requestly Premium."," ",Object(C.jsxs)("a",{href:"https://requestly.io/blog/2021/02/06/introducing-referral-feature/",target:"_blank",rel:"noreferrer",children:["Learn More ",Object(C.jsx)("i",{className:"fas fa-external-link-alt pl-1"})]})]})]})},i=function(){var e=0;return n&&a&&(e=n/a*100),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,align:"center",children:Object(C.jsx)(Ec.a,{title:"Click to copy",children:Object(C.jsxs)(It.a,{onClick:function(){return e=r(),t=(t="Copied Referral link to clipboard!")||"Copied to clipboard!",void navigator.clipboard.writeText(e).then((function(){Ve.info(t)}),(function(e){console.error("Async: Could not copy text: ",e)}));var e,t},type:"success",color:"secondary",children:[r(),Object(C.jsx)("i",{className:"far fa-clipboard fa-2x"})]})})})}),Object(C.jsx)("br",{}),Object(C.jsx)(Ct.a,{children:Object(C.jsxs)(gt.a,{span:4,offset:10,align:"center",children:[Object(C.jsx)("div",{className:"text-center",children:"Referred ".concat(n," out of ").concat(a)}),Object(C.jsx)(yo.a,{percent:parseInt(e||0)})]})})]})};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(c,{}),Object(C.jsx)(i,{})]})},Po=n(1011);var Do=function(e){var t=e.referredAccounts;return Object(C.jsxs)(je.a,{className:"m-2",children:[Object(C.jsx)(qt.a,{children:Object(C.jsx)(Oe.a,{className:"pl-5",children:Object(C.jsx)("h2",{children:"Users you have referred"})})}),Object(C.jsx)(Ee.a,{children:Object(C.jsxs)(Po.a,{children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{children:"#"}),Object(C.jsx)("th",{children:"Email"}),Object(C.jsx)("th",{children:"Date Joined"}),Object(C.jsx)("th",{children:"Rewards"})]})}),Object(C.jsx)("tbody",{children:t.map((function(e,t){return Object(C.jsxs)("tr",{children:[Object(C.jsx)("th",{scope:"row",children:t+1}),Object(C.jsx)("td",{children:e.email}),Object(C.jsx)("td",{children:e.dateJoined}),Object(C.jsx)("td",{children:e.reward})]},t)}))})]})})]})};function wo(e){return e.split("").reverse().join("")}function Mo(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*a));return t}function ko(e){return Mo(2)+wo(e)+Mo(2)}function Go(e){return Aa.getValue(["customProfile",e,"referral"]).then((function(t){return t||(console.log("making referral node"),function(e,t){var n={referral:{code:ko(e),referredAccountsCount:0,referredAccounts:[]}};return Aa.setValue(["customProfile",e],n)}(e).then((function(){return Aa.getValue(["customProfile",e,"referral"]).then((function(e){return e}))})))})).catch((function(e){return console.log(e)}))}var Fo=function(){var e=Object(c.useContext)(Z).state,t=nt(e),n=Object(c.useState)(),a=Object(u.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)(),l=Object(u.a)(o,2),d=l[0],O=l[1];return Object(c.useEffect)((function(){t.details.profile&&!r&&Go(t.details.profile.uid).then((function(e){s(e)})).catch((function(e){return console.log(e)})),d||Aa.getValue(["referral","limit"]).then((function(e){return O(e)})).catch((function(e){return console.log(e)}))}),[r,t,d]),r&&d?Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(Nt.a,{className:"primary-card",children:Object(C.jsx)(Ct.a,{children:Object(C.jsxs)(gt.a,{span:24,align:"center",children:[Object(C.jsx)(Ct.a,{className:"align-items-center",children:Object(C.jsxs)(gt.a,{span:"24",align:"center",children:[Object(C.jsxs)("h2",{className:"mb-0",children:["Spread the Love"," ",Object(C.jsx)("span",{role:"img","aria-label":"confetti",children:"\ud83c\udf89"})]}),Object(C.jsx)("p",{className:"text-muted mb-0",children:"Invite your colleagues to Requestly and get Requestly Premium Free"})]})}),Object(C.jsx)(Uo,{code:r.code,count:r.referredAccountsCount,limit:d}),r.referredAccounts?Object(C.jsx)(Do,{referredAccounts:r.referredAccounts}):null]})})})}):Object(C.jsx)(oc,{customLoadingMessage:"Getting Referral Information"})},Bo=function(e){Object(Ur.a)(n,e);var t=Object(Pr.a)(n);function n(){return Object(vr.a)(this,n),t.apply(this,arguments)}return Object(yr.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ht,{component:Fo})})}}]),n}(i.a.Component),Vo=function(e){switch(e.ruleType){case p.CONSTANTS.RULE_TYPES.QUERYPARAM:e.pairs.map((function(e){return e.id=e.id||En(),e.modifications.map((function(e){return e.id=e.id||En()})),e}));break;case p.CONSTANTS.RULE_TYPES.SCRIPT:e.pairs.map((function(e){return e.id=e.id||En(),e.scripts.map((function(e){return e.id=e.id||En()})),e}));break;default:e.pairs.map((function(e){return e.id=e.id||En(),e}))}return e},Yo=W.RULES_LIST_TABLE_CONSTANTS,Ho=function(e,t){return hs(e).saveMultipleRulesOrGroups(t)},Ko=function(e,t){var n=t;e.forEach((function(e){n>0?(e.status=p.CONSTANTS.RULE_STATUS.ACTIVE,n--):function(e){e.status=p.CONSTANTS.RULE_STATUS.INACTIVE}(e)}))},qo=function(e){var t=[],n=[],a={};return e.forEach((function(e){return e.objectType===p.CONSTANTS.OBJECT_TYPES.RULE?t.push(e):e.objectType===p.CONSTANTS.OBJECT_TYPES.GROUP?function(e){n.push(e),a[e.id]=!0}(e):null})),{rules:t,groups:n,groupsId:a}},Wo=function(e){return(e.status===p.CONSTANTS.RULE_STATUS.ACTIVE||p.CONSTANTS.RULE_STATUS.INACTIVE)&&(e.objectType===p.CONSTANTS.OBJECT_TYPES.RULE||p.CONSTANTS.OBJECT_TYPES.GROUP)&&"string"===typeof e.name&&"string"===typeof e.description},Qo=function(e){return e.forEach((function(e){return e.creationDate=jn(),e}))},zo=function(e,t,n){var a,r,c=qo(e),i=c.rules.filter((function(e){return Wo(e)})),s=c.groups.filter((function(e){return Wo(e)}));Qo(i),Qo(s),function(e){e.forEach((function(e){return e.id="".concat(e.ruleType,"_").concat(En()),e}))}(i),function(e){e.forEach((function(e){return e.objectType===p.CONSTANTS.OBJECT_TYPES.RULE?Vo(e):e}))}(i);var o,l,u=ft(t),d=Rt(W.FEATURES.ACTIVE_RULES,u),O=n.filter((function(e){return e.status===p.CONSTANTS.RULE_STATUS.ACTIVE&&!tl(e)})).length;Et(t)||Ko(i,d-O);o=i,l=c.groupsId,o.forEach((function(e){return e.groupId=l[e.groupId]?e.groupId:Yo.UNGROUPED_GROUP_ID,e}));var E=i.concat(s),b=(null===t||void 0===t||null===(a=t.details)||void 0===a||null===(r=a.profile)||void 0===r?void 0:r.uid)||null,S=[];return(i.length||s.length)&&E.forEach((function(e){var t=Object(j.a)(Object(j.a)({},e),{},{currentOwner:b});S.push(t)})),new Promise((function(e){e({data:S,rulesCount:i.length,groupsCount:s.length})}))},Xo=W.RULES_LIST_TABLE_CONSTANTS,Jo=(Xo.GROUP_DETAILS,function(e,t,n){return e.groupId!==Xo.UNGROUPED_GROUP_ID&&(n[e.groupId]||(t.push(e.groupId),n[e.groupId]=!0)),Zo(e)}),Zo=function(e){var t=e;return delete t.isFavourite,t},$o=function(e,t,n){return new Promise((function(a){var r=[],c={};hs(e).getAllRecords().then((function(e){var i=t.map((function(t){return Jo(e[t],r,c)})),s=[];r.forEach((function(e){s.push(n[e][Xo.GROUP_DETAILS])})),a({rules:i,groups:s})}))}))},el=function(e,t){var n=e.modificationDate?e.modificationDate:e.creationDate,a=t.modificationDate?t.modificationDate:t.creationDate;return n<a?1:n>a?-1:0},tl=function(e){return"MKTRuleID"in e},nl=function(){var e=Object(te.a)(ae.a.mark((function e(t,n){var a,r,c,i;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,hs(n).getAllRecords().then((function(e){var t=[],n=[],a={},r=[],c={};for(var i in e)switch(e[i].objectType){case p.CONSTANTS.OBJECT_TYPES.RULE:r.push(e[i]);break;case p.CONSTANTS.OBJECT_TYPES.GROUP:c[i]=e[i]}var s=r.map((function(e){return e.groupId!==Xo.UNGROUPED_GROUP_ID&&(a[e.groupId]||(n.push(e.groupId),a[e.groupId]=!0)),e}));return n.forEach((function(e){t.push(c[e])})),{rules:s,groups:t}}));case 3:if(a=e.sent,r=a.rules,c=a.groups,!r.length&&!c.length){e.next=12;break}return i=[],r.forEach((function(e){if(!tl(e)){var n=Object(j.a)(Object(j.a)({},e),{},{currentOwner:t});i.push(n)}})),c.forEach((function(e){var n=Object(j.a)(Object(j.a)({},e),{},{currentOwner:t});i.push(n)})),e.next=12,Ho(n,i);case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t,n){return e.apply(this,arguments)}}(),al=function(e){return e?"execution_".concat(e):null},rl=p.CONSTANTS.GA_EVENTS,cl=function(){var e=Object(te.a)(ae.a.mark((function e(t,n){var a,r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(sn.c)(),r=Object(sn.e)(a,"users/".concat(t,"/profile")),e.next=5,Object(sn.h)(r,{isBackupEnabled:n});case 5:return Ve.info("Backups are now ".concat(n?"enabled":"disabled",".")),e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),Ve.error("Sorry, we are experiencing issues updating the backup state."),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),il=function(e){return hs(e).getRecord(W.LAST_BACKUP_TIMESTAMP)},sl=function(e,t){var n=new Date(e),a=new Date(t);return n.getTime()-a.getTime()},ol=function(e){var t=!1;if(e){var n=sl(Date.now(),e);Math.floor(n/1e3/60/60/24)>7&&(t=!0)}return Boolean(!e&&t)},ll=function(e){return il(e).then((function(t){var n,a=Date.now();t&&(n=sl(a,t));var r=Math.floor(n/1e3/60/60);return!t||r>6?function(e){return new Promise((function(t){hs(e).getAllRecords().then((function(e){var n=[],a={},r=[],c={};for(var i in e)switch(e[i].objectType){case p.CONSTANTS.OBJECT_TYPES.RULE:r.push(e[i]);break;case p.CONSTANTS.OBJECT_TYPES.GROUP:c[i]=e[i]}var s=r.map((function(e){return Jo(e,n,a)})),o=[];n.forEach((function(e){o.push(c[e])})),t({rules:s,groups:o})}))}))}(e).then((function(t){var n=Object(be.a)(ln);return Object(be.b)(n,"updateRulesBackup")({records:t,timestamp:a}).then((function(){return va(rl.CATEGORIES.RULES,rl.ACTIONS.BACKUP_CREATED,"rules and groups backup created"),function(e,t){var n=t||Date.now();return hs(e).saveRecord(Object(O.a)({},W.LAST_BACKUP_TIMESTAMP,n)).then((function(){return{success:!0,time:n}}))}(e)}))})):{success:!1,time:n}}))},ul=function(e){return new Promise(function(){var t=Object(te.a)(ae.a.mark((function t(n){var a,r,c,i;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(Ts.e)(),r=Object(Ts.b)(Object(Ts.a)(a,"backup"),e),t.next=4,Object(Ts.c)(r);case 4:(c=t.sent).exists()?(i=c.data(),n({data:i})):n({data:null});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},dl=function(e){var t=new Date(e),n=t.getDate(),a=n+"/"+(t.getMonth()+1)+"/"+t.getFullYear();return isNaN(n)?null:a},Ol=n(1034),jl=p.CONSTANTS.GA_EVENTS,El=tn.a.Link,bl=function(){var e=Object(c.useContext)(Z),t=e.state,n=e.dispatch,a=function(e){return We(e).lastBackupTimeStamp}(t),r=nt(t).details.profile.uid,s=st(t),o=Object(c.useState)(""),l=Object(u.a)(o,2),d=l[0],O=l[1],j=Object(c.useState)(null),E=Object(u.a)(j,2),b=E[0],p=E[1],S=Object(c.useState)(!1),h=Object(u.a)(S,2),T=h[0],m=h[1],f=Object(c.useState)(!1),A=Object(u.a)(f,2),R=A[0],x=A[1],N=function(){var e=Object(te.a)(ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ul(r);case 2:t=e.sent,p(t.data),m(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=Object(c.useCallback)(N,[r]),_=function(e){if(b){x(!0);var t=b.backups[e];(function(e,t){var n=t.data,a=[].concat(Object(Lt.a)(n.groups),Object(Lt.a)(n.rules));return hs(e).saveMultipleRulesOrGroups(a)})(s,t).then((function(){Ve.info("Rules and Groups updated"),va(jl.CATEGORIES.RULES,jl.ACTIONS.BACKUP_USED,"backup number - ".concat(e+1," used")),x(!1)})).catch((function(){console.log("Error: Caught trying to copy empty backup to storage, please Report!"),x(!1)}))}else console.log("Error: Caught trying to copy empty backup to storage, please Report!")},I=[{title:"Backup Date",dataIndex:"timestamp",valueType:"date",render:function(e,t){return Ic()(t.timestamp).format("LLL")}},{title:"Actions",align:"right",render:function(e,t,n){return Object(C.jsx)(It.a,{icon:Object(C.jsx)(Ol.a,{}),onClick:function(){return _(n)},loading:R,children:"Rollback"})}}];Object(c.useEffect)((function(){a&&Object(he.isEmpty)(d)&&O(a),b||g()}),[b,a,d,p,O,g]);var L=function(){ll(s).then((function(e){if(e.success)e.time&&(Ve.info("New Backup Created!"),O(e.time),n(yt(Date.now())));else{var t=!0,a=360-Math.floor(e.time/1e3/60);a<60&&(t=!1),Ve.error("Please wait at least ".concat(t?"".concat(Math.floor(a/60)," hours"):"".concat(a," minutes")," before next backup"))}}))};return T?Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(Nt.a,{className:"primary-card",children:Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:b?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ct.a,{className:"align-items-center",children:Object(C.jsxs)(gt.a,{span:24,align:"center",children:[Object(C.jsx)("h2",{children:"Auto Backup Rules to Requestly servers"}),Object(C.jsx)("p",{children:"This will help you use your rules across browsers and devices"}),Object(C.jsx)("p",{children:Object(C.jsx)("em",{children:Object(C.jsx)("a",{href:W.LINKS.REQUESTLY_DOCS_BACKUP_DATA,children:"Learn how it works"})})})]})}),Object(C.jsx)(Ct.a,{className:"align-items-center",children:Object(C.jsx)(gt.a,{span:24,align:"center",children:d&&b&&dl(d)?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("h4",{children:["Your last backup was on"," ",Object(C.jsxs)("em",{children:["".concat(dl(d)," ")," "]})]}),Object(C.jsx)(It.a,{color:"primary",onClick:function(){return L()},children:"Backup Your Rules"})]}):Object(C.jsxs)("p",{children:["Click ",Object(C.jsx)(El,{onClick:function(){return L()},children:"here"})," to forcefully initiate a backup. (Do this only if you understand the implications!)"]})})}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,align:"center",children:Object(C.jsx)(Ya.a,{rowKey:"timestamp",dataSource:b.backups,options:!1,pagination:!1,search:!1,dateFormatter:!1,headerTitle:"Recent backups",columns:I})})})]}):Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{lg:"12",md:"12",className:"text-center",children:Object(C.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(C.jsx)("h1",{className:"display-3",children:"Create Your First Backup"}),Object(C.jsx)("p",{className:"lead",children:"This will help you use your rules across browsers and devices"}),Object(C.jsx)("p",{children:Object(C.jsx)(It.a,{color:"primary",onClick:function(){return L()},children:"Backup Your Data"})})]})})})})})})}):Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(oc,{customLoadingMessage:"Getting previous backups"})})},pl=function(e){Object(Ur.a)(n,e);var t=Object(Pr.a)(n);function n(){return Object(vr.a)(this,n),t.apply(this,arguments)}return Object(yr.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ht,{premiumRequired:!0,component:bl,premiumMessage:"Auto backups your data at periodic intervals so that you don't ever lose them while switching devices."})})}}]),n}(i.a.Component),Sl=function(){var e=Object(c.useRef)(!0),t=Object(c.useState)(!1),n=Object(u.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){return function(){e.current=!1}}),[]),Object(C.jsx)(de.a,{className:" mt--7",fluid:!0,children:Object(C.jsx)(Oe.a,{children:Object(C.jsx)(oe.a,{children:Object(C.jsx)(je.a,{className:" shadow",children:Object(C.jsx)(Ee.a,{children:Object(C.jsx)(Oe.a,{children:Object(C.jsx)(oe.a,{children:Object(C.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(C.jsx)("h4",{children:"If you are facing any issue with your current susbscription, a refresh might be helpful."}),a?Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)("br",{}),Object(C.jsxs)("h5",{children:[Object(C.jsx)(N.n,{color:"orange"})," This process may take a few seconds. Do not close this page."]})]}):null,Object(C.jsx)("br",{}),Object(C.jsxs)(ue.a,{className:"btn-icon btn-3",color:"primary",type:"button",disabled:a,onClick:function(){r(!0);var t=Object(be.a)();Object(be.b)(t,"refreshSubscription")().then((function(t){if(!e.current)return null;var n=t.data;n.success?(r(!1),Le(!1,!0)):(r(!1),Ve.warn(n.message))})).catch((function(t){if(!e.current)return null;r(!1),Ve.warn(t.message)}))},children:[Object(C.jsx)("span",{className:"btn-inner--icon",children:Object(C.jsx)("b",{children:Object(C.jsx)(Ye.c,{className:a?"icon-spin":""})})}),Object(C.jsx)("span",{className:"btn-inner--text",children:"Refresh Subscription"})]}),Object(C.jsx)("br",{}),Object(C.jsx)("hr",{}),Object(C.jsxs)("p",{children:["Still facing issues? Reach our payment support team at"," ",Object(C.jsx)("a",{href:"mailto:".concat(p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),children:p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL}),"."]})]})})})})})})})})},hl=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ht,{component:Sl})})},Tl=function(e){var t=e.customErrorMessage||"Something went wrong";return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(de.a,{className:" mt--7",fluid:!0,children:Object(C.jsx)(Oe.a,{children:Object(C.jsx)("div",{className:" col",children:Object(C.jsx)(je.a,{className:" shadow",children:Object(C.jsx)(Ee.a,{children:Object(C.jsx)(Oe.a,{children:Object(C.jsx)(oe.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:Object(C.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(C.jsx)("h1",{className:"display-3"}),Object(C.jsx)("h5",{children:t})]})})})})})})})})})},ml=n(191),fl=p.CONSTANTS.GA_EVENTS,Al=function(){var e=Object(c.useContext)(Z).state,t=nt(e),n=st(e),a=Object(c.useState)(!0),r=Object(u.a)(a,2),s=r[0],o=r[1],l=Object(c.useState)({}),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useState)(""),b=Object(u.a)(E,2),S=b[0],h=b[1],T=Object(c.useState)(""),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(60),x=Object(u.a)(R,2),N=x[0],g=x[1],_=Object(c.useCallback)((function(){if(t.loggedIn){j(t.details.profile),o(!1);var e=ft(t),n=mt(t.details.planDetails);h(n?W.PRICING.PLAN_NAMES.BRONZE:e)}else o(!1)}),[t]),I=function(){return Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:10,offset:7,children:Object(C.jsxs)("div",{className:"card-body",children:[Object(C.jsxs)("div",{className:"card-text",style:{padding:"1rem 10%"},children:[Object(C.jsx)("p",{className:"m-0",children:"Define Server EndPoint from where app will periodically import the rules"}),Object(C.jsx)("div",{className:" mb-3",children:Object(C.jsx)(Jt.a,{type:"text",className:"form-control",placeholder:"https://myserver.com/rules/v1",value:f,onChange:function(e){return A(e.target.value)},addonBefore:"Server Endpoint"})}),Object(C.jsx)("br",{}),Object(C.jsx)("p",{className:"m-0",children:"Frequency (in minutes) for importing rules from Server. Minimum 2 & maximum 100 minutes."}),Object(C.jsx)("div",{className:" mb-3",children:Object(C.jsx)(Jt.a,{type:"number",min:"2",max:"60",className:"form-control",placeholder:"20",value:N,onChange:function(e){return g(e.target.value)},addonBefore:"Frequency"})})]}),Object(C.jsx)("div",{className:"text-center",children:Object(C.jsx)(It.a,{type:"primary",className:"btn btn-primary",onClick:L,icon:Object(C.jsx)(ml.a,{}),children:"Save & Import Periodically"})})]})})})})},L=function(){if(!f||ie()(f)?(Ve.warn("Please enter a valid end point"),0):!(!N||N<2||N>100)||(Ve.warn("Frequency must lie between 2 and 100. Please provide a valid value"),0)){var e={enabled:!0,endPoint:f,frequency:N};bs(e).then((function(t){t.success?ma(["settings",O.uid,"remoteRules"],e).then((function(){Ve.success("Settings saved successfully!"),va(fl.CATEGORIES.REMOTE_RULES,fl.ACTIONS.CREATED,"Remote Rules Settings Created"),ya(fl.ATTR.REMOTE_RULES_ENDPOINT,e.endPoint),ya(fl.ATTR.REMOTE_RULES_FREQUENCY,e.frequency)})):alert("Unable to save settings in storage. Please reach out to support at contact@requestly.io")})).catch((function(e){return Ve.error(e)}))}};return Object(c.useEffect)((function(){n!==p.CONSTANTS.APP_MODES.DESKTOP&&(_(),js().then((function(e){e.endPoint&&A(e.endPoint),e.frequency&&g(e.frequency)})))}),[_,n]),n===p.CONSTANTS.APP_MODES.DESKTOP?Object(C.jsx)(Tl,{customErrorMessage:"Remote rules are available only in Requestly Chrome Extension as of now."}):s?Object(C.jsx)(oc,{customLoadingMessage:"Loading Remote Rules"}):Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Nt.a,{className:"primary-card",title:"Remote Rules (Beta)",children:Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,align:"center",children:S!==W.PRICING.PLAN_NAMES.GOLD?Object(C.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:Object(C.jsx)("h5",{children:"Remote Rules feature is only available in Premium Plan."})}):I()})})})})},Rl=function(e){Object(Ur.a)(n,e);var t=Object(Pr.a)(n);function n(){return Object(vr.a)(this,n),t.apply(this,arguments)}return Object(yr.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ht,{component:Al})})}}]),n}(i.a.Component),xl=n(1012),Nl=n(1013),Cl=p.CONSTANTS.GA_EVENTS,gl=function(){var e=Object(c.useContext)(Z).state,t=nt(e),n=Object(c.useState)({}),a=Object(u.a)(n,2),r=a[0],i=a[1],s=Object(c.useState)(""),o=Object(u.a)(s,2),l=o[0],d=o[1],O=Object(c.useState)(""),j=Object(u.a)(O,2),E=j[0],b=j[1],p=Object(c.useState)(""),S=Object(u.a)(p,2),h=S[0],T=S[1],m=Object(c.useState)(!1),f=Object(u.a)(m,2),A=f[0],R=f[1],x=Object(c.useState)(!1),N=Object(u.a)(x,2),g=N[0],_=N[1],I=Object(c.useState)(!1),L=Object(u.a)(I,2),v=L[0],y=L[1],U=Object(c.useState)(!1),P=Object(u.a)(U,2),D=P[0],w=P[1],M=Object(c.useState)(!0),k=Object(u.a)(M,2),G=k[0],F=k[1],B=Object(c.useState)(!1),V=Object(u.a)(B,2),Y=V[0],H=V[1];Object(c.useEffect)((function(){setTimeout((function(){F(!1)}),1200)}));return Object(c.useLayoutEffect)((function(){t.details.isLoggedIn&&(i(t.details.profile),Sa(["customProfile",t.details.profile.uid,"requestUpgrade"],(function(e){e&&e.sentEmail&&(R(!0),H(!0))})))}),[t]),Object(c.useEffect)((function(){t.details.isLoggedIn&&(b("Requestly Premium for ".concat(r.displayName)),T("Hi,\n".concat(r.displayName," has been using Requestly to debug & modify network requests. It has helped him achieve 10x productivity & saved critical hours for the work. ").concat(r.displayName," has started to hit free limits in the product with additional usage and has requested you to consider upgrading to Premium.\n\nYou can check out our prices at https://app.requestly.io/pricing \n\nCheers!\nRequestly Team")))}),[r,t.details.isLoggedIn]),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(de.a,{className:" mt--7 sm-margin-top-negative-3",fluid:!0,children:Object(C.jsx)(Oe.a,{children:Object(C.jsx)(oe.a,{children:Object(C.jsxs)(je.a,{className:"shadow",children:[Object(C.jsx)(qt.a,{className:"border-0 has-thin-border-bottom",style:{position:"sticky",top:"0",zIndex:"1"},children:Object(C.jsx)(Oe.a,{className:"align-items-center",children:Object(C.jsxs)(oe.a,{className:"text-center text-sm-center text-xl-left text-lg-left text-md-left margin-bottom-1-when-xs margin-bottom-1-when-sm",children:[Object(C.jsx)("h2",{className:"mb-0",children:"Request an Upgrade"}),Object(C.jsx)("h4",{className:"text-muted mb-0",children:"Request your Manager/ IT Admin for Requestly Premium"})]})})}),Object(C.jsx)(Ee.a,{children:G?Object(C.jsxs)("div",{className:"text-align-center",children:[Object(C.jsx)(xl.a,{color:"primary",style:{width:"4rem",height:"4rem"}}),Object(C.jsx)("h5",{children:"Initializing..."})]}):A?Object(C.jsx)("h3",{children:"We have requested your manager to get Requestly Premium for you."}):Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(lr.a,{children:[Object(C.jsxs)(or.a,{children:[Object(C.jsx)(Xt.a,{type:"email",placeholder:"Manager's Email",style:{fontSize:"1.2rem",color:"#5a5a5a"},value:l,onChange:function(e){g&&_(!1),d(e.target.value)},className:g?"is-invalid":"is-valid"}),Object(C.jsx)(Nl.a,{children:"This Field Cannot be Empty"})]}),Object(C.jsxs)(or.a,{children:[Object(C.jsx)(Xt.a,{placeholder:"Subject",style:{fontSize:"1.2rem",color:"#5a5a5a"},value:E,onChange:function(e){D&&w(!1),b(e.target.value)},className:D?"is-invalid":"is-valid"}),Object(C.jsx)(Nl.a,{children:"This Field Cannot be Empty"})]}),Object(C.jsxs)(or.a,{children:[Object(C.jsx)(Xt.a,{type:"textarea",rows:"10",placeholder:"Body",style:{fontSize:"1.2rem",color:"#5a5a5a"},value:h,onChange:function(e){v&&y(!1),T(e.target.value)},className:v?"is-invalid":"is-valid"}),Object(C.jsx)(Nl.a,{children:"This Field Cannot be Empty"})]}),Object(C.jsx)("div",{className:"text-center",children:Y?Object(C.jsx)(ue.a,{disabled:!0,color:"primary",size:"lg",children:Object(C.jsx)(xl.a,{color:"secondary",style:{width:"1rem",height:"1rem"}})}):Object(C.jsxs)(ue.a,{color:"primary",size:"lg",onClick:function(){if(H(!0),!l)return _(!0),void H(!1);if(!h)return y(!0),void H(!1);if(!E)return w(!0),void H(!1);if(!/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(l))return Ve.warn("Please enter a valid email address."),void H(!1);va(Cl.CATEGORIES.REQUEST_UPGRADE,Cl.ACTIONS.CLICKED,"RequestUpgrade email sent"),A||Ta(["customProfile",r.uid,"requestUpgrade"],{managerEmail:l,requestDate:(new Date).toISOString().split("T")[0],sentEmail:!1},(function(){var e=Object(be.a)();Object(be.b)(e,"requestUpgrade")({userId:r.uid,emailContent:{managerEmail:l,subject:E,body:h}}).then((function(){return R(!0)})).catch((function(e){return console.log(e)}))}))},children:[Object(C.jsx)("i",{className:"fa fa-paper-plane"})," Send Email"]})})]})})})]})})})})})},_l=function(e){Object(Ur.a)(n,e);var t=Object(Pr.a)(n);function n(){return Object(vr.a)(this,n),t.apply(this,arguments)}return Object(yr.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ht,{component:gl})})}}]),n}(i.a.Component),Il=tn.a.Link,Ll=function(e){var t=e.heading,n=e.content;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Nt.a,{className:"primary-card",children:Object(C.jsx)(Ct.a,{style:{textAlign:"center"},align:"center",children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(C.jsx)("h1",{className:"display-3",children:t}),Object(C.jsxs)("p",{className:"lead",children:[n," ",Object(C.jsx)(Il,{target:"_blank",rel:"noopener noreferrer",href:W.LINKS.REQUESTLY_DOCS,children:"Read Docs"})]}),Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(It.a,{type:"primary",onClick:function(){return window.open(W.LINKS.CHROME_EXTENSION)},children:"Get for Chrome"}),Object(C.jsx)(It.a,{type:"primary",onClick:function(){return window.open(W.LINKS.FIREFOX_EXTENSION)},children:"Get for Firefox"}),Object(C.jsx)(It.a,{type:"primary",onClick:function(){return window.open(W.LINKS.EDGE_EXTENSION)},children:"Get for Edge"})]})]})})})})})},vl=n(1016),yl=n.p+"static/media/activate_requestly.cfb68936.png",Ul=tn.a.Link,Pl=vl.a.Panel,Dl=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Nt.a,{className:"primary-card",children:Object(C.jsx)(Ct.a,{style:{textAlign:"center"},align:"center",children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(C.jsx)("h1",{className:"display-3",children:"Extension is deactivated"}),Object(C.jsxs)("p",{className:"lead",children:["Please activate the extension by right clicking on it and selecting"," ",Object(C.jsx)(Ul,{style:{cursor:"auto",fontWeight:"bold"},children:"Activate Requestly"})," ","option and then refresh this page."]}),Object(C.jsx)(vl.a,{ghost:!0,children:Object(C.jsx)(Pl,{header:"Click to view screenshot",children:Object(C.jsx)("img",{style:{maxWidth:"30vh"},src:yl,alt:"activate requestly"})})})]})})})})})},wl=function(){var e=Object(te.a)(ae.a.mark((function e(t){var n,a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hs(t).getRecords(p.CONSTANTS.OBJECT_TYPES.RULE);case 2:n=e.sent,a=n.map((function(e){return Vo(e)})),hs(t).saveMultipleRulesOrGroups(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ml=function(){var e=Object(c.useContext)(Z).state,t=st(e),n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],i=a[1];return Object(c.useEffect)((function(){(function(e){return hs(e).getRecord(W.MIGRATED_TO_NEW_UI)})(t).then((function(e){e?console.log("ALREADY MIGRATED"):(i(!0),console.log("PERFORMING MIGRATION"),wl(t).then((function(){(function(e){return hs(e).saveRecord(Object(O.a)({},W.MIGRATED_TO_NEW_UI,!0))})(t).then((function(){i(!1)}))})))}))}),[t]),Object(C.jsx)(Zt.a,{className:"modal-dialog-centered ",visible:r,onCancel:function(){return null},footer:null,children:Object(C.jsx)("div",{className:"modal-body ",children:Object(C.jsx)(Se,{customLoadingMessage:"Setting up Requestly"})})})},kl=function(){var e=Object(te.a)(ae.a.mark((function e(t){var n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null,e.next=3,cs();case 3:if(n=e.sent,"local"!==n.storageType){e.next=7;break}return e.abrupt("return");case 7:Os("local");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gl=function(){var e=Object(c.useContext)(Z).state,t=st(e),n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],i=a[1];return Object(c.useEffect)((function(){t===p.CONSTANTS.APP_MODES.EXTENSION&&function(e){return hs(e).getRecord(W.STORAGE_MIGRATED_TO_LOCAL)}(t).then((function(e){e?console.log("STORAGE ALREADY MIGRATED"):(i(!0),console.log("PERFORMING STORAGE MIGRATION"),kl(t).then((function(){(function(e){return hs(e).saveRecord(Object(O.a)({},W.STORAGE_MIGRATED_TO_LOCAL,!0))})(t).then((function(){i(!1)}))})))}))}),[t]),Object(C.jsx)(Zt.a,{className:"modal-dialog-centered ",visible:r,onCancel:function(){return null},footer:null,children:Object(C.jsx)("div",{className:"modal-body ",children:Object(C.jsx)(Se,{customLoadingMessage:"Setting up Requestly"})})})},Fl=n(230),Bl=W.PATHS,Vl=W.RULE_TYPES_CONFIG,Yl=function(e){var t=Object(c.useContext)(Z),n=t.state,a=(t.dispatch,st(n));return Object(C.jsx)(Zt.a,{visible:e.isOpen,onCancel:e.toggle,footer:null,title:"Create New Rule",width:1e3,children:Object(C.jsx)("div",{children:Object(C.jsx)(Ct.a,{gutter:[16,16],children:Object.entries(Vl).map((function(e){var t=Object(u.a)(e,2),n=(t[0],t[1]);return ns(W.DELAY_COMPATIBILITY_VERSION)||a===p.CONSTANTS.APP_MODES.DESKTOP||n.TYPE!==p.CONSTANTS.RULE_TYPES.DELAY?Object(C.jsx)(gt.a,{xs:24,sm:12,lg:8,children:Object(C.jsx)(Ei.a,{loading:!1,hoverable:!0,style:{height:"100%",display:"flex",flexFlow:"column",cursor:"default"},size:"small",bodyStyle:{flexGrow:"1"},actions:[Object(C.jsx)(l.c,{to:"".concat(Bl.RULE_EDITOR.CREATE_RULE.ABSOLUTE,"/").concat(n.TYPE),children:Object(C.jsx)(It.a,{type:"primary",children:" Create "})})],children:Object(C.jsx)(Ei.a.Meta,{avatar:Object(C.jsx)(C.Fragment,{children:i.a.createElement(n.ICON)}),title:n.NAME,description:n.DESCRIPTION})})},n.ID):null}))})})})},Hl=n(546),Kl=n(159),ql=n(526),Wl=function(e){var t=e.toggle,n=e.isOpen,a=Object(c.useContext)(Z),r=a.dispatch,s=a.state,o=ze(s),l=ct(s),d=nt(s),O=st(s),E=Object(c.useState)(!1),b=Object(u.a)(E,2),S=b[0],h=b[1],T=Object(c.useState)(!1),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(!1),x=Object(u.a)(R,2),N=x[0],g=x[1],_=Object(c.useState)(!1),I=Object(u.a)(_,2),L=I[0],v=I[1],y=function(){var e=Object(c.useCallback)((function(e){var n=e[0],a=new FileReader;a.onabort=function(){return t()},a.onerror=function(){return t()},a.onload=function(){A(!0);var e=[];try{e=JSON.parse(a.result)}catch(t){console.log(t)}zo(e,d,o).then((function(e){h(e.data),g(e.rulesCount),v(e.groupsCount),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,p.CONSTANTS.GA_EVENTS.ACTIONS.IMPORTED,"Rules Imported",e.rulesCount),Da("Rules Imported"),function(e){var t=e.count;Un("rules_imported",{count:t})}({count:e.rulesCount})}))},a.readAsText(n)}),[]),n=Object(Hl.a)({onDrop:e}),a=n.getRootProps,r=n.getInputProps;return Object(C.jsxs)("div",Object(j.a)(Object(j.a)({},a()),{},{children:[Object(C.jsx)("input",Object(j.a)({},r())),Object(C.jsxs)("center",{children:[Object(C.jsx)("h1",{className:"display-2",children:Object(C.jsx)(Ye.d,{})}),Object(C.jsx)("p",{children:"Drag and drop requestly export file, or click to select"})]})]}))},U=function(){Ho(O,S).then((function(){r(Dt("rules",!l)),t()})).then((function(){Ve.info("Successfully imported rules")}))},P=function(){return Object(C.jsxs)(gt.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(C.jsx)("h1",{className:"display-2",children:Object(C.jsx)(Kl.a,{})}),Object(C.jsx)("h5",{children:"Could not find valid data in this file. Please try another"})]})};return Object(C.jsxs)(Zt.a,{className:"modal-dialog-centered ",visible:n,onCancel:t,footer:null,title:"Import Rules Wizard",children:[Object(C.jsx)("div",{className:"modal-body ",children:S?N&&N>0||L&&L>0?Object(C.jsxs)(gt.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",style:{textAlign:"center"},children:[Object(C.jsx)("h1",{className:"display-2",children:Object(C.jsx)(ql.a,{})}),Object(C.jsxs)("h5",{children:["Successfully parsed"," ",N>0?N+" rules":null," ",L>0?"and "+L+" groups":null]})]}):P():f?Object(C.jsx)(Se,{customLoadingMessage:"Processing data"}):Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(y,{})})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"modal-footer ",style:{textAlign:"center"},children:S&&f&&N&&N>0?Object(C.jsx)(It.a,{color:"primary","data-dismiss":"modal",type:"button",onClick:U,children:"Import"}):null})]})},Ql=W.PATHS,zl=W.AUTH.ACTION_LABELS,Xl=function(){var e=Object(c.useContext)(Z),t=e.state,n=e.dispatch,a=nt(t),r=Object(c.useState)(!1),s=Object(u.a)(r,2),o=s[0],d=s[1],O=Object(c.useState)(!1),j=Object(u.a)(O,2),E=j[0],b=j[1],p=Object(c.useState)(!1),S=Object(u.a)(p,2),h=S[0],T=S[1];return Object(c.useEffect)((function(){var e;null!==a&&void 0!==a&&null!==(e=a.details)&&void 0!==e&&e.isLoggedIn?d(!1):d(!0)}),[a]),Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)(Nt.a,{className:"primary-card",children:Object(C.jsx)(Ct.a,{style:{textAlign:"center"},align:"center",children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(C.jsx)("h1",{className:"display-3",children:"Get Started with Rules"}),Object(C.jsx)("p",{className:"lead",children:"Create Rules that trigger certain actions whenever a request matches one of the URL patterns you define."}),Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(It.a,{type:"primary",onClick:function(){return b(!0)},children:"Create My First Rule"}),Object(C.jsx)(It.a,{color:"secondary",onClick:function(){return T(!0)},children:"Upload Rules"})]}),o?Object(C.jsxs)("p",{className:"lead mt-5",style:{marginTop:"1em"},children:["If you have existing Rules, consider"," ",Object(C.jsx)(It.a,{type:"link",onClick:function(){n(kt("authModal",!0,{redirectURL:window.location.href,authMode:zl.LOG_IN,src:W.FEATURES.RULES}))},style:{paddingLeft:"0",paddingRight:"0"},children:"signing in"})," ","to see them"]}):null,Object(C.jsx)(Fl.a,{style:{marginBottom:"1em",marginTop:"1em"},children:"or"}),Object(C.jsxs)("p",{className:"lead mt-5",children:["Try example Rules from the"," ",Object(C.jsx)(l.b,{to:Ql.MARKETPLACE.ABSOLUTE,children:Object(C.jsx)("strong",{children:"Marketplace"})})]})]})})})}),E?Object(C.jsx)(Yl,{isOpen:E,toggle:function(){b(!E)}}):null,h?Object(C.jsx)(Wl,{isOpen:h,toggle:function(){T(!h)}}):null]})},Jl=n(239),Zl=function(){var e=Object(te.a)(ae.a.mark((function e(t,n,a){var r,c,i,s,o;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(sn.c)(ln),c=Object(sn.e)(r,"sync/".concat(n,"/rules")),i=Object(sn.e)(r,"sync/".concat(n,"/metadata")),s=Date.now();try{t.status?(Object(sn.h)(c,Object(O.a)({},t.id,t)),Object(sn.h)(i,Object(O.a)({},W.LAST_SYNC_TIMESTAMP,s))):(o=Object(sn.e)(r,"sync/".concat(n,"/rules/").concat(t)),Object(sn.f)(o),Object(sn.h)(i,Object(O.a)({},W.LAST_SYNC_TIMESTAMP,s))),hs(a).saveRecord(Object(O.a)({},W.LAST_SYNC_TIMESTAMP,s))}catch(l){console.log(l)}case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),$l=function(){var e=Object(te.a)(ae.a.mark((function e(t,n,a){var r,c,i,s,o,l,u,d;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(sn.c)(ln),c=Object(sn.e)(r,"sync/".concat(n,"/rules")),i=Object(sn.e)(r,"sync/".concat(n,"/metadata")),s=Date.now(),e.prev=4,e.next=7,Object(sn.b)(i);case 7:return e.next=9,e.sent.val();case 9:return o=e.sent,l=0,o&&(l=o[W.LAST_SYNC_TIMESTAMP]||0),u=0,e.prev=13,e.next=16,hs(a).getRecord(W.LAST_SYNC_TIMESTAMP);case 16:if(e.t0=e.sent,e.t0){e.next=19;break}e.t0=0;case 19:u=e.t0,e.next=25;break;case 22:e.prev=22,e.t1=e.catch(13),u=0;case 25:l!==u&&eu(n,a),t.ruleType?(Object(sn.h)(c,Object(O.a)({},t.id,t)),Object(sn.h)(i,Object(O.a)({},W.LAST_SYNC_TIMESTAMP,s))):(d=Object(sn.e)(r,"sync/".concat(n,"/rules/").concat(t)),Object(sn.f)(d),Object(sn.h)(i,Object(O.a)({},W.LAST_SYNC_TIMESTAMP,s))),hs(a).saveRecord(Object(O.a)({},W.LAST_SYNC_TIMESTAMP,s)),e.next=33;break;case 30:e.prev=30,e.t2=e.catch(4),console.log(e.t2);case 33:case"end":return e.stop()}}),e,null,[[4,30],[13,22]])})));return function(t,n,a){return e.apply(this,arguments)}}(),eu=function(){var e=Object(te.a)(ae.a.mark((function e(t,n){var a,r,c,i,s,o;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(sn.c)(ln),r=Object(sn.e)(a,"sync/".concat(t)),c=Date.now(),e.next=5,hs(n).getAllRecords();case 5:i=e.sent,s=Object.values(i).filter((function(e){return void 0===e.MKTRuleID&&e.creationDate})),o={},s.forEach((function(e){o[e.id]=e}));try{Object(sn.g)(r,{rules:o,metadata:Object(O.a)({},W.LAST_SYNC_TIMESTAMP,c)}),hs(n).saveRecord(Object(O.a)({},W.LAST_SYNC_TIMESTAMP,c))}catch(l){console.log(l)}case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),tu=function(e){var t=Object(c.useContext)(Z),n=t.dispatch,a=t.state,r=nt(a),i=ct(a),s=st(a),o=Object(c.useState)([]),l=Object(u.a)(o,2),d=l[0],O=l[1],j=function(t){var a,c,o,l,u,d,O=(null===r||void 0===r||null===(a=r.details)||void 0===a||null===(c=a.profile)||void 0===c?void 0:c.uid)||null,j=(null===r||void 0===r||null===(o=r.details)||void 0===o||null===(l=o.profile)||void 0===l?void 0:l.uid)||null,E=(null===r||void 0===r||null===(u=r.details)||void 0===u||null===(d=u.profile)||void 0===d?void 0:d.uid)||null,b="Group_".concat(En()),S={creationDate:jn(),description:"",id:b,name:t,objectType:p.CONSTANTS.OBJECT_TYPES.GROUP,status:p.CONSTANTS.RULE_STATUS.ACTIVE,createdBy:O,currentOwner:j,lastModifiedBy:E};hs(s).saveRuleOrGroup(S).then(Object(te.a)(ae.a.mark((function t(){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.loggedIn){t.next=4;break}if(!r.details.isSyncEnabled){t.next=4;break}return t.next=4,Zl(S,r.details.profile.uid,s);case 4:Un("group_created",{}),n(Dt("rules",!i)),e.toggle();case 7:case"end":return t.stop()}}),t)}))))};return va(p.CONSTANTS.GA_EVENTS.CATEGORIES.GROUP,p.CONSTANTS.GA_EVENTS.ACTIONS.WORKFLOW_STARTED,"Create New Rules Group"),Da("Create New Rules Group"),Object(C.jsx)(Zt.a,{className:"modal-dialog-centered ",visible:e.isOpen,onCancel:e.toggle,footer:null,title:"Create New Group",children:Object(C.jsxs)("div",{className:"modal-body  zero-padding-bottom",children:[Object(C.jsx)(gt.a,{className:"my-auto",children:Object(C.jsx)("span",{children:"Enter Group Name"})}),Object(C.jsx)("br",{}),Object(C.jsx)(gt.a,{className:"my-auto",style:{fontSize:"0.9em"},children:Object(C.jsx)(Jl.a,{isMulti:!1,name:"select-group",placeholder:"Enter Group Name",onChange:function(e){O(e.label),j(e.label)},value:d})})]})})},nu=n(489),au=function(e){nu(e,"requestly_rules.txt","text/plain")},ru=function(e){var t=e.toggle,n=e.isOpen,a=e.rulesToExport,r=Object(c.useContext)(Z).state,i=Ze(r),s=st(r),o=Object(c.useState)(!1),l=Object(u.a)(o,2),d=l[0],O=l[1],j=function(){return Object(C.jsxs)(gt.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(C.jsx)("h1",{className:"display-2",children:Object(C.jsx)(Kl.a,{})}),Object(C.jsx)("h5",{children:"Please select a rule before exporting"})]})};return Object(c.useEffect)((function(){d||function(e,t,n){return new Promise((function(a,r){$o(e,t,n).then((function(e){var t=e.rules,n=e.groups;a({fileContent:JSON.stringify(t.concat(n),null,2),rulesCount:t.length,groupsCount:n.length})}))}))}(s,a,i).then((function(e){O(e)}))}),[a,i,d,s]),Object(C.jsx)(Zt.a,{className:"modal-dialog-centered ",visible:n,onCancel:t,footer:null,style:{textAlign:"center"},title:"Export Rules Wizard",children:Object(C.jsx)("div",{className:"modal-body ",children:d?function(){if(0===d.rulesCount)return j();try{au(d.fileContent),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,p.CONSTANTS.GA_EVENTS.ACTIONS.EXPORTED,"Group Exported",d.rulesCount),Da("Rules Exported"),function(e){var t=e.count;Un("rules_exported",{count:t})}({count:d.rulesCount})}catch(e){}return Object(C.jsxs)(gt.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(C.jsx)("h1",{className:"display-2 cursor-pointer",onClick:function(){return au(d.fileContent)},children:Object(C.jsx)(N.j,{})}),Object(C.jsx)("br",{}),Object(C.jsxs)("b",{children:["Your download will begin in a moment. If it doesn't,"," ",Object(C.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return au(d.fileContent)},children:"click here"}),"."]}),Object(C.jsx)("br",{}),Object(C.jsxs)("p",{children:[Object(C.jsx)("b",{children:"Total Rules Exported: "}),d.rulesCount," ",Object(C.jsx)("br",{})]})]})}():Object(C.jsx)(Se,{customLoadingMessage:"Preparing data to export"})})})},cu=function(){var e=Object(te.a)(ae.a.mark((function e(t,n,a){var r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],n.forEach((function(e){r.push(al(e))})),e.next=4,hs(t).removeRecords(n);case 4:return e.next=6,hs(t).removeRecords(r);case 6:return e.abrupt("return",a());case 7:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),iu=function(e){e({type:d.CLEAR_SELECTED_RULES})},su=function(e){return Object.keys(e).filter((function(t){return e[t]}))},ou=function(e){var t=e.toggle,n=e.isOpen,a=e.rulesToDelete,r=Object(c.useContext)(Z),s=r.dispatch,o=r.state,l=ct(o),d=st(o),O=Object(c.useState)(!1),j=Object(u.a)(O,2),E=j[0],b=j[1],p=Object(c.useState)(!1),S=Object(u.a)(p,2),h=S[0],T=S[1],m=function(e){var t=e.showConfirmationBtn;return Object(C.jsx)("div",{className:"modal-footer ",style:{position:"sticky",bottom:"0",zIndex:"100"},children:t?Object(C.jsx)(It.a,{color:"primary","data-dismiss":"modal",type:"button",onClick:function(){return b(!0)},children:"Yes"}):null})},f=function(){return Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)("div",{className:"modal-body ",children:Object(C.jsxs)(gt.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(C.jsx)("h1",{className:"display-2",children:Object(C.jsx)(Kl.a,{})}),Object(C.jsx)("h5",{children:"Please select a rule before deleting"})]})}),m({showConfirmationBtn:!1})]})},A=Object(c.useCallback)((function(){T(!0),s(Dt("rules",!l)),t(),iu(s)}),[s,l,t]);return Object(c.useEffect)((function(){E&&!h&&cu(d,a,A).then((function(){Ve.info("Rules Deleted")}))}),[E,h,a,A,d]),Object(C.jsx)(Zt.a,{className:"modal-dialog-centered ",visible:n,onCancel:t,footer:null,title:"Delete Rules",style:{textAlign:"center"},children:E?h?Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)("div",{className:"modal-body ",children:Object(C.jsx)(gt.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:Object(C.jsx)("b",{children:"Successfully deleted rules"})})}),m({showConfirmationBtn:!1})]}):Object(C.jsx)(Se,{customLoadingMessage:"Deleting Rules"}):0===a.length?f():Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)("div",{className:"modal-body ",children:Object(C.jsxs)(gt.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(C.jsx)("h1",{className:"display-2",children:Object(C.jsx)(N.I,{})}),Object(C.jsx)("b",{children:"Are you sure to delete the selected rules?"}),Object(C.jsxs)("p",{children:[Object(C.jsx)("b",{children:"Total Rules Selected: "}),a.length," ",Object(C.jsx)("br",{})]})]})}),m({showConfirmationBtn:!0})]})})},lu=function(e){var t=e.mode,n={CURRENT_RULE:"CURRENT_RULE",SELECTED_RULES:"SELECTED_RULES"},a=Object(c.useContext)(Z),r=a.dispatch,i=a.state,s=nt(i),o=Object(c.useCallback)(r,[r]),l=tt(i),d=$e(i),O=Je(i),E=ct(i),b=st(i),S=Object(c.useState)([]),h=Object(u.a)(S,2),T=h[0],m=h[1],f=Object(c.useState)([]),A=Object(u.a)(f,2),R=A[0],x=A[1],N=Object(c.useCallback)((function(e){return t===n.SELECTED_RULES?[]:e.filter((function(e){return e.value===l.groupId}))}),[t,n.SELECTED_RULES,l.groupId]),g=function(e){if(t===n.CURRENT_RULE){var a=Object(j.a)(Object(j.a)({},l),{},{groupId:e});r(wt(a))}else(function(e,t,n,a){return new Promise((function(r,c){var i=su(t);ie()(i)&&c(),hs(e).getAllRecords().then((function(t){var c=[];i.forEach(function(){var r=Object(te.a)(ae.a.mark((function r(i){var s;return ae.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s=Object(j.a)(Object(j.a)({},t[i]),{},{groupId:n}),c.push(s),!a.loggedIn){r.next=6;break}if(!a.details.isSyncEnabled){r.next=6;break}return r.next=6,$l(s,a.details.profile.uid,e);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()),hs(e).saveMultipleRulesOrGroups(c).then((function(){return r()}))}))}))})(b,d,e,s).then((function(){iu(r),r(Dt("rules",!E))})).catch((function(){Ve.warn("Please select the rules first",{hideProgressBar:!0})}))};return va(p.CONSTANTS.GA_EVENTS.CATEGORIES.GROUP,p.CONSTANTS.GA_EVENTS.ACTIONS.WORKFLOW_STARTED,"Modify Rules Group"),Un("group_changed",{}),Da("Modify Rules Group"),Object(c.useEffect)((function(){hs(b).getRecords(p.CONSTANTS.OBJECT_TYPES.GROUP).then((function(e){o(Ut(e))}))}),[o,l,b]),Object(c.useEffect)((function(){m(O.map((function(e){return{label:e.name,value:e.id}})))}),[O]),Object(c.useEffect)((function(){x(N(T))}),[x,N,T]),Object(C.jsx)(Zt.a,{visible:e.isOpen,onCancel:e.toggle,footer:null,title:"Change Group",children:Object(C.jsxs)("div",{className:"",children:[Object(C.jsx)(gt.a,{className:"my-auto",children:Object(C.jsx)("span",{children:"Select new group"})}),Object(C.jsx)("br",{}),Object(C.jsx)(gt.a,{className:"my-auto",style:{fontSize:"0.9em"},children:Object(C.jsx)(Jl.a,{isMulti:!1,name:"select-group",options:T,placeholder:"Select or Type",value:R,onChange:function(t){t.__isNew__?function(e,t,n){var a="Group_".concat(En());hs(e).saveRuleOrGroup({creationDate:jn(),description:"",id:a,name:t,objectType:p.CONSTANTS.OBJECT_TYPES.GROUP,status:p.CONSTANTS.RULE_STATUS.ACTIVE}).then((function(){n(a)}))}(b,t.label,g):g(t.value),e.toggle()}})})]})})},uu=function(e){var t=e.groupId,n=e.isOpen,a=e.toggle,r=t.groupId,s=Object(c.useContext)(Z),o=s.state,l=s.dispatch,d=nt(o),O=ct(o),E=st(o),b=Object(c.useState)({}),p=Object(u.a)(b,2),S=p[0],h=p[1],T=Object(c.useState)(""),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(!0),x=Object(u.a)(R,2),g=x[0],_=x[1],I=Object(c.useState)(!1),L=Object(u.a)(I,2),v=L[0],y=L[1],U=function(e){var t,n,r,c,i;y(!0);var s,o,u=(null===d||void 0===d||null===(t=d.details)||void 0===t||null===(n=t.profile)||void 0===n?void 0:n.uid)||null,b=(null===d||void 0===d||null===(r=d.details)||void 0===r||null===(c=r.profile)||void 0===c?void 0:c.uid)||null;"undefined"===typeof S.createdBy?i=(null===d||void 0===d||null===(s=d.details)||void 0===s||null===(o=s.profile)||void 0===o?void 0:o.uid)||null:i=S.createdBy;var p=Object(j.a)(Object(j.a)({},S),{},{name:f,createdBy:i,currentOwner:u,lastModifiedBy:b,modificationDate:jn()});hs(E).saveRuleOrGroup(p).then(Object(te.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ve.info("Renamed Group"),l(Dt("rules",!O)),a(),!d.loggedIn){e.next=7;break}if(!d.details.isSyncEnabled){e.next=7;break}return e.next=7,Zl(p,d.details.profile.uid,E);case 7:case"end":return e.stop()}}),e)}))))};return Object(c.useLayoutEffect)((function(){hs(E).getRecord(r).then((function(e){e&&e.name&&(h(e),A(e.name),_(!1))}))}),[r,E]),Object(C.jsx)(Zt.a,{className:"modal-dialog-centered ",visible:n,onCancel:a,footer:null,title:"Rename Group",style:{textAlign:"center"},children:g?Object(C.jsx)("div",{className:"modal-body one-padding-top zero-padding-bottom",children:Object(C.jsx)(Ct.a,{className:"one-padding-bottom  my-auto",children:Object(C.jsx)(Se,{})})}):Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)("div",{className:"modal-body one-padding-top zero-padding-bottom",children:Object(C.jsx)(Jt.a,{className:"has-dark-text",placeholder:"New Group Name",value:f,onChange:function(e){return A(e.target.value)}})}),Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:"modal-footer ",children:Object(C.jsx)(It.a,{color:"primary",type:"button",onClick:U,children:v?Object(C.jsx)(N.E,{className:"icon-spin"}):"Save"})})]})})},du=function(e,t,n,a,r){var c=Date.now();return new Promise((function(i){$o(e,t,a).then((function(e){var t=e.rules,a=e.groups,s=Mc(c),o=wc(r);o.push(c);var l={access:{owner:r},shareId:c,rules:t,groups:a,isEnabled:!0},u=Aa.setValue(o,{listName:n,shareId:c,creationDate:jn(),importCount:0}),d=Aa.setValue(s,l);Promise.all([u,d]).then((function(){i({sharedListId:c,sharedListName:n,sharedListData:l})}))}))}))},Ou=function(e){var t=e.toggle,n=e.isOpen,a=e.rulesToShare,r=Object(c.useContext)(Z).state,s=Ze(r),o=nt(r),l=st(r),d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(!1),S=Object(u.a)(b,2),h=S[0],T=S[1],m=Object(c.useState)(""),f=Object(u.a)(m,2),A=f[0],R=f[1],x=Object(c.useState)(!1),g=Object(u.a)(x,2),_=g[0],I=g[1],L=Object(c.useState)(""),v=Object(u.a)(L,2),y=v[0],U=v[1],P=Object(c.useState)(""),D=Object(u.a)(P,2),w=D[0],M=D[1],k=Object(c.useState)([]),G=Object(u.a)(k,2),F=G[0],B=G[1],V=Object(c.useState)(""),Y=Object(u.a)(V,2),H=Y[0],K=Y[1],q=Object(c.useState)(!1),W=Object(u.a)(q,2),Q=W[0],z=W[1],X=Object(c.useState)([]),J=Object(u.a)(X,2),$=J[0],ee=J[1],ne=function(){va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.COPIED,"SharedList url copied from CreateSharedListModal"),Da("SharedList URL Copied"),M(y)},re=function(){""===A?Ve.warn("Provide a shared list name"):E(!0)},ce=function(e){var t=e.showConfirmationBtn;return Object(C.jsx)("div",{className:"modal-footer ",style:{pointerEvents:"none",position:"sticky",bottom:"0",zIndex:"100"},children:t?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("br",{}),Object(C.jsx)(It.a,{style:{pointerEvents:"all"},color:"primary","data-dismiss":"modal",type:"primary",onClick:function(){return re()},children:"Create"})]}):null})},ie=function(){va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.CLICKED,"Notify Button Clicked"),Da("SharedList Notify Btn Clicked"),z(!0);var e=Object(be.a)();Object(be.b)(e,"sendShareListUrlAsEmailToShare")({sharedListData:H,recipientEmails:F}).then(function(){var e=Object(te.a)(ae.a.mark((function e(n){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=n.data).success?(Ve.success("We've notified them"),ee([].concat(Object(Lt.a)($),Object(Lt.a)(a.emails))),t()):(z(!1),Ve.error("Opps! Check the email and try again")),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.SHARED,"Notification Sent To people");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){Ve.error("Opps! Couldn't send the notification"),t()}))},se=function(e){var t=e.url,n=e.onCopyHandler;return Object(C.jsx)("span",{style:{cursor:"pointer"},children:Object(C.jsx)(Sc.a,{text:t,onCopy:n,children:Object(C.jsx)("span",{children:w===y?"Copied!":Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("span",{children:"Copy"})," ",Object(C.jsx)($c.a,{style:{marginLeft:"1%"}})]})})})})},oe=function(){return Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)("div",{className:"modal-body ",children:Object(C.jsxs)(gt.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(C.jsx)("h1",{className:"display-2",children:Object(C.jsx)(Kl.a,{})}),Object(C.jsx)("h4",{children:"Please select a rule before sharing"}),Object(C.jsx)("br",{}),Object(C.jsx)("h4",{children:"Confused? See how this works!"}),Object(C.jsx)("iframe",{width:"100%",height:"300",src:"https://www.youtube.com/embed/BM7kTFy-vdc",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]})}),ce({showConfirmationBtn:!1,showNotifyBtn:!1})]})},le=Object(c.useCallback)((function(e,t,n){var a=p.CONSTANTS.getSharedListURL(e,t);U(a),K(n),T(!0),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.CREATED,"Shared List created"),Da("SharedList created")}),[]),ue=function(){var e=Object(te.a)(ae.a.mark((function e(t){var n,a,r,c,i,s;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(Ts.e)(ln),a=Object(Ts.b)(n,"sharedListEmails/".concat(t)),e.next=4,Object(Ts.c)(a);case 4:(r=e.sent).exists()?(c=r.data(),i=c.emails,s=i.map((function(e){return{value:e,label:e}})),ee(s)):ee([]);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=function(){var e=Object(te.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(o.details.profile.uid);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[o.details.profile.uid]);var de=function(e){13===e.keyCode&&re()};return Object(c.useEffect)((function(){j&&!h&&du(l,a,A,s,o.details.profile.uid).then((function(e){var t=e.sharedListId,n=e.sharedListName,a=e.sharedListData;le(t,n,a)})),ya("iscreatesharedlisttask",!0)}),[j,h,a,A,s,o.details.profile.uid,le,l]),Object(c.useEffect)((function(){return document.addEventListener("keydown",de),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.WORKFLOW_STARTED,"SharedList creation workflow started"),Da("SharedList Creation Flow Started"),function(){document.removeEventListener("keydown",de)}}),[de]),Object(C.jsx)(Zt.a,{className:"modal-dialog-centered ",visible:n,onCancel:t,footer:null,title:"Share Rules",style:{textAlign:"center"},children:j?h?Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{align:"center",span:24,children:Object(C.jsx)("h1",{className:"display-2",children:Object(C.jsx)(N.b,{})})})}),Object(C.jsx)(Ct.a,{children:Object(C.jsxs)(gt.a,{align:"center",span:24,children:[Object(C.jsx)("p",{children:"Successfully created shared list. You can share this list with other users and they will be able to import these rules."}),Object(C.jsx)("p",{className:"m-3",children:Object(C.jsx)("b",{children:"Notify People (optional)"})})]})}),Object(C.jsxs)(Ct.a,{style:{alignItems:"center",justifyContent:"center"},children:[Object(C.jsx)(gt.a,{align:"center",span:18,children:Object(C.jsx)(Jl.a,{isMulti:!0,options:$,onChange:function(e){var t=e?e.map((function(e){return e.value.trim()})):[];B(t)},className:"flex-grow-1 has-dark-text border-0"})}),Object(C.jsx)(gt.a,{span:6,align:"center",children:Object(C.jsx)(It.a,{style:{pointerEvents:"all"},className:"m-1",color:"primary","data-dismiss":"modal",type:"primary",onClick:ie,disabled:!F,loading:Q,children:"Notify"})})]}),_?null:Object(C.jsx)(Ct.a,{style:{marginTop:"1rem"},children:Object(C.jsx)(gt.a,{span:24,align:"center",children:Object(C.jsxs)("a",{href:"https://app.requestly.io",onClick:function(e){return e.preventDefault(),I(!0),!1},children:[Object(C.jsx)(ro.a,{})," \xa0 Generate Public Link"]})})}),_?Object(C.jsx)(Ct.a,{className:"margin-top-one",children:Object(C.jsx)(gt.a,{span:24,align:"center",children:Object(C.jsx)(Jt.a,{value:y,disabled:!0,addonAfter:Object(C.jsx)(se,{url:y,onCopyHandler:ne})})})}):null,ce({showConfirmationBtn:!1,showNotifyBtn:!0})]}):Object(C.jsx)(Se,{customLoadingMessage:"Creating List"}):0===a.length?oe():Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)("div",{className:"modal-body ",children:Object(C.jsxs)(gt.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(C.jsx)("h1",{className:"display-2",children:Object(C.jsx)(N.D,{})}),Object(C.jsx)("p",{children:Object(C.jsx)("b",{children:"Please enter a name for your shared list of rules"})}),Object(C.jsx)(Wt.a,{className:"input-group-alternative has-traditional-border",children:Object(C.jsx)(Jt.a,{className:"display-inline-block has-dark-text",placeholder:"My shared list",type:"text",onChange:function(e){return R(e.target.value)},value:A})})]})}),ce({showConfirmationBtn:!0,showNotifyBtn:!1})]})})},ju=function(e){var t=wc(e);return Aa.getValue(t)},Eu=n(1036),bu=n(1037),pu=n(1035),Su=n(1038),hu=n(348),Tu=n(554),mu=n(1039),fu=function(e){var t=e.currentlySelectedRuleConfig;return Object(C.jsx)(_t.b,{className:"text-center text-sm-center text-xl-left text-lg-left text-md-left margin-bottom-1-when-xs margin-bottom-1-when-sm",children:Object(C.jsx)("h3",{className:"mb-0",children:"".concat(t.NAME," Rule ")})})},Au=function(e,t,n,a){var r=Object(j.a)(Object(j.a)({},n),{},{modificationDate:jn()});return hs(e).saveRuleOrGroup(r).then((function(){hs(e).getRecord(r.groupId).then((function(t){if(t&&"group"===t.objectType){var n=Object(j.a)(Object(j.a)({},t),{},{modificationDate:jn()});hs(e).saveRuleOrGroup(n).then((function(){}))}}))}))},Ru=function(e,t){!function(e){e(Mt())}(e),Ae(t)},xu=W.RULE_EDITOR_CONFIG,Nu=W.RULE_TYPES_CONFIG,Cu=function(e,t){e(wt(t))},gu=function(e,t,n,a){if(t){var r={creationDate:jn(),description:"",groupId:"",id:"".concat(n,"_").concat(En()),isSample:!1,name:"",objectType:p.CONSTANTS.OBJECT_TYPES.RULE,pairs:[],ruleType:n,status:p.CONSTANTS.RULE_STATUS.INACTIVE};r.pairs.push((c=n,Object(j.a)(Object(j.a)({},Nu[c].EMPTY_PAIR_FORMAT),{},{id:En()}))),a(e,r)}var c},_u=function(e,t,n){void 0===t?function(e){e.push(me.ROOT)}(n):e({type:d.UPDATE_CURRENTLY_SELECTED_RULE_CONFIG,payload:t})},Iu=function(e){e(Mt())},Lu=function(e,t){if(t)return{MODE:xu.MODES.SHARED_LIST_RULE_VIEW};if(!e)return{};var n=e.pathname.split("/");return{MODE:n[n.length-2],RULE_TYPE_TO_CREATE:n[n.length-1],RULE_TO_EDIT_ID:n[n.length-1]}},vu=function(e){return Object.keys(e).filter((function(t){return e[t]}))},yu=function(e,t,n){if(t===p.CONSTANTS.APP_MODES.EXTENSION&&"local"===n||t===p.CONSTANTS.APP_MODES.DESKTOP)return e.details.planDetails&&new Date(e.details.planDetails.subscription.endDate)-new Date>=0?1e6:6e3;if(!e)return 1500;var a=ft(e);return Rt(W.FEATURES.RESPONSE_BODY_CHARACTER_LIMIT,a)},Uu=function(e,t,n,a){var r;return ie()(e.name)?{result:!1,message:"Please provide a rule name"}:ie()(e.pairs)?{result:!1,message:"Opps! Rule must have atleast one pair"}:(e.ruleType===p.CONSTANTS.RULE_TYPES.REDIRECT?e.pairs.forEach((function(e){ie()(e.source.value)?r={result:!1,message:"Please enter a source"}:ie()(e.destination)?r={result:!1,message:"Please enter a destination URL"}:pn(e.destination)||e.destination.startsWith("$")||e.destination.startsWith("$")||e.destination.startsWith("http://")||e.destination.startsWith("https://")||e.destination.startsWith("file://")||(e.destination="http://"+e.destination,pn(e.destination)||(r={result:!1,message:"Please enter a valid redirect URL"}))})):e.ruleType===p.CONSTANTS.RULE_TYPES.CANCEL?e.pairs.forEach((function(e){ie()(e.source.value)&&(r={result:!1,message:"Please enter a source"})})):e.ruleType===p.CONSTANTS.RULE_TYPES.REPLACE?e.pairs.forEach((function(e){ie()(e.from)&&(r={result:!1,message:"Please enter the part that needs to be replaced"})})):e.ruleType===p.CONSTANTS.RULE_TYPES.HEADERS?e.pairs.forEach((function(e){ie()(e.header)&&(r={result:!1,message:"Please enter the header name"}),"Remove"!==e.type&&ie()(e.value)&&(r={result:!1,message:"Please enter the header value"})})):e.ruleType===p.CONSTANTS.RULE_TYPES.QUERYPARAM?e.pairs.forEach((function(e){e.modifications.forEach((function(e){"Remove All"!==e.type&&ie()(e.param)&&(r={result:!1,message:"Please enter the param name"}),"Add"===e.type&&ie()(e.value)&&(r={result:!1,message:"Please enter the param value"})}))})):e.ruleType===p.CONSTANTS.RULE_TYPES.SCRIPT?e.pairs.forEach((function(e){ie()(e.libraries)&&ie()(e.scripts)?r={result:!1,message:"Please provide a script source"}:e.scripts.forEach((function(e){"code"===e.type?ie()(e.value)?r={result:!1,message:"Please enter a valid script code"}:e.value.length>=W.RULE_TYPES_CONFIG.Script.CUSTOM_SCRIPT_CHARACTER_LIMIT&&(r={result:!1,message:"Script code should be less than ".concat(W.RULE_TYPES_CONFIG.Script.CUSTOM_SCRIPT_CHARACTER_LIMIT," characters")}):"url"===e.type&&ie()(e.value)&&(r={result:!1,message:"Please enter a valid script URL"})}))})):e.ruleType===p.CONSTANTS.RULE_TYPES.RESPONSE?e.pairs.forEach((function(e){ie()(e.source.value)?r={result:!1,message:"Please enter a source"}:ie()(e.response.value)?r={result:!1,message:"Please specify response body"}:Tn(e.response.value)>yu(t,n,a)&&(r={result:!1,message:"Response should be less than ".concat(yu(t,n,a)," characters.")})})):e.ruleType===p.CONSTANTS.RULE_TYPES.USERAGENT?e.pairs.forEach((function(e){ie()(e.envType)?r={result:!1,message:"Please select device type"}:ie()(e.env)&&!e.userAgent&&(r={result:!1,message:"Please select UserAgent"})})):e.ruleType===p.CONSTANTS.RULE_TYPES.DELAY&&e.pairs.forEach((function(e){var t=e.delay;ie()(e.source.value)?r={result:!1,message:"Please enter a source"}:ie()(t)?r={result:!1,message:"Delay cannot be empty"}:isNaN(t)&&0!==parseInt(t)?r={result:!1,message:"Delay should be a Number"}:Object(he.inRange)(parseInt(t),p.CONSTANTS.DELAY_REQUEST_CONSTANTS.MIN_DELAY_VALUE,p.CONSTANTS.DELAY_REQUEST_CONSTANTS.MAX_DELAY_VALUE_NON_XHR+1)||(r={result:!1,message:"Delay should lie between ".concat(p.CONSTANTS.DELAY_REQUEST_CONSTANTS.MIN_DELAY_VALUE," and ").concat(p.CONSTANTS.DELAY_REQUEST_CONSTANTS.MAX_DELAY_VALUE_NON_XHR)})})),r&&!1===r.result?r:{result:!0})},Pu=function(e,t){Un("rule_created",{rule_type:e,uid:t})},Du=function(e,t){Un("rule_edited",{rule_type:e,uid:t})},wu=function(e){var t=Object(re.g)(),n=Lu(e.location).MODE,a=Object(c.useContext)(Z),r=(a.dispatch,a.state),i=tt(r),s=nt(r),o=st(r),l=Object(c.useState)("Ctrl+S"),d=Object(u.a)(l,2),O=d[0],E=d[1],b=function(){return n===W.RULE_EDITOR_CONFIG.MODES.EDIT?"Save":"Create"},S=function(){var e=Object(te.a)(ae.a.mark((function e(){var a,r,c,l,u,d,O,E,S,h,T,m,f;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O=null,o!==p.CONSTANTS.APP_MODES.EXTENSION){e.next=9;break}return e.next=4,rs();case 4:E=e.sent,S=E.storageType,O=S,e.next=10;break;case 9:o===p.CONSTANTS.APP_MODES.DESKTOP&&(O="local");case 10:if(O){e.next=13;break}return alert("Storage problem occurred. Please send a screenshot of this to us at contact@requestly.io"),e.abrupt("return");case 13:h=(null===s||void 0===s||null===(a=s.details)||void 0===a||null===(r=a.profile)||void 0===r?void 0:r.uid)||null,T=(null===s||void 0===s||null===(c=s.details)||void 0===c||null===(l=c.profile)||void 0===l?void 0:l.uid)||null,m=(null===s||void 0===s||null===(u=s.details)||void 0===u||null===(d=u.profile)||void 0===d?void 0:d.uid)||null,(f=Uu(i,s,o,O)).result?Au(o,0,Object(j.a)(Object(j.a)({},i),{},{createdBy:h,currentOwner:T,lastModifiedBy:m})).then(Object(te.a)(ae.a.mark((function e(){var a,r,c;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.loggedIn){e.next=4;break}if(!s.details.isSyncEnabled){e.next=4;break}return e.next=4,$l(i,s.details.profile.uid,o);case 4:Ve.success("Successfully ".concat(b().toLowerCase(),"d the rule")),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,p.CONSTANTS.GA_EVENTS.ACTIONS.CREATED,"Rule Saved"),Da("Rule Saved"),a=null,r=null,s&&s.details&&s.details.profile&&(a=s.details.profile.uid),i&&i.ruleType&&(r=i.ruleType),n===W.RULE_EDITOR_CONFIG.MODES.CREATE?Pu(r,a):n===W.RULE_EDITOR_CONFIG.MODES.EDIT&&Du(r,a),Da("Rule Saved"),c=i.id,Re(t,c);case 15:case"end":return e.stop()}}),e)})))):Ve.warn(f.message,{hideProgressBar:!0});case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(e){(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&"s"===e.key.toLowerCase()&&(e.preventDefault(),S())};return Object(c.useEffect)((function(){navigator.platform.match("Mac")&&E("\u2318+S")}),[]),Object(c.useEffect)((function(){return document.addEventListener("keydown",h),function(){document.removeEventListener("keydown",h)}}),[h]),Object(C.jsx)(Ec.a,{title:O,placement:"bottom",children:Object(C.jsxs)(It.a,{className:"btn-icon btn-3",type:"primary",onClick:S,icon:Object(C.jsx)(ml.a,{}),children:[b()," Rule"]})})},Mu=function(){var e=Object(re.g)(),t=Object(c.useContext)(Z).dispatch,n=function(n){"Escape"===n.key&&Ru(t,e)};return Object(c.useEffect)((function(){return document.addEventListener("keydown",n),function(){return document.removeEventListener("keydown",n)}}),[]),Object(C.jsx)(Ec.a,{placement:"bottom",title:"Esc",children:Object(C.jsx)(It.a,{className:"btn-icon btn-3",type:"secondary","data-dismiss":"modal",onClick:function(){return Ru(t,e)},shape:"circle",icon:Object(C.jsx)(no.a,{})})})},ku=function(e,t){Un("active_rule_limit_reached",{uid:e,rules_count:t})},Gu=function(e){var t=e.location,n=Object(c.useContext)(Z),a=n.dispatch,r=n.state,s=tt(r),o=ze(r),l=nt(r),d=Object(c.useState)(!1),O=Object(u.a)(d,2),E=O[0],b=O[1],S=Object(c.useState)(0),h=Object(u.a)(S,2),T=h[0],m=h[1],f=Object(c.useState)("Free"),A=Object(u.a)(f,2),R=A[0],x=A[1],N=Object(c.useState)(!1),g=Object(u.a)(N,2),_=g[0],I=g[1],L=function(){return s.status===p.CONSTANTS.RULE_STATUS.ACTIVE},v=function(e){e!==s.status&&Cu(a,Object(j.a)(Object(j.a)({},s),{},{status:e}))},y=Object(c.useCallback)(v,[s,a]);return Object(c.useEffect)((function(){if(!E){var e=o.filter((function(e){return e.status===p.CONSTANTS.RULE_STATUS.ACTIVE&&!tl(e)})).length,n=ft(l),a=Rt(W.FEATURES.ACTIVE_RULES,n);-1!==t.pathname.indexOf("create")&&e<a&&y(p.CONSTANTS.RULE_STATUS.ACTIVE)}}),[o,y,l,t.pathname,E]),Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)(xs.a,{size:"small",checked:L(),onChange:function(e){if(b(!0),L())v(p.CONSTANTS.RULE_STATUS.INACTIVE);else{var t=o.filter((function(e){return e.status===p.CONSTANTS.RULE_STATUS.ACTIVE&&!tl(e)})).length,n=ft(l),a=Rt(W.FEATURES.ACTIVE_RULES,n);if(t>=a){var r,c;m(a),x(n),I(!0);var i=(null===l||void 0===l||null===(r=l.details)||void 0===r||null===(c=r.profile)||void 0===c?void 0:c.uid)||null;ku(i,t)}else v(p.CONSTANTS.RULE_STATUS.ACTIVE)}}}),_?Object(C.jsx)(hc,{isOpen:_,toggle:function(){I(!_)},featureName:W.FEATURES.ACTIVE_RULES,featureLimit:T,userPlanName:R}):null]})},Fu=function(e){var t=Lu(e.location).MODE;return Object(C.jsx)(C.Fragment,{children:t===W.RULE_EDITOR_CONFIG.MODES.EDIT?Object(C.jsx)(It.a,{className:"btn-icon btn-3 mr-lg-4 my-3 my-lg-0 my-md-0 my-sm-0",color:"primary",type:"secondary",onClick:e.shareBtnClickHandler,icon:Object(C.jsx)(pu.a,{}),children:"Share Rule"}):null})},Bu=function(e){return Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(Gu,{location:e.location}),Object(C.jsx)(Fu,{location:e.location,shareBtnClickHandler:e.shareBtnClickHandler}),Object(C.jsx)(wu,{location:e.location}),Object(C.jsx)(Mu,{})]})},Vu=function(e){var t=e.currentlySelectedRuleConfig,n=e.topCountShowRequiredDataObject,a=e.shareBtnClickHandler;return Object(C.jsxs)(Ct.a,{children:[Object(C.jsx)(gt.a,{span:12,children:Object(C.jsx)(fu,{currentlySelectedRuleConfig:t,topCountShowRequiredDataObject:n})}),Object(C.jsx)(gt.a,{span:12,align:"right",children:Object(C.jsx)(Bu,{location:e.location,shareBtnClickHandler:a})})]})},Yu=n(866),Hu=function(e,t,n,a){var r=JSON.parse(JSON.stringify(e));if("string"===typeof n)t(Yu(r,["pairs[".concat(a,"].").concat(n)]));else{var c=n.map((function(e){return"pairs[".concat(a,"].").concat(e)}));t(Yu(r,c))}},Ku=n(221),qu=function(e,t,n){return Ku(e.pairs[t],n,"")},Wu=n(296),Qu=n(221),zu=function(e,t,n,a,r){if(null===a||0===a.length)Hu(e,t,r,n);else{var c=JSON.parse(JSON.stringify(e)),i=a.map((function(e){return e.value}));Wu(c.pairs[n],r,i),t(c)}},Xu=function(e,t,n,a){var r=Qu(e.pairs[t],n,[]);return a.filter((function(e){return r.includes(e.value)}))},Ju=n(243),Zu=tn.a.Text,$u=[{label:"All (default)",value:"all",isDisabled:!0},{label:"XHR",value:"xmlhttprequest"},{label:"JS",value:"script"},{label:"CSS",value:"stylesheet"},{label:"Image",value:"image"},{label:"Media",value:"media"},{label:"Font",value:"font"},{label:"Web Socket",value:"websocket"},{label:"Main Document",value:"main_frame"},{label:"iFrame Document",value:"sub_frame"}],ed=[{label:"All (default)",value:"all",isDisabled:!0},{label:"GET",value:"GET"},{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"DELETE",value:"DELETE"},{label:"PATCH",value:"PATCH"},{label:"OPTIONS",value:"OPTIONS"},{label:"TRACE",value:"TRACE"},{label:"CONNECT",value:"CONNECT"},{label:"HEAD",value:"HEAD"}],td=function(e){switch(e){case p.CONSTANTS.RULE_OPERATORS.EQUALS:return"e.g. http://www.example.com";case p.CONSTANTS.RULE_OPERATORS.CONTAINS:return"e.g. facebook";case p.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES:return"e.g. *://*.mydomain.com/*";case p.CONSTANTS.RULE_OPERATORS.MATCHES:return"e.g. /example-([0-9]+)/ig";default:return"Select a condition first"}},nd=function(e){var t=e.modifyPairAtGivenPath,n=e.pairIndex,a=Object(c.useContext)(Z),r=a.dispatch,s=a.state,o=tt(s),l=function(e){return r(wt(e))},u=function(){switch(qu(o,n,p.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR)){case p.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES:return"Wildcard";case p.CONSTANTS.RULE_OPERATORS.MATCHES:return"RegEx";case"":return"Select";default:return qu(o,n,p.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR)}},d=function(e){return Object(C.jsx)("span",{onClick:function(){Hu(o,l,"source.filters.".concat(e),n),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,p.CONSTANTS.GA_EVENTS.ACTIONS.DELETE,"Rule source "+e+" filter modified")},className:"cursor-pointer",children:Object(C.jsx)(Ju.a,{})})},O={PAGE_URL_MODIFIED:function(){va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,p.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"Rule source pageUrl filter modified")},RESOURCE_TYPE_MODIFIED:function(){va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,p.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"Rule source resourceType filter modified")},REQUEST_METHOD_MODIFIED:function(){va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,p.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"Rule source requestMethod filter modified")}},j=Object(C.jsxs)($t.a,{children:[Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return t(e,n,p.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR,p.CONSTANTS.RULE_OPERATORS.EQUALS)},children:"Equals"})},1),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return t(e,n,p.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR,p.CONSTANTS.RULE_OPERATORS.CONTAINS)},children:"Contains"})},2),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return t(e,n,p.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR,p.CONSTANTS.RULE_OPERATORS.MATCHES)},children:"Matches (RegEx)"})},3),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return t(e,n,p.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR,p.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES)},children:"Matches (Wildcard)"})},4)]});return Object(C.jsx)(i.a.Fragment,{children:Object(C.jsxs)(Zt.a,{visible:!1!==n,onCancel:function(){return e.closeModal()},footer:null,title:"Source Filters",width:700,children:[Object(C.jsxs)(Ct.a,{style:{paddingBottom:"1rem",alignItems:"center"},children:[Object(C.jsx)(gt.a,{span:3,children:Object(C.jsx)("span",{children:"Page URL"})}),Object(C.jsx)(gt.a,{span:6,align:"center",children:Object(C.jsx)(en.a,{overlay:j,children:Object(C.jsxs)(Zu,{strong:!0,className:"ant-dropdown-link all-caps-text",onClick:function(e){e.preventDefault(),O.PAGE_URL_MODIFIED(e)},style:{textTransform:"uppercase",cursor:"pointer"},children:[u()," ",Object(C.jsx)(nn.a,{})]})})}),Object(C.jsx)(gt.a,{span:12,children:Object(C.jsx)(Jt.a,{placeholder:td(qu(o,n,p.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR)),name:"description",type:"text",value:qu(o,n,p.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_VALUE),onChange:function(e){t(e,n,p.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_VALUE),O.PAGE_URL_MODIFIED()},disabled:"Select"===u()})}),Object(C.jsx)(gt.a,{align:"right",span:3,children:d(p.CONSTANTS.RULE_SOURCE_FILTER_TYPES.PAGE_URL)})]}),Object(C.jsxs)(Ct.a,{className:"one-padding-bottom",style:{paddingBottom:"1rem",alignItems:"center"},children:[Object(C.jsx)(gt.a,{span:5,children:Object(C.jsx)("span",{children:"Resource Type"})}),Object(C.jsx)(gt.a,{span:17,children:Object(C.jsx)(ur.a,{isMulti:!0,name:"resource-type",options:$u,placeholder:"All (default)",value:Xu(o,n,p.CONSTANTS.PATH_FROM_PAIR.SOURCE_RESOURCE_TYPE,$u),onChange:function(e){zu(o,l,n,e,p.CONSTANTS.PATH_FROM_PAIR.SOURCE_RESOURCE_TYPE),O.RESOURCE_TYPE_MODIFIED()}})}),Object(C.jsx)(gt.a,{span:2,align:"right",children:d(p.CONSTANTS.RULE_SOURCE_FILTER_TYPES.RESOURCE_TYPE)})]}),Object(C.jsxs)(Ct.a,{className:"one-padding-bottom",style:{paddingBottom:"1rem",alignItems:"center"},children:[Object(C.jsx)(gt.a,{span:5,children:Object(C.jsx)("span",{children:"Request Method"})}),Object(C.jsx)(gt.a,{span:17,children:Object(C.jsx)(ur.a,{isMulti:!0,name:"request-method",options:ed,placeholder:"All (default)",value:Xu(o,n,p.CONSTANTS.PATH_FROM_PAIR.SOURCE_REQUEST_METHOD,ed),onChange:function(e){return zu(o,l,n,e,p.CONSTANTS.PATH_FROM_PAIR.SOURCE_REQUEST_METHOD)}})}),Object(C.jsx)(gt.a,{span:2,align:"right",children:d(p.CONSTANTS.RULE_SOURCE_FILTER_TYPES.REQUEST_METHOD)})]})]})})},ad=n(416),rd=function(e){var t=e.filesList,n=(e.updateCollection,e.mode,e.callback),a=[{title:"Name",key:"name",render:function(e){return Object(C.jsxs)("div",{children:[Object(C.jsx)("a",{href:"/mock-server/viewer/".concat(e.id),children:e.name}),""!==e.description?Object(C.jsx)("div",{style:{maxWidth:"35ch",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.description}):null]})}},{title:"Last Updated",dataIndex:"lastUpdated",key:"lastUpdated"},{title:"Type",key:"tagType",dataIndex:"tagType",render:function(e){return Object(C.jsx)("span",{children:Object(C.jsx)(As.a,{color:"API"===e?"green":"geekblue",children:e.toUpperCase()})})},filters:[{text:"API",value:"API"},{text:"JS",value:"js"},{text:"HTML",value:"html"},{text:"CSS",value:"css"}],onFilter:function(e,t){return t.tagType===e}},{title:"Action",key:"actions",dataIndex:"actions",render:function(e){return Object(C.jsx)("span",{children:Object(C.jsxs)("a",{href:"https://app.requestly.io",onClick:function(t){return t.preventDefault(),n(e),!1},children:[" ","Select"," "]})})}}],r=function(e){return Object.keys(e).map((function(t,n){return{key:n,id:t,name:e[t].name,description:e[t].description,lastUpdated:new Date(e[t].modifiedTime).toDateString(),tagType:(a=e[t].isMock,r=e[t].filePath,a?"API":r.split(".")[1]),actions:e[t].shortUrl};var a,r}))}(t);return Object(C.jsx)(ad.a,{columns:a,dataSource:r,pagination:{defaultPageSize:4}})},cd=function(e){var t=e.isOpen,n=e.toggle,a=e.callback,r=Object(c.useContext)(Z).state,i=nt(r),s=Object(c.useState)(!0),o=Object(u.a)(s,2),d=o[0],O=o[1],j=Object(c.useState)({}),E=Object(u.a)(j,2),b=E[0],S=E[1],h=function(){var e=Object(te.a)(ae.a.mark((function e(){var t,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://app.requestly.io"===p.CONFIG.WEB_URL?"https://app.requestly.io":"https://beta.requestly.io",e.next=3,Fc(i.details.profile.uid);case 3:(n=e.sent)||(n={}),Bc().then((function(e){e.forEach((function(e){e.shortUrl="".concat(t,"/mock/").concat(e.mockID);var a=e.rId?e.rId:e.mockID;n[a]=e})),S(n),O(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=Object(c.useCallback)(h,[i]),m=Object(C.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:["My Files"," ",Object(C.jsxs)(It.a,{type:"primary",href:"/mock-server/viewer/create",style:{marginRight:"2rem"},children:[Object(C.jsx)(Va.a,{}),Object(C.jsx)("span",{children:"New Mock"})," "]})," "]});return Object(c.useLayoutEffect)((function(){i.loggedIn&&i.details.profile&&T()}),[i,T]),Object(C.jsx)(Zt.a,{visible:t,onCancel:n,footer:null,title:m,width:"80%",children:Object(C.jsx)("div",{className:"modal-body ",children:i.loggedIn?d?Object(C.jsx)(oc,{customLoadingMessage:"Loading Files"}):ie()(b)?Object(C.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:Object(C.jsxs)("h5",{children:["You havn't uploaded any file yet."," ",Object(C.jsx)(l.b,{rel:"noopener noreferrer",target:"_blank",to:W.PATHS.FILES.ABSOLUTE,children:"Upload Now?"})]})}):Object(C.jsx)(rd,{filesList:b,mode:W.FILES_TABLE_CONSTANTS.MODES.FILE_PICKER,callback:a}):Object(C.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:Object(C.jsx)("p",{children:"You need to login first!"})})})})},id=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions,s=r.generatePlaceholderText,o=r.modifyPairAtGivenPath,l=Object(c.useState)(!1),d=Object(u.a)(l,2),O=d[0],j=d[1];return Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsxs)(Ct.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(C.jsx)(gt.a,{span:3,children:Object(C.jsx)("span",{children:"Redirect to"})}),Object(C.jsx)(gt.a,{span:21,children:Object(C.jsx)(Jt.a,{className:"display-inline-block has-dark-text",placeholder:s(n.source.operator,"destination"),type:"text",onChange:function(e){return o(e,a,"destination")},style:{cursor:"pointer"},value:n.destination,addonAfter:Object(C.jsxs)(Ec.a,{title:"Import a existing Mock API",onClick:function(e){j(!0)},children:[Object(C.jsx)(Tu.a,{}),"\xa0 Pick from Mock API"]})})})]},t),O?Object(C.jsx)(cd,{isOpen:O,toggle:function(){j(!O)},callback:function(e){j(!1),o(void 0,a,"destination",e)}}):null]})},sd=tn.a.Text,od=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions,c=e.options,i=e.ruleDetails,s=r.modifyPairAtGivenPath,o=r.openFilterModal,l=r.getFilterCount,u=r.deletePair,d=r.generatePlaceholderText;c=c||{};var O=Object(C.jsxs)($t.a,{children:[Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return s(e,a,p.CONSTANTS.PATH_FROM_PAIR.RULE_KEYS,p.CONSTANTS.RULE_KEYS.URL)},children:"URL"})},1),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return s(e,a,p.CONSTANTS.PATH_FROM_PAIR.RULE_KEYS,p.CONSTANTS.RULE_KEYS.HOST)},children:"Host"})},2),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return s(e,a,p.CONSTANTS.PATH_FROM_PAIR.RULE_KEYS,p.CONSTANTS.RULE_KEYS.PATH)},children:"Path"})},3)]}),j=Object(C.jsxs)($t.a,{children:[Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return s(e,a,p.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,p.CONSTANTS.RULE_OPERATORS.EQUALS)},children:"Equals"})},1),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return s(e,a,p.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,p.CONSTANTS.RULE_OPERATORS.CONTAINS)},children:"Contains"})},2),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return s(e,a,p.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,p.CONSTANTS.RULE_OPERATORS.MATCHES)},children:"Matches (RegEx)"})},3),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return s(e,a,p.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,p.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES)},children:"Matches (Wildcard)"})},4)]});return Object(C.jsxs)(Ct.a,{span:24,style:{alignItems:"center",justifyContent:"center"},className:" margin-top-one",children:[Object(C.jsx)(gt.a,{span:2,align:"left",children:Object(C.jsx)("span",{children:"If request"})}),Object(C.jsx)(gt.a,{span:2,align:"center",children:Object(C.jsx)(en.a,{overlay:O,children:Object(C.jsxs)(sd,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"uppercase",cursor:"pointer"},children:[n.source.key," ",Object(C.jsx)(nn.a,{})]})})}),Object(C.jsx)(gt.a,{span:3,align:"center",children:Object(C.jsx)(en.a,{overlay:j,children:Object(C.jsxs)(sd,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"capitalize",cursor:"pointer"},children:[n.source.operator===p.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES?"Wildcard":n.source.operator===p.CONSTANTS.RULE_OPERATORS.MATCHES?"RegEx":n.source.operator," ",Object(C.jsx)(nn.a,{})]})})}),Object(C.jsx)(gt.a,{span:i.SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW&&i.ALLOW_REQUEST_SOURCE_FILTERS?11:i.SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW?13:i.ALLOW_REQUEST_SOURCE_FILTERS?15:17,children:Object(C.jsx)(Jt.a,{placeholder:i.ALLOW_APPLY_RULE_TO_ALL_URLS?"Leave this field Empty to apply rule to all URLs":d(n.source.operator,"source-value"),type:"text",onChange:function(e){return s(e,a,"source.value")},value:n.source.value})}),i.ALLOW_REQUEST_SOURCE_FILTERS?Object(C.jsxs)(gt.a,{span:2,align:"left",children:["\xa0\xa0",Object(C.jsx)(Ec.a,{title:"Filters",children:Object(C.jsxs)("span",{onClick:function(){return o(a)},id:"edit-filters",style:{cursor:"pointer"},children:[Object(C.jsx)(N.p,{color:"#4A5868"})," ",0!==l(a)?Object(C.jsx)(Fa.a,{style:{color:"#465967",backgroundColor:"#E5EAEF"},children:l(a)}):null]})})]}):null,i.SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW?Object(C.jsx)(gt.a,{align:"right",span:4,children:Object(C.jsx)(Ec.a,{title:"Remove Pair",children:Object(C.jsx)(N.I,{id:"delete-pair",color:"#4A5868",onClick:function(e){return u(e,a)},style:{cursor:"pointer"}})})}):null]},t)},ld=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsx)(od,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsx)(id,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:a})})})]})},ud=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(C.jsx)(od,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})},dd=n(81),Od=n.n(dd),jd=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions,c=r.modifyPairAtGivenPath,i=r.deletePair,s=Object(C.jsxs)($t.a,{children:[Object(C.jsx)($t.a.Item,{children:Object(C.jsx)(Od.a,{onClick:function(e){return c(e,a,"target",p.CONSTANTS.HEADERS_TARGET.REQUEST)},children:p.CONSTANTS.HEADERS_TARGET.REQUEST})},1),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)(Od.a,{onClick:function(e){return c(e,a,"target",p.CONSTANTS.HEADERS_TARGET.RESPONSE)},children:p.CONSTANTS.HEADERS_TARGET.RESPONSE})},2)]}),o=Object(C.jsxs)($t.a,{children:[Object(C.jsx)($t.a.Item,{children:Object(C.jsx)(Od.a,{onClick:function(e){return c(e,a,"type",p.CONSTANTS.MODIFICATION_TYPES.ADD)},children:"Add"})},1),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)(Od.a,{onClick:function(e){return c(e,a,"type",p.CONSTANTS.MODIFICATION_TYPES.REMOVE)},children:"Remove"})},2),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)(Od.a,{onClick:function(e){return c(e,a,"type",p.CONSTANTS.MODIFICATION_TYPES.MODIFY)},children:"Modify"})},3)]});return Object(C.jsxs)(Ct.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(C.jsx)(gt.a,{span:3,children:Object(C.jsx)(en.a,{overlay:o,children:Object(C.jsxs)(Od.a,{className:"ant-dropdown-link cursor-pointer",onClick:function(e){return e.preventDefault()},children:[n.type," ",Object(C.jsx)(nn.a,{})]})})}),Object(C.jsx)(gt.a,{span:3,children:Object(C.jsx)(en.a,{overlay:s,children:Object(C.jsxs)(Od.a,{className:"ant-dropdown-link cursor-pointer",onClick:function(e){return e.preventDefault()},children:[n.target," ",Object(C.jsx)(nn.a,{})]})})}),Object(C.jsx)(gt.a,{span:8,className:"my-auto margin-bottom-1-when-xs margin-bottom-1-when-sm margin-bottom-1-when-md ",children:Object(C.jsx)(Jt.a,{addonBefore:"Header",className:"display-inline-block has-dark-text",style:{paddingLeft:"4px",width:"95%"},placeholder:"Header Name",type:"text",value:n.header,onChange:function(e){return c(e,a,"header")}})}),Object(C.jsx)(gt.a,{span:9,className:"my-auto",children:Object(C.jsx)(Jt.a,{addonBefore:"Value",className:"display-inline-block has-dark-text",style:{paddingLeft:"4px",width:"95%"},placeholder:"Header Value",type:"text",value:n.value,onChange:function(e){return c(e,a,p.CONSTANTS.RULE_KEYS.VALUE)},disabled:"Remove"===n.type})}),Object(C.jsx)(gt.a,{span:1,className:"my-auto",align:"right",children:Object(C.jsx)(Ec.a,{title:"Remove Pair",children:Object(C.jsx)(N.I,{id:"delete-pair",color:"#4A5868",onClick:function(e){return i(e,a)},style:{cursor:"pointer"}})})})]},t)},Ed=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:"24",children:Object(C.jsx)(jd,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a})})}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsx)(od,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})})]})},bd=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions,c=r.modifyPairAtGivenPath,i=r.deletePair;return Object(C.jsxs)(Ct.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(C.jsx)(gt.a,{span:11,children:Object(C.jsx)(Jt.a,{addonBefore:"Replace",className:"display-inline-block has-dark-text",placeholder:"This part in URL",type:"text",onChange:function(e){return c(e,a,"from")},value:n.from,style:{width:"95%",paddingLeft:"4px"}})}),Object(C.jsx)(gt.a,{span:11,children:Object(C.jsx)(Jt.a,{addonBefore:"With",className:"display-inline-block has-dark-text",placeholder:"This part",type:"text",onChange:function(e){return c(e,a,"to")},value:n.to,style:{width:"95%",paddingLeft:"4px"}})}),Object(C.jsx)(gt.a,{span:2,align:"right",children:Object(C.jsx)(Ec.a,{title:"Remove Pair",children:Object(C.jsx)(N.I,{id:"delete-pair",color:"#4A5868",onClick:function(e){return i(e,a)},style:{cursor:"pointer"}})})})]},t)},pd=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsx)(bd,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a})})}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsx)(od,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})})]})},Sd=n(527),hd=function(e){var t=e.rowIndex,n=e.pairIndex,a=e.helperFunctions,r=e.modification,c=e.modificationIndex,i=a.modifyPairAtGivenPath,s=a.deleteModification,o=Object(C.jsxs)($t.a,{children:[Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return i(e,n,"modifications[".concat(c,"].type"),"Add")},children:"Add/Replace"})},1),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return i(e,n,"modifications[".concat(c,"].type"),"Remove")},children:"Remove"})},2),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return i(e,n,"modifications[".concat(c,"].type"),"Remove All")},children:"Remove All"})},3)]});return Object(C.jsxs)(Ct.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(C.jsx)(gt.a,{span:3,children:Object(C.jsx)(en.a,{overlay:o,children:Object(C.jsxs)(Od.a,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"uppercase",cursor:"pointer"},children:[r.type," ",Object(C.jsx)(nn.a,{})]})})}),Object(C.jsx)(gt.a,{span:10,children:Object(C.jsx)(Jt.a,{addonBefore:"Param",className:"display-inline-block has-dark-text",style:{paddingLeft:"4px"},placeholder:"Param Name",type:"text",onChange:function(e){return i(e,n,"modifications[".concat(c,"].param"))},value:r.param,disabled:"Remove All"===r.type})}),Object(C.jsx)(gt.a,{span:10,children:Object(C.jsx)(Jt.a,{addonBefore:"Value",className:"display-inline-block has-dark-text",style:{paddingLeft:"4px",width:"95%"},placeholder:"Param Value",type:"text",onChange:function(e){return i(e,n,"modifications[".concat(c,"].value"))},value:r.value,disabled:"Add"!==r.type})}),Object(C.jsx)(gt.a,{span:1,align:"right",children:Object(C.jsx)(Ec.a,{title:"Remove",children:Object(C.jsx)(Sd.a,{id:"delete-pair",color:"#4A5868",onClick:function(e){return s(e,n,c)},style:{cursor:"pointer"}})})})]},t)},Td=function(e){var t=e.rowIndex,n=e.helperFunctions.addEmptyModification;return Object(C.jsx)(Ct.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:Object(C.jsx)(gt.a,{offset:3,span:21,children:Object(C.jsx)(It.a,{type:"secondary",size:"small",onClick:n,icon:Object(C.jsx)(Va.a,{}),children:Object(C.jsx)("span",{className:"btn-inner--text",children:"Add Modification"})})})},t)},md=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails,s=a.pushValueToArrayInPair,o=a.deleteArrayValueByIndexInPair,l=function(e){s(e,n,"modifications",u())},u=Object(c.useCallback)((function(){return Object(j.a)(Object(j.a)({},r.EMPTY_MODIFICATION_FORMAT),{},{id:En()})}),[r.EMPTY_MODIFICATION_FORMAT]),d=Object(c.useCallback)(l,[u,n,s]),O=Object(c.useCallback)((function(){d()}),[d]),E=function(e,t,n){o(e,t,"modifications",n)};return Object(c.useEffect)((function(){0===t.modifications.length&&O()}),[O,t.modifications.length]),Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsx)(od,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})}),t.modifications.map((function(e,r){return Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsx)(hd,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:Object(j.a)(Object(j.a)({},a),{},{deleteModification:E}),modification:e,modificationIndex:r},e.id)})},r)})),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsx)(Td,{rowIndex:3,pair:t,pairIndex:n,helperFunctions:Object(j.a)(Object(j.a)({},a),{},{addEmptyModification:l})})})})]})},fd=n(296),Ad=n(221),Rd=function(){return Object.keys(p.CONSTANTS.SCRIPT_LIBRARIES).map((function(e){return{value:e,label:p.CONSTANTS.SCRIPT_LIBRARIES[e].name}}))},xd=function(e){var t=e.rowIndex,n=e.pairIndex,a=Object(c.useContext)(Z),r=a.dispatch,i=a.state,s=tt(i),o=function(e,t){var a=JSON.parse(JSON.stringify(s)),c=[];e&&(c=e.map((function(e){return e.value}))),fd(a.pairs[n],t,c),r(wt(a))};return Object(C.jsxs)(Ct.a,{className:" margin-top-one",style:{alignItems:"center",justifyContent:"center"},children:[Object(C.jsx)(gt.a,{className:"my-auto",span:4,children:Object(C.jsx)("span",{children:"Insert Libraries"})}),Object(C.jsx)(gt.a,{span:20,className:"my-auto margin-bottom-1-when-xs margin-bottom-1-when-sm",children:Object(C.jsx)(ur.a,{isMulti:!0,name:"resource-type",options:Rd(),placeholder:"None",value:function(e,t){var a=Ad(s.pairs[n],e,[]);return t.filter((function(e){return a.includes(e.value)}))}(p.CONSTANTS.PATH_FROM_PAIR.SCRIPT_LIBRARIES,Rd()),onChange:function(e){return o(e,p.CONSTANTS.PATH_FROM_PAIR.SCRIPT_LIBRARIES)}})})]},t)},Nd=function(e){var t=e.rowIndex,n=e.helperFunctions.addEmptyScript;return Object(C.jsx)(Ct.a,{className:" margin-top-one",style:{alignItems:"center",justifyContent:"center"},children:Object(C.jsx)(gt.a,{span:20,offset:4,className:"my-auto",children:Object(C.jsx)(It.a,{type:"secondary",size:"small",onClick:n,icon:Object(C.jsx)(Va.a,{}),children:"Insert Custom Script"})})},t)},Cd=tn.a.Text,gd=function(e){var t=e.rowIndex,n=e.pairIndex,a=e.helperFunctions,r=e.script,s=e.scriptIndex,o=e.ruleDetails,l=a.modifyPairAtGivenPath,d=a.deleteScript,O=Object(c.useState)(!1),j=Object(u.a)(O,2),E=j[0],b=j[1],S=function(){b(!E)},h=function(e){b(!0)},T=function(e){b(!1),l(void 0,n,"scripts[".concat(s,"].value"),e)},m=function(e,t){l(e,n,"scripts[".concat(s,"].type"),t,[{path:"scripts[".concat(s,"].value"),value:""}])},f=Object(C.jsxs)($t.a,{children:[Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return l(e,n,"scripts[".concat(s,"].loadTime"),p.CONSTANTS.SCRIPT_LOAD_TIME.AFTER_PAGE_LOAD)},children:"After Page Load"})},1),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return l(e,n,"scripts[".concat(s,"].loadTime"),p.CONSTANTS.SCRIPT_LOAD_TIME.BEFORE_PAGE_LOAD)},children:"Before Page Load"})},2)]}),A=Object(C.jsxs)($t.a,{children:[Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return m(e,p.CONSTANTS.SCRIPT_TYPES.URL)},children:"URL"})},1),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return m(e,p.CONSTANTS.SCRIPT_TYPES.CODE)},children:"Custom Code"})},2)]}),R=Object(C.jsxs)($t.a,{children:[Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return l(e,n,"scripts[".concat(s,"].codeType"),p.CONSTANTS.SCRIPT_CODE_TYPES.JS)},children:"JavaScript"})},1),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return l(e,n,"scripts[".concat(s,"].codeType"),p.CONSTANTS.SCRIPT_CODE_TYPES.CSS)},children:"CSS"})},2)]});return Object(C.jsxs)("div",{style:{border:"1px solid #d5dee6",borderRadius:"4px",padding:"1%",margin:"1%",boxShadow:"1px 1px #d5dee6"},children:[Object(C.jsxs)(Ct.a,{className:"margin-top-one",style:{alignItems:"center",justifyContent:"center"},children:[Object(C.jsx)(gt.a,{span:4,children:Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(Cd,{children:"Code Type"}),Object(C.jsx)(en.a,{overlay:R,children:Object(C.jsxs)(Cd,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"uppercase",cursor:"pointer"},children:[r.codeType," ",Object(C.jsx)(nn.a,{})]})})]})}),Object(C.jsx)(gt.a,{span:4,children:Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(Cd,{children:"Code Source"}),Object(C.jsx)(en.a,{overlay:A,children:Object(C.jsxs)(Cd,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"uppercase",cursor:"pointer"},children:[r.type," ",Object(C.jsx)(nn.a,{})]})})]})}),r.codeType===p.CONSTANTS.SCRIPT_CODE_TYPES.JS?Object(C.jsx)(gt.a,{span:4,children:Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(Cd,{children:"Insert"}),Object(C.jsx)(en.a,{overlay:f,children:Object(C.jsxs)(Cd,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"capitalize",cursor:"pointer"},children:[r.loadTime===p.CONSTANTS.SCRIPT_LOAD_TIME.AFTER_PAGE_LOAD?"After Page Load":"Before Page Load"," ",Object(C.jsx)(nn.a,{})]})})]})}):null,Object(C.jsx)(gt.a,{className:"my-auto",span:12,align:"right",children:Object(C.jsx)(Ec.a,{title:"Remove",children:Object(C.jsx)(Cc.a,{id:"delete-pair",color:"#4A5868",onClick:function(e){return d(e,n,s)},style:{cursor:"pointer"}})})})]}),r.type===p.CONSTANTS.SCRIPT_TYPES.URL?Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsxs)(Ct.a,{className:"margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(C.jsx)(gt.a,{span:4,children:Object(C.jsx)("span",{children:"Source"})}),Object(C.jsx)(gt.a,{span:20,children:Object(C.jsx)(Jt.a,{style:{cursor:"pointer"},addonAfter:Object(C.jsxs)(Ec.a,{title:"Import a existing Mock API",onClick:h,children:[Object(C.jsx)(Tu.a,{}),"\xa0 Pick from Mock API"]}),className:"display-inline-block has-dark-text",placeholder:"Enter Source URL (relative or absolute)",type:"text",onChange:function(e){return l(e,n,"scripts[".concat(s,"].value"))},value:r.value})})]}),E?Object(C.jsx)(cd,{isOpen:E,toggle:S,callback:T}):null]}):Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)(Ct.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsx)(Xc.a,{width:"100%",height:"400px",placeholder:"Response Body",mode:r.codeType===p.CONSTANTS.SCRIPT_CODE_TYPES.JS?"javascript":p.CONSTANTS.SCRIPT_CODE_TYPES.CSS,theme:"monokai",name:"body_editor",fontSize:17,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,onChange:function(e){l(void 0,n,"scripts[".concat(s,"].value"),e)},value:r.value,maxLength:"25",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{borderRadius:"5px",marginBottom:"0.5rem",marginTop:"0.5rem"}})})},t),Object(C.jsx)(Ct.a,{span:24,children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsxs)("span",{className:"codemirror-character-count",children:[o.CUSTOM_SCRIPT_CHARACTER_LIMIT-r.value.length," ","characters left"]})})})]})]},t)},_d=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails,s=Object(c.useState)(!1),o=Object(u.a)(s,2),l=o[0],d=o[1],O=a.pushValueToArrayInPair,E=a.deleteArrayValueByIndexInPair,b=function(e){e&&e.preventDefault(),O(e,n,"scripts",Object(j.a)(Object(j.a)({},r.EMPTY_SCRIPT_FORMAT),{},{id:En()}))},p=Object(c.useCallback)(b,[n,O,r.EMPTY_SCRIPT_FORMAT]),S=function(e,t,n){e&&e.preventDefault(),d(!0),E(e,t,"scripts",n)};return Object(c.useEffect)((function(){if(Array.isArray(t.scripts)&&0===t.scripts.length){if(l)return;p()}}),[p,t.scripts,l]),Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)(od,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r}),Object(C.jsx)(xd,{rowIndex:3,pair:t,pairIndex:n,helperFunctions:Object(j.a)({},a)}),t.scripts.map((function(e,c){return Object(C.jsx)(gd,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:Object(j.a)(Object(j.a)({},a),{},{deleteScript:S}),ruleDetails:r,script:e,scriptIndex:c},e.id)})),Object(C.jsx)(Nd,{helperFunctions:Object(j.a)(Object(j.a)({},a),{},{addEmptyScript:b})})]})},Id=n(164),Ld=n(515),vd=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions,s=e.ruleDetails,o=r.modifyPairAtGivenPath,l=Object(c.useContext)(Z).state,d=st(l),O=nt(l),j=Object(c.useState)(!1),E=Object(u.a)(j,2),b=E[0],S=E[1],h=Object(c.useState)(1e6),T=Object(u.a)(h,2),m=T[0],f=T[1],A=ft(O),R=W.FEATURES.RESPONSE_BODY_CHARACTER_LIMIT;return Object(c.useEffect)((function(){function e(){return(e=Object(te.a)(ae.a.mark((function e(){var t,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d!==p.CONSTANTS.APP_MODES.DESKTOP){e.next=5;break}"local",f(yu(O,d,"local")),e.next=11;break;case 5:if(d!==p.CONSTANTS.APP_MODES.EXTENSION){e.next=11;break}return e.next=8,rs();case 8:t=e.sent,n=t.storageType,f(yu(O,d,n));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[d,O]),Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsxs)(Ct.a,{className:"margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(C.jsx)(gt.a,{span:12,children:Object(C.jsx)("span",{children:"Response Body"})}),Object(C.jsx)(gt.a,{span:12,align:"right",children:Object(C.jsx)(Ld.a,{title:"This will clear the existing body content",onConfirm:function(e){n.response.type===p.CONSTANTS.RESPONSE_BODY_TYPES.STATIC?o(null,a,"response.type",p.CONSTANTS.RESPONSE_BODY_TYPES.CODE,[{path:"response.value",value:s.RESPONSE_BODY_JAVASCRIPT_DEFAULT_VALUE}]):o(null,a,"response.type",p.CONSTANTS.RESPONSE_BODY_TYPES.STATIC,[{path:"response.value",value:""}])},okText:"Confirm",cancelText:"Cancel",children:Object(C.jsx)(Id.a,{className:"custom-control-input",id:"customCheck1",type:"checkbox",checked:n.response.type!==p.CONSTANTS.RESPONSE_BODY_TYPES.STATIC,children:"Modify using JavaScript"})})})]},t),Object(C.jsx)(Ct.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:Object(C.jsx)(gt.a,{xl:"12",span:24,children:Object(C.jsx)(Xc.a,{width:"100%",height:"400px",placeholder:"Response Body",mode:"javascript",theme:"monokai",name:"body_editor",fontSize:17,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,onChange:function(e){o(null,a,"response.value",e)},value:n.response.value,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{borderRadius:"5px",marginBottom:"0.5rem",marginTop:"0.5rem"}})})}),Object(C.jsx)(Ct.a,{children:Object(C.jsxs)(gt.a,{xl:"12",span:24,children:[Object(C.jsxs)("span",{className:"codemirror-character-count",children:[m-Tn(n.response.value)," ","characters left."]}),!function(e){return!!e.details.planDetails&&new Date(e.details.planDetails.subscription.endDate)-new Date>=0}(O)&&Object(C.jsx)("span",{style:{marginLeft:".2rem",color:"blue",fontSize:".8rem",cursor:"pointer"},onClick:function(){S(!0)},children:"Increase limit"})]})}),!!b&&Object(C.jsx)(hc,{isOpen:b,toggle:function(){S(!b)},featureName:R,featureLimit:m,userPlanName:A,mode:0===m?W.LIMIT_REACHED_MODAL.MODES.CHECK_IF_ENABLED:W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT})]},t)},yd=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsx)(od,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsx)(vd,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})})]})},Ud=function(e){switch(e.envType){case"device":return[{label:"Android",options:[{label:"Android Phone",value:{env:"andoid.phone",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Mobile Safari/537.36"}},{label:"Android Tablet",value:{env:"andoid.tablet",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36"}}]},{label:"Apple",options:[{label:"Apple iPhone",value:{env:"apple.iphone",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1"}},{label:"Apple iPad",value:{env:"apple.ipad",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1"}}]},{label:"Windows",options:[{label:"Windows Phone",value:{env:"windows.phone",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 920)"}},{label:"Windows Tablet",value:{env:"windows.tablet",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; WOW64; Trident/6.0; Touch; NOKIA; Lumia 920)"}}]},{label:"Blackberry",options:[{label:"Blackberry Phone",value:{env:"blackberry.phone",userAgent:"Mozilla/5.0 (BlackBerry; U; BlackBerry 9900; en-US) AppleWebKit/534.11 (KHTML, like Gecko) Version/7.0.0.187 Mobile Safari/534.11"}},{label:"Blackberry Tablet",value:{env:"blackberry.tablet",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.0.0; en-US) AppleWebKit/535.8 (KHTML, like Gecko) Version/7.2.0.0 Safari/535.8"}}]},{label:"Symbian",options:[{label:"Symbian Phone",value:{env:"symbian_phone",userAgent:"Mozilla/5.0 (SymbianOS) AppleWebKit/533.4 (KHTML, like Gecko) NokiaBrowser/7.3.1.33 Mobile Safari/533.4 3gpp-gba"}}]}];case"browser":return[{label:"Google Chrome",options:[{label:"Chrome on Windows",value:{env:"chrome.windows",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36"}},{label:"Chrome on Macintosh",value:{env:"chrome.macintosh",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36"}},{label:"Chrome on Linux",value:{env:"chrome.linux",userAgent:"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36"}}]},{label:"Mozilla Firefox",options:[{label:"Firefox on Windows",value:{env:"firefox.windows",userAgent:"Mozilla/5.0 (Windows NT 10.0; WOW64; rv:52.0) Gecko/20100101 Firefox/52.0"}},{label:"Firfox on Macintosh",value:{env:"firefox.macintosh",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10; rv:52.0) Gecko/20100101 Firefox/52.0"}},{label:"Firfox on Linux",value:{env:"firefox.linux",userAgent:"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0"}}]},{label:"Safari",options:[{label:"Safari",value:{env:"safari",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/602.4.8 (KHTML, like Gecko) Version/10.0.3 Safari/602.4.8"}}]},{label:"Microsoft Internet Explorer",options:[{label:"Internet Explorer 6",value:{env:"msie.msie6",userAgent:"Mozilla/4.0(compatible; MSIE 6.0; Windows NT 5.1)"}},{label:"Internet Explorer 7",value:{env:"msie.msie7",userAgent:"Mozilla/4.0(compatible; MSIE 7.0; Windows NT 6.0)"}},{label:"Internet Explorer 8",value:{env:"msie.msie8",userAgent:"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0)"}},{label:"Internet Explorer 9",value:{env:"msie.msie9",userAgent:"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)"}},{label:"Internet Explorer 10",value:{env:"msie.msie10",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)"}},{label:"Internet Explorer 11",value:{env:"msie.msie11",userAgent:"Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko"}}]},{label:"Microsoft Edge",options:[{label:"Microsoft Edge",value:{env:"msedge",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.135 Safari/537.36 Edge/12.10240"}}]},{label:"Opera",options:[{label:"Opera 68",value:{env:"opera",userAgent:"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.52 Safari/537.36 OPR/15.0.1147.100"}}]}];default:return[]}},Pd=tn.a.Text,Dd=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions.modifyPairAtGivenPath,c=function(e,t){var n=[{path:"env",value:""}];"custom"===t&&n.push({path:"userAgent",value:window.navigator.userAgent}),r(e,a,"envType",t,n)},i=Object(C.jsxs)($t.a,{children:[Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return c(e,"device")},children:"Device"})},1),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return c(e,"browser")},children:"Browser"})},2),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return c(e,"custom")},children:"Custom"})},3)]});return Object(C.jsxs)(Ct.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(C.jsx)(gt.a,{span:2,className:"my-auto",children:Object(C.jsx)("span",{children:"UserAgent"})}),Object(C.jsx)(gt.a,{span:2,className:"my-auto",children:Object(C.jsx)(en.a,{overlay:i,children:Object(C.jsxs)(Pd,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"capitalize",cursor:"pointer"},children:[""===n.envType?"Select":n.envType," ",Object(C.jsx)(nn.a,{})]})})}),Object(C.jsx)(gt.a,{xl:"7",lg:"7",md:"7",sm:"12",xs:"12",span:14,children:"custom"===n.envType?Object(C.jsx)(Jt.a,{placeholder:"Enter custom UserAgent string",type:"text",onChange:function(e){return r(e,a,"userAgent")},className:"display-inline-block has-dark-text ",value:n.userAgent}):Object(C.jsx)(ur.a,{isMulti:!1,name:"env",options:Ud(n),placeholder:"Type to search",value:{label:n.env.replace("msie.msie","Internet Explorer ").replace(/[.|_]/," ")},onChange:function(e){var t;r(null,a,"env",(t=e).value.env,[{path:"userAgent",value:t.value.userAgent}])},styles:{valueContainer:function(){return{textTransform:"capitalize",fontSize:"0.9em",marginLeft:"2%"}}},noOptionsMessage:function(){return"Please select device type first"}})}),Object(C.jsx)(gt.a,{span:6})]},t)},wd=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsx)(od,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsx)(Dd,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:a})})})]})},Md=tn.a.Text,kd=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions,c=e.options,i=e.ruleDetails,s=r.modifyPairAtGivenPath,o=r.openFilterModal,l=r.getFilterCount,u=r.deletePair,d=r.generatePlaceholderText;c=c||{};var O=Object(C.jsxs)($t.a,{children:[Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return s(e,a,p.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,p.CONSTANTS.RULE_OPERATORS.EQUALS)},children:"Equals"})},1),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return s(e,a,p.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,p.CONSTANTS.RULE_OPERATORS.CONTAINS)},children:"Contains"})},2),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return s(e,a,p.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,p.CONSTANTS.RULE_OPERATORS.MATCHES)},children:"Matches (RegEx)"})},3),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return s(e,a,p.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,p.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES)},children:"Matches (Wildcard)"})},4)]}),j=Object(C.jsxs)($t.a,{children:[Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return s(e,a,p.CONSTANTS.PATH_FROM_PAIR.RULE_KEYS,p.CONSTANTS.RULE_KEYS.URL)},children:"URL"})},1),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return s(e,a,p.CONSTANTS.PATH_FROM_PAIR.RULE_KEYS,p.CONSTANTS.RULE_KEYS.HOST)},children:"Host"})},2),Object(C.jsx)($t.a.Item,{children:Object(C.jsx)("span",{onClick:function(e){return s(e,a,p.CONSTANTS.PATH_FROM_PAIR.RULE_KEYS,p.CONSTANTS.RULE_KEYS.PATH)},children:"Path"})},3)]});return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(Ct.a,{span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(C.jsx)(gt.a,{span:2,children:Object(C.jsx)("span",{children:"If request"})}),Object(C.jsx)(gt.a,{span:2,children:Object(C.jsx)(en.a,{overlay:j,children:Object(C.jsxs)(Md,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"uppercase",cursor:"pointer"},children:[n.source.key," ",Object(C.jsx)(nn.a,{})]})})}),Object(C.jsx)(gt.a,{span:2,children:Object(C.jsx)(en.a,{overlay:O,children:Object(C.jsxs)(Md,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"capitalize",cursor:"pointer"},children:[n.source.operator===p.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES?"Wildcard":n.source.operator===p.CONSTANTS.RULE_OPERATORS.MATCHES?"RegEx":n.source.operator," ",Object(C.jsx)(nn.a,{})]})})}),Object(C.jsx)(gt.a,{span:9,children:Object(C.jsx)(Jt.a,{placeholder:i.ALLOW_APPLY_RULE_TO_ALL_URLS?"Leave this field Empty to apply rule to all URLs":d(n.source.operator,"source-value"),type:"text",onChange:function(e){return s(e,a,"source.value")},value:n.source.value,style:{width:"98%"}})}),i.ALLOW_REQUEST_SOURCE_FILTERS?Object(C.jsx)(gt.a,{span:1,align:"left",children:Object(C.jsx)(Ec.a,{title:"Filters",children:Object(C.jsxs)("span",{onClick:function(){return o(a)},style:{cursor:"pointer"},children:[Object(C.jsx)(N.p,{color:"#4A5868"})," ",0!==l(a)?Object(C.jsx)(Fa.a,{style:{color:"#465967",backgroundColor:"#E5EAEF"},children:l(a)}):null]})})}):null,Object(C.jsx)(gt.a,{span:2,children:Object(C.jsx)("span",{children:"Delay (ms)"})}),Object(C.jsx)(gt.a,{sm:"2",xl:"3",className:"mb-auto mt-sm-2 mt-xl-auto",span:5,children:Object(C.jsx)(Jt.a,{className:"display-inline-block has-dark-text",placeholder:"Time in ms",type:"text",onChange:function(e){return s(e,a,"delay")},value:n.delay})}),i.SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW?Object(C.jsx)(gt.a,{className:"my-auto",span:1,align:"right",children:Object(C.jsx)(Ec.a,{title:"Remove Pair",children:Object(C.jsx)(N.I,{onClick:function(e){return u(e,a)},style:{cursor:"pointer"}})})}):null]},t)})},Gd=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(kd,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})},Fd=function(e,t,n){var a=JSON.parse(JSON.stringify(e));a.pairs.push(function(e){return Object(j.a)(Object(j.a)({},e.EMPTY_PAIR_FORMAT),{},{id:En()})}(t)),Cu(n,a)},Bd=n(296),Vd=n(221),Yd=function(e,t){if("source-value"===t)switch(e){case p.CONSTANTS.RULE_OPERATORS.EQUALS:return"e.g. http://www.example.com";case p.CONSTANTS.RULE_OPERATORS.CONTAINS:return"e.g. facebook";case p.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES:return"e.g. *://*.mydomain.com/*";case p.CONSTANTS.RULE_OPERATORS.MATCHES:return"e.g. /example-([0-9]+)/ig";default:return""}else if("destination"===t)switch(e){case p.CONSTANTS.RULE_OPERATORS.EQUALS:case p.CONSTANTS.RULE_OPERATORS.CONTAINS:return"e.g. http://www.new-example.com";case p.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES:return"e.g. $1://$2.newdomain.com/$3 (Each * can be replaced with respective $)";case p.CONSTANTS.RULE_OPERATORS.MATCHES:return"e.g. http://www.new-example.com?queryParam=$1&searchParam=$2";default:return""}return""},Hd=function(e){var t=Object(c.useContext)(Z),n=t.dispatch,a=t.state,r=tt(a),s=function(e){return n(wt(e))},o=Object(c.useState)(!1),l=Object(u.a)(o,2),d=l[0],O=l[1],j=function(e,t,n,a,c){e&&e.preventDefault();var i;i=void 0!==a?a:e.target.value;var o=JSON.parse(JSON.stringify(r));Bd(o.pairs[t],n,i),c&&c.forEach((function(e){Bd(o.pairs[t],e.path,e.value)})),s(o)},E=function(t,n){var a={modifyPairAtGivenPath:j,generatePlaceholderText:Yd,openFilterModal:S,deletePair:b,getFilterCount:h,pushValueToArrayInPair:T,deleteArrayValueByIndexInPair:m};switch(e.currentlySelectedRuleConfig.TYPE){case p.CONSTANTS.RULE_TYPES.REDIRECT:return Object(C.jsx)(ld,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case p.CONSTANTS.RULE_TYPES.CANCEL:return Object(C.jsx)(ud,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case p.CONSTANTS.RULE_TYPES.REPLACE:return Object(C.jsx)(pd,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case p.CONSTANTS.RULE_TYPES.HEADERS:return Object(C.jsx)(Ed,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case p.CONSTANTS.RULE_TYPES.QUERYPARAM:return Object(C.jsx)(md,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case p.CONSTANTS.RULE_TYPES.SCRIPT:return Object(C.jsx)(_d,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case p.CONSTANTS.RULE_TYPES.RESPONSE:return Object(C.jsx)(yd,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case p.CONSTANTS.RULE_TYPES.USERAGENT:return Object(C.jsx)(wd,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case p.CONSTANTS.RULE_TYPES.DELAY:return Object(C.jsx)(Gd,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig})}},b=function(e,t){e&&e.preventDefault();var n=JSON.parse(JSON.stringify(r));n.pairs.splice(t,1),s(n)},S=function(e){O(e),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,p.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"Rule Filters Modal Opened"),Da("Rule Filter Modal Opened")},h=function(e){return Object.keys(r.pairs[e].source.filters||{}).length},T=function(e,t,n,a){e&&e.preventDefault();var c=JSON.parse(JSON.stringify(r)),i=Vd(c.pairs[t],n);Bd(c.pairs[t],n,[].concat(Object(Lt.a)(i),[a])),s(c)},m=function(e,t,n,a){e&&e.preventDefault();var c=JSON.parse(JSON.stringify(r));Vd(c.pairs[t],n).splice(a,1),s(c)};return r.pairs&&0===r.pairs.length&&Fd(r,e.currentlySelectedRuleConfig,n),Object(C.jsxs)(i.a.Fragment,{children:[r.pairs?r.pairs.map((function(e,t){return Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{className:"source-destination-pair ",span:24,children:E(e,t)})},e.id||t)})):null,!1!==d?Object(C.jsx)(nd,{pairIndex:d,closeModal:function(){O(!1),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,p.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"Rule Filters Modal Closed")},modifyPairAtGivenPath:j}):null]})},Kd=function(e){var t=e.setIsChangeRuleGroupModalActive,n=e.currentlySelectedGroup;return Object(C.jsxs)("b",{onClick:function(){return t(!0)},style:{cursor:"pointer"},children:["".concat(n)," ",Object(C.jsx)(nn.a,{})]})},qd=function(e,t,n){Cu(t,Object(j.a)(Object(j.a)({},e),{},Object(O.a)({},n.target.name,n.target.value)))},Wd=function(){var e=Object(c.useContext)(Z),t=e.dispatch,n=e.state,a=tt(n);return Object(C.jsx)(Jt.a,{placeholder:"Description (optional)",name:"description",type:"text",className:" has-dark-text height-two-rem",value:a.description,onChange:function(e){return qd(a,t,e)}})},Qd=function(e){var t=e.currentlySelectedRuleConfig;return Object(C.jsx)(oe.a,{xl:"10",lg:"11",md:"11",sm:"10",xs:"9",children:Object(C.jsx)("span",{children:t.PAIR_CONFIG.TITLE})})},zd=function(e){var t=e.currentlySelectedRuleConfig,n=Object(c.useContext)(Z),a=n.dispatch,r=n.state,i=nt(r),s=tt(r),o=Object(c.useState)(0),l=Object(u.a)(o,2),d=l[0],O=l[1],j=Object(c.useState)(""),E=Object(u.a)(j,2),b=E[0],S=E[1],h=Object(c.useState)(W.FEATURES.RULE_PAIRS),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useState)(0),R=Object(u.a)(A,2),x=R[0],N=R[1],g=Object(c.useState)(!1),_=Object(u.a)(g,2),I=_[0],L=_[1];Object(c.useEffect)((function(){O(s.pairs.length)}),[s]);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(It.a,{className:"btn-icon btn-3 has-no-box-shadow float-right has-no-border",type:"secondary",onClick:function(){var e=ft(i),n=Rt(W.FEATURES.RULE_PAIRS,e);d<n?(Fd(s,t,a),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULE_PAIRS,p.CONSTANTS.GA_EVENTS.ACTIONS.CREATED,"New.rule.pair.made",d),Da("New Rule Pair"),function(e){var t=e.current_pairs_count;Un("rule_pair_created",{current_pairs_count:t})}({current_pairs_count:d})):(N(n),S(e),f(W.FEATURES.RULE_PAIRS),L(!0),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULE_PAIRS,p.CONSTANTS.GA_EVENTS.ACTIONS.LIMIT_REACHED,"Rule.pairs.limit.reached",d),Da("Rule Pair Limit Reached"),function(e){var t={type:e.type,current_count:e.current_count};Un(zn.LIMIT_REACHED,t)}({type:"rule-pairs",current_count:d}))},icon:Object(C.jsx)(Va.a,{}),children:"Add Condition"}),I?Object(C.jsx)(hc,{isOpen:I,toggle:function(){L(!I)},featureName:m,featureLimit:x,userPlanName:b,mode:0===x?W.LIMIT_REACHED_MODAL.MODES.CHECK_IF_ENABLED:W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT}):null]})},Xd=function(e){var t=e.currentlySelectedRuleConfig,n=e.setIsChangeRuleGroupModalActive,a=e.currentlySelectedGroup,r=e.mode,i=Object(c.useContext)(Z),s=i.dispatch,o=i.state,l=tt(o);return Object(C.jsxs)(Ee.a,{children:[r!==W.RULE_EDITOR_CONFIG.MODES.SHARED_LIST_RULE_VIEW?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(Ct.a,{className:"one-margin-bottom",children:[Object(C.jsx)(gt.a,{className:"col-auto text-xl-right text-md-right text-lg-right",span:a&&"string"===typeof a&&a.length>28?24:8,children:Object(C.jsx)(Jt.a,{addonBefore:Object(C.jsx)(Kd,{currentlySelectedRuleConfig:t,setIsChangeRuleGroupModalActive:n,currentlySelectedGroup:a}),placeholder:"Rule Name",name:"name",type:"text",className:" has-dark-text height-two-rem",value:l.name,onChange:function(e){return qd(l,s,e)},autoFocus:!0})}),Object(C.jsx)(gt.a,{span:a&&"string"===typeof a&&a.length>28?24:14,offset:a&&"string"===typeof a&&a.length>28?0:2,style:a&&"string"===typeof a&&a.length>28?{marginTop:"1%"}:{},children:Object(C.jsx)(Wd,{})})]}),Object(C.jsx)("br",{})]}):null,Object(C.jsxs)(Ct.a,{className:"one-margin-bottom",children:[Object(C.jsx)(gt.a,{span:12,children:Object(C.jsx)(Qd,{currentlySelectedRuleConfig:t})}),Object(C.jsx)(gt.a,{span:12,align:"right",children:t.ALLOW_ADD_PAIR&&r!==W.RULE_EDITOR_CONFIG.MODES.SHARED_LIST_RULE_VIEW?Object(C.jsx)(zd,{currentlySelectedRuleConfig:t}):null})]}),t.TYPE===p.CONSTANTS.RULE_TYPES.DELAY?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ct.a,{className:" margin-top-one",children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsx)(bo.a,{message:"Delay is capped automatically to avoid browsing performance degradation.",type:"info",showIcon:!0,description:"For XHR/Fetch, max delay is ".concat(p.CONSTANTS.DELAY_REQUEST_CONSTANTS.MAX_DELAY_VALUE_XHR,"ms & for other resources (JS, CSS, Images etc), max delay is ").concat(p.CONSTANTS.DELAY_REQUEST_CONSTANTS.MAX_DELAY_VALUE_NON_XHR,"ms"),closable:!0})})}),Object(C.jsx)("br",{})]}):null,Object(C.jsx)(Hd,{mode:r,currentlySelectedRuleConfig:t})]})},Jd=function(e){var t=e.location,n=e.clickHandler,a=Lu(t).MODE;return Object(C.jsx)(C.Fragment,{children:a===W.RULE_EDITOR_CONFIG.MODES.EDIT?Object(C.jsx)(Ct.a,{justify:"center",children:Object(C.jsx)("a",{href:"https://app.requestly.io/",onClick:function(e){return e.preventDefault(),n(),!1},children:"Share this rule with your Teammates"})}):null})},Zd=W.RULE_EDITOR_CONFIG,$d=W.RULE_TYPES_CONFIG,eO=W.RULES_LIST_TABLE_CONSTANTS,tO=eO.UNGROUPED_GROUP_ID,nO=eO.UNGROUPED_GROUP_NAME,aO=function(e){var t=Lu(e.location,e.isSharedListViewRule),n=t.MODE,a=t.RULE_TYPE_TO_CREATE,r=t.RULE_TO_EDIT_ID,i=Object(re.g)(),s=Object(c.useContext)(Z),o=s.dispatch,l=s.state,d=tt(l),O=function(e){return et(e).config}(l),j=ze(l),E=st(l),b=nt(l),S=Object(c.useRef)(!1),h={};h[d.id]=!0;var T=Object(c.useState)(""),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(W.FEATURES.RULES),x=Object(u.a)(R,2),N=x[0],g=x[1],_=Object(c.useState)(!1),I=Object(u.a)(_,2),L=I[0],v=I[1],y=Object(c.useState)(!1),U=Object(u.a)(y,2),P=U[0],D=U[1],w=Object(c.useState)(!1),M=Object(u.a)(w,2),k=M[0],G=M[1],F=Object(c.useState)(""),B=Object(u.a)(F,2),V=B[0],Y=B[1],H=Object(c.useState)(!1),K=Object(u.a)(H,2),q=K[0],Q=K[1],z=Object(c.useState)(0),X=Object(u.a)(z,2),J=X[0],$=X[1],ee=Object(c.useState)(vu(h)),te=Object(u.a)(ee,2),ne=te[0],ae=te[1],ce=function(){o(kt("loadingModal",!0));var e=ft(b),t=Rt(W.FEATURES.SHARED_LISTS,e);ju(b.details.profile.uid).then((function(n){var a=function(e){return e?Object.keys(e).length:0}(n);a>=t?($(t),A(e),g(W.FEATURES.SHARED_LISTS),D(!0)):(ae(vu(h)),v(!0)),o(kt("loadingModal",!1))}))},se=Object(c.useCallback)(_u,[_u]),oe=Object(c.useCallback)(Cu,[Cu]),le=Object(c.useCallback)(gu,[O]);if(Object(c.useEffect)((function(){(!1===d||n===Zd.MODES.CREATE&&d.ruleType!==a||n===Zd.MODES.CREATE&&O.TYPE!==a||n===Zd.MODES.CREATE&&O.TYPE!==d.ruleType)&&(n===Zd.MODES.CREATE?(le(o,O,a,Cu),se(o,$d[a],i)):n===Zd.MODES.EDIT?hs(E).getRecord(r).then((function(e){void 0===e?Ge(i):S.current||(oe(o,e),se(o,$d[e.ruleType],i))})):n===Zd.MODES.SHARED_LIST_RULE_VIEW?e.rule&&(S.current||(oe(o,e.rule),se(o,$d[e.rule.ruleType],i))):Ge(i))}),[O,d,n,le,oe,r,a,o,i,se,e.rule,E,e.location]),Object(c.useEffect)((function(){d.groupId===tO?Y(nO):void 0!==d.groupId&&hs(E).getRecord(d.groupId).then((function(e){Y(e?e.name:nO)}))}),[d.groupId,E]),!k&&ie()(j)&&hs(E).getRecords(p.CONSTANTS.OBJECT_TYPES.RULE).then((function(e){G(!0),o(Pt(e,[]))})),Object(c.useEffect)((function(){return function(){S.current=!0,Iu(o)}}),[o]),Object(c.useEffect)((function(){e&&e.location&&e.location.pathname.includes("/rules/editor/create/")&&e.location.state&&e.location.state.prevPath&&e.location.state.prevPath.includes("/rules/editor/edit/")&&Iu(o)}),[o,e]),!1===O||void 0===O||void 0===O.NAME||void 0===d.name||n===Zd.MODES.CREATE&&d.ruleType!==a)return Object(C.jsx)(oc,{renderHeader:!0});var ue={numOfRulePairsOfUser:d.pairs.length,planName:ft(b),planRulePairLimit:Rt(W.FEATURES.RULE_PAIRS,ft(b))};return Object(C.jsxs)(C.Fragment,{children:[n!==Zd.MODES.SHARED_LIST_RULE_VIEW?Object(C.jsx)(Vu,{currentlySelectedRuleConfig:O,topCountShowRequiredDataObject:ue,shareBtnClickHandler:ce,location:e.location}):null,Object(C.jsx)("br",{}),Object(C.jsx)(Xd,{currentlySelectedRuleConfig:O,setIsChangeRuleGroupModalActive:Q,currentlySelectedGroup:V,mode:n}),Object(C.jsx)(Jd,{currentlySelectedRuleConfig:O,clickHandler:ce,location:e.location}),q?Object(C.jsx)(lu,{isOpen:q,toggle:function(){Q(!q)},mode:"CURRENT_RULE"}):null,L?Object(C.jsx)(Ou,{isOpen:L,toggle:function(){v(!L)},rulesToShare:ne}):null,P?Object(C.jsx)(hc,{isOpen:P,toggle:function(){D(!P)},featureName:N,featureLimit:J,userPlanName:f,mode:0===J?W.LIMIT_REACHED_MODAL.MODES.CHECK_IF_ENABLED:W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT}):null]})},rO=function(e){var t=e.rule,n=e.isOpen,a=e.toggle;return t?Object(C.jsx)(Zt.a,{className:"modal-dialog-centered max-width-80-percent ",visible:n,onCancel:a,footer:null,title:"Preview Rule - Read only",width:"100%",children:Object(C.jsx)(aO,{rule:t,isSharedListViewRule:!0})}):Object(C.jsx)("span",{})},cO=W.RULES_LIST_TABLE_CONSTANTS,iO=function(e,t){e(Dt("rules",!t))},sO=n(489),oO=W.RULES_LIST_TABLE_CONSTANTS,lO=function(e,t){!function(e,t){hs(e).removeRecord(al(t))}(e,t)},uO=function(e,t,n,a,r){var c=Object(j.a)(Object(j.a)({},n),{},{creationDate:jn(),name:n.name+" Copy",id:n.ruleType+"_"+En(),isSample:!1,isFavourite:!1,status:"Inactive"});return hs(e).saveRuleOrGroup(c).then((function(){Re(a,c.id),r(c)}))},dO=n(296),OO=n(221),jO=tn.a.Link,EO=Jt.a.Search,bO=W.RULES_LIST_TABLE_CONSTANTS,pO=bO.GROUP_DETAILS,SO=bO.GROUP_RULES,hO=bO.UNGROUPED_GROUP_ID,TO=bO.UNGROUPED_GROUP_NAME,mO=function(e,t){return e.groupId!==hO&&(!!e.groupId&&(!!t[e.groupId]&&t[e.groupId][pO].status===p.CONSTANTS.RULE_STATUS.INACTIVE))},fO=function(e){return e.status===p.CONSTANTS.RULE_STATUS.ACTIVE},AO=function(e){var t=e.handleChangeGroupOnClick,n=e.handleShareRulesOnClick,a=e.handleExportRulesOnClick,r=e.handleImportRulesOnClick,s=e.handleDeleteRulesOnClick,o=e.handleNewGroupOnClick,l=e.handleNewRuleOnClick,O=(e.totalRulesCount,e.rules),E=e.groups,b=e.options,S=e.headerTitle,h=e.toolBarRender,T=Object(re.g)(),m=Object(c.useState)(!1),f=Object(u.a)(m,2),A=f[0],R=f[1],x=Object(c.useState)(!1),N=Object(u.a)(x,2),g=N[0],_=N[1],I=Object(c.useState)(!1),L=Object(u.a)(I,2),v=L[0],y=L[1],U=Object(c.useState)(!1),P=Object(u.a)(U,2),D=P[0],w=P[1],M=Object(c.useState)(0),k=Object(u.a)(M,2),G=k[0],F=k[1],B=Object(c.useState)("Free"),V=Object(u.a)(B,2),Y=V[0],H=V[1],K=Object(c.useState)(!1),q=Object(u.a)(K,2),Q=q[0],z=q[1],X=Object(c.useState)([]),J=Object(u.a)(X,2),$=J[0],ee=J[1],ne=Object(c.useState)(window.innerWidth),ce=Object(u.a)(ne,2),se=ce[0],oe=ce[1],le=Object(c.useState)(),ue=Object(u.a)(le,2),de=ue[0],Oe=ue[1],je=Object(c.useState)(!1),Ee=Object(u.a)(je,2),be=Ee[0],pe=Ee[1],Se=Object(c.useState)(""),Te=Object(u.a)(Se,2),me=Te[0],fe=Te[1],Ae=Object(c.useContext)(Z),xe=Ae.state,Ne=Ae.dispatch,Ce=nt(xe),ge=function(e){return at(e).rules}(xe),_e=O||ze(xe),Ie=E||Je(xe),Le=function(e){return We(e).rulesToPopulate}(xe),ve=Ze(xe),ye=st(xe),Ue=ct(xe),Pe=$e(xe),De=su(Pe),we=De,Me=function(e){_(e),R(!0)},ke=Object(c.useCallback)((function(e){Ne(function(e){return{type:d.UPDATE_RULES_TO_POPULATE,payload:e}}(e))}),[Ne]),Ge=Object(c.useCallback)((function(e){Ne({type:d.UPDATE_GROUPWISE_RULES_TO_POPULATE,payload:e})}),[Ne]),Fe=!(b&&b.disableStatus),Ye=!(b&&b.disableEditing),He=!(b&&b.disableActions),Ke=!(b&&b.disableFavourites),qe=Object(c.useCallback)((function(){var e=_e.filter((function(e){return!tl(e)}));0===ge.length?ke(e):ke(e.filter((function(e){return e.name.match(new RegExp(ge,"i"))})))}),[_e,ge,ke]),Qe=Object(c.useCallback)((function(){var e={};dO(e,"".concat(hO,".").concat(pO),{}),dO(e,"".concat(hO,".").concat(SO),[]),Ie.forEach((function(t){dO(e,"".concat(t.id,".").concat(pO),t),dO(e,"".concat(t.id,".").concat(SO),[])})),Le.sort(el).forEach((function(t){OO(e,"".concat(t.groupId,".").concat(SO),[]).push(t)})),Ge(e)}),[Ie,Le,Ge]),Xe=function(e,t){e.stopPropagation(),e.preventDefault(),function(e){var t,n,a,r,c,i,s,o=e.status===p.CONSTANTS.RULE_STATUS.ACTIVE?p.CONSTANTS.RULE_STATUS.INACTIVE:p.CONSTANTS.RULE_STATUS.ACTIVE,l=(null===Ce||void 0===Ce||null===(t=Ce.details)||void 0===t||null===(n=t.profile)||void 0===n?void 0:n.uid)||null,u=(null===Ce||void 0===Ce||null===(a=Ce.details)||void 0===a||null===(r=a.profile)||void 0===r?void 0:r.uid)||null;c="undefined"===typeof e.createdBy?(null===Ce||void 0===Ce||null===(i=Ce.details)||void 0===i||null===(s=i.profile)||void 0===s?void 0:s.uid)||null:e.createdBy;var d=Object(j.a)(Object(j.a)({},e),{},{createdBy:c,currentOwner:l,lastModifiedBy:u,status:o});hs(ye).saveRuleOrGroup(d).then(Object(te.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ne(Dt("rules",!Ue)),!Ce.loggedIn){e.next=5;break}if(!Ce.details.isSyncEnabled){e.next=5;break}return e.next=5,Zl(d,Ce.details.profile.uid,ye);case 5:case"end":return e.stop()}}),e)})))).then((function(){p.CONSTANTS.RULE_STATUS.ACTIVE,Ve.success("Group is now ".concat(o.toLowerCase()))}))}(t),va("group","toggled","Group Toggled"),Da("Group Toggled")},et=function(e){e.stopPropagation(),function(e,t,n){var a=[];return new Promise((function(r,c){ie()(t)?c(new Error("No Rules were Selected")):hs(e).getAllRecords().then((function(c){t.forEach(function(){var t=Object(te.a)(ae.a.mark((function t(r){var i;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=Object(j.a)(Object(j.a)({},c[r]),{},{groupId:cO.UNGROUPED_GROUP_ID}),!n.loggedIn){t.next=5;break}if(!n.details.isSyncEnabled){t.next=5;break}return t.next=5,$l(i,n.details.profile.uid,e);case 5:a.push(hs(e).saveRuleOrGroup(i));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Promise.all(a).then((function(){return r()}))}))}))}(ye,De,Ce).then((function(){iu(Ne),iO(Ne,Ue)})).then((function(){Ve.info("Rules Ungrouped"),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,p.CONSTANTS.GA_EVENTS.ACTIONS.UNGROUPED,"Rules Ungrouped"),Da("Rules Ungrouped")})).catch((function(){return Ve.warn("Please select rules first",{hideProgressBar:!0})}))},tt=function(e,t){e.stopPropagation(),function(e,t,n){return n[t]?ie()(n[t].group_rules)?hs(e).removeRecord(t):Promise.reject("Delete or Ungroup rules first"):Promise.reject("Invalid Group")}(ye,t.id,ve).then(Object(te.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(iO(Ne,Ue),Ve.info("Group deleted"),!Ce.loggedIn){e.next=6;break}if(!Ce.details.isSyncEnabled){e.next=6;break}return e.next=6,Zl(t.id,Ce.details.profile.uid,ye);case 6:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.GROUP,p.CONSTANTS.GA_EVENTS.ACTIONS.DELETED,"Group Deleted"),Da("Group Deleted");case 8:case"end":return e.stop()}}),e)})))).catch((function(e){return Ve.warn(e,{hideProgressBar:!0})}))},rt=function(e,t){var n,a,r,c,i,s,o,l=(null===Ce||void 0===Ce||null===(n=Ce.details)||void 0===n||null===(a=n.profile)||void 0===a?void 0:a.uid)||null,u=(null===Ce||void 0===Ce||null===(r=Ce.details)||void 0===r||null===(c=r.profile)||void 0===c?void 0:c.uid)||null;"undefined"===typeof t.createdBy?i=(null===Ce||void 0===Ce||null===(s=Ce.details)||void 0===s||null===(o=s.profile)||void 0===o?void 0:o.uid)||null:i=t.createdBy;hs(ye).saveRuleOrGroup(Object(j.a)(Object(j.a)({},t),{},{createdBy:i,currentOwner:l,lastModifiedBy:u,isFavourite:e})).then(Object(te.a)(ae.a.mark((function n(){var a;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=Object(j.a)(Object(j.a)({},t),{},{isFavourite:e}),Ne(Dt("rules",!Ue)),!Ce.loggedIn){n.next=6;break}if(!Ce.details.isSyncEnabled){n.next=6;break}return n.next=6,$l(a,Ce.details.profile.uid,ye);case 6:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,"FAVOURITE","Rule Favourite Toggled"),Da("Rule Favorite Toggled"),pe(!1),fe("");case 10:case"end":return n.stop()}}),n)}))))},it=function(e,t){e.stopPropagation(),Ye&&function(e){if(e.isFavourite)rt(!1,e);else{var t=_e.filter((function(e){return e.isFavourite})).length,n=ft(Ce),a=Rt(W.FEATURES.FAV_RULES,n);t>=a?(F(a),w(W.FEATURES.FAV_RULES),H(n),y(!0)):rt(!0,e)}}(t)},ot=function(e,t){var n,a,r,c,i,s,o,l=(null===Ce||void 0===Ce||null===(n=Ce.details)||void 0===n||null===(a=n.profile)||void 0===a?void 0:a.uid)||null,u=(null===Ce||void 0===Ce||null===(r=Ce.details)||void 0===r||null===(c=r.profile)||void 0===c?void 0:c.uid)||null;"undefined"===typeof t.createdBy?i=(null===Ce||void 0===Ce||null===(s=Ce.details)||void 0===s||null===(o=s.profile)||void 0===o?void 0:o.uid)||null:i=t.createdBy;hs(ye).saveRuleOrGroup(Object(j.a)(Object(j.a)({},t),{},{createdBy:i,currentOwner:l,lastModifiedBy:u,status:e})).then(Object(te.a)(ae.a.mark((function n(){var a;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=Object(j.a)(Object(j.a)({},t),{},{status:e}),p.CONSTANTS.RULE_STATUS.ACTIVE,Ve.success("Rule is now ".concat(e.toLowerCase())),Ne(Dt("rules",!Ue)),!Ce.loggedIn){n.next=7;break}if(!Ce.details.isSyncEnabled){n.next=7;break}return n.next=7,$l(a,Ce.details.profile.uid,ye);case 7:va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,t.ruleType+" rule","toggled"),Da("Rule Favorite Toggled"),pe(!1),fe("");case 11:case"end":return n.stop()}}),n)}))))},lt=function(){Ne(kt("authModal",!0,{redirectURL:window.location.href,src:W.FEATURES.RULES}))},ut=function(e,t){e.stopPropagation(),Ce.loggedIn?function(e){Ne(kt("loadingModal",!0));var t=ft(Ce),n=Rt(W.FEATURES.SHARED_LISTS,t);ju(Ce.details.profile.uid).then((function(a){var r=0;a&&(r=Object.keys(a).length),r>=n?(F(n),H(t),w(W.FEATURES.SHARED_LISTS),y(!0)):(ee([e.id]),z(!0),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,"rules",p.CONSTANTS.GA_EVENTS.ACTIONS.SHARED),Da("Rules Shared")),Ne(kt("loadingModal",!1))}))}(t):lt()},dt=function(e){var t=ft(Ce);At(W.FEATURES.EXPORT_IMPORT,t)?(va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,e.ruleType+" rule",p.CONSTANTS.GA_EVENTS.ACTIONS.EXPORTED),Da("Rules Exported"),function(e,t){var n=[];n.push(e),e.groupId!==oO.UNGROUPED_GROUP_ID&&n.push(t[e.groupId][oO.GROUP_DETAILS]),sO(JSON.stringify(n,null,2),"requestly_rules.txt","text/plain")}(e,ve)):(F(0),H(t),w(W.FEATURES.EXPORT_IMPORT),y(!0))},Ot=function(){var e=Object(te.a)(ae.a.mark((function e(t,n){var a,r,c,i,s,o,l,u,d;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,n.ruleType+" rule",p.CONSTANTS.GA_EVENTS.ACTIONS.COPIED),Da("Rules Copied"),e.next=5,hs(ye).getAllRecords();case 5:a=e.sent,r=(new Date).getTime(),c=null;try{c=window.localStorage.getItem("authModalShownLastOn")||a.user_info.installationDate}catch(O){lt(),window.localStorage.setItem("authModalShownLastOn",r)}if(i=(r-c)/864e5,s=_e.filter((function(e){return!e.MKTRuleID&&e.creationDate})),Ce.loggedIn||!(s.length>=5||i>=15)){e.next=14;break}return window.localStorage.setItem("authModalShownLastOn",r),e.abrupt("return",lt());case 14:o=ft(Ce),l=Rt(W.FEATURES.RULES,o),u=_e.filter((function(e){return!tl(e)})),u.length>=l?(F(l),H(o),w(W.FEATURES.RULES),y(!0)):(d=function(){var e=Object(te.a)(ae.a.mark((function e(t){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ce.loggedIn){e.next=4;break}if(!Ce.details.isSyncEnabled){e.next=4;break}return e.next=4,$l(t,Ce.details.profile.uid,ye);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),uO(ye,0,n,T,d));case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),jt=function(e,t){e.stopPropagation(),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,t.ruleType+" rule",p.CONSTANTS.GA_EVENTS.ACTIONS.DELETED),Da(t.ruleType+" Rule deleted"),function(e,t,n,a){return hs(e).removeRecord(n).then((function(){return lO(e,n)})).then((function(){t(Dt("rules",!a))}))}(ye,Ne,t.id,Ue).then(Object(te.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ve.info("Rule deleted"),!Ce.loggedIn){e.next=5;break}if(!Ce.details.isSyncEnabled){e.next=5;break}return e.next=5,$l(t.id,Ce.details.profile.uid,ye);case 5:case"end":return e.stop()}}),e)})))).then((function(){iu(Ne)}))},Et={selectedRowKeys:we,onChange:function(e){var t=e.filter((function(e){return!e.startsWith("Group_")&&e!==hO})),n={};t.forEach((function(e){n[e]=!0})),Ne({type:d.SET_SELECTED_RULES,payload:n})},checkStrictly:!1},bt=[{title:"Rule Details",dataIndex:"name",render:function(e,t){if("group"===t.objectType)return{children:Object(C.jsxs)("span",{children:[Object(C.jsx)("strong",{children:e})," ",Object(C.jsxs)("i",{children:["(",(n=t.id,OO(ve,"".concat(n,".").concat(SO),[]).length)," Rules)"]})]}),colSpan:2};var n,a=e.length>40?e.substring(0,40)+"...":e,r=t.description.length>40?t.description.substring(0,40)+"...":t.description;return{children:Object(C.jsxs)("div",{style:{overflow:"hidden",whiteSpace:"nowrap",wordWrap:"break-word",wordBreak:"break-word",textOverflow:"ellipsis"},children:[Object(C.jsx)(jO,{onClick:function(e){return function(e,t){e.stopPropagation(),Ye?Re(T,t.id):Me&&Me(t)}(e,t)},children:a}),Object(C.jsx)("br",{}),Object(C.jsx)(Od.a,{type:"secondary",style:{overflow:"hidden",whiteSpace:"nowrap",wordWrap:"break-word",wordBreak:"break-word",textOverflow:"ellipsis"},children:r})]})}}},{title:"Type",dataIndex:"ruleType",render:function(e,t){return t.objectType&&"group"===t.objectType?{children:null,colSpan:0}:Object(C.jsx)(As.a,{icon:i.a.createElement(W.RULE_TYPES_CONFIG[t.ruleType].ICON),children:Object(C.jsxs)("span",{children:["\xa0 \xa0",W.RULE_TYPES_CONFIG[t.ruleType].NAME]})})}},{title:"Status",dataIndex:"status",align:"right",render:function(e,t){return t.objectType&&"group"===t.objectType?Fe&&t.id!==hO?Ye?Object(C.jsx)(xs.a,{size:"small",checkedChildren:Object(C.jsx)(ml.a,{}),unCheckedChildren:Object(C.jsx)(no.a,{}),checked:fO(t),onClick:function(e,n){return Xe(n,t)}}):Object(C.jsx)(Od.a,{children:fO(t)?"On":"Off"}):null:Fe?Ye?Object(C.jsx)(xs.a,{size:"small",disabled:mO(t,ve),checked:fO(t),onClick:function(e,n){return function(e,t){if(e.preventDefault(),e.stopPropagation(),fO(t))ot(p.CONSTANTS.RULE_STATUS.INACTIVE,t);else{var n=_e.filter((function(e){return e.status===p.CONSTANTS.RULE_STATUS.ACTIVE&&!tl(e)})).length,a=ft(Ce),r=Rt(W.FEATURES.ACTIVE_RULES,a);if(n>=r){var c,i;F(r),w(W.FEATURES.ACTIVE_RULES),H(a),y(!0);var s=(null===Ce||void 0===Ce||null===(c=Ce.details)||void 0===c||null===(i=c.profile)||void 0===i?void 0:i.uid)||null;ku(s,n)}else ot(p.CONSTANTS.RULE_STATUS.ACTIVE,t)}}(n,t)}}):Object(C.jsx)(Od.a,{children:fO(t)?"On":"Off"}):null}},{title:"Last Modified",align:"center",dataIndex:"modificationDate",valueType:"date",render:function(e,t){if(t.objectType&&"group"===t.objectType)return null;var n=t.modificationDate?t.modificationDate:t.creationDate;return Ic()(n).format("LL")}},{title:"Favorite",align:"center",dataIndex:"isFavourite",render:function(e,t){return t.objectType&&"group"===t.objectType?null:Ke?t.isFavourite?Object(C.jsx)(Zr.a,{onClick:function(e){return it(e,t)},style:{color:"#004BAD",cursor:"pointer"}}):Object(C.jsx)(Eu.a,{onClick:function(e){return it(e,t)},style:{cursor:"pointer"}}):null}},{title:"Actions",align:"right",render:function(e,t){return t.objectType&&"group"===t.objectType?He&&t.id!==hO?Object(C.jsx)(gc.a,{children:function(e){var n=e.isHovering;return Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(Od.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(C.jsx)(Ec.a,{title:"Ungroup Selected Rules",children:Object(C.jsx)(bu.a,{onClick:function(e){return et(e)}})})}),Object(C.jsx)(Od.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(C.jsx)(Ec.a,{title:"Rename Group",children:Object(C.jsx)(Ba.a,{onClick:function(e){return function(e,t){e.stopPropagation();var n=t.id;Ne(kt("renameGroupModal",!0,{groupId:{groupId:n}}))}(e,t)}})})}),Object(C.jsx)(Od.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(C.jsx)(Ec.a,{title:"Delete Group",children:Object(C.jsx)(Cc.a,{onClick:function(e){return tt(e,t)}})})})]})}}):null:He?Object(C.jsx)(gc.a,{children:function(e){var n=e.isHovering;return Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(Od.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(C.jsx)(Ec.a,{title:"Edit Rule",children:Object(C.jsx)(Ba.a,{onClick:function(e){return n=t,e.stopPropagation(),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,n.ruleType+" rule",p.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED),Da(n.ruleType+" rule modified"),void Re(T,n.id);var n}})})}),Object(C.jsx)(Od.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(C.jsx)(Ec.a,{title:"Share with your Teammates",children:Object(C.jsx)(pu.a,{onClick:function(e){return ut(e,t)}})})}),Object(C.jsx)(Od.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(C.jsx)(Ec.a,{title:"Export Rule",children:Object(C.jsx)(Su.a,{onClick:function(e){return n=t,e.stopPropagation(),void(Ce.loggedIn?dt(n):lt());var n}})})}),Object(C.jsx)(Od.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(C.jsx)(Ec.a,{title:"Duplicate Rule",children:Object(C.jsx)($c.a,{onClick:function(e){return Ot(e,t)}})})}),Object(C.jsx)(Od.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(C.jsx)(Ec.a,{title:"Delete Rule",children:Object(C.jsx)(Cc.a,{onClick:function(e){return jt(e,t)}})})})]})}}):Object(C.jsx)(gc.a,{children:function(e){var n=e.isHovering;return Object(C.jsx)(_t.b,{children:Object(C.jsx)(Od.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(C.jsx)(Ec.a,{title:"Edit Rule",children:Object(C.jsx)(hu.a,{onClick:function(e){e.stopPropagation(),Me(t)}})})})})}})}}],pt=function(e){"Escape"===e.key&&(e.preventDefault(),T.goBack())},St=Object(c.useCallback)((function(){iu(Ne)}),[Ne]);Object(c.useEffect)((function(){return St}),[St]),Object(c.useEffect)((function(){return S&&document.addEventListener("keydown",pt),window.addEventListener("resize",(function(){oe(window.innerWidth)})),function(){S&&document.removeEventListener("keydown",pt),window.removeEventListener("resize",(function(){oe(window.innerWidth)}))}}),[]),Object(c.useEffect)((function(){qe()}),[qe]),Object(c.useEffect)((function(){Qe()}),[Qe]),Object(c.useEffect)((function(){Ne(Ut(Ie))}),[Ne,Ie]),Le.length;var ht=[];for(var Tt in ve){var mt=ve[Tt][pO];mt.children=ve[Tt][SO],mt.name||(mt.creationDate=1629967497355,mt.description="",mt.id=hO,mt.name=TO,mt.objectType="group",mt.status=p.CONSTANTS.RULE_STATUS.ACTIVE),ht.push(mt)}return Object(he.isEmpty)(ht)||ht[0].id!==hO||(Object(he.isEmpty)(ht[0].children)?ht.splice(0,1):ht.push(ht.shift())),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ya.a,{rowClassName:function(e,t){return"group"===e.objectType?"rule-group-row":null},expandable:{defaultExpandAllRows:!1,defaultExpandedRowKeys:[hO],expandRowByClick:!0,rowExpandable:!0},tableAlertRender:function(e){return Object(C.jsx)("span",{children:"".concat(e.selectedRowKeys.length," Rules selected")})},tableAlertOptionRender:function(){return Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(Ec.a,{title:"Change Group",children:Object(C.jsx)(It.a,{shape:"circle",onClick:t,icon:Object(C.jsx)(Tu.a,{})})}),Object(C.jsx)(Ec.a,{title:"Share",children:Object(C.jsx)(It.a,{shape:"circle",onClick:n,icon:Object(C.jsx)(pu.a,{})})}),Object(C.jsx)(Ec.a,{title:"Export",children:Object(C.jsx)(It.a,{shape:"circle",onClick:a,icon:Object(C.jsx)(Su.a,{})})}),Object(C.jsx)(Ec.a,{title:"Delete",children:Object(C.jsx)(It.a,{shape:"circle",onClick:s,icon:Object(C.jsx)(Cc.a,{})})})]})},rowSelection:!b.disableSelection&&Et,columns:bt,dataSource:be?de:ht,rowKey:"id",pagination:!1,search:!1,dateFormatter:!1,headerTitle:S||Object(C.jsxs)(C.Fragment,{children:[se<800?null:"My HTTP Rules ",Object(C.jsx)(EO,{placeholder:"Enter Rule Name",value:me,onChange:function(e){Oe(ht),pe(!1),fe(e.target.value)},onSearch:function(e){!function(e){var t=0,n=[];if(""!==e){for(var a=0;a<de.length;a++)for(var r=0;r<de[a].children.length;r++)if(de[a].children[r].name.toLowerCase().includes(e.toLowerCase())){var c={creationDate:de[a].creationDate,description:de[a].description,id:de[a].id,name:de[a].name,objectType:de[a].objectType,status:de[a].status,children:[de[a].children[r]]};n.push(c),Oe(n),t=1,pe(!0);break}0===t&&Be.b.error("No Rule found with given name")}}(e)},style:{width:200,marginLeft:"10px"}})]}),options:!1,toolBarRender:h||function(){return[Object(C.jsx)(It.a,{onClick:r,shape:se<1e3?"circle":null,icon:Object(C.jsx)(mu.a,{}),children:se<1e3?null:"Import"}),Object(C.jsx)(It.a,{onClick:a,shape:se<1e3?"circle":null,icon:Object(C.jsx)(Su.a,{}),children:se<1e3?null:"Export"}),Object(C.jsx)(It.a,{onClick:n,shape:se<1e3?"circle":null,icon:Object(C.jsx)(pu.a,{}),children:se<1e3?null:"Share"}),Object(C.jsx)(It.a,{onClick:o,shape:se<1e3?"circle":null,icon:Object(C.jsx)(Va.a,{}),children:se<1e3?null:"New Group"}),Object(C.jsx)(It.a,{type:"primary",onClick:l,icon:Object(C.jsx)(Va.a,{}),children:"New Rule"})]}}),A?Object(C.jsx)(rO,{isOpen:A,toggle:function(){R(!A)},rule:g}):null,v&&D?Object(C.jsx)(hc,{isOpen:v,toggle:function(){y(!v)},featureName:D,featureLimit:G,userPlanName:Y,mode:0===G||!1===G?W.LIMIT_REACHED_MODAL.MODES.CHECK_IF_ENABLED:W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT}):null,Q?Object(C.jsx)(Ou,{isOpen:Q,toggle:function(){z(!Q)},rulesToShare:$}):null]})},RO=function(e,t){Un("create_rule_limit_reached",{uid:e,rules_count:t})},xO=function(){var e=Object(c.useContext)(Z),t=e.state,n=e.dispatch,a=$e(t),r=nt(t),i=ze(t),s=it(t),o=st(t),l=Object.values(p.CONSTANTS.RULE_TYPES),d=Object(c.useState)(""),O=Object(u.a)(d,2),E=O[0],b=O[1],S=Object(c.useState)(W.FEATURES.RULES),h=Object(u.a)(S,2),T=h[0],m=h[1],f=Object(c.useState)(0),A=Object(u.a)(f,2),R=A[0],x=A[1],N=Object(c.useState)(su(a)),g=Object(u.a)(N,2),_=g[0],I=g[1],L=Object(c.useState)(0),v=Object(u.a)(L,2),y=v[0],U=v[1],P=Object(c.useState)(!1),D=Object(u.a)(P,2),w=D[0],M=D[1],k=Object(c.useState)(!1),G=Object(u.a)(k,2),F=G[0],B=G[1],V=Object(c.useState)(!1),Y=Object(u.a)(V,2),H=Y[0],K=Y[1],q=Object(c.useState)(!1),Q=Object(u.a)(q,2),z=Q[0],X=Q[1],J=Object(c.useState)(!1),$=Object(u.a)(J,2),ee=$[0],ne=$[1],re=Object(c.useState)(!1),ce=Object(u.a)(re,2),ie=ce[0],se=ce[1],oe=Object(c.useState)(!1),le=Object(u.a)(oe,2),ue=le[0],de=le[1],Oe=Object(c.useState)(!1),je=Object(u.a)(Oe,2),Ee=je[0],be=je[1],pe=Object(c.useState)(!1),Se=Object(u.a)(pe,2),he=Se[0],Te=Se[1],me=function(){B(!F)},fe=function(){n(kt("authModal",!0,{redirectURL:window.location.href,src:W.FEATURES.RULES,callback:function(){return B(!0)}}))},Ae=function(){var e=Object(te.a)(ae.a.mark((function e(){var t,n,a,r,c;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hs(o).getAllRecords();case 2:t=e.sent,n=(new Date).getTime(),a=null;try{a=window.localStorage.getItem("authModalShownLastOn")||t.user_info.installationDate}catch(s){fe(),window.localStorage.setItem("authModalShownLastOn",n)}r=(n-a)/864e5,(c=i.filter((function(e){return!e.MKTRuleID&&e.creationDate}))).length>=5||r>=15?(null,RO(null,c.length),window.localStorage.setItem("authModalShownLastOn",n),fe()):B(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=ft(r),t=Rt(W.FEATURES.RULES,e),n=i.filter((function(e){return!tl(e)}));if(n.length>=t){var a,c;x(t),b(e),m(W.FEATURES.RULES),Te(!0);var s=(null===r||void 0===r||null===(a=r.details)||void 0===a||null===(c=a.profile)||void 0===c?void 0:c.uid)||null;RO(s,n.length)}else B(!0)},xe=function(e){return e?Object.keys(e).length:0},Ne=function(){n(kt("loadingModal",!0));var e=ft(r),t=Rt(W.FEATURES.SHARED_LISTS,e);ju(r.details.profile.uid).then((function(r){xe(r)>=t?(x(t),b(e),m(W.FEATURES.SHARED_LISTS),Te(!0)):(I(su(a)),be(!0),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,"rules",p.CONSTANTS.GA_EVENTS.ACTIONS.SHARED),Da("Rules Shared")),n(kt("loadingModal",!1))}))},Ce=function(){de(!0)},ge=function(){var e=ft(r);At(W.FEATURES.EXPORT_IMPORT,e)?(I(su(a)),ne(!0)):(x(0),b(e),m(W.FEATURES.EXPORT_IMPORT),Te(!0))},_e=function(){return M(window.innerWidth<620)};return window.clearRulesSelection=!1,Object(c.useEffect)((function(){return window.addEventListener("resize",_e),function(){return window.removeEventListener("resize",_e)}}),[w]),Object(c.useEffect)((function(){l.forEach((function(e){var t=i.filter((function(t){return t.ruleType===e&&!t.MKTRuleID}));ya(e+"_rules",t.length)})),r&&r.details&&r.details.profile?ju(r.details.profile.uid).then((function(e){var t=xe(e);ya(p.CONSTANTS.GA_EVENTS.ATTR.NUM_SHARED_LISTS,t),t>0&&ya("iscreatesharedlisttask",!0)})):(ya(p.CONSTANTS.GA_EVENTS.ATTR.NUM_SHARED_LISTS,0),ya("iscreatesharedlisttask",!1))}),[i,l,r]),Object(c.useEffect)((function(){var e=i.filter((function(e){return void 0===e.MKTRuleID}));U(e.length)}),[i]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Nt.a,{className:"primary-card",title:null,children:Object(C.jsx)(AO,{handleChangeGroupOnClick:function(){I(su(a)),X(!0)},handleShareRulesOnClick:function(){r.loggedIn?Ne():fe()},handleExportRulesOnClick:function(){r.loggedIn?ge():fe()},handleDeleteRulesOnClick:function(){I(su(a)),se(!0)},handleImportRulesOnClick:function(e){r.loggedIn?Ce():fe()},totalRulesCount:y,handleNewGroupOnClick:function(){I(su(a)),K(!0)},handleNewRuleOnClick:function(e){r.loggedIn?Re():Ae()},options:{disableSelection:!1,disableEditing:!1,disableActions:!1,disableFavourites:!1,disableStatus:!1}})}),F?Object(C.jsx)(Yl,{isOpen:F,toggle:me,onClickHandler:me}):null,H?Object(C.jsx)(tu,{isOpen:H,toggle:function(){K(!H)}}):null,z?Object(C.jsx)(lu,{isOpen:z,toggle:function(){X(!z)},mode:"SELECTED_RULES"}):null,ee?Object(C.jsx)(ru,{isOpen:ee,toggle:function(){ne(!ee)},rulesToExport:_}):null,ie?Object(C.jsx)(ou,{isOpen:ie,toggle:function(){se(!ie)},rulesToDelete:_}):null,ue?Object(C.jsx)(Wl,{isOpen:ue,toggle:function(){de(!ue)}}):null,Ee?Object(C.jsx)(Ou,{isOpen:Ee,toggle:function(){be(!Ee)},rulesToShare:_}):null,he?Object(C.jsx)(hc,{isOpen:he,toggle:function(){Te(!he)},featureName:T,featureLimit:R,userPlanName:E,mode:0===R?W.LIMIT_REACHED_MODAL.MODES.CHECK_IF_ENABLED:W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT}):null,s.renameGroupModal.isActive?Object(C.jsx)(uu,Object(j.a)({isOpen:s.renameGroupModal.isActive,toggle:function(){n(kt("renameGroupModal"))}},s.renameGroupModal.props)):null]})},NO=p.CONSTANTS.GA_EVENTS,CO=function(){var e=Object(c.useContext)(Z),t=e.dispatch,n=e.state,a=ze(n).filter((function(e){return!tl(e)})),r=ct(n),s=st(n),o=Object(c.useState)(!1),l=Object(u.a)(o,2),d=l[0],O=l[1],j=Object(c.useCallback)(t,[t]);return Object(c.useEffect)((function(){var e=hs(s).getRecords(p.CONSTANTS.OBJECT_TYPES.GROUP),t=hs(s).getRecords(p.CONSTANTS.OBJECT_TYPES.RULE);Promise.all([e,t]).then((function(e){var t=e[0],n=e[1];j(Pt(n,t)),O(!0),ya(NO.ATTR.NUM_RULES,n.length),ya(NO.ATTR.NUM_ACTIVE_RULES,n.filter((function(e){return e.status===p.CONSTANTS.RULE_STATUS.ACTIVE})).length),ya(NO.ATTR.NUM_GROUPS,t.length),ya(NO.ATTR.NUM_ACTIVE_GROUPS,t.filter((function(e){return e.status===p.CONSTANTS.GROUP_STATUS.ACTIVE})).length)}))}),[j,r,s]),Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)(Ml,{}),Object(C.jsx)(Gl,{}),d?0!==a.length?Object(C.jsx)(xO,{}):Object(C.jsx)(Xl,{}):Object(C.jsx)(oc,{customLoadingMessage:"Loading Rules",skeletonType:"list"})]})},gO=function(){var e=Object(c.useContext)(Z).state,t=st(e),n=Object(c.useState)(!0),a=Object(u.a)(n,2),r=a[0],i=a[1];Object(c.useEffect)((function(){t===p.CONSTANTS.APP_MODES.EXTENSION&&hs(t).getRecord(W.RQ_SETTINGS).then((function(e){i(!e||e.isExtensionEnabled)}))}),[t]);return Object(C.jsx)(C.Fragment,{children:t===p.CONSTANTS.APP_MODES.DESKTOP?Object(C.jsx)(CO,{}):ts()?r?Object(C.jsx)(CO,{}):Object(C.jsx)(Dl,{}):Object(C.jsx)(Ll,{heading:"Get Started",content:"Please install Requestly Browser Extension to setup rules to modify network requests."})})},_O=n(420),IO=function(e){var t=e.heading,n=e.content,a=Object(c.useState)(!1),r=Object(u.a)(a,2),i=r[0],s=r[1],o=Object(c.useContext)(Z).state,l=nt(o),d=W.FEATURES.RULES,O=ft(l),j=Rt(W.FEATURES.SHARED_LISTS,O);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Nt.a,{className:"primary-card",children:Object(C.jsx)(Ct.a,{style:{textAlign:"center"},align:"center",children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(C.jsx)("h1",{className:"display-3",children:t}),Object(C.jsx)("p",{className:"lead",children:n}),Object(C.jsx)(_t.b,{children:Object(C.jsx)(It.a,{type:"primary",onClick:function(){s(!0)},children:"Upgrade"})})]})})})}),i?Object(C.jsx)(hc,{isOpen:i,toggle:function(){s(!i)},featureName:d,featureLimit:j,userPlanName:O,mode:0===j?W.LIMIT_REACHED_MODAL.MODES.CHECK_IF_ENABLED:W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT}):null]})},LO=function(e){var t=e.heading,n=e.content,a=e.cbUrl,r=Object(c.useContext)(Z).dispatch,i=Object(re.g)();return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Nt.a,{className:"primary-card",children:Object(C.jsx)(Ct.a,{style:{textAlign:"center"},align:"center",children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(C.jsx)("h1",{className:"display-3",children:t}),Object(C.jsx)("p",{className:"lead",children:n}),Object(C.jsx)(_t.b,{children:Object(C.jsx)(It.a,{type:"primary",onClick:function(){r(kt("authModal",!0,{redirectURL:window.location.href,src:W.FEATURES.RULES,callback:function(){i.push(a)}}))},children:"Login"})})]})})})})})},vO=n(110),yO=n(1041),UO=n(1020),PO=function(e){var t=e.isOpen,n=e.toggle,a=e.body,r=e.mode;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Zt.a,{size:"small",visible:t,onCancel:n,footer:null,style:{width:"300px",margin:"0 auto"},bodyStyle:{padding:"0",borderRadius:"0.45rem"},width:"600px",children:Object(C.jsx)(Xc.a,{width:"100%",height:"400px",placeholder:a,mode:r,theme:"monokai",name:"body_editor",fontSize:17,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,value:a,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{marginBottom:"0.5rem",marginTop:"0.5rem"}})})})},DO="redirect",wO="cancel",MO="header",kO="response",GO="delay",FO="user-agent",BO="insert",VO=tn.a.Paragraph,YO=function(e){var t=e.mode,n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],i=a[1],s=Object(c.useState)([]),o=Object(u.a)(s,2),l=o[0],d=o[1],O=Object(c.useState)(""),j=Object(u.a)(O,2),E=j[0],b=j[1],S=Object(c.useState)(!1),h=Object(u.a)(S,2),T=h[0],m=h[1],f=Object(c.useState)({body:"",mode:"javascript"}),A=Object(u.a)(f,2),R=A[0],x=A[1],g=Object(c.useContext)(Z).state,_=tt(g),I=function(){m((function(e){return!e}))},L=function(e,t){x({body:t,mode:e}),I()},v=function(e){var t;e.stopPropagation(),e.preventDefault(),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,p.CONSTANTS.GA_EVENTS.ACTIONS.SIMULATE_RULE,_.ruleType),t=_.ruleType,Un("simulate_rule",{rule_type:t}),pn(E)?function(e,t){i(!1),d([]);var n,a=[];n=p.RULE_PROCESSOR.getInstance(_.ruleType).process({rule:e,requestURL:t,originalHeaders:[]});var r=e.pairs.map((function(e){return{operation:"Add"===e.type?"Added":"Modify"===e.type?"Modified":"Removed",header:e.header,newVal:e.value,target:e.target}})),c=r.lastIndexOf((function(e){return"Request"===e.target}));if(r.splice(c,0,{}),n)switch(_.ruleType){case"Redirect":case"Replace":case"QueryParam":a.push({id:Object(On.a)(),type:DO,newURL:n.url});break;case"Cancel":a.push({id:Object(On.a)(),type:wO,newURL:n.url});break;case"Response":a.push({id:Object(On.a)(),type:kO,response:n.response}),x({body:n.response,mode:"json"});break;case"Delay":a.push({id:Object(On.a)(),type:GO,delayType:n.delayType,delay:n.delay});break;case"Headers":r.forEach((function(e){var t=e.operation,n=e.newVal,r=e.header,c=e.target;return a.push({id:Object(On.a)(),type:MO,operation:t,newVal:n,header:r,target:c})}));break;case"UserAgent":a.push({id:Object(On.a)(),type:FO,headerType:n.newRequestHeaders[0].name,headerValue:n.newRequestHeaders[0].value});break;case"Script":a.push({id:Object(On.a)(),type:BO,data:n.data})}d(a),i(!0)}(_,E):Ve.warn("Please provide a valid URL to simulate.")},y=t===W.RULE_EDITOR_CONFIG.MODES.CREATE?"Save the rule to use simulator":"Simulate",U=function(){return r?Object(C.jsxs)(gi.a.Item,{children:[Object(C.jsx)(Ct.a,{style:{marginBottom:"5%"},children:"Result:"}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,align:"center",children:Object(C.jsxs)(UO.a,{children:[Object(C.jsx)(UO.a.Item,{color:"grey",children:"Request Start"}),l.map((function(e){return P(e)})),Object(C.jsx)(UO.a.Item,{color:"grey",children:"Request End"})]})})}),Object(he.isEmpty)(l)?Object(C.jsx)(Ct.a,{children:Object(C.jsx)("i",{children:"This Rule makes no change to the given request."})}):null]}):null},P=function(e){switch(e.type){case DO:return Object(C.jsxs)(UO.a.Item,{dot:Object(C.jsx)(N.y,{className:"fix-icon-is-up timeline-clock-icon"}),color:"green",children:[Object(C.jsx)("span",{style:{color:"green"},children:"Redirected to"})," ",Object(C.jsx)(VO,{ellipsis:{rows:2,expandable:!0,symbol:"more"},style:{color:"rgba(0, 0, 0, 0.45)"},children:e.newURL})]},e.id);case FO:return Object(C.jsxs)(UO.a.Item,{dot:Object(C.jsx)(N.v,{className:"fix-icon-is-up timeline-clock-icon"}),color:"green",children:[Object(C.jsx)("span",{style:{color:"green"},children:"Replaced"})," ",Object(C.jsxs)(VO,{ellipsis:{rows:2,expandable:!0,symbol:"more"},style:{color:"rgba(0, 0, 0, 0.45)"},children:[Object(C.jsx)("span",{style:{fontWeight:"bold",color:"rgba(0, 0, 0, .8)"},children:e.headerType}),":",e.headerValue]})]},e.id);case BO:return Object(C.jsxs)(UO.a.Item,{dot:Object(C.jsx)(N.e,{className:"fix-icon-is-up timeline-clock-icon"}),color:"green",children:[Object(C.jsx)("span",{style:{color:"green"},children:"Added"})," ",e.data.jsScripts.map((function(e){return Object(C.jsx)("span",{onClick:function(){return L("javascript",e.value)},style:{color:"rgba(0, 0, 0, 0.45)",display:"block",marginTop:".4rem",cursor:"pointer",textDecoration:"underline"},children:"js code"},e.id)})),e.data.cssScripts.map((function(e){return Object(C.jsx)("span",{onClick:function(){return L("css",e.value)},style:{color:"rgba(0, 0, 0, 0.45)",display:"block",marginTop:".4rem",cursor:"pointer",textDecoration:"underline"},children:"css code"},e.id)})),e.data.libraries.map((function(e){return Object(C.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.45)",display:"block",marginTop:".4rem"},children:e},e)}))]},e.id);case wO:return Object(C.jsxs)(UO.a.Item,{dot:Object(C.jsx)(N.a,{className:"fix-icon-is-up timeline-clock-icon"}),color:"red",children:[Object(C.jsx)("span",{style:{color:"red"},children:"Request Blocked"})," ",Object(C.jsx)(VO,{ellipsis:{rows:2,expandable:!0,symbol:"more"},style:{color:"rgba(0, 0, 0, 0.45)"},children:e.newURL})]},e.id);case GO:return Object(C.jsxs)(UO.a.Item,{dot:Object(C.jsx)(N.d,{className:"fix-icon-is-up timeline-clock-icon"}),color:"blue",children:[Object(C.jsx)("span",{style:{color:"blue"},children:"Added "})," ",Object(C.jsxs)(VO,{ellipsis:{rows:2,expandable:!0,symbol:"more"},style:{color:"rgba(0, 0, 0, 0.45)"},children:["delay of ",e.delay," ms"]})]},e.id);case kO:return Object(C.jsxs)(UO.a.Item,{dot:Object(C.jsx)(N.f,{className:"fix-icon-is-up timeline-clock-icon"}),color:"green",children:[Object(C.jsx)("span",{style:{color:"green"},children:"Modified Response"}),Object(C.jsx)("p",{className:"show-response",onClick:I,style:{textDecoration:"underline",cursor:"pointer"},children:"Show Response"})]},e.id);case MO:return Object(C.jsxs)(UO.a.Item,{dot:"Added"===e.operation?Object(C.jsx)(N.w,{className:"fix-icon-is-up timeline-clock-icon"}):"Removed"===e.operation?Object(C.jsx)(N.u,{className:"fix-icon-is-up timeline-clock-icon"}):"Modified"===e.operation?Object(C.jsx)(N.H,{className:"fix-icon-is-up timeline-clock-icon"}):null,color:"Request"===e.target?"blue":"Response"===e.target?"green":"grey",children:["Request"===e.target?Object(C.jsxs)("span",{style:{color:"blue"},children:[String(e.operation).toUpperCase()," Request Header-",e.header,"Added"===e.operation?":".concat(e.newVal):"Modified"===e.operation?"to ".concat(e.newVal):""]}):"Response"===e.target?Object(C.jsxs)("span",{style:{color:"green"},children:[String(e.operation).toUpperCase()," Response Header-",e.header,"Added"===e.operation?":".concat(e.newVal):"Modified"===e.operation?" to ".concat(e.newVal):""]}):Object(C.jsx)("span",{style:{color:"black"},children:"Sent request with modified headers"})," ",Object(C.jsx)(VO,{ellipsis:{rows:2,expandable:!0,symbol:"more"},style:{color:"rgba(0, 0, 0, 0.45)"},children:e.newURL})]},e.id);default:return null}};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(gi.a,{children:[Object(C.jsxs)(Ct.a,{children:[Object(C.jsx)(gt.a,{span:22,children:Object(C.jsx)(gi.a.Item,{label:"Request URL",children:Object(C.jsx)(Jt.a,{type:"text",value:E,onChange:function(e){return b(e.target.value)},placeholder:"Enter URL to test"})})}),Object(C.jsx)(gt.a,{span:2,children:Object(C.jsx)(gi.a.Item,{wrapperCol:{offset:8,span:16},children:Object(C.jsx)(Ec.a,{placement:"bottomLeft",title:y,children:Object(C.jsx)(It.a,{type:"secondary",onClick:v,disabled:t===W.RULE_EDITOR_CONFIG.MODES.CREATE,children:"Simulate"})})})})]}),U()]})}),Object(C.jsx)(PO,{mode:R.mode,body:R.body,isOpen:T,toggle:I})]})},HO=function(e){var t=e.mode;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(YO,{mode:t})})},KO=n(69),qO=n(1040),WO=tn.a.Text,QO={main_frame:"html",sub_frame:"iframe"},zO=[{title:"Time",dataIndex:"timestamp",defaultSortOrder:"descend",align:"center",width:"15%",renderText:function(e){return t=Number(e),new Date(t).toLocaleDateString("en-CA")+" "+function(e){return new Date(e).toLocaleTimeString("en-CA")}(Number(e));var t},sorter:function(e,t){return e.timestamp-t.timestamp}},{title:"Request Url",dataIndex:"url",width:"60%",ellipsis:!0},{title:"Request Method",dataIndex:"requestMethod",width:"12.5%",align:"center"},{title:"Request Type",dataIndex:"requestType",width:"12.5%",align:"center",renderText:function(e){return QO[e]||e}}],XO=function(){var e=Lu(window.location,null).RULE_TO_EDIT_ID,t=al(e),n=Object(c.useContext)(Z).state,a=st(n),r=Object(c.useState)([]),i=Object(u.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(!0),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useCallback)((function(){j(!0),hs(a).getRecord(t).then((function(e){e&&o(e.sort((function(e,t){return t.timestamp-e.timestamp}))),j(!1)}))}),[a,t]);return Object(c.useEffect)((function(){E()}),[E]),Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(KO.a,{loading:O,children:[Object(C.jsxs)(Ct.a,{align:"middle",justify:"space-between",style:{paddingBottom:"6px"},children:[Object(C.jsx)(gt.a,{style:{textAlign:"center"},span:22,children:Object(C.jsx)(WO,{type:"secondary",children:"Only ".concat(p.CONSTANTS.LIMITS.NUMBER_EXECUTION_LOGS," most recent execution logs are shown.")})}),Object(C.jsx)(gt.a,{span:2,xxl:{pull:0},lg:{pull:1},sm:{pull:2},children:Object(C.jsx)(It.a,{onClick:E,type:"default",icon:Object(C.jsx)(qO.a,{}),children:"Refresh"})})]}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsx)(Ya.a,{dataSource:s,columns:zO,pagination:!1,rowKey:function(){return En()},sticky:!0,locale:{emptyText:"Start using the rule to see execution logs"},showSorterTooltip:!1,search:!1,options:!1,scroll:{y:"40vh"},size:"small"})})})]})})},JO=vO.a.TabPane,ZO=function(e){var t=e.mode,n=e.showExecutionLogs,a=n?"executionLogs":"ruleSimulator",r=ns(W.EXECUTION_LOGS_COMPATIBILITY_VERSION),c=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ei.a,{className:"primary-card",children:Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,align:"center",children:Object(C.jsx)("h1",{className:"display-3",children:"Please upgrade the extension to latest version to enable this feature"})})})})})};return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(vO.a,{defaultActiveKey:a,type:"line",size:"large",tabBarGutter:15,children:[Object(C.jsx)(JO,{tab:"Rule Simulator",children:Object(C.jsx)("div",{style:{padding:"5px",width:"90%"},children:Object(C.jsx)(HO,{mode:t})})},"ruleSimulator"),Object(C.jsx)(JO,{tab:Object(C.jsxs)("span",{children:["Execution Logs ",n?null:Object(C.jsx)(yO.a,{twoToneColor:"#DAA520"})]}),children:r?n?Object(C.jsx)(XO,{}):Object(C.jsx)(Vt,{message:"Execution Logs is a premium feature"}):Object(C.jsx)(c,{})},"executionLogs")]})})},$O=function(e){var t,n=Lu(e.location,null),a=n.MODE,r=n.RULE_TYPE_TO_CREATE,i=Object(c.useState)(!1),s=Object(u.a)(i,2),o=s[0],l=s[1],d=e.location,O=null===(t=d.pathname.split("/rules/editor")[1])||void 0===t?void 0:t.startsWith("/edit"),j=Object(c.useContext)(Z).state,E=ze(j),b=nt(j),S=st(j);Object(c.useEffect)((function(){S===p.CONSTANTS.APP_MODES.EXTENSION&&hs(S).getRecord(W.RQ_SETTINGS).then((function(e){l(!e||e.isExtensionEnabled)}))}),[S]);var h=E.filter((function(e){return!e.MKTRuleID&&e.creationDate})),T=ft(b),m=Rt(W.FEATURES.RULES,T),f=!b.loggedIn&&h.length<5||b.loggedIn&&h.length<m||O,A=At(W.FEATURES.EXECUTION_LOGS,T),R=function(){if(S&&S===p.CONSTANTS.APP_MODES.EXTENSION)switch(r.split("_")[0]){case p.CONSTANTS.RULE_TYPES.REDIRECT:case p.CONSTANTS.RULE_TYPES.REPLACE:case p.CONSTANTS.RULE_TYPES.QUERYPARAM:case p.CONSTANTS.RULE_TYPES.CANCEL:case p.CONSTANTS.RULE_TYPES.HEADERS:return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(_O.a,{sizes:[70,30],minSize:145,gutterSize:20,dragInterval:20,direction:"vertical",cursor:"row-resize",style:{height:"88vh"},children:[Object(C.jsx)(Ct.a,{className:"gap-case-1",style:{overflow:"auto"},children:Object(C.jsx)(Nt.a,{className:"primary-card",style:{boxShadow:"none",borderBottom:"2px solid #f5f5f5",borderRadius:"0"},children:Object(C.jsx)(aO,{location:d})})}),Object(C.jsx)(Ct.a,{style:{overflow:"hidden",height:"100%"},children:Object(C.jsx)(Nt.a,{className:"primary-card",style:{boxShadow:"none",borderRadius:"0",borderTop:"2px solid #f5f5f5"},children:Object(C.jsx)(ZO,{mode:a,showExecutionLogs:A})})})]})});case p.CONSTANTS.RULE_TYPES.RESPONSE:case p.CONSTANTS.RULE_TYPES.DELAY:case p.CONSTANTS.RULE_TYPES.USERAGENT:case p.CONSTANTS.RULE_TYPES.SCRIPT:return Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(_O.a,{sizes:[70,30],minSize:75,gutterSize:10,dragInterval:5,direction:"vertical",cursor:"row-resize",style:{height:"88vh"},children:[Object(C.jsx)(Ct.a,{className:"gap-case-2",style:{width:"100%",overflow:"auto"},children:Object(C.jsx)(Nt.a,{className:"primary-card",style:{boxShadow:"none",borderBottom:"2px solid #f5f5f5",borderRadius:"0"},children:Object(C.jsx)(aO,{location:d})})}),Object(C.jsx)(Ct.a,{style:{overflow:"hidden",height:"100%"},children:Object(C.jsx)(Nt.a,{className:"primary-card",style:{boxShadow:"none",borderRadius:"0",borderTop:"2px solid #f5f5f5"},children:Object(C.jsx)(ZO,{mode:a,showExecutionLogs:A})})})]})})}return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Nt.a,{className:"primary-card",children:Object(C.jsx)(aO,{location:d})})})},x=function(){return b.loggedIn?Object(C.jsx)(Nt.a,{className:"primary-card",children:Object(C.jsx)(IO,{heading:"Limit Reached",content:"We are limited to 10 rules for the free plan. Please upgrade to create more rules."})}):Object(C.jsx)(Nt.a,{className:"primary-card",children:Object(C.jsx)(LO,{heading:"Please login to create more rules.",content:"",cbUrl:d.pathname})})};return function(){switch(S){case p.CONSTANTS.APP_MODES.DESKTOP:return f?R():x();case p.CONSTANTS.APP_MODES.EXTENSION:return ts()?f?o?R():Object(C.jsx)(Dl,{}):x():Object(C.jsx)(Nt.a,{className:"primary-card",children:Object(C.jsx)(Ll,{heading:"Get Started",content:"Please install Requestly Browser Extension to setup rules to modify network requests."})})}}()},ej=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useContext)(Z).state,s=st(r);return Object(c.useEffect)((function(){s===p.CONSTANTS.APP_MODES.EXTENSION&&cs().then((function(e){a(e.storageType)}))}),[s]),s===p.CONSTANTS.APP_MODES.DESKTOP?Object(C.jsx)(Tl,{customErrorMessage:"All Requestly rules get saved to your system as of now. We'll soon introduce a feature to move them to cloud and sync across devices."}):n?Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(Tl,{customErrorMessage:"All Requestly rules get saved to your system as of now. We'll soon introduce a feature to move them to cloud and sync across devices."})}):Object(C.jsx)(Ll,{heading:"Requestly Extension Settings",content:"Please install Requestly Browser Extension first."})},tj=function(e){Object(Ur.a)(n,e);var t=Object(Pr.a)(n);function n(){return Object(vr.a)(this,n),t.apply(this,arguments)}return Object(yr.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(ej,{})})}}]),n}(i.a.Component),nj=function(e,t){var n=function(e,t){return wc(e).concat(t)}(e,t),a=Aa.setValue(n,null),r=Mc(t),c=Aa.setValue(r,null);return Promise.all([a,c])},aj=function(e,t){e(function(e){return{type:d.UPDATE_SELECTED_SHARED_LISTS,payload:e}}(t))},rj=function(e){var t=e.sharedListIdsToDeleteArray,n=e.userId,a=e.isOpen,r=e.toggle,s=Object(c.useContext)(Z).dispatch,o=Object(c.useState)(!1),l=Object(u.a)(o,2),d=l[0],O=l[1],j=Object(c.useState)(!1),E=Object(u.a)(j,2),b=E[0],p=E[1],S=function(e){var t=e.showConfirmationBtn;return Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,align:"center",children:Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(It.a,{color:"secondary","data-dismiss":"modal",type:"button",onClick:r,children:"Close"}),t?Object(C.jsx)(It.a,{type:"primary","data-dismiss":"modal",onClick:function(){return p(!0)},children:"Yes"}):null]})})})},h=function(){return Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)(Ct.a,{children:Object(C.jsxs)(gt.a,{align:"center",span:24,children:[Object(C.jsx)("h1",{className:"display-2",children:Object(C.jsx)(Kl.a,{})}),Object(C.jsx)("h5",{children:"Please select a list before deleting"})]})}),Object(C.jsx)("br",{}),S({showConfirmationBtn:!1})]})},T=Object(c.useCallback)((function(e){var a=[];return t.forEach((function(e){a.push(nj(n,e))})),Promise.all(a)}),[s,t,n]);return Object(c.useEffect)((function(){b&&!d&&T().then((function(){O(!0),aj(s,{}),function(e){e(Dt("sharedLists"))}(s),r()}))}),[b,d,T,r,s]),Object(C.jsx)(Zt.a,{className:"modal-dialog-centered ",visible:a,onCancel:r,footer:null,title:"Delete List",children:b?d?Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)("div",{className:"modal-body ",children:Object(C.jsx)(gt.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:Object(C.jsx)("b",{children:"Successfully deleted lists"})})}),S({showConfirmationBtn:!1})]}):Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,align:"center",children:Object(C.jsx)(_t.b,{children:Object(C.jsx)(Wa.a,{})})})}):ie()(t)?h():Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)(Ct.a,{children:Object(C.jsxs)(gt.a,{span:24,align:"center",children:[Object(C.jsx)("h1",{className:"display-2",children:Object(C.jsx)(N.I,{})}),Object(C.jsx)("b",{children:"Are you sure to delete the selected lists?"}),Object(C.jsxs)("p",{children:[Object(C.jsx)("b",{children:"Total Lists Selected: "}),t.length," ",Object(C.jsx)("br",{})]})]})}),S({showConfirmationBtn:!0})]})})},cj=tn.a.Link,ij=Jt.a.Search,sj=function(e){var t=e.sharedLists,n=Object(c.useContext)(Z).state,a=nt(n),r=Object(c.useState)(""),i=Object(u.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)([]),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(re.g)(),b=Object(c.useState)(!1),S=Object(u.a)(b,2),h=S[0],T=S[1];va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.VIEWED,"SharedList Table Viewed");var m=Object.values(t),f=Object(c.useState)(m),A=Object(u.a)(f,2),R=A[0],x=A[1],N=Object(c.useState)(!1),g=Object(u.a)(N,2),_=g[0],I=g[1],L=[{title:"Name",dataIndex:"listName",width:"20%",textWrap:"word-break",ellipsis:!0,render:function(e,t){return Object(C.jsx)(cj,{onClick:function(e){return xe(E,t.shareId,t.listName)},children:e})}},{title:"Public URL",dataIndex:"size",width:"50%",textWrap:"word-break",ellipsis:!0,render:function(e,t){var n=p.CONSTANTS.getSharedListURL(t.shareId,t.listName);return Object(C.jsx)("span",{children:Object(C.jsx)("span",{style:{marginRight:"1%",cursor:"pointer"},children:Object(C.jsx)(pc.CopyToClipboard,{text:n,onCopy:function(){return function(e){va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.COPIED,"SharedList url copied from index page"),o(e),Da("SharedList URL Copied")}(n)},children:Object(C.jsx)(Ec.a,{title:s===n?"Copied!":"Copy To Clipboard",children:n})})})})}},{title:"Created on",align:"center",dataIndex:"creationDate",valueType:"date",render:function(e,t){var n=t.creationDate;return Ic()(n).format("LL")}},{title:"Imported",align:"center",dataIndex:"importCount",render:function(e,t){if(t.hasOwnProperty("importCount"))return t.importCount>1?t.importCount+" times":t.importCount.toString()+" time";return"0 time"}},{title:"Actions",align:"right",render:function(e,t){return Object(C.jsx)(gc.a,{children:function(e){var n=e.isHovering;return Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(Od.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(C.jsx)(Ec.a,{title:"View List Content",children:Object(C.jsx)(hu.a,{onClick:function(){return e=t.shareId,n=t.listName,void xe(E,e,n);var e,n}})})}),Object(C.jsx)(Od.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(C.jsx)(Ec.a,{title:"Delete List",children:Object(C.jsx)(Cc.a,{onClick:function(){return e=t.shareId,j([e]),T(!0),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.WORKFLOW_STARTED,"SharedList Delete Requested from Index Page"),void Da("SharedList Deleted");var e}})})})]})}})}}];return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Nt.a,{className:"primary-card",title:null,children:Object(C.jsx)(Ya.a,{rowKey:"shareId",dataSource:_?R:m,options:!1,pagination:!1,search:!1,dateFormatter:!1,headerTitle:Object(C.jsxs)(C.Fragment,{children:["Manage Shared Lists"," ",Object(C.jsx)(ij,{placeholder:"Enter List Name",onChange:function(e){x(m),I(!1)},onSearch:function(e){!function(e){var t=0;if(""!==e){for(var n=0;n<R.length;n++)if(R[n].listName.toLowerCase().includes(e.toLowerCase())){x([R[n]]),t=1,I(!0);break}0===t&&Be.b.error("No List found with given name")}}(e)},style:{width:200,marginLeft:"10px"}})]}),columns:L})}),h?Object(C.jsx)(rj,{isOpen:h,toggle:function(){T(!h)},sharedListIdsToDeleteArray:O,userId:a.details.profile.uid}):null]})},oj=function(){var e=Object(re.g)();return Object(C.jsx)(Nt.a,{className:"primary-card",children:Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,style:{textAlign:"center"},children:Object(C.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(C.jsx)("h1",{className:"display-3",children:"Share Rules with other users"}),Object(C.jsx)("p",{className:"lead",children:"To create a Shared List, go to Rules page, select the required Rules & click Share Rules button"}),Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(It.a,{type:"primary",onClick:function(){return Ae(e)},children:"Go to Rules"}),Object(C.jsx)(It.a,{color:"secondary",onClick:function(){return window.open(W.LINKS.REQUESTLY_DOCS_SHARING_RULES,"_blank")},children:"Documentation"})]})]})})})})},lj=p.CONSTANTS.GA_EVENTS,uj=function(){var e=Object(c.useContext)(Z).state,t=nt(e),n=function(e){return rt(e).sharedLists}(e),a=Object(c.useState)(!0),r=Object(u.a)(a,2),i=r[0],s=r[1],o=Object(c.useState)({}),l=Object(u.a)(o,2),d=l[0],O=l[1],j=Object(c.useCallback)((function(e){ju(e.details.profile.uid).then((function(e){O(e),s(!1),e&&ya(lj.ATTR.NUM_SHARED_LISTS,Object.keys(e).length),e||ya(lj.ATTR.NUM_SHARED_LISTS,0)}))}),[]);return va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.WORKFLOW_STARTED,"SharedList index page opened"),Object(c.useLayoutEffect)((function(){t.loggedIn&&t.details.profile&&(va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.ALREADY_LOGIN,"Already login on SharedList index page"),j(t))}),[t,j,n]),i?Object(C.jsx)(oc,{customLoadingMessage:"Loading Shared Lists"}):ie()(d)?Object(C.jsx)(oj,{}):Object(C.jsx)(sj,{sharedLists:d})},dj=function(e){Object(Ur.a)(n,e);var t=Object(Pr.a)(n);function n(){return Object(vr.a)(this,n),t.apply(this,arguments)}return Object(yr.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ht,{component:uj})})}}]),n}(i.a.Component),Oj=W.PATHS,jj=function(e){return e.split("/")[Oj.SHARED_LISTS.VIEWER.ABSOLUTE.split("/").length+1-1].split("-")[0]},Ej=function(e){var t=e.rules,n=e.groups,a=Object(re.g)(),r=Object(c.useContext)(Z).state,i=st(r),s=ze(r),o=Object(c.useState)(!1),l=Object(u.a)(o,2),d=l[0],O=l[1],j=Object(c.useState)(!1),E=Object(u.a)(j,2),b=E[0],S=E[1],h=nt(r),T=Object(be.a)(),m=Object(be.b)(T,"sendSharedListImportAsEmail"),f=jj(window.location.pathname),A=function(e){if(ts()){O(!0),m({email:h.loggedIn?h.details.profile.email:"user_not_logged_in",url:"https://app.requestly.io"+a.location.pathname,rules:t,sharedListId:f}).then((function(){console.log("E-mail done")})).catch((function(e){console.log(e)})),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.IMPORTED,"SharedList Import Started"),Da("SharedList Import Started");var r=t||[],c=n||[];zo([].concat(Object(Lt.a)(r),Object(Lt.a)(c)),h,s).then((function(e){Ho(i,e.data).then((function(){Ve.info("Successfully imported rules"),Ae(a)}))}))}else S(!0)},R=function(){return S(!b)},x=function(){return Object(C.jsx)(Zt.a,{visible:b,onCancel:R,footer:null,children:Object(C.jsx)(Ll,{heading:"Browser Extension Required",content:"Please install Requestly Browser Extension to import shared list."})})};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(x,{}),Object(C.jsx)(Nt.a,{className:"primary-card",title:null,children:Object(C.jsx)(AO,{options:{disableSelection:!0,disableEditing:!0,disableActions:!0,disableFavourites:!0,disableStatus:!0},rules:t,groups:n,headerTitle:"Shared List - Content",toolBarRender:function(){return[Object(C.jsx)(It.a,{type:"primary",icon:Object(C.jsx)(mu.a,{}),onClick:A,loading:d,children:"Import to My Rules"})]}})})]})},bj=function(){var e=Object(c.useContext)(Z),t=e.state,n=e.dispatch,a=ct(t),r=st(t),s=Object(c.useState)([]),o=Object(u.a)(s,2),l=o[0],d=o[1],O=Object(c.useState)([]),j=Object(u.a)(O,2),E=j[0],b=j[1],S=Object(c.useCallback)(n,[n]),h=jj(window.location.pathname);Object(c.useEffect)((function(){var e=hs(r).getRecords(p.CONSTANTS.OBJECT_TYPES.GROUP),t=hs(r).getRecords(p.CONSTANTS.OBJECT_TYPES.RULE);Promise.all([e,t]).then((function(e){var t=e[0],n=e[1];S(Pt(n,t))}))}),[S,a,r]);var T=Object(c.useCallback)((function(){(function(e){var t=Mc(e);return Aa.getValue(t)})(h).then((function(e){d(e.rules),b(e.groups)}))}),[h]);return va(p.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,p.CONSTANTS.GA_EVENTS.ACTIONS.VIEWED,"SharedList Index Page Viewed"),Object(c.useLayoutEffect)((function(){T()}),[T]),Object(C.jsx)(i.a.Fragment,{children:ie()(l)?null:Object(C.jsx)(Ej,{rules:l,groups:E})})},pj=function(e){Object(Ur.a)(n,e);var t=Object(Pr.a)(n);function n(){return Object(vr.a)(this,n),t.apply(this,arguments)}return Object(yr.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(bj,{})})}}]),n}(i.a.Component),Sj=function(e){var t=e.isOpen,n=e.toggleModal,a=e.userId,r=e.teamId,i=e.isCurrentlyAdmin,s=e.callbackOnSuccess,o=Object(c.useState)(!1),l=Object(u.a)(o,2),d=l[0],O=l[1];return Object(C.jsxs)(Zt.a,{style:{marginTop:"200px"},visible:t,onCancel:n,footer:null,children:[Object(C.jsx)("div",{children:Object(C.jsx)("h2",{children:"Change Role"})}),Object(C.jsx)("div",{children:i?Object(C.jsxs)("h3",{children:["Remove admin access from this user? ",Object(C.jsx)("br",{}),"This user would no longer be able to add or remove members from this team"]}):Object(C.jsxs)("h3",{children:["Grant admin access to this user? ",Object(C.jsx)("br",{}),"This user would be able to add or remove members from this team"]})}),Object(C.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse",marginTop:"20px"},children:[Object(C.jsx)(It.a,{type:"primary",onClick:function(){return function(){O(!0);var e=Object(be.a)();Object(be.b)(e,"updateTeamUserRole")({teamId:r,userId:a,role:i?"user":"admin"}).then((function(e){Ve.info("Successfully changed the role"),s&&s(),O(!1),n()})).catch((function(e){Ve.error(e.message),O(!1),n()}))}()},disabled:d,children:d?Object(C.jsxs)("span",{children:[Object(C.jsx)(N.E,{style:{marginRight:"5px"},className:"icon-spin"}),Object(C.jsx)("span",{children:i?"Revoking admin access":"Granting admin access"})]}):i?"Remove admin access":"Grant admin access"}),Object(C.jsx)(It.a,{style:{marginRight:"10px"},type:"secondary",onClick:n,disabled:d,children:"Close"})]})]})},hj=function(e){var t=e.isOpen,n=e.toggleModal,a=e.userId,r=e.teamId,i=(e.isCurrentlyAdmin,e.callbackOnSuccess),s=Object(c.useState)(!1),o=Object(u.a)(s,2),l=o[0],d=o[1];return Object(C.jsxs)(Zt.a,{style:{marginTop:"200px"},visible:t,onCancel:n,footer:null,children:[Object(C.jsx)("div",{children:Object(C.jsx)("h2",{children:"Remove Member"})}),Object(C.jsxs)("div",{children:[Object(C.jsx)("h3",{children:"Do you really want to remove this user from the team?"}),Object(C.jsx)("h3",{children:"They would no longer be able use your team's subscription"})]}),Object(C.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse",marginTop:"20px"},children:[Object(C.jsx)(It.a,{type:"primary",onClick:function(){return function(){d(!0);var e=Object(be.a)();Object(be.b)(e,"updateTeamUserRole")({teamId:r,userId:a,role:"remove"}).then((function(e){Ve.info("Member removed"),i&&i(),d(!1),n()})).catch((function(e){Ve.error(e.message),d(!1),n()}))}()},disabled:l,children:l?Object(C.jsxs)("span",{children:[Object(C.jsx)(N.E,{style:{marginRight:"5px"},className:"icon-spin"}),Object(C.jsx)("span",{children:"Removing user"})]}):"Yes, remove"}),Object(C.jsx)(It.a,{style:{marginRight:"10px"},type:"secondary",onClick:n,disabled:l,children:"No"})]})]})},Tj=function(e){var t=e.isOpen,n=e.toggleModal;return Object(C.jsxs)(Zt.a,{style:{marginTop:"200px"},visible:t,onCancel:n,footer:null,children:[Object(C.jsx)("div",{children:Object(C.jsx)("h2",{children:"To Remove Team Member"})}),Object(C.jsx)("div",{children:Object(C.jsxs)("h3",{children:["Please write to us at"," ",Object(C.jsx)("a",{href:"mailto:".concat(p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),children:p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})," ","and we'll revert you within 4-5 hours."]})})]})},mj=function(e){var t=e.teamId,n=e.refresh,a=e.callback,r=Object(re.g)(),s=Object(c.useRef)(!0),o=Object(c.useContext)(Z).state,l=nt(o),d=Object(c.useState)([]),O=Object(u.a)(d,2),E=O[0],b=O[1],S=Object(c.useState)([]),h=Object(u.a)(S,2),T=h[0],m=h[1],f=Object(c.useState)({isActive:!1,userId:!1,isCurrentlyAdmin:!1}),A=Object(u.a)(f,2),R=A[0],x=A[1],g=Object(c.useState)({isActive:!1,userId:!1}),_=Object(u.a)(g,2),I=_[0],L=_[1],v=Object(c.useState)(!1),y=Object(u.a)(v,2),U=y[0],P=y[1],D=Object(c.useState)(!0),w=Object(u.a)(D,2),M=w[0],k=w[1],G=Object(c.useState)(!1),F=Object(u.a)(G,2),B=F[0],V=F[1],Y=Object(c.useState)([]),H=Object(u.a)(Y,2),K=H[0],q=H[1],W=Object(be.a)(),Q=Object(be.b)(W,"getTeamUsers"),z=Object(be.b)(W,"getTeamSubscriptionInfo"),X=Object(be.b)(W,"getTeamBillingExclude"),J=Object(c.useCallback)(Q,[]),$=Object(c.useCallback)(z,[]),ee=Object(c.useCallback)(X,[]),te=[{title:!1,dataIndex:"img",key:"img",align:"center",render:function(e){return Object(C.jsx)("span",{style:{zIndex:"unset"},children:Object(C.jsx)("img",{alt:e.displayName,style:{borderRadius:"50%",width:"12%"},src:e.photoUrl})})}},{title:"Member",dataIndex:"member",align:"center",render:function(e){return Object(C.jsx)("span",{style:{width:"100px"},children:e.displayName+(l.details.profile.uid===e.id?" (You) ":"")+(K.includes(e.id)?" (Free) ":"")})}},{title:"Role",dataIndex:"role",align:"center",render:function(e){return Object(C.jsx)("span",{style:{width:"300px"},children:e.isOwner?Object(C.jsxs)("span",{children:[Object(C.jsx)(Fa.a,{status:"success"})," Owner"]}):e.isAdmin?Object(C.jsxs)("span",{children:[Object(C.jsx)(Fa.a,{status:"success"})," Admin"]}):Object(C.jsx)("span",{children:"Member"})})}},{title:"Actions",dataIndex:"actions",align:"right",render:function(e){return Object(C.jsx)("span",{style:{width:"300px"},children:e.isOwner?"-":Object(C.jsxs)("span",{style:{fontSize:"1.3em"},children:[Object(C.jsxs)("span",{className:"custom-tooltip",style:{marginRight:"20px",cursor:"pointer"},children:[Object(C.jsx)(N.k,{onClick:function(){x(Object(j.a)(Object(j.a)({},R),{},{isActive:!0,userId:e.id,isCurrentlyAdmin:e.isAdmin}))}}),Object(C.jsx)("span",{className:"custom-tooltiptext",children:"Change Role"})]}),Object(C.jsxs)("span",{className:"custom-tooltip",style:{cursor:"pointer"},children:[Object(C.jsx)(N.I,{onClick:function(){B?L(Object(j.a)(Object(j.a)({},I),{},{isActive:!0,userId:e.id})):P(!0)}}),Object(C.jsx)("span",{className:"custom-tooltiptext",children:"Remove"})]})]})})}}],ne=function(){J({teamId:t}).then((function(e){if(!s.current)return null;var t=e.data;if(!t.success)throw new Error(t.message);b(t.users)})).catch((function(e){if(!s.current)return null;Ve.error(e.message),ye(r)}))},ae=Object(c.useCallback)(ne,[t,r]),ce=Object(c.useCallback)((function(){$({teamId:t}).then((function(e){var t=e.data;k(t.subscriptionStatus===p.CONSTANTS.SUBSCRIPTION_STATUS.ACTIVE)})).catch((function(e){return new Error(e)}))}),[$,t]),ie=function(){b([]),s.current=!0,ne(),M&&ee({teamId:t}).then((function(e){var t=e.data;t.success&&q(t.billingExclude)})).catch((function(e){q([])})),a&&a()},se=Object(c.useCallback)(ie,[]);return Object(c.useEffect)((function(){return ae(),function(){s.current=!1}}),[ae]),Object(c.useEffect)((function(){se()}),[se,n]),Object(c.useEffect)((function(){m([]),E.map((function(e,t){return m((function(n){return[].concat(Object(Lt.a)(n),[{key:t+1,img:e,member:e,role:e,actions:e}])}))}))}),[E]),Object(c.useEffect)((function(){if(l.details.isLoggedIn){ce();var e="requestly.extension@gmail.com"===l.details.profile.email;V(e||!M)}}),[l,ce,t,M]),Object(C.jsxs)(i.a.Fragment,{children:[Object(he.isEmpty)(E)?Object(C.jsx)(Se,{customLoadingMessage:"Finding your teammates"}):Object(C.jsx)(ad.a,{columns:te,dataSource:T,pagination:!1}),Object(C.jsx)(Sj,{isOpen:R.isActive,toggleModal:function(){x(Object(j.a)(Object(j.a)({},R),{},{isActive:!R.isActive}))},userId:R.userId,teamId:t,isCurrentlyAdmin:R.isCurrentlyAdmin,callbackOnSuccess:function(){return ie()}}),Object(C.jsx)(hj,{isOpen:I.isActive,toggleModal:function(){L(Object(j.a)(Object(j.a)({},I),{},{isActive:!I.isActive}))},userId:I.userId,teamId:t,callbackOnSuccess:function(){return ie()}}),Object(C.jsx)(Tj,{isOpen:U,toggleModal:function(){P((function(e){return!e}))}})]})},fj=n(414),Aj=(n(961),function(e){var t=e.isOpen,n=e.toggleModal,a=e.teamId,r=e.email,i=e.isAdmin,s=Object(c.useState)(!1),o=Object(u.a)(s,2),l=o[0],d=o[1];return Object(C.jsxs)(Zt.a,{className:"modal-dialog-centered modal-danger",contentClassName:"bg-gradient-danger bg-gradient-blue",visible:t,onCancel:n,footer:null,title:"Invite email to your team",children:[Object(C.jsx)("div",{className:"modal-body",children:Object(C.jsx)(Ee.a,{children:Object(C.jsxs)("div",{children:["Oops! ",r," does not seem to have a Requestly account yet. Do you want to send them a magic invite link via email? They will be automatically added to this team upon signup using that link."]})})}),Object(C.jsx)("br",{}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,align:"right",children:Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(It.a,{className:"text-white ml-auto",color:"link","data-dismiss":"modal",type:"button",onClick:n,disabled:l,children:"No, I'll add them later"}),Object(C.jsx)(It.a,{className:"btn-white",color:"default",onClick:function(){return function(){d(!0);var e=Object(be.a)();Object(be.b)(e,"inviteEmailToTeam")({teamId:a,email:r,isAdmin:i}).then((function(e){e.data.success?Ve.info("We've sent them an invite"):Ve.error("Opps! Couldn`t send the invite"),d(!1),n()})).catch((function(e){console.log(e.message),Ve.error("Opps! Couldn`t send the invite"),d(!1),n()}))}()},loading:l,type:"primary",children:"Yes, please send"})]})})})]})}),Rj=p.CONSTANTS.GA_EVENTS,xj=function(e){var t=e.isOpen,n=e.toggleModal,a=e.teamId,r=e.callback,i=Object(c.useState)([]),s=Object(u.a)(i,2),o=s[0],l=s[1],d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(!1),p=Object(u.a)(b,2),S=p[0],h=p[1],T=Object(c.useState)(!1),m=Object(u.a)(T,2),f=m[0],A=m[1];Object(c.useEffect)((function(){return function(){return l([])}}),[]);var R=function(){var e=Object(te.a)(ae.a.mark((function e(){var t,c,i,s,l,u,d,O,E,b;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&0!==o.length){e.next=3;break}return Ve.warn("Invalid Email"),e.abrupt("return");case 3:t=Object(Wc.a)(o),e.prev=4,t.s();case 6:if((c=t.n()).done){e.next=14;break}if(i=c.value,Er()(i)){e.next=12;break}return Ve.warn("".concat(i," is not a valid email")),va(Rj.CATEGORIES.TEAMS,Rj.ACTIONS.ERROR,"Email entered is not Valid"),e.abrupt("return");case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),t.e(e.t0);case 19:return e.prev=19,t.f(),e.finish(19);case 22:s=Object(be.a)(),l=Object(be.b)(s,"addUserToTeam"),u=Object(be.b)(s,"teamAdditionNotify"),A(!0),A(!0),d=[],O=Object(Wc.a)(o),e.prev=29,b=ae.a.mark((function e(){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=E.value,e.next=3,l({teamId:a,email:t,isAdmin:j}).then((function(e){d.push(e.data.userId),A(!1),n(),va(Rj.CATEGORIES.TEAMS,Rj.ACTIONS.FORM_SUBMITTED,"Successfully added member in team")})).catch((function(e){A(!1),"user-not-found"===e.message?(Ve.warn("".concat(t," does not have a requestly account")),n(),va(Rj.CATEGORIES.TEAMS,Rj.ACTIONS.ERROR,"Add member User Not found error")):"user-already-exists"===e.message?(Ve.warn("".concat(t," already has access to the team")),n(),va(Rj.CATEGORIES.TEAMS,Rj.ACTIONS.ERROR,"User already has access to the team")):(Ve.warn("Trouble adding ".concat(t)),va(Rj.CATEGORIES.TEAMS,Rj.ACTIONS.ERROR,"Trouble adding user"))}));case 3:case"end":return e.stop()}}),e)})),O.s();case 32:if((E=O.n()).done){e.next=36;break}return e.delegateYield(b(),"t1",34);case 34:e.next=32;break;case 36:e.next=41;break;case 38:e.prev=38,e.t2=e.catch(29),O.e(e.t2);case 41:return e.prev=41,O.f(),e.finish(41);case 44:r&&r(),u({teamId:a,userEmails:o,sucessfulUserAdditions:d});case 46:case"end":return e.stop()}}),e,null,[[4,16,19,22],[29,38,41,44]])})));return function(){return e.apply(this,arguments)}}();return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)(Zt.a,{style:{marginTop:"200px"},visible:t,onCancel:n,footer:null,title:"Add Team Member",children:[Object(C.jsx)("div",{children:Object(C.jsxs)(Ee.a,{children:[Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsx)(fj.ReactMultiEmail,{placeholder:"Email Address",type:"email",value:o,onChange:function(e){l(e)},validateEmail:function(e){return Object(fj.isEmail)(e)},getLabel:function(e,t,n){return Object(C.jsxs)("div",{"data-tag":!0,children:[e,Object(C.jsx)("span",{"data-tag-handle":!0,onClick:function(){return n(t)},children:"\xd7"})]},t)},addonBefore:Object(C.jsx)(co.a,{})})})}),Object(C.jsx)(Ct.a,{style:{marginTop:"4%",marginBottom:"4%"},children:Object(C.jsx)(gt.a,{span:24,align:"right",children:Object(C.jsx)(Id.a,{checked:j,onChange:function(e){E(!j),va(Rj.CATEGORIES.TEAMS,Rj.ACTIONS.WORKFLOW_STARTED,"Check for Admin access to Team else made admin")},children:"Grant Admin Access"})})})]})}),Object(C.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse",gap:8},children:[Object(C.jsx)(It.a,{type:"primary",onClick:function(){return R()},disabled:f,children:f?Object(C.jsxs)("span",{children:[Object(C.jsx)(N.E,{className:"icon-spin"})," Adding Member"]}):Object(C.jsx)("span",{children:"Add Member"})}),Object(C.jsx)(It.a,{"data-dismiss":"modal",type:"secondary",onClick:n,disabled:f,children:"Close"})]})]}),S?Object(C.jsx)(Aj,{isOpen:S,toggleModal:function(){h(!S),n()},email:o,teamId:a,isAdmin:j}):null]})},Nj=p.CONSTANTS.GA_EVENTS,Cj=function(e){var t=e.teamId,n=Object(be.a)(),a=Object(c.useState)(!1),r=Object(u.a)(a,2),i=r[0],s=r[1],o=Object(c.useState)(!1),l=Object(u.a)(o,2),d=l[0],O=l[1],j=Object(c.useState)({}),E=Object(u.a)(j,2),b=E[0],p=E[1],S=Object(c.useState)(!1),h=Object(u.a)(S,2),T=h[0],m=h[1],f=function(){O(!d)},A=Object(be.b)(n,"getTeamBillingUsers");return Object(c.useEffect)((function(){A({teamId:t}).then((function(e){var t=e.data;t.success&&(p({billQuantity:t.billQuantity,actualBillQuantity:t.actualBillQuantity}),m(!0))})).catch((function(){m(!1)}))}),[t,d]),Object(C.jsxs)("div",{style:{marginTop:"30px"},children:[Object(C.jsxs)(Ct.a,{children:[Object(C.jsx)(gt.a,{children:Object(C.jsx)("h3",{children:"Members"})}),Object(C.jsx)(gt.a,{style:{margin:"5px 20px 0px auto"},children:Object(C.jsxs)(It.a,{type:"primary",onClick:function(){s(!0),va(Nj.CATEGORIES.TEAMS,Nj.ACTIONS.CLICKED,"Add Member in Team button clicked"),Da("Added Member in Team")},children:[Object(C.jsx)(Va.a,{})," Add Member"]})})]}),Object(C.jsx)("div",{style:{marginTop:"20px"},children:Object(C.jsx)(mj,{teamId:t,refresh:d,callback:function(){return f()}})}),Object(C.jsx)("div",{style:{margin:"10px",textAlign:"center",fontSize:"0.9rem"},children:T?Object(C.jsx)(tn.a.Text,{keyboard:!0,children:"".concat(b.actualBillQuantity," of ").concat(b.billQuantity," Seats Used")}):null}),i?Object(C.jsx)(xj,{isOpen:i,toggleModal:function(){s(!i)},teamId:t,callback:function(){return f()}}):null]})},gj=p.CONSTANTS.GA_EVENTS,_j=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)(Ct.a,{children:Object(C.jsxs)("div",{style:{background:"transparent",margin:"auto",textAlign:"center"},children:[Object(C.jsx)("h3",{children:"One subscription for all your team members. Subscribe to one of the plans to get started."}),Object(C.jsx)("br",{}),Object(C.jsxs)("p",{children:[Object(C.jsx)(It.a,{type:"primary",icon:Object(C.jsx)(Zc.a,{}),onClick:function(){a(!0),va(gj.CATEGORIES.TEAMS,gj.ACTIONS.CLICKED,"Clicked View Plans button on Team Info page redirected@mini pricing table")},children:"Get Started"}),Object(C.jsx)(It.a,{style:{marginLeft:"10px"},type:"secondary",onClick:function(){window.open(W.PATHS.PRICING.ABSOLUTE),va(gj.CATEGORIES.TEAMS,gj.ACTIONS.CLICKED,"Clicked Learn More button on Team Info page redirected@Pricing table")},children:"Learn More"})]})]})}),n?Object(C.jsx)(lo,{isVisible:n,toggleModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!n;a(e)}}):null]})},Ij=n(1042),Lj=function(e){var t=e.teamId,n=Object(c.useRef)(!0),a=Object(c.useState)({}),r=Object(u.a)(a,2),s=r[0],o=r[1],l=Object(c.useState)(!1),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useCallback)((function(){j(!0);var e=Object(be.a)();Object(be.b)(e,"getTeamSubscriptionInfo")({teamId:t}).then((function(e){if(!n.current)return null;o(e.data),j(!1)})).catch((function(e){if(!n.current)return null;Ve.error("You might not have permission to manage the team members."),j(!1)}))}),[t]);return Object(c.useEffect)((function(){return E(),function(){n.current=!1}}),[E]),Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:O?Object(C.jsx)(Se,{customLoadingMessage:"Fetching subscription"}):Object(C.jsx)(Ei.a,{title:"Billing",extra:s.subscriptionStatus?Object(C.jsx)(gt.a,{children:Object(C.jsx)(It.a,{type:"primary",onClick:function(){return we({mode:"team",teamId:t})},icon:Object(C.jsx)(Ij.a,{}),children:"Update Payment Method"})}):null,children:s.subscriptionStatus?Object(C.jsx)(Ws,{mode:"team",teamId:t}):Object(C.jsx)(_j,{teamId:t})})})})})},vj=n(349),yj=p.CONSTANTS.GA_EVENTS,Uj=function(e){var t=e.teamId,n=Object(re.g)(),a=Object(c.useRef)(!0);t||Ge(n);var r=Object(c.useState)(""),i=Object(u.a)(r,2),s=i[0],o=i[1],l=Object(c.useState)(""),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useState)(""),b=Object(u.a)(E,2),p=b[0],S=b[1],h=Object(c.useState)(""),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useState)(""),R=Object(u.a)(A,2),x=R[0],N=R[1],g=Object(c.useState)(!1),_=Object(u.a)(g,2),I=_[0],L=_[1],v=Object(c.useCallback)((function(){L(!0);var e=Object(be.a)();Object(be.b)(e,"getTeamInfo")({teamId:t}).then((function(e){if(!a.current)return null;var t=e.data;if(!t.success)throw new Error(t.message);var n=t.data;o(n.name),j(new Date(1e3*n.creationTime._seconds).toDateString()),S(n.subscriptionStatus),N(new Date(1e3*n.subscriptionCurrentPeriodStart).toDateString()),f(new Date(1e3*n.subscriptionCurrentPeriodEnd).toDateString()),L(!1)}))}),[t]);return Object(c.useEffect)((function(){return v(),function(){a.current=!1}}),[v,t]),Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:Object(C.jsxs)(Ct.a,{children:[Object(C.jsx)(gt.a,{span:12,children:Object(C.jsx)("span",{children:"Team Details"})}),"active"===p?Object(C.jsx)(gt.a,{align:"right",span:12,children:Object(C.jsx)(It.a,{type:"primary",onClick:function(){De({mode:"team",planType:"enterprise",teamId:t}),va(yj.CATEGORIES.TEAMS,yj.ACTIONS.CLICKED,"Change Plan button clicked redirected to update subscription")},icon:Object(C.jsx)(vj.a,{}),children:"Change Plan"})}):null,"canceled"===p||"incomplete_expired"===p?Object(C.jsx)(gt.a,{align:"right",span:12,children:Object(C.jsx)(It.a,{type:"primary",onClick:function(){De({mode:"team",planType:"enterprise",teamId:t,isRenewal:!0}),va(yj.CATEGORIES.TEAMS,yj.ACTIONS.CLICKED,"Renew Subscription button clicked redirected to update subscription")},icon:Object(C.jsx)(qO.a,{}),children:"Renew Subscription"})}):null]})}),I?Object(C.jsx)("div",{children:Object(C.jsx)(Se,{customLoadingMessage:"Loading Team Info"})}):Object(C.jsx)("div",{style:{marginTop:"1%"},children:Object(C.jsxs)(Xa.b,{title:null,bordered:!0,column:2,children:[Object(C.jsx)(Xa.b.Item,{label:"Team Name",children:s}),Object(C.jsx)(Xa.b.Item,{label:"Created on",children:O}),!p||Object(he.isEmpty)(p)?null:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Xa.b.Item,{label:"Current Period",children:"".concat(x," ~ ").concat(m)}),Object(C.jsx)(Xa.b.Item,{label:"Subscription Status",children:rr(p)})]})]})})]})},Pj=function(e){var t=e.teamId,n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],i=a[1],s=Object(be.a)(),o=Object(be.b)(s,"isTeamAdmin");return Object(c.useEffect)((function(){o({teamId:t}).then((function(e){var t=e.data;t.success&&i(t.isAdmin)}))}),[o,t]),Object(C.jsxs)(Ei.a,{children:[Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{children:Object(C.jsx)("h1",{children:"Manage Team"})})}),Object(C.jsxs)("div",{children:[Object(C.jsx)(Uj,{teamId:t}),Object(C.jsx)(Cj,{teamId:t}),r?Object(C.jsx)(Lj,{teamId:t}):null,Object(C.jsxs)("div",{style:{fontSize:"0.8125rem",textAlign:"center",marginTop:"40px"},children:["Any questions? Reach our payment support team at"," ",Object(C.jsx)("a",{href:"mailto:".concat(p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),children:p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})]})]})]})},Dj=function(e){var t=e.match.params.teamId;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ht,{component:Pj,teamId:t})})},wj=p.CONSTANTS.GA_EVENTS,Mj=function(){var e=Object(c.useContext)(Z).state,t=nt(e),n=Object(c.useState)({}),a=Object(u.a)(n,2),r=a[0],s=a[1],o=Object(c.useState)(""),d=Object(u.a)(o,2),O=d[0],j=d[1],E=Object(c.useState)(!1),b=Object(u.a)(E,2),p=b[0],S=b[1],h=Object(c.useState)(!0),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useState)(!1),R=Object(u.a)(A,2),x=R[0],g=R[1],_=Object(c.useState)(!0),I=Object(u.a)(_,2),L=I[0],v=I[1],y=Object(c.useState)(!1),U=Object(u.a)(y,2),P=U[0],D=U[1],w=Object(c.useState)(!1),M=Object(u.a)(w,2),k=M[0],G=M[1],F=Object(c.useState)(!1),B=Object(u.a)(F,2),V=B[0],Y=B[1],H=Object(c.useState)(!1),K=Object(u.a)(H,2),q=K[0],Q=K[1],z=Object(c.useState)(!1),X=Object(u.a)(z,2),J=X[0],$=X[1],ee=function(e){return e?Object(C.jsxs)("span",{style:{color:"green"},children:["  ",Object(C.jsx)(N.b,{})]}):""},te=function(e,t){j(t),Ta(["customProfile",r.uid],{position:e}),va(wj.CATEGORIES.UNLOCK,wj.ACTIONS.CLICKED,e),ya(wj.ATTR.PROFILE,e)},ne=function(e,t){switch(e.preventDefault(),va(wj.CATEGORIES.UNLOCK,wj.ACTIONS.CLICKED,t),t){case"twitter_follow_step":window.open("https://twitter.com/requestlyIO","_blank"),setTimeout((function(){S(!0)}),3e3);break;case"tweet_step":window.open(" https://twitter.com/intent/tweet?url=https%3A%2F%2Frequestly.io%2F&via=requestlyIO&text=Check%20out%20Requestly%20chrome%20extension%20which%20lets%20you%20Setup%20redirects%2C%20modify%20headers%2C%20switch%20hosts%2C%20insert%20user%20scripts%20and%20much%20more%21","_blank"),setTimeout((function(){f(!0)}),3e3);break;case"linkedin_step":window.open("https://www.linkedin.com/company/14623447/","_blank"),setTimeout((function(){D(!0)}),3e3);break;case"reddit_step":window.open("https://www.reddit.com/r/requestly/","_blank"),setTimeout((function(){G(!0)}),3e3);break;case"rate_us_chrome_store_step":window.open("https://chrome.google.com/webstore/detail/requestly-redirect-url-mo/mdnleldcmiljblolnjhpnblkcekpdkpa","_blank"),setTimeout((function(){g(!0)}),6e3);break;case"watch_and_star_us_on_github_step":window.open("https://github.com/requestly/customer-support/subscription","_blank"),setTimeout((function(){v(!0)}),6e3)}},ae=function(){O&&p&&m&&x&&L&&P&&k?hn(r.email)?($(!0),Ta(["unlock",r.uid],{status:"pending",lastUpdated:(new Date).toISOString().split("T")[0]},(function(){var e=Object(be.a)();Object(be.b)(e,"unlockPremium")({userId:r.uid,email:r.email,userName:r.displayName,position:O}).then((function(){window.location.reload(),$(!1)}))}))):Ve.warn("Please login with company email to unlock Requestly Premium"):Ve.warn("Please complete all the steps before continuing")};return Object(c.useLayoutEffect)((function(){t.details.isLoggedIn&&(s(t.details.profile),ha(["unlock",t.details.profile.uid]).then((function(e){(e=e||{}).status&&"unlocked"===e.status?(Q(!0),Y(!1)):"pending"===e.status?(Y(!0),Q(!1)):(Q(!1),Y(!1))})).catch((function(){Q(!1),Y(!1)})))}),[t]),Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(de.a,{className:" mt--7 sm-margin-top-negative-3",fluid:!0,children:Object(C.jsx)(Oe.a,{children:Object(C.jsx)("div",{className:"col",children:Object(C.jsxs)(je.a,{className:"shadow",children:[Object(C.jsx)(qt.a,{className:"border-0 has-thin-border-bottom",style:{position:"sticky",top:"0",zIndex:"1"},children:Object(C.jsx)(Oe.a,{className:"align-items-center",children:Object(C.jsxs)(oe.a,{className:"text-center text-sm-center text-xl-left text-lg-left text-md-left margin-bottom-1-when-xs margin-bottom-1-when-sm",children:[Object(C.jsx)("h2",{className:"mb-0",children:"Unlock 30 days of Requestly Premium"}),Object(C.jsx)("h4",{className:"text-muted mb-0",children:"Requestly Premium can be unlocked with company email accounts only"})]})})}),Object(C.jsx)(Ee.a,{children:V?Object(C.jsx)("article",{className:"message is-link",children:Object(C.jsxs)("div",{className:"message-body has-text-centered",children:["Thank you for expressing your interest to unlock Requestly Premium."," ",Object(C.jsx)("br",{}),"We have received your request and will activate your premium in 2-3 business days."]})}):q?Object(C.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:["You have successfully unlocked Requestly Premium.",Object(C.jsx)("br",{})," If you love Requestly Premium, you can get our premium plan"," ",Object(C.jsx)(l.b,{to:W.PATHS.PRICING.ABSOLUTE,children:"here"}),Object(C.jsx)("br",{})," We offer discounts on bulk purchase (Enterprise Plan).",Object(C.jsx)("br",{})," Please get in touch at contact@requestly.io for the same.",Object(C.jsx)("div",{className:"has-text-centered",style:{paddingTop:"1rem",paddingBottom:"0.25rem"},children:Object(C.jsx)(l.b,{to:W.PATHS.PRICING.ABSOLUTE,className:"button is-primary",children:"Upgrade"})})]}):Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ci.a,{color:"secondary",className:"has-transparent-bgcolor has-no-border",children:Object(C.jsxs)(Oe.a,{children:[Object(C.jsx)(oe.a,{children:"Follow us on LinkedIn"}),Object(C.jsxs)(oe.a,{children:[P?"Complete":"Pending",ee(P)]}),Object(C.jsx)(oe.a,{children:Object(C.jsxs)("span",{onClick:function(e){return ne(e,"linkedin_step")},className:"cursor-pointer",children:[Object(C.jsx)(N.s,{}),"\xa0\xa0 Follow Us"]})})]})}),Object(C.jsx)(Ci.a,{color:"secondary",className:"has-transparent-bgcolor has-no-border",children:Object(C.jsxs)(Oe.a,{children:[Object(C.jsx)(oe.a,{children:"How do you best identify yourself"}),Object(C.jsxs)(oe.a,{children:[O?"Complete":"Pending",ee(O)]}),Object(C.jsx)(oe.a,{children:cn(O,te)})]})}),Object(C.jsx)(Ci.a,{color:"secondary",className:"has-transparent-bgcolor has-no-border",children:Object(C.jsxs)(Oe.a,{children:[Object(C.jsx)(oe.a,{children:"Follow us on Twitter"}),Object(C.jsxs)(oe.a,{children:[p?"Complete":"Pending",ee(p)]}),Object(C.jsx)(oe.a,{children:Object(C.jsxs)("span",{onClick:function(e){return ne(e,"twitter_follow_step")},className:"cursor-pointer",children:[Object(C.jsx)(N.J,{}),"\xa0\xa0 Follow"]})})]})}),Object(C.jsx)(Ci.a,{color:"secondary",className:"has-transparent-bgcolor has-no-border",children:Object(C.jsxs)(Oe.a,{children:[Object(C.jsx)(oe.a,{children:"Rate us on Chrome Store"}),Object(C.jsxs)(oe.a,{children:[x?"Complete":"Pending",ee(x)]}),Object(C.jsx)(oe.a,{onClick:function(e){return ne(e,"rate_us_chrome_store_step")},className:"cursor-pointer",children:Object(C.jsxs)("span",{className:"button is-success",children:[Object(C.jsx)(N.c,{}),"\xa0\xa0 Rate Us"]})})]})}),Object(C.jsx)(Ci.a,{color:"secondary",className:"has-transparent-bgcolor has-no-border",children:Object(C.jsxs)(Oe.a,{children:[Object(C.jsx)(oe.a,{children:"Join our subreddit"}),Object(C.jsxs)(oe.a,{children:[k?"Complete":"Pending",ee(k)]}),Object(C.jsx)(oe.a,{children:Object(C.jsxs)("span",{onClick:function(e){return ne(e,"reddit_step")},className:"cursor-pointer",children:[Object(C.jsx)(N.z,{}),"\xa0\xa0 Join Us"]})})]})}),Object(C.jsx)("div",{className:"columns",children:Object(C.jsx)("div",{className:"column has-text-centered text-center",children:Object(C.jsx)(ue.a,{disabled:!(p&&m&&x&&r&&L),className:"btn-icon btn-3",color:"primary",type:"button",onClick:ae,children:J?Object(C.jsx)(N.E,{className:"icon-spin"}):Object(C.jsx)("span",{children:"Unlock Premium"})})})})]})})]})})})})})},kj=function(e){Object(Ur.a)(n,e);var t=Object(Pr.a)(n);function n(){return Object(vr.a)(this,n),t.apply(this,arguments)}return Object(yr.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ht,{component:Mj})})}}]),n}(i.a.Component),Gj=p.CONSTANTS.GA_EVENTS,Fj=W.PATHS,Bj=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(u.a)(r,2),o=s[0],l=s[1],d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useContext)(Z).state,p=nt(b);return Object(c.useEffect)((function(){var e=Vr();e.oobCode&&!j&&p.loggedIn&&(E(!0),a(e.continueUrl),function(e){var t=Object(se.g)(ln);return Object(se.c)(t,e)}(e.oobCode).then((function(e){l(!0),_n(p.details.profile.uid,!0),va(Gj.CATEGORIES.USER,Gj.ACTIONS.EMAIL_VERIFICATION_SUCCESSFUL,"".concat(Gj.CATEGORIES.USER,"_").concat(Gj.ACTIONS.EMAIL_VERIFICATION_SUCCESSFUL))})).catch((function(e){console.log(e),l(!1),va(Gj.CATEGORIES.USER,Gj.ACTIONS.EMAIL_VERIFICATION_FAILED,"".concat(Gj.CATEGORIES.USER,"_").concat(Gj.ACTIONS.EMAIL_VERIFICATION_FAILED))})))}),[p.loggedIn,p.details,j,o]),Object(C.jsx)(i.a.Fragment,{children:p.loggedIn?Object(C.jsx)(de.a,{className:" mt--7 sm-margin-top-negative-3",fluid:!0,children:Object(C.jsx)(Oe.a,{children:Object(C.jsx)(oe.a,{children:Object(C.jsx)(je.a,{className:"shadow",children:Object(C.jsx)(Ee.a,{children:Object(C.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:o&&n?Object(C.jsxs)("div",{children:[Object(C.jsx)("h5",{className:"title is-6",children:"Your Email has been Verified."}),Object(C.jsx)(uc,{delay:3,path:Fj.RULES.RELATIVE,message:"Redirecting you to home"})]}):Object(C.jsxs)("div",{children:[Object(C.jsx)("h5",{className:"title is-6",children:"Oops! Looks like the email verification link is invalid or expired."}),Object(C.jsx)(ue.a,{className:"btn-icon btn-3",color:"primary",type:"button",onClick:Ln,children:"Resend Verification email"})]})})})})})})}):Object(C.jsx)(Bt,{})})},Vj=function(e){Object(Ur.a)(n,e);var t=Object(Pr.a)(n);function n(){return Object(vr.a)(this,n),t.apply(this,arguments)}return Object(yr.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Bj,{})})}}]),n}(i.a.Component),Yj=function(){var e=Object(c.useState)(Cn(window.localStorage.getItem("RQEmailForSignIn"))?window.localStorage.getItem("RQEmailForSignIn"):null),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),i=Object(u.a)(r,2),s=i[0],o=i[1],l=Object(c.useContext)(Z).state,d=nt(l);return Object(c.useEffect)((function(){setTimeout((function(){document.getElementById("SignInViaEmailLinkLoginBtn").click()}),300)}),[]),Object(C.jsx)(de.a,{className:" mt--7 sm-margin-top-negative-3",fluid:!0,children:Object(C.jsx)(Oe.a,{children:Object(C.jsx)(oe.a,{children:Object(C.jsx)(je.a,{className:"shadow",children:Object(C.jsx)(Ee.a,{children:Object(C.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:Object(C.jsx)(Oe.a,{className:"justify-content-md-center",children:Object(C.jsx)(oe.a,{lg:"3",children:Object(C.jsxs)(lr.a,{children:[Object(C.jsxs)(or.a,{children:[Object(C.jsx)("label",{htmlFor:"SignInViaEmailLinkInputField",children:"Confirm email address"}),Object(C.jsx)(Xt.a,{id:"SignInViaEmailLinkInputField",placeholder:"name@example.com",type:"email",value:n||"",onChange:function(e){a(e.target.value)}})]}),Object(C.jsx)(or.a,{children:n&&s?Object(C.jsxs)(ue.a,{color:"primary",type:"button",disabled:!0,children:[Object(C.jsx)(N.E,{className:"icon-spin mr-2"}),"Login"]}):Object(C.jsx)(ue.a,{color:"primary",type:"button",onClick:function(e){o(!0),e.preventDefault(),d.loggedIn&&Cr(),Vr().oobCode&&Cn(n)?da(n).then((function(e){if(!e)throw new Error("Failed");o(!1)})).catch((function(e){Ve.error("URL seems invalid. Please contact support"),o(!1),a(null)})):(Ve.error("Please recheck the email entered, or this URL is invalid."),o(!1))},id:"SignInViaEmailLinkLoginBtn",children:"Login"})})]})})})})})})})})})},Hj=function(e){Object(Ur.a)(n,e);var t=Object(Pr.a)(n);function n(){return Object(vr.a)(this,n),t.apply(this,arguments)}return Object(yr.a)(n,[{key:"render",value:function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Yj,{})})}}]),n}(i.a.Component),Kj=function(e){var t=e.type,n=e.message,a=e.dismissible,r=e.onDismiss;return Object(C.jsxs)("div",{className:"alert fade show alert-"+t+(a?" alert-dismissible":""),role:"alert",children:[n,a&&Object(C.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:r,children:Object(C.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})},qj=n(528),Wj=n.n(qj),Qj=function(){var e=Object(re.g)(),t=Object($r.useStripe)(),n=Object($r.useElements)(),a=Object(c.useRef)(!0),r=new URLSearchParams(window.location.search),s=r.get("m"),o=r.get("t"),l=Object(c.useContext)(Z).state,d=nt(l),O=Object(c.useState)(!1),j=Object(u.a)(O,2),E=j[0],b=j[1],S=Object(c.useState)(!1),h=Object(u.a)(S,2),T=h[0],m=h[1],f=Object(c.useState)(null),A=Object(u.a)(f,2),R=A[0],x=A[1],N=Object(c.useState)(null),g=Object(u.a)(N,2),_=g[0],I=g[1],L=Object(c.useState)(!1),v=Object(u.a)(L,2),y=v[0],U=v[1],P=Object(c.useState)(!0),D=Object(u.a)(P,2),w=D[0],M=D[1];("individual"!==s&&"team"!==s||"team"===s&&"string"!==typeof o)&&Ge(e);var k=Object(c.useCallback)((function(){var e=Object(be.a)();Object(be.b)(e,"getTeamInfo")({teamId:o}).then((function(e){if(!a.current)return null;var t=e.data;if(!t.success)throw new Error("Unable to find team");var n=t.data.owner;n&&d&&d.details&&d.details.profile?(U(d.details.profile.uid===n),M(!1)):(U(!1),M(!1))})).catch((function(e){if(!a.current)return null;e&&(U(!1),M(!1))}))}),[o,d]),G=function(){var a=Object(te.a)(ae.a.mark((function a(r){var c,i,l,u,d,O,j,E;return ae.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.preventDefault(),b(!0),I(null),m(!1),c=!1,i="",x(null),t&&n){a.next=9;break}return a.abrupt("return");case 9:return l=n.getElement($r.CardElement),a.next=12,t.createPaymentMethod({type:"card",card:l});case 12:u=a.sent,d=u.error,O=u.paymentMethod,d?(x(d.message),c=!0):i=O.id,j="individual"===s?"updateIndividualPaymentMethod":"updateTeamPaymentMethod",c?b(!1):(E=Object(be.a)(),Object(be.b)(E,j)({teamId:o||!1,paymentMethodId:i}).then((function(t){if(!t.data.success)throw new Error("Unable to update. Please contact us");m(!0),b(!1),Ve.info("The payment method has been successfully updated."),"individual"===s?Ue(e,!0,!0):ve(e,o)})).catch((function(e){b(!1),I(e.message)})));case 18:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(c.useEffect)((function(){return"team"===s?k():"individual"===s&&(U(!0),M(!1)),function(){a.current=!1}}),[s,k]),Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)("div",{className:"card-deck mb-3",children:Object(C.jsx)("div",{className:"card has-no-box-shadow",children:Object(C.jsxs)("div",{className:"card-body",children:[T&&Object(C.jsx)(Kj,{type:"success",message:"The payment method has been successfully updated.",dismissible:!0,onDismiss:function(){return m(!1)}}),null!==_&&Object(C.jsx)(Kj,{type:"danger",message:_,dismissible:!0,onDismiss:function(){return I(null)}}),w?Object(C.jsx)(Se,{}):y?Object(C.jsx)("div",{className:"row justify-content-md-center",children:Object(C.jsxs)("div",{className:"col col-sm-12 col-md-8 col-lg-8 col-xl-6",children:[Object(C.jsx)("div",{className:"card-deck",children:Object(C.jsxs)("div",{className:"card mb-4",children:[Object(C.jsx)("div",{className:"card-header text-center",children:"Credit or debit card"}),Object(C.jsx)("div",{className:"card-body",children:Object(C.jsx)("div",{className:"row justify-content-md-center",children:Object(C.jsxs)("div",{className:"col col-12",children:[null!==R&&Object(C.jsx)(Kj,{type:"danger",message:R,dismissible:!0,onDismiss:function(){return x(null)}}),Object(C.jsx)($r.CardElement,{})]})})})]})}),Object(C.jsx)(It.a,{type:"primary",loading:!!E,onClick:G,icon:Object(C.jsx)(ml.a,{}),children:"Save"})]})}):Object(C.jsxs)(Wj.a,{style:{background:"transparent"},className:"text-center",children:[Object(C.jsx)("p",{children:"Only the team owner can update the payment method."}),Object(C.jsxs)("p",{children:["Need help? Contact us at"," ",Object(C.jsx)("a",{href:"mailto:"+p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL,children:p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})]})]})]})})})})},zj=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){n||a(Object(ec.a)(p.CONFIG.stripeConfig.publishableKey))}),[n]),Object(C.jsx)(Nt.a,{className:"primary-card",title:"Update Payment Method",children:Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:4,offset:10,align:"center",children:!1!==n?Object(C.jsx)($r.Elements,{stripe:n,children:Object(C.jsx)(Qj,{})}):null})})})},Xj=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ht,{component:zj})})},Jj=function(){return Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(Nt.a,{className:"primary-card",title:null,children:Object(C.jsx)(Oe.a,{children:Object(C.jsx)(oe.a,{align:"center",children:Object(C.jsx)(je.a,{className:"shadow",children:Object(C.jsx)(Ee.a,{children:Object(C.jsx)(Oe.a,{children:Object(C.jsx)(oe.a,{lg:"12",md:"12",className:"text-center",children:Object(C.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:Object(C.jsxs)("p",{className:"lead",children:["For subscription updates, cancellations, or refunds, please write to us at"," ",Object(C.jsx)("a",{href:"mailto:".concat(p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),children:p.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})," ","and we'll revert you within 4-5 hours."]})})})})})})})})})})},Zj=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ht,{component:Jj})})},$j=n(419),eE=function(e){return Object(C.jsx)(Zt.a,{className:"modal-dialog-centered ",visible:e.isOpen,onCancel:e.toggle,footer:Object(C.jsx)(It.a,{color:"primary",type:"button",onClick:e.action,children:"Continue"}),children:Object(C.jsx)("div",{className:"modal-body one-padding-top zero-padding-bottom",children:Object(C.jsx)(Ct.a,{className:"one-padding-bottom  my-auto",children:Object(C.jsx)(gt.a,{className:"my-auto",children:Object(C.jsx)("p",{children:"This requires existing instance of browser to be closed. Please save your work and click Continue to relaunch it."})})})})})},tE=n(1043),nE=Ei.a.Meta,aE=function(){var e=Object(c.useContext)(Z),t=e.state,n=e.dispatch,a=ot(t),r=Object(c.useState)({}),s=Object(u.a)(r,2),o=s[0],d=s[1],O=Object(c.useState)(!1),E=Object(u.a)(O,2),b=E[0],p=E[1],S=Object(c.useState)(!1),h=Object(u.a)(S,2),T=h[0],m=h[1],f=a.appsList,A=a.availableAppsScanned,R=a.isBackgroundProcessActive,x=a.isProxyServerRunning,N=a.proxyPort,g=a.proxyIp,_=Object.values(f),I=Object(c.useState)(!1),L=Object(u.a)(I,2),v=L[0],y=L[1],U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d(Object(j.a)(Object(j.a)({},o),{},{appId:!0})),window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("activate-app",{id:e,proxyPort:N,options:Object(j.a)({},t)}).then((function(t){if(d(Object(j.a)(Object(j.a)({},o),{},{appId:!1})),t.success){Ve.success("Connected ".concat(f[e].name));var a=Object(j.a)({},f);a[e].isActive=!0,n(Gt({appsListObject:a})),wa("Connected ".concat(f[e].name))}else t.metadata&&t.metadata.closeConfirmRequired?(m(e),p(!0)):(Ve.error("Unable to activate ".concat(f[e].name,". Issue reported.")),wa("Unable to activate ".concat(f[e].name)))})).catch((function(e){return console.log(e)}))},P=function(e,t,a){return a?t?Object(C.jsx)(It.a,{danger:!0,type:"link",icon:Object(C.jsx)(tE.a,{}),className:"btn btn-danger btn-icon btn-3  has-no-box-shadow",onClick:function(){return function(e){d(Object(j.a)(Object(j.a)({},o),{},{appId:!0})),window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("deactivate-app",{id:e,proxyPort:N}).then((function(t){if(d(Object(j.a)(Object(j.a)({},o),{},{appId:!1})),t.success){Ve.info("Disconnected ".concat(f[e].name));var a=Object(j.a)({},f);a[e].isActive=!1,n(Gt({appsListObject:a})),wa("Disconnected ".concat(f[e].name))}else Ve.error("Unable to deactivate ".concat(f[e].name,". Issue reported."))})).catch((function(e){return console.log(e)}))}(e)},children:"Close"}):Object(C.jsx)(It.a,{type:"secondary",icon:Object(C.jsx)(ws.a,{}),onClick:function(){return U(e)},loading:o[e],children:"Open"}):Object(C.jsx)("span",{className:"text-primary cursor-disabled",children:"Couldn't find it on your system"})},D=function(){y(!0)},w=function(){y(!1)},M=function(){y(!1)},k=function(e){return"android"===e.id?Object(C.jsx)(It.a,{type:"secondary",icon:Object(C.jsx)(ws.a,{}),onClick:function(){return D()},children:"Open"}):e.comingSoon?(t=e.name,Object(C.jsxs)("span",{className:"text-primary cursor-disabled",children:["Support for ",t," is coming soon"]})):P(e.id,e.isActive,e.isAvailable);var t};return Object(c.useEffect)((function(){if(window.RQ&&window.RQ.DESKTOP&&R&&x&&!A){var e=[];_.forEach((function(t){t.comingSoon||e.push(t.id)})),window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("are-apps-activatable",e).then((function(e){var t=Object(j.a)({},f);Object.entries(e).forEach((function(e){return t[e[0]].isAvailable=e[1]})),n(Gt({appsListObject:t,availableAppsScanned:!0}))})).catch((function(e){return console.error(e.message)}))}}),[x,R,A,_,f,n]),A?Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Zt.a,{title:"Steps to setup Android",visible:v,onOk:w,onCancel:M,width:"50%",children:Object(C.jsxs)($j.a,{direction:"vertical",current:1,children:[Object(C.jsx)($j.a.Step,{title:"Configure Wifi Proxy on Android device",status:"process",description:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsxs)("p",{children:["Settings > Wi-Fi > Select current Wi-Fi > Configure Proxy"," "]}),Object(C.jsx)("p",{children:"Configuration:"}),Object(C.jsxs)("p",{children:["Host: ",g]}),Object(C.jsxs)("p",{children:["Port: ",N]})]})}),Object(C.jsx)($j.a.Step,{title:"Download certificate",status:"process",description:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("p",{children:"Open Google Web Browser on Android devices"}),Object(C.jsx)("p",{children:"Navigate to : requestly.io/ssl (Download will start automatically)"})]})}),Object(C.jsx)($j.a.Step,{title:"Trust RequestlyCA Certificate in Settings app",status:"process",description:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("p",{children:"Settings -> Security -> Encryption & Credentials -> Install a Certificate -> CA Certificate"}),Object(C.jsx)("p",{children:'Select "Install Anyway" and select "RequestlyCA.pem.crt Certificate" that you downloaded from Step 3'}),Object(C.jsx)("p",{children:"Verify that RequestlyCA Certificate is on Trusted Credentials"})]})}),Object(C.jsx)($j.a.Step,{title:"Enjoy Intercepting",status:"process"})]})})}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,align:"center",children:Object(C.jsxs)("p",{className:"text-center lead",children:["Connect your system apps to Requestly. After connecting the required app, click ",Object(C.jsx)(l.b,{to:W.PATHS.RULES.RELATIVE,children:"here"})," ","to setup Rules."]})})}),Object(C.jsx)("br",{}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,align:"center",children:Object(C.jsx)(_t.b,{align:"center",wrap:!0,children:_.sort((function(e,t){return e.comingSoon===t.comingSoon?0:e.comingSoon?1:-1})).sort((function(e,t){return e.isAvailable===t.isAvailable?0:e.isAvailable?-1:1})).map((function(e){return function(e){return Object(C.jsx)(Ei.a,{style:{width:300},actions:[Object(C.jsx)("p",{children:k(e)})],children:Object(C.jsx)(nE,{avatar:Object(C.jsx)(Jr.a,{src:window.location.origin+"/assets/img/thirdPartyAppIcons/"+e.icon}),title:e.name,description:e.description})},e.id)}(e)}))})})}),Object(C.jsx)("br",{}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,align:"center",children:Object(C.jsxs)(tn.a.Title,{level:5,children:["Couldn't find required app? To manually set proxy and install certificate"," ",Object(C.jsx)(l.b,{to:W.PATHS.DESKTOP.MANUAL_SETUP.RELATIVE,children:Object(C.jsx)(It.a,{type:"primary",children:"Click Here"})})," "]})})}),b?Object(C.jsx)(eE,{isOpen:b,toggle:function(){b?(m(!1),p(!1)):p(!0)},action:function(){T&&(p(!1),U(T,{closeConfirmed:!0}))}}):null]}):Object(C.jsx)(Ct.a,{children:Object(C.jsx)(Se,{customLoadingMessage:"Searching system apps"})})},rE=function(){var e=Object(re.g)(),t=Object(c.useContext)(Z).state,n=st(t),a=ot(t).isBackgroundProcessActive;return n===p.CONSTANTS.APP_MODES.EXTENSION&&Ae(e),a?Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(Nt.a,{className:"primary-card",children:Object(C.jsx)(aE,{})})}):Object(C.jsx)(Se,{customLoadingMessage:"Loading background process"})},cE=function(){return Object(C.jsx)(rE,{})},iE=(n(963),n(342)),sE=n(90),oE=n(61),lE=function(e){return Object(C.jsxs)(_t.b,{style:{backgroundColor:"whitesmoke",width:"100%"},children:[Object(C.jsx)("div",{style:{display:"flex",marginLeft:"4px"},children:Object(C.jsx)(no.a,{onClick:e.handleClosePane,style:{alignSelf:"center",margin:"0"}})}),Object(C.jsx)(Fa.a,{count:e.method,style:{backgroundColor:"grey"}}),Object(C.jsx)(Fa.a,{overflowCount:699,count:e.statusCode,style:{backgroundColor:"#87d068"}}),Object(C.jsx)("span",{style:{fontSize:"0.9rem",wordBreak:"break-all"},children:e.url})]})},uE=function(e){var t=Object.entries(e.data).filter((function(e){return"headers"!==e[0]})),n=e.data.headers;return Object(C.jsxs)(sE.a,{children:[Object(C.jsx)(sE.a.Controls,{children:Object(C.jsxs)(sE.a.TabList,{children:[Object(C.jsx)(sE.a.Tab,{id:e.title,children:Object(C.jsxs)("span",{style:{backgroundColor:"whitesmoke",fontWeight:"bold",color:"black",fontSize:"0.9rem"},children:[e.title+" Details"," "]})}),Object(C.jsx)(sE.a.Tab,{id:"Headers",children:"Headers"})]})}),Object(C.jsxs)(sE.a.Panels,{children:[Object(C.jsx)(sE.a.Panel,{children:Object(C.jsx)("div",{style:{maxHeight:"600px"},children:Object(C.jsxs)(oE.a,{children:[Object(C.jsx)(oE.a.Head,{children:Object(C.jsxs)(oE.a.Row,{children:[Object(C.jsx)(oE.a.HeadCell,{children:"Property"}),Object(C.jsx)(oE.a.HeadCell,{children:"Value"})]})}),Object(C.jsx)(oE.a.Body,{children:t.map((function(e,t){var n=Object(u.a)(e,2),a=n[0],r=n[1];return Object(C.jsxs)(oE.a.Row,{id:t,children:[Object(C.jsx)(oE.a.Cell,{style:{textTransform:"capitalize"},children:a}),Object(C.jsx)(oE.a.Cell,{children:r})]},t)}))})]})})}),Object(C.jsx)(sE.a.Panel,{children:Object(C.jsx)("div",{style:{maxHeight:"600px"},children:Object(C.jsxs)(oE.a,{children:[Object(C.jsx)(oE.a.Head,{children:Object(C.jsxs)(oE.a.Row,{children:[Object(C.jsx)(oE.a.HeadCell,{children:"Key"}),Object(C.jsx)(oE.a.HeadCell,{children:"Value"})]})}),Object(C.jsx)(oE.a.Body,{children:Object.entries(n).map((function(e,t){var n=Object(u.a)(e,2),a=n[0],r=n[1];return Object(C.jsxs)(oE.a.Row,{id:t,children:[Object(C.jsx)(oE.a.Cell,{children:a}),Object(C.jsx)(oE.a.Cell,{children:r})]},t)}))})]})})})]})]})},dE=function(e){var t=e.selectedRequestData,n=e.handleClosePane,a=e.visibility;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(iE.a,{title:Object(C.jsx)(lE,{url:t.url,method:t.request.method,statusCode:t.response.statusCode,handleClosePane:n}),placement:"right",onClose:n,visible:a,width:"50%",destroyOnClose:!0,extra:!1,closable:!1,children:Object(C.jsxs)("div",{className:"previewData",children:[Object(C.jsx)("div",{style:{width:"50%"},children:Object(C.jsx)(uE,{data:t.request,title:"Request"})}),Object(C.jsx)(Fl.a,{type:"vertical",style:{height:"auto"}}),Object(C.jsx)("div",{style:{width:"50%"},children:Object(C.jsx)(uE,{data:t.response,title:"Response"})})]})})})},OE=function(){return Object(C.jsx)("div",{children:Object(C.jsx)("center",{children:Object(C.jsx)("h2",{style:{margin:"2rem"},children:"Couldn`t find any URL matching the given keyword."})})})},jE=function(e){var t=e.handleOnSearchChange,n=e.groupByParameter,a=e.handleOnGroupParameterChange;return Object(C.jsx)(Ct.a,{align:"middle",style:{marginBottom:6,marginTop:6,padding:3},children:Object(C.jsxs)(_t.b,{direction:"horizontal",children:[Object(C.jsx)(gt.a,{children:Object(C.jsx)(tn.a.Text,{strong:!0,children:"Group by:"})}),Object(C.jsx)(gt.a,{children:Object(C.jsxs)(Xs.a.Group,{onChange:a,value:n,children:[Object(C.jsx)(Xs.a,{value:"app",children:"App Name"}),Object(C.jsx)(Xs.a,{value:"domain",children:"Domain"}),Object(C.jsx)(Xs.a,{value:"none",children:"None"})]})}),Object(C.jsx)(gt.a,{children:Object(C.jsx)(Jt.a.Search,{placeholder:"Input Search Keyword",onChange:t,style:{width:300}})})]})})},EE=n(532),bE=n.n(EE),pE=function(e){var t=new Set,n={};e.forEach((function(e){var a=e.request.host;t.add(a),a in n||(n[a]=[]),n[a].push(e)}));var a=[];return t.forEach((function(e){a.push({domain:e})})),{domainArray:a,domainLogs:n}},SE=function(e){var t=new Set,n={};e.forEach((function(e){var a=e.request.headers["user-agent"];if(a){var r=hE(a);t.add(r),r in n||(n[r]=[]),n[r].push(e)}}));var a=[];return t.forEach((function(e){a.push({appName:e})})),{appArray:a,appLogs:n}},hE=function(e){var t=bE()(e).browser;return"Electron"===t.name?e.split(")")[2].split("/")[0]:t.name?t.name:e.split("/")[0]},TE=[{title:"Time",dataIndex:"timestamp",defaultSortOrder:"descend",align:"center",width:100,responsive:["xs","sm"]},{title:"URL",dataIndex:"url",width:620,ellipsis:!0,responsive:["xs","sm"]},{title:"Method",dataIndex:["request","method"],sorter:function(e,t){return e.request.method.length-t.request.method.length},align:"center",sortDirections:["ascend","descend"],responsive:["xl"]},{title:"Content-Type",dataIndex:["response","contentType"],align:"center",responsive:["xxl"]}],mE=function(e){var t=e.requestsLog,n=e.handleRowClick;return Object(C.jsx)(Ya.a,{columns:TE,dataSource:t,rowKey:function(e){return e.id},showSorterTooltip:!1,sticky:!0,size:"small",pagination:!1,scroll:{y:600},onRow:function(e){return{onClick:function(){return n(e)}}},locale:{emptyText:"No Traffic Intercepted"},search:!1,options:!1,style:{cursor:"pointer"}})},fE=[{title:"Domain Name",dataIndex:"domain",key:"domain",render:function(e){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Jr.a,{size:"small",src:"https://www.google.com/s2/favicons?domain=".concat(e)}),Object(C.jsxs)("span",{children:[" ",e]})]})}}],AE=function(e){var t=e.domain,n=e.domainLogs,a=e.handleRowClick;return Object(C.jsx)(mE,{requestsLog:n[t],handleRowClick:a})},RE=function(e){var t=e.domainArray,n=e.domainLogs,a=e.handleRowClick;return Object(C.jsx)(Ya.a,{columns:fE,dataSource:t,rowKey:function(e){return e.domain},pagination:!1,scroll:{y:600},expandable:{expandedRowRender:function(e){return Object(C.jsx)(AE,{domain:e.domain,domainLogs:n,handleRowClick:a})},expandRowByClick:!0},locale:{emptyText:"No Traffic Intercepted"},search:!1,options:!1,style:{cursor:"pointer"}})},xE={chrome:"chrome.com",firefox:"firefox.com",edge:"edge.com",github:"github.com",git:"git-scm.com",code:"code.visualstudio.com",vscode:"code.visualstudio.com","code-insiders":"code.visualstudio.com","visual-studio-code":"code.visualstudio.com","android Studio":"android.com",slack:"slack.com",docker:"docker.com",postman:"postman.com",outlook:"outlook.com",notion:"notion.com","google drive":"drive.google.com",insomnia:"insomnia.rest",intellij:"jetbrains.com",pycharm:"jetbrains.com",goland:"jetbrains.com",datagrip:"jetbrains.com"},NE=xE,CE=[{title:"App Name",dataIndex:"appName",key:"appName",render:function(e){e=e.trim();var t=NE[e.split(" ")[0].toLowerCase()],n="https://www.google.com/s2/favicons?domain=".concat(t);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Jr.a,{size:"small",src:n}),Object(C.jsxs)("span",{children:[" ",e]})]})}}],gE=function(e){var t=e.appName,n=e.appLogs,a=e.handleRowClick;return Object(C.jsx)(mE,{requestsLog:n[t],handleRowClick:a})},_E=function(e){var t=e.appArray,n=e.appLogs,a=e.handleRowClick;return Object(C.jsx)(Ya.a,{columns:CE,dataSource:t,rowKey:function(e){return e.appName},pagination:!1,scroll:{y:600},expandable:{expandedRowRender:function(e){return Object(C.jsx)(gE,{appName:e.appName,appLogs:n,handleRowClick:a})},expandRowByClick:!0},locale:{emptyText:"No Traffic Intercepted"},options:!1,search:!1,style:{cursor:"pointer"}})},IE=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(u.a)(r,2),o=s[0],l=s[1],d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)({}),S=Object(u.a)(b,2),h=S[0],T=S[1],m=Object(c.useState)(!1),f=Object(u.a)(m,2),A=f[0],R=f[1],x=Object(c.useState)(""),N=Object(u.a)(x,2),g=N[0],_=N[1],I=Object(c.useState)("none"),L=Object(u.a)(I,2),v=L[0],y=L[1],U=Object(c.useState)([]),P=Object(u.a)(U,2),D=P[0],w=P[1],M=Object(c.useState)({}),k=Object(u.a)(M,2),G=k[0],F=k[1],B=Object(c.useState)([]),V=Object(u.a)(B,2),Y=V[0],H=V[1],K=Object(c.useState)({}),q=Object(u.a)(K,2),W=q[0],Q=q[1],z=function(e){T(e),E(!0),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.DESKTOP_APP,p.CONSTANTS.GA_EVENTS.ACTIONS.TRAFFIC_TABLE_MODIFIED,"Traffic Table Modified")},X=[];if(h.timestamp){X=[{property:"Time",value:h.timestamp},{property:"Method",value:h.request.method},{property:"Status Code",value:h.response.statusCode},{property:"Path",value:h.request.path},{property:"Host",value:h.request.host},{property:"Port",value:h.request.port},{property:"REQUEST HEADERS",value:""}];for(var J=0,Z=Object.entries(h.request.headers);J<Z.length;J++){var $=Object(u.a)(Z[J],2),ee={property:$[0],value:$[1]};X.push(ee)}X.push({property:"RESPONSE HEADERS",value:""});for(var te=0,ne=Object.entries(h.response.headers);te<ne.length;te++){var ae=Object(u.a)(ne[te],2),re={property:ae[0],value:ae[1]};X.push(re)}}return Object(c.useEffect)((function(){return window.RQ&&window.RQ.DESKTOP&&(window.RQ.DESKTOP.SERVICES.IPC.invokeEventInMain("get-current-network-logs").then((function(e){return a(e)})),window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("enable-request-logger").then((function(){window.RQ.DESKTOP.SERVICES.IPC.registerEvent("log-network-request",(function(e){a(e)}))}))),function(){window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("disable-request-logger").then((function(){window.RQ.DESKTOP.SERVICES.IPC.unregisterEvent("log-network-request")}))}}),[]),Object(c.useEffect)((function(){if("domain"===v){var e=pE(g?o:n),t=e.domainArray,a=e.domainLogs;w(t),F(a)}else if("app"===v){var r=SE(g?o:n),c=r.appArray,i=r.appLogs;H(c),Q(i)}va(p.CONSTANTS.GA_EVENTS.CATEGORIES.DESKTOP_APP,p.CONSTANTS.GA_EVENTS.ACTIONS.TRAFFIC_TABLE_VIEWED,"Traffic Table Viewed")}),[n,g,o,v]),Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)(jE,{handleOnSearchChange:function(e){var t=e.target.value;_(t);var a=new RegExp(t,"i"),r=n.filter((function(e){return e.url.match(a)}));0===r.length?R(!0):(R(!1),l(r)),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.DESKTOP_APP,p.CONSTANTS.GA_EVENTS.ACTIONS.TRAFFIC_TABLE_MODIFIED,"Traffic Table Modified")},handleOnGroupParameterChange:function(e){y(e.target.value),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.DESKTOP_APP,p.CONSTANTS.GA_EVENTS.ACTIONS.TRAFFIC_TABLE_MODIFIED,"Traffic Table Modified")},groupByParameter:v}),A?Object(C.jsx)(OE,{}):"domain"===v?Object(C.jsx)(RE,{domainArray:D,domainLogs:G,handleRowClick:z}):"app"===v?Object(C.jsx)(_E,{appArray:Y,appLogs:W,handleRowClick:z}):Object(C.jsx)(mE,{requestsLog:g?o:n,handleRowClick:z}),j?Object(C.jsx)(dE,{handleClosePane:function(){E(!1)},selectedRequestData:h,visibility:j}):null]})},LE=(n(970),p.CONSTANTS.APP_MODES.DESKTOP),vE=W.RULE_TYPES_CONFIG,yE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t||(t="".concat(e,"_").concat(En()));var n={creationDate:jn(),description:"",groupId:"",id:t,isSample:!1,name:t,objectType:p.CONSTANTS.OBJECT_TYPES.RULE,pairs:[],ruleType:e,status:p.CONSTANTS.RULE_STATUS.ACTIVE};return n},UE=function(e,t){var n=p.CONSTANTS.RULE_TYPES.RESPONSE,a=Object(j.a)(Object(j.a)({},vE[n].EMPTY_PAIR_FORMAT),{},{id:En()});return a.source.value=e,a.response.value=t,a},PE=function(e){var t=e.actions,n=Object(re.g)(),a=function(e){return e?Object(C.jsx)(Ec.a,{title:e.rule_id,children:Object(C.jsx)("span",{style:{paddingRight:"8px",cursor:"pointer"},onClick:function(){return t=e.rule_id,void n.push("".concat(R.RULE_EDITOR.EDIT_RULE.RELATIVE,"/").concat(t));var t},children:_[e.rule_type].ICON()})}):null},r=function(e){return e.map((function(e){return{rule_type:e.rule_type,rule_id:e.rule_id}}))}(t),c=function(e){var t=[];return e.filter((function(e){return!t.includes(e.rule_id)&&(t.push(e.rule_id),!0)}))}(r);return Object(C.jsx)(C.Fragment,{children:c.map((function(e){return a(e)}))})},DE=n(533),wE=function(e){var t=e.data,n=(e.updateAllowed,e.setCurrentData),a=e.setIsValid,r=Object(c.useRef)(null);Object(c.useEffect)((function(){if(r){var e=JSON.parse(t);r.current.update(e)}}),[r,t]);if(!t)return Object(C.jsx)("h3",{children:"Not a valid json"});try{var i=JSON.parse(t);return Object(C.jsx)(DE.a,{ref:function(e){r.current=e?e.jsonEditor:null},value:i,onChange:function(e){n(JSON.stringify(e))},allowedModes:["tree","text"],mode:"tree",search:!1,onEditable:function(){return!0},htmlElementProps:{style:{height:"95%"}},onValidationError:function(e){e&&e.length>0?a(!1):a(!0)}})}catch(s){return Object(C.jsx)("h3",{children:"Not a valid json"})}},ME=["application/json"],kE=function(e){var t=e.data,n=e.type,a=e.url,r=e.actions,i=e.log_id,s=e.upsertRequestAction,o=Object(c.useState)(!0),l=Object(u.a)(o,2),d=l[0],O=l[1],j=Object(c.useState)(!1),E=Object(u.a)(j,2),b=E[0],S=E[1],h=Object(c.useState)(!0),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useState)(t),R=Object(u.a)(A,2),x=R[0],N=R[1],g=function(){return r.filter((function(e){return e.rule_type===p.CONSTANTS.RULE_TYPES.RESPONSE}))},_=function(){var e,t=g();if(0===t.length){var n=function(e,t){var n=p.CONSTANTS.RULE_TYPES.RESPONSE,a=yE(n);return a.pairs.push(UE(e,t)),Au(LE,0,a),a}(a,x);s(i,(e=n.id,{rule_type:p.CONSTANTS.RULE_TYPES.RESPONSE,rule_id:e})),Ve.success("Rule Created Successfully")}else!function(e,t,n){var a=p.CONSTANTS.RULE_TYPES.RESPONSE,r=yE(a,e);r.pairs.push(UE(t,n)),Au(LE,0,r)}(t[0].rule_id,a,x),Ve.success("Rule Modified Successfully")};Object(c.useEffect)((function(){Te.a.isEqual(t,x)?S(!1):S(!0)}),[t,x]);var I=function(){var e=g();return e&&e.length>0?Object(C.jsxs)(As.a,{color:"green",children:["Modified By\xa0",Object(C.jsx)(PE,{actions:g()})]}):null},L=function(){var e=null;return e=d?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(It.a,{type:"primary",style:{marginRight:8},disabled:!b||!m,onClick:function(){_()},children:"Save"}),Object(C.jsx)(It.a,{type:"danger",style:{marginRight:8},onClick:function(){N(t)},children:"Cancel"})]}):Object(C.jsx)(It.a,{type:"primary",onClick:function(){O(!0)},style:{marginRight:8},children:"Modify Response"}),Object(C.jsxs)("div",{style:{position:"absolute",bottom:20},children:[e,I()]})};return t&&ME.indexOf(n)>=0?Object(C.jsxs)(C.Fragment,{children:[L(),Object(C.jsx)(wE,{data:x,updateAllowed:d,setCurrentData:N,setIsValid:f}),L()]}):Object(C.jsx)("h3",{children:"Preview not available"})},GE=["headers","body"],FE=function(e){var t,n=e.data;return n?(t=n,Object(C.jsxs)(oE.a,{children:[Object(C.jsx)(oE.a.Head,{children:Object(C.jsxs)(oE.a.Row,{children:[Object(C.jsx)(oE.a.HeadCell,{children:"Property"}),Object(C.jsx)(oE.a.HeadCell,{children:"Value"})]})}),Object(C.jsx)(oE.a.Body,{children:Object.keys(t).filter((function(e){return GE.indexOf(e)<0})).map((function(e,n){return Object(C.jsxs)(oE.a.Row,{id:n,children:[Object(C.jsx)(oE.a.Cell,{style:{textTransform:"capitalize"},children:e}),Object(C.jsx)(oE.a.Cell,{children:t[e]})]},n)}))})]})):Object(C.jsx)("h3",{children:"Summary not available"})},BE=function(e){return Object(C.jsxs)(_t.b,{style:{backgroundColor:"whitesmoke",width:"100%"},children:[Object(C.jsx)("div",{style:{display:"flex",marginLeft:"4px"},children:Object(C.jsx)(no.a,{onClick:e.handleClosePane,style:{alignSelf:"center",margin:"0"}})}),Object(C.jsx)(Fa.a,{count:e.method,style:{backgroundColor:"grey"}}),Object(C.jsx)(Fa.a,{overflowCount:699,count:e.statusCode,style:{backgroundColor:"#87d068"}}),Object(C.jsx)("span",{style:{fontSize:"0.9rem",wordBreak:"break-all"},children:e.url})]})},VE=function(e){var t=e.log_id,n=e.upsertRequestAction,a=e.data,r=e.data.headers,c=e.data&&e.data.body,i=e.url,s=e.actions;return Object(C.jsxs)(sE.a,{children:[Object(C.jsx)(sE.a.Controls,{children:Object(C.jsxs)(sE.a.TabList,{children:[Object(C.jsx)(sE.a.Tab,{id:e.title,children:Object(C.jsxs)("span",{style:{backgroundColor:"whitesmoke",fontWeight:"bold",color:"black",fontSize:"0.9rem"},children:[e.title+" Details"," "]})}),Object(C.jsx)(sE.a.Tab,{id:"Headers",children:"Headers"}),Object(C.jsx)(sE.a.Tab,{id:"Body",children:"Body"}),Object(C.jsx)(sE.a.Tab,{id:"Preview",children:"Preview"})]})}),Object(C.jsxs)(sE.a.Panels,{children:[Object(C.jsx)(sE.a.Panel,{children:Object(C.jsx)("div",{style:{overflowY:"scroll",height:"400px"},children:Object(C.jsx)(FE,{data:a})})}),Object(C.jsx)(sE.a.Panel,{children:Object(C.jsx)("div",{style:{overflowY:"scroll",height:"400px"},children:Object(C.jsxs)(oE.a,{children:[Object(C.jsx)(oE.a.Head,{children:Object(C.jsxs)(oE.a.Row,{children:[Object(C.jsx)(oE.a.HeadCell,{children:"Key"}),Object(C.jsx)(oE.a.HeadCell,{children:"Value"})]})}),Object(C.jsx)(oE.a.Body,{children:Object.entries(r).map((function(e,t){var n=Object(u.a)(e,2),a=n[0],r=n[1];return Object(C.jsxs)(oE.a.Row,{id:t,children:[Object(C.jsx)(oE.a.Cell,{children:a}),Object(C.jsx)(oE.a.Cell,{children:r})]},t)}))})]})})}),Object(C.jsx)(sE.a.Panel,{children:Object(C.jsx)("div",{style:{overflowY:"scroll",height:"400px"},children:c||Object(C.jsx)("h3",{children:"The request has no body available"})})}),Object(C.jsx)(sE.a.Panel,{children:Object(C.jsx)("div",{style:{overflowY:"scroll",height:"400px"},children:Object(C.jsx)(kE,{data:c,type:a.contentType,url:i,actions:s,log_id:t,upsertRequestAction:n})})})]})]})},YE=function(e){var t=e.selectedRequestData,n=e.handleClosePane,a=e.visibility,r=e.upsertRequestAction;return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(iE.a,{title:Object(C.jsx)(BE,{url:t.url,method:t.request.method,statusCode:t.response.statusCode,handleClosePane:n}),placement:"bottom",onClose:n,visible:a,height:"60%",destroyOnClose:!0,extra:!1,closable:!1,bodyStyle:{overflow:"hidden",maxHeight:"90%"},children:Object(C.jsxs)("div",{className:"previewData",children:[Object(C.jsx)("div",{style:{width:"50%"},children:Object(C.jsx)(VE,{log_id:t.id,url:t.url,data:t.request,title:"Request",actions:t.actions,upsertRequestAction:r})}),Object(C.jsx)(Fl.a,{type:"vertical",style:{height:"auto"}}),Object(C.jsx)("div",{style:{width:"50%"},children:Object(C.jsx)(VE,{log_id:t.id,url:t.url,data:t.response,title:"Response",actions:t.actions,upsertRequestAction:r})})]})})})},HE=function(e){var t=e.handleOnSearchChange,n=e.groupByParameter,a=e.handleOnGroupParameterChange,r=e.clearLogs;return Object(C.jsx)(Ct.a,{align:"middle",style:{marginBottom:6,marginTop:6,padding:3,paddingLeft:"24px",paddingRight:"24px"},children:Object(C.jsxs)(_t.b,{direction:"horizontal",children:[Object(C.jsx)(gt.a,{children:Object(C.jsx)(tn.a.Text,{strong:!0,children:"Group by:"})}),Object(C.jsx)(gt.a,{children:Object(C.jsxs)(Xs.a.Group,{onChange:a,value:n,children:[Object(C.jsx)(Xs.a,{value:"app",children:"App Name"}),Object(C.jsx)(Xs.a,{value:"domain",children:"Domain"}),Object(C.jsx)(Xs.a,{value:"none",children:"None"})]})}),Object(C.jsx)(gt.a,{children:Object(C.jsx)(Jt.a.Search,{placeholder:"Input Search Keyword",onChange:t,style:{width:300}})}),Object(C.jsx)(gt.a,{children:Object(C.jsx)(It.a,{type:"primary",shape:"circle",icon:Object(C.jsx)(Cc.a,{}),onClick:function(){return r()}})})]})})},KE=[{title:"Time",dataIndex:"timestamp",defaultSortOrder:"descend",align:"center",width:100,responsive:["xs","sm"],renderText:function(e){return new Date(1e3*e).toLocaleTimeString()}},{title:"URL",dataIndex:"url",width:620,ellipsis:!0,responsive:["xs","sm"]},{title:"Method",dataIndex:["request","method"],sorter:function(e,t){return e.request.method.length-t.request.method.length},align:"center",sortDirections:["ascend","descend"],responsive:["xl"]},{title:"Content-Type",dataIndex:["response","contentType"],align:"center",responsive:["xxl"]},{title:"Rules Applied",dataIndex:["actions"],align:"center",responsive:["xl"],render:function(e){return e&&"-"!==e&&0!==e.length?Object(C.jsx)(PE,{actions:e}):"-"}}],qE=function(e){var t=e.requestsLog,n=e.handleRowClick;return Object(C.jsx)(Ya.a,{columns:KE,dataSource:t,rowKey:function(e){return e.id},showSorterTooltip:!1,sticky:!0,size:"small",pagination:!1,scroll:{y:600},onRow:function(e){return{onClick:function(){return n(e)}}},locale:{emptyText:"No Traffic Intercepted"},search:!1,options:!1,style:{cursor:"pointer"}})},WE=[{title:"Domain Name",dataIndex:"domain",key:"domain",render:function(e){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Jr.a,{size:"small",src:"https://www.google.com/s2/favicons?domain=".concat(e)}),Object(C.jsxs)("span",{children:[" ",e]})]})}}],QE=function(e){var t=e.domain,n=e.domainLogs,a=e.handleRowClick;return Object(C.jsx)(qE,{requestsLog:n[t],handleRowClick:a})},zE=function(e){var t=e.domainList,n=e.domainLogs,a=e.handleRowClick;return Object(C.jsx)(Ya.a,{columns:WE,dataSource:t,rowKey:function(e){return e.domain},pagination:!1,scroll:{y:600},expandable:{expandedRowRender:function(e){return Object(C.jsx)(QE,{domain:e.domain,domainLogs:n,handleRowClick:a})},expandRowByClick:!0},locale:{emptyText:"No Traffic Intercepted"},search:!1,options:!1,style:{cursor:"pointer"}})},XE={chrome:"chrome.com",firefox:"firefox.com",edge:"edge.com",github:"github.com",git:"git-scm.com",code:"code.visualstudio.com",vscode:"code.visualstudio.com","code-insiders":"code.visualstudio.com","visual-studio-code":"code.visualstudio.com","android Studio":"android.com",slack:"slack.com",docker:"docker.com",postman:"postman.com",outlook:"outlook.com",notion:"notion.com","google drive":"drive.google.com",insomnia:"insomnia.rest",intellij:"jetbrains.com",pycharm:"jetbrains.com",goland:"jetbrains.com",datagrip:"jetbrains.com"},JE=XE,ZE=[{title:"App Name",dataIndex:"appName",key:"appName",render:function(e){e=e.trim();var t=JE[e.split(" ")[0].toLowerCase()],n="https://www.google.com/s2/favicons?domain=".concat(t);return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Jr.a,{size:"small",src:n}),Object(C.jsxs)("span",{children:[" ",e]})]})}}],$E=function(e){var t=e.appName,n=e.appLogs,a=e.handleRowClick;return Object(C.jsx)(qE,{requestsLog:n[t],handleRowClick:a})},eb=function(e){var t=e.appList,n=e.appLogs,a=e.handleRowClick;return Object(C.jsx)(Ya.a,{columns:ZE,dataSource:t,rowKey:function(e){return e.appName},pagination:!1,scroll:{y:600},expandable:{expandedRowRender:function(e){return Object(C.jsx)($E,{appName:e.appName,appLogs:n,handleRowClick:a})},expandRowByClick:!0},locale:{emptyText:"No Traffic Intercepted"},options:!1,search:!1,style:{cursor:"pointer"}})},tb=function(){var e=Object(c.useState)({}),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(u.a)(r,2),o=s[0],l=s[1],d=Object(c.useState)({}),O=Object(u.a)(d,2),E=O[0],b=O[1],S=Object(c.useState)(""),h=Object(u.a)(S,2),T=h[0],m=h[1],f=Object(c.useState)("none"),A=Object(u.a)(f,2),R=A[0],x=A[1],N=function(e){b(e),l(!0),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.DESKTOP_APP,p.CONSTANTS.GA_EVENTS.ACTIONS.TRAFFIC_TABLE_MODIFIED,"Traffic Table Modified")},g=[];if(E.timestamp){g=[{property:"Time",value:E.timestamp},{property:"Method",value:E.request.method},{property:"Status Code",value:E.response.statusCode},{property:"Path",value:E.request.path},{property:"Host",value:E.request.host},{property:"Port",value:E.request.port},{property:"REQUEST HEADERS",value:""}];for(var _=0,I=Object.entries(E.request.headers);_<I.length;_++){var L=Object(u.a)(I[_],2),v={property:L[0],value:L[1]};g.push(v)}g.push({property:"RESPONSE HEADERS",value:""});for(var y=0,U=Object.entries(E.response.headers);y<U.length;y++){var P=Object(u.a)(U[y],2),D={property:P[0],value:P[1]};g.push(D)}}var w=Object(c.useCallback)((function(e){var t=Object(j.a)({},n);t[e.id]=e,a(t)}),[n]);Object(c.useEffect)((function(){return window.RQ.DESKTOP.SERVICES.IPC.registerEvent("log-network-request",(function(e){w(e)})),function(){window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES.IPC.unregisterEvent("log-network-request")}}),[n,w]),Object(c.useEffect)((function(){return window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("enable-request-logger").then((function(){})),function(){window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("disable-request-logger").then((function(){}))}}),[]);var M=function(){var e=Object.values(n).sort((function(e,t){return t.timestamp-e.timestamp}));if(T){var t=new RegExp(T,"i"),a=e.filter((function(e){return e.url.match(t)}));return a}return e};return Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)(HE,{handleOnSearchChange:function(e){var t=e.target.value;m(t)},handleOnGroupParameterChange:function(e){x(e.target.value),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.DESKTOP_APP,p.CONSTANTS.GA_EVENTS.ACTIONS.TRAFFIC_TABLE_MODIFIED,"Traffic Table Modified")},groupByParameter:R,clearLogs:function(){a({})}}),"domain"===R?Object(C.jsx)(zE,Object(j.a)({handleRowClick:N},function(){var e=M(),t=pE(e),n=t.domainArray;return{domainLogs:t.domainLogs,domainList:n}}())):"app"===R?Object(C.jsx)(eb,Object(j.a)({handleRowClick:N},function(){var e=M(),t=SE(e),n=t.appArray;return{appLogs:t.appLogs,appList:n}}())):Object(C.jsx)(qE,{requestsLog:M(),handleRowClick:N}),o?Object(C.jsx)(YE,{handleClosePane:function(){l(!1)},selectedRequestData:E,visibility:o,upsertRequestAction:function(e,t){var r=Object(j.a)({},n);r[e].actions&&r[e].actions.push(t),a(r)}}):null]})},nb=function(){var e,t,n,a,r,c;return Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsxs)(Ct.a,{style:{paddingLeft:"24px",paddingRight:"24px"},children:[Object(C.jsx)(gt.a,{span:24,align:"left",children:Object(C.jsx)("h1",{children:"Traffic Table"})}),Object(C.jsx)(gt.a,{span:24,children:Object(C.jsx)(bo.a,{message:"To optimize performance, logger works only when this screen is open.",type:"info",showIcon:!0,closable:!0})})]}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,children:(null===(e=window)||void 0===e||null===(t=e.RQ)||void 0===t||null===(n=t.DESKTOP)||void 0===n?void 0:n.VERSION)<="0.0.18-beta"||"1.0"===(null===(a=window)||void 0===a||null===(r=a.RQ)||void 0===r||null===(c=r.DESKTOP)||void 0===c?void 0:c.VERSION)?Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(Ct.a,{style:{paddingTop:"8px",paddingLeft:"24px",paddingRight:"24px"},children:Object(C.jsx)(gt.a,{span:24,children:Object(C.jsx)(bo.a,{message:"Update the App to the latest version to enjoy improvements in network interceptor",type:"warning",showIcon:!0,closable:!0})})}),Object(C.jsx)(IE,{})]}):Object(C.jsx)(tb,{})})})]})},ab=function(){return Object(C.jsx)(Nt.a,{className:"primary-card",children:Object(C.jsx)(nb,{})})},rb=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(ab,{})})},cb=tn.a.Title,ib=function(){var e=Object(c.useContext)(Z).state,t=ot(e),n=t.isBackgroundProcessActive,a=t.isProxyServerRunning,r=t.proxyPort;return va(p.CONSTANTS.GA_EVENTS.CATEGORIES.DESKTOP_APP,p.CONSTANTS.GA_EVENTS.ACTIONS.MANUAL_SETUP_MAC,"Manual Setup Mac"),n&&a?Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{lg:"12",style:{textAlign:"center",width:"100%"},children:Object(C.jsx)(cb,{level:2,children:"Setting up system proxy"})})}),Object(C.jsx)(Ct.a,{children:Object(C.jsxs)(gt.a,{children:[Object(C.jsx)(cb,{level:5,children:"Requestly requires your applications to send their network traffic through the its local proxy server before going to their destination."}),Object(C.jsx)("p",{children:"The proxy server you set globally will be used by Safari, Google Chrome, and other applications that respect your system proxy settings. Some applications, including Mozilla Firefox, can have their own custom proxy settings independent from your system settings."})]})}),Object(C.jsx)(Ct.a,{children:Object(C.jsxs)(gt.a,{children:[Object(C.jsxs)(cb,{level:5,children:["Set your proxy settings to host 127.0.0.1 and port ",r," ","(http://127.0.0.1:",r,")"]}),Object(C.jsx)("p",{children:"Make sure to set HTTPS proxy, if you want to intercept secure traffic."})]})}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{children:Object(C.jsx)(It.a,{type:"primary",onClick:function(){return Ji()},children:"Save Certificate"})})})]}):Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{children:Object(C.jsx)(Ei.a,{className:"shadow",children:Object(C.jsx)(Ee.a,{children:Object(C.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:Object(C.jsx)("p",{children:"Proxy server is not running. Please restart the app or report to us if issue persists."})})})})})})})},sb=function(){return Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(Nt.a,{className:"primary-card",children:Object(C.jsx)(ib,{})})})},ob=function(){return Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(sb,{})})},lb=W.PATHS,ub=W.AUTH,db=[{path:lb.RULE_EDITOR.RELATIVE,name:"Rule Editor",icon:"ni ni-ui-04 text-blue",component:$O},{path:lb.ONBOARDING.RELATIVE,name:"Onboarding Status",icon:"ni ni-bullet-list-67",component:function(){return Object(C.jsx)(re.a,{to:lb.RULES.MY_RULES.ABSOLUTE})}},{path:lb.RULES.MY_RULES.ABSOLUTE,name:"Rules",icon:"fas fa-exchange-alt",component:gO},{path:lb.RULES.RELATIVE,name:"Rules",icon:"fas fa-exchange-alt",component:function(){return Object(C.jsx)(re.a,{to:lb.RULES.MY_RULES.ABSOLUTE})}},{path:lb.MARKETPLACE.RELATIVE,name:"Market",icon:"fas fa-store-alt",component:Us},{path:lb.FILES.VIEWER.RELATIVE,name:"File Viewer",icon:"ni ni-folder-17",component:ji},{path:lb.FILES.MY_FILES.ABSOLUTE,name:"Files",icon:"fas fa-folder-open",component:qc},{path:lb.FILES.RELATIVE,name:"Mock APIs",icon:"fas fa-server",component:function(){return Object(C.jsx)(re.a,{to:lb.FILES.MY_FILES.ABSOLUTE})}},{path:lb.MOCK_SERVER.VIEWER.RELATIVE,name:"Mock Server",icon:"ni ni-folder-17",component:ji},{path:lb.MOCK_SERVER.MY_MOCKS.ABSOLUTE,name:"My Mocks",icon:"fas fa-folder-open",component:qc},{path:lb.MOCK_SERVER.RELATIVE,name:"Mock Server",icon:"fas fa-server",component:function(){return Object(C.jsx)(re.a,{to:lb.MOCK_SERVER.MY_MOCKS.ABSOLUTE})}},{path:lb.SHARED_LISTS.VIEWER.RELATIVE,name:"Shared Lists Viewer",icon:"ni ni-curved-next",component:pj},{path:lb.SHARED_LISTS.MY_LISTS.ABSOLUTE,name:"Sharing",icon:"fas fa-share-alt",component:dj},{path:lb.SHARED_LISTS.RELATIVE,name:"Sharing",icon:"fas fa-share-alt",component:function(){return Object(C.jsx)(re.a,{to:lb.SHARED_LISTS.MY_LISTS.ABSOLUTE})}},{name:"Unlock Premium",icon:"ni ni-lock-circle-open text-red",component:kj,showLinkInSidebar:!1},{path:lb.REFERRAL.RELATIVE,name:"Refer Your Friends",icon:"ni ni-notification-70 text-green",component:function(){return Object(C.jsx)(re.a,{to:lb.ACCOUNT.MY_REFERRALS.ABSOLUTE})}},{path:lb.BACKUP.RELATIVE,name:"Data Backup",icon:"ni ni-archive-2 text-purple",component:function(){return Object(C.jsx)(re.a,{to:lb.ACCOUNT.MY_BACKUPS.ABSOLUTE})}},{name:"Request an Upgrade",icon:"fas fa-file-signature text-blue",component:_l,showLinkInSidebar:!1},{path:lb.PRICING.RELATIVE,name:"Pricing",icon:"ni ni-lock-circle-open text-red",component:vo},{path:lb.LICENSE.MANAGE.RELATIVE,name:"Manage License",icon:"ni ni-lock-circle-open text-red",component:Gi},{path:lb.LICENSE.RELATIVE,name:"License",icon:"ni ni-lock-circle-open text-red",component:wi},{path:lb.SETTINGS.REMOTE_RULES.RELATIVE,name:"Settings",icon:"ni ni-lock-circle-open text-red",component:Rl},{path:lb.SETTINGS.STORAGE_SETTINGS.RELATIVE,name:"Storage Settings",icon:"ni ni-lock-circle-open text-red",component:tj},{path:lb.SETTINGS.RELATIVE,name:"Settings",icon:"ni ni-lock-circle-open text-red",component:function(){return Object(C.jsx)(re.a,{to:lb.SETTINGS.STORAGE_SETTINGS.ABSOLUTE})}},{path:lb.GOODBYE.RELATIVE,name:"Goodbye",icon:"ni ni-lock-circle-open text-red",component:mi},{path:lb.ACCOUNT.TEAM.RELATIVE+"/:teamId",name:"Manage Team",icon:"ni ni-lock-circle-open text-red",component:Dj},{path:lb.ACCOUNT.MY_TEAMS.RELATIVE,icon:"ni ni-lock-circle-open text-red",component:Ds},{path:lb.ACCOUNT.PERSONAL_SUBSCRIPTION.RELATIVE,icon:"ni ni-lock-circle-open text-red",component:zs},{path:lb.ACCOUNT.UPDATE_SUBSCRIPTION.RELATIVE,icon:"ni ni-lock-circle-open text-red",component:Zj},{path:lb.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US.RELATIVE,icon:"ni ni-lock-circle-open text-red",component:Zj},{path:lb.ACCOUNT.UPDATE_PAYMENT_METHOD.RELATIVE,icon:"ni ni-lock-circle-open text-red",component:Xj},{path:lb.ACCOUNT.REFRESH_SUBSCRIPTION.RELATIVE,icon:"ni ni-lock-circle-open text-red",component:hl},{path:lb.ACCOUNT.CHECKOUT.RELATIVE,name:"< Back to Account Settings",icon:"ni ni-lock-circle-open text-red",component:sc},{path:lb.ACCOUNT.MY_ACCOUNT.RELATIVE,name:"Manage Account",icon:"ni ni-lock-circle-open text-red",component:Lr},{path:lb.ACCOUNT.MY_BACKUPS.RELATIVE,name:"My Backups",icon:"ni ni-lock-circle-open text-red",component:pl},{path:lb.ACCOUNT.MY_REFERRALS.RELATIVE,name:"My Referrals",icon:"ni ni-lock-circle-open text-red",component:Bo},{path:lb.ACCOUNT.RELATIVE,name:"Manage Account",icon:"ni ni-lock-circle-open text-red",component:function(){return Object(C.jsx)(re.a,{to:lb.ACCOUNT.MY_ACCOUNT.ABSOLUTE})}},{path:lb.AUTH.SIGN_IN.RELATIVE,name:"Sign In",icon:"ni ni-lock-circle-open text-red",component:Wr,props:{authMode:ub.ACTION_LABELS.LOG_IN}},{path:lb.AUTH.DEKSTOP_SIGN_IN.RELATIVE,name:"Sign In",icon:"ni ni-lock-circle-open text-red",component:zr},{path:lb.AUTH.SIGN_UP.RELATIVE,name:"Sign Up",icon:"ni ni-lock-circle-open text-red",component:Wr,props:{authMode:ub.ACTION_LABELS.SIGN_UP}},{path:lb.AUTH.FORGOT_PASSWORD.RELATIVE,name:"Forgot Password",icon:"ni ni-lock-circle-open text-red",component:Wr,props:{authMode:ub.ACTION_LABELS.REQUEST_RESET_PASSWORD}},{path:lb.AUTH.EMAIL_ACTION.RELATIVE,name:"Email Action",icon:"ni ni-lock-circle-open text-red",component:jc},{path:lb.AUTH.RESET_PASSWORD.RELATIVE,name:"Reset Password",icon:"ni ni-lock-circle-open text-red",component:Wr,props:{authMode:ub.ACTION_LABELS.DO_RESET_PASSWORD}},{path:lb.AUTH.VERIFY_EMAIL.RELATIVE,name:"Verify E-mail",icon:"ni ni-lock-circle-open text-red",component:Vj},{path:lb.AUTH.EMAIL_LINK_SIGNIN.RELATIVE,name:"Sign in via email link",icon:"ni ni-lock-circle-open text-red",component:Hj},{path:lb.PAYMENT_SUCCESS.ABSOLUTE,name:"Payment Successful",icon:"ni ni-lock-circle-open text-red",component:Fs},{path:lb.PAYMENT_SUCCESS.RELATIVE,name:"Payment Successful",icon:"ni ni-lock-circle-open text-red",component:Fs},{path:lb.PAYMENT_FAIL.ABSOLUTE,name:"Payment Failed",icon:"ni ni-lock-circle-open text-red",component:Gs},{path:lb.PAYMENT_FAIL.RELATIVE,name:"Payment Failed",icon:"ni ni-lock-circle-open text-red",component:Gs},{path:lb.PAGE404.RELATIVE,name:"404",icon:"ni ni-lock-circle-open text-red",component:Ys},{path:lb.PAGE403.RELATIVE,name:"403",icon:"ni ni-lock-circle-open text-red",component:Ks,layout:lb.LANDING,showLinkInSidebar:!1},{path:lb.ACCEPT_TEAM_INVITE.RELATIVE,name:"Join a Team",icon:"ni ni-lock-circle-open text-red",component:Kt},{path:lb.ACCOUNT.SUPPORT.RELATIVE,name:"Requestly Support",icon:"ni ni-support-16 text-red",component:function(){return window.location.href=W.LINKS.CONTACT_US_PAGE,null}},{path:lb.APP_MODE.RELATIVE,name:"App Mode",icon:"ni ni-support-16 text-red",component:Gr},{path:lb.DESKTOP.MANUAL_SETUP.RELATIVE,name:"Manual Setup",icon:"ni ni-support-16 text-red",component:ob},{path:lb.DESKTOP.MY_APPS.ABSOLUTE,name:"Manage Proxy Apps",icon:"ni ni-support-16 text-red",component:cE},{path:lb.DESKTOP.INTERCEPT_TRAFFIC.ABSOLUTE,name:"Intercept Traffic",icon:"ni ni-support-16 text-red",component:rb},{path:lb.DESKTOP.RELATIVE,name:"Manage Proxy Apps",icon:"ni ni-support-16 text-red",component:function(){return Object(C.jsx)(re.a,{to:lb.DESKTOP.MY_APPS.ABSOLUTE})}},{path:lb.FEEDBACK.RELATIVE,name:"Feedback",icon:"ni ni-support-16 text-red",component:Ni}],Ob=function(e){var t=e.toggle,n=e.isOpen;return Object(C.jsx)(Zt.a,{className:"modal-dialog-centered ",visible:n,onCancel:t,footer:null,children:Object(C.jsx)("div",{className:"modal-body ",children:Object(C.jsx)(Se,{customLoadingMessage:"Loading"})})})},jb=function(e){var t=e.isOpen,n=e.toggle,a=e.authMode,r=e.src,i=e.callback,s=Object(c.useContext)(Z).state,o=nt(s),l=Object(c.useState)(a||W.AUTH.ACTION_LABELS.LOG_IN),d=Object(u.a)(l,2),O=d[0],j=d[1];return Object(c.useLayoutEffect)((function(){o.loggedIn&&n()}),[o.loggedIn,n]),Object(C.jsx)(Zt.a,{size:"small",visible:t,onCancel:function(){return n()},footer:null,style:{width:"300px",margin:"0 auto"},bodyStyle:{padding:"0",borderRadius:"0.45rem"},width:"400px",children:Object(C.jsx)(Hr,{authMode:O,src:r,callbacks:{onSignInSuccess:i,onRequestPasswordResetSuccess:n},setAuthMode:j})})},Eb=function(e){var t=e.toggle,n=e.isOpen,a=e.disabled,r=void 0!==a&&a;return Object(C.jsx)(Zt.a,{visible:n,onCancel:t,footer:null,children:r?Object(C.jsx)(Dl,{}):Object(C.jsx)(Ll,{heading:"Browser Extension Required",content:"Please install Requestly Browser Extension to use Marketplace Rules."})})},bb=W.PATHS,pb=function(e){var t=Object(c.useContext)(Z),n=t.state,a=t.dispatch,r=it(n),i=function(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){t.current=e})),t.current}({location:e.location});Object(c.useEffect)((function(){var t,n;i&&i.location!==e.location&&(document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,document.getElementById("dashboardMainContent").scrollTop=0),i&&i.location===e.location||(n=e.location.pathname,t=n.split("/").slice(0,3).join("/"),va(La.CATEGORIES.PAGE_VISITS,"visit ".concat(t),"".concat(La.CATEGORIES.PAGE_VISITS,"_").concat(t)))}),[e.location,i]);var s;return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("div",{id:"dashboardMainContent",children:Object(C.jsxs)(re.d,{children:[(s=db,s.map((function(e,t){var n=e.props||{};return Object(C.jsx)(re.b,{path:"/".concat(e.path).replace(/\/\//g,"/"),render:function(t){return Object(C.jsx)(e.component,Object(j.a)(Object(j.a)({},t),n))}},t)}))),Object(C.jsx)(re.a,{exact:!0,from:bb.ROOT,to:bb.RULES.ABSOLUTE}),Object(C.jsx)(re.a,{exact:!0,from:bb.INDEX_HTML,to:bb.RULES.ABSOLUTE}),Object(C.jsx)(re.a,{from:bb.EXTENSION_INSTALLED,to:bb.RULES.ABSOLUTE}),Object(C.jsx)(re.a,{from:bb.ANY,to:bb.PAGE404.ABSOLUTE})]})}),r.loadingModal.isActive?Object(C.jsx)(Ob,{isOpen:r.loadingModal.isActive,toggle:function(){a(kt("loadingModal"))}}):null,r.authModal.isActive?Object(C.jsx)(jb,Object(j.a)({isOpen:r.authModal.isActive,toggle:function(){a(kt("authModal"))}},r.authModal.props)):null,r.extensionModal.isActive?Object(C.jsx)(Eb,Object(j.a)({isOpen:r.extensionModal.isActive,toggle:function(){a(kt("extensionModal"))}},r.extensionModal.props)):null]})},Sb=n(542),hb=n(1047),Tb=n(1048),mb=n(1049),fb=n(1050),Ab=n(1045),Rb=n(1051),xb=n(1052),Nb=n(1053),Cb=n(1054),gb=n(1055),_b=n(1056),Ib=function(){var e=Object(c.useContext)(Z),t=e.state,n=e.dispatch,a=st(t),r=ot(t);return Object(c.useEffect)((function(){a===p.CONSTANTS.APP_MODES.DESKTOP&&(r.isBackgroundProcessActive||Xi().then((function(e){n(Gt({isBackgroundProcessActive:!!e})),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.DESKTOP_APP,p.CONSTANTS.GA_EVENTS.ACTIONS.BG_PROCESS,"BG Process Started"),Un(Kn.BACKGROUND.PROCESS_STARTED,{}),!0===e&&window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("start-proxy-server").then((function(e){var t=e.success,a=e.port,r=e.proxyIp;n(Gt({isProxyServerRunning:!!t,proxyPort:a,proxyIp:r})),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.DESKTOP_APP,p.CONSTANTS.GA_EVENTS.ACTIONS.PROXY_SERVER,"PROXY SERVER Started"),Un(qn.STARTED,{})}))})))}),[a,r,n]),Object(C.jsx)(i.a.Fragment,{})},Lb=function(){try{var e=document.getElementById("ipl-progress-indicator");e&&(e.classList.add("available"),setTimeout((function(){document.body.removeChild(e)}),1e3)),document.body.style.pointerEvents="unset"}catch(t){console.log(t)}};setTimeout(Lb,8e3);var vb=Lb,yb=n.p+"static/media/rq_logo.8e5025c3.svg",Ub=n.p+"static/media/YC_backed.5b1ec765.svg",Pb=parseInt(164071.4835145)%1e4,Db=tn.a.Text,wb=function(){var e=Object(re.g)();return Object(C.jsx)("footer",{className:"ant-layout-footer",style:{padding:"0px"},children:Object(C.jsxs)("div",{className:"ant-pro-global-footer",children:[Object(C.jsx)(Fl.a,{}),Object(C.jsxs)(Ct.a,{children:[Object(C.jsx)(gt.a,{span:12,align:"left",children:Object(C.jsxs)(Db,{type:"secondary",children:["\xa9 2014 - 2021"," ",Object(C.jsx)("a",{className:"font-weight-bold ml-1",href:"https://requestly.io",rel:"noopener noreferrer",target:"_blank",children:"Requestly"})]})}),Object(C.jsx)(gt.a,{xl:"6",align:"right",span:12,children:Object(C.jsxs)("div",{className:"ant-pro-global-footer-links",children:[Object(C.jsx)(Db,{onClick:function(){return window.open(W.LINKS.CONTACT_US_PAGE,"_blank")},children:"Support"}),Object(C.jsx)(Db,{onClick:function(){return function(e,t){t.newTab?window.open(fe.REQUESTLY_PRIVACY_POLICY,"_blank"):e.push(fe.REQUESTLY_PRIVACY_POLICY)}(e,{newTab:!0})},children:"Privacy"}),Object(C.jsx)(Db,{onClick:function(){return function(e,t){t.newTab?window.open(fe.GDPR.DELETE_ACCOUNT,"_blank"):e.push(fe.GDPR.DELETE_ACCOUNT)}(e,{newTab:!0})},children:"Delete Account"}),Object(C.jsx)(Db,{onClick:function(){return function(e,t){t.newTab?window.open(fe.GDPR.SIGN_DPA,"_blank"):e.push(fe.GDPR.SIGN_DPA)}(e,{newTab:!0})},children:"Data Processing Addendum"}),Object(C.jsx)(Db,{onClick:function(){return function(e,t){var n=t.newTab;(void 0===n||n)&&window.open("https://discord.gg/SumMHwuaZv","_blank")}(0,{newTab:!0})},children:"Discord"})]})})]}),Object(C.jsx)(Ct.a,{children:Object(C.jsx)(gt.a,{span:24,align:"right",children:Object(C.jsx)("div",{className:"ant-pro-global-footer-links",children:Object(C.jsx)(Db,{type:"secondary",style:{marginRight:"40px"},children:"Build ".concat(Pb," ").concat("12/28/2021")})})})})]})})},Mb=n(539),kb=n(555),Gb=n(1046),Fb=n(9),Bb=n.n(Fb),Vb=n(535),Yb=n.n(Vb),Hb=["overlayClassName"],Kb=function(e){var t=e.overlayClassName,n=Object(qe.a)(e,Hb);return Object(C.jsx)(en.a,Object(j.a)({overlayClassName:Bb()(Yb.a.container,t)},n))},qb=n(166),Wb=n.n(qb),Qb=n(217),zb=n(536),Xb=function(e){var t=e.menu,n=Object(re.g)(),a=Object(c.useContext)(Z),r=a.dispatch,s=a.state,o=nt(s),l=Object(c.useState)(!1),d=Object(u.a)(l,2),O=d[0],j=d[1],E=function(){r(kt("authModal",!0,{redirectURL:window.location.href}))},b=Object(c.useCallback)((function(e){switch(e.key){case"license":!function(e){e.push(me.LICENSE.ABSOLUTE)}(n);break;case"storage":!function(e){e.push(me.SETTINGS.ABSOLUTE)}(n);break;case"remote_rules":!function(e){e.push(me.SETTINGS.REMOTE_RULES.ABSOLUTE)}(n);break;case"account":Le(n);break;case"logout":j(!0),Cr().then((function(){return j(!1)})).catch((function(){return j(!1)}))}}),[n]),p=Object(C.jsx)("span",{className:"".concat(Wb.a.action," ").concat(Wb.a.account),children:Object(C.jsx)(qa.a,{size:"small",style:{marginLeft:8,marginRight:8}})});if(O)return p;var S=Object(C.jsxs)($t.a,{className:Wb.a.menu,selectedKeys:[],onClick:b,children:[t&&Object(C.jsxs)($t.a.Item,{children:[Object(C.jsx)(N.r,{style:{marginRight:"8%"}}),"License"]},"license"),t&&Object(C.jsxs)($t.a.Item,{children:[Object(C.jsx)(Qb.c,{style:{marginRight:"8%"}}),"Storage"]},"storage"),t&&Object(C.jsxs)($t.a.Item,{children:[Object(C.jsx)(N.g,{style:{marginRight:"8%"}}),"Remote Rules"]},"remote_rules"),t&&Object(C.jsxs)($t.a.Item,{children:[Object(C.jsx)(N.L,{style:{marginRight:"8%"}}),"Account"]},"account"),t&&Object(C.jsx)($t.a.Divider,{}),Object(C.jsxs)($t.a.Item,{children:[Object(C.jsx)(Ye.b,{style:{marginRight:"8%"}}),"Logout"]},"logout")]}),h=!0;return Object.values(W.PATHS.AUTH).forEach((function(e){window.location.pathname===e.ABSOLUTE&&(h=!1)})),h?Object(C.jsx)(i.a.Fragment,{children:o.loggedIn&&o.details&&o.details.profile&&o.details.profile.displayName&&o.details.profile.photoURL?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"User",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"http://www.gravatar.com/avatar/?d=identicon";return Object(C.jsx)(Kb,{overlay:S,children:Object(C.jsxs)("span",{className:"".concat(Wb.a.action," ").concat(Wb.a.account),children:[Object(C.jsx)(Jr.a,{size:"small",className:Wb.a.avatar,src:t,alt:"avatar",style:{marginRight:"8px",marginLeft:"8px",cursor:"pointer"}}),Object(C.jsx)("span",{className:"".concat(Wb.a.name," anticon"),style:{cursor:"pointer",marginRight:"8px"},children:e})]})})}(o.details.profile.displayName,o.details.profile.photoURL):Object(C.jsx)(zb.Button,{className:"".concat(Wb.a.action," ").concat(Wb.a.account),onClick:E,type:"text",children:"Sign in"})}):null},Jb=n(248),Zb=n.n(Jb),$b=n(1044),ep=n(143),tp=n.n(ep),np=tn.a.Text,ap=function(e){var t=e.list,n=void 0===t?[]:t,a=e.onClick;e.onClear,e.title,e.onViewMore,e.emptyText,e.showClear,e.clearText,e.viewMoreText,e.showViewMore;return n&&0!==n.length?Object(C.jsx)("div",{children:Object(C.jsx)(go.b,{className:tp.a.list,dataSource:n,renderItem:function(e,t){var n=Bb()(tp.a.item,Object(O.a)({},tp.a.read,e.read)),r=e.avatar?"string"===typeof e.avatar?Object(C.jsx)(Jr.a,{className:tp.a.avatar,src:e.avatar}):Object(C.jsx)("span",{className:tp.a.iconElement,children:e.avatar}):null;return Object(C.jsx)(go.b.Item,{className:n,onClick:function(){null===a||void 0===a||a(e)},actions:Object(C.jsx)("h1",{children:"Test Action"}),children:Object(C.jsx)(go.b.Item.Meta,{className:tp.a.meta,avatar:r,title:Object(C.jsxs)("div",{className:tp.a.title,children:[e.title,Object(C.jsx)("div",{className:tp.a.extra,children:e.extra})]}),description:Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{className:tp.a.description,children:e.description}),Object(C.jsx)("div",{className:tp.a.datetime,children:e.datetime})]})})},e.key||t)}})}):Object(C.jsx)("div",{className:tp.a.notFound,children:Object(C.jsx)(np,{type:"secondary",children:"You have no notifications."})})},rp=n(537),cp=n.n(rp),ip=["overlayClassName"],sp=function(e){var t=e.overlayClassName,n=Object(qe.a)(e,ip);return Object(C.jsx)(en.a,Object(j.a)({overlayClassName:Bb()(cp.a.container,t)},n))},op=n(197),lp=n.n(op),up=vO.a.TabPane,dp=function(e){var t=e.className,n=e.count,a=e.bell,r=Bb()(t,lp.a.noticeButton),c=function(){var t=e.children,n=e.loading,a=e.onClear,r=e.onTabChange,c=e.onItemClick,s=e.onViewMore,o=e.clearText,l=e.viewMoreText;if(!t)return null;var u=[];return i.a.Children.forEach(t,(function(e){if(e){var t=e.props,n=t.list,r=t.title,i=t.count,d=t.tabKey,O=t.showClear,j=t.showViewMore,E=n&&n.length?n.length:0,b=i||0===i?i:E,p=b>0?"".concat(r," (").concat(b,")"):r;u.push(Object(C.jsx)(up,{tab:p,children:Object(C.jsx)(ap,{clearText:o,viewMoreText:l,list:n,tabKey:d,onClear:function(){return a&&a(r,d)},onClick:function(t){return c&&c(t,e.props)},onViewMore:function(t){return s&&s(e.props,t)},showClear:O,showViewMore:j,title:r})},d))}})),Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(qa.a,{spinning:n,delay:300,children:Object(C.jsx)("div",{className:"notifications",children:Object(C.jsx)(vO.a,{className:lp.a.tabs,onChange:r,children:u})})})})}(),s=a||Object(C.jsx)($b.a,{className:lp.a.icon}),o=Object(C.jsx)("span",{style:{cursor:"pointer"},className:Bb()(r,{opened:!1}),children:Object(C.jsx)(Fa.a,{count:n,style:{boxShadow:"none"},className:lp.a.badge,children:s})});return c?Object(C.jsx)(sp,{placement:"bottomRight",overlay:c,overlayClassName:lp.a.popover,trigger:["click"],children:o}):o};dp.defaultProps={emptyImage:"https://gw.alipayobjects.com/zos/rmsportal/wAhyIChODzsoKIOBHcBk.svg"},dp.Tab=ap;var Op=dp,jp=function(){var e=Object(c.useContext)(Z).state,t=nt(e),n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],i=a[1],s=Object(c.useState)(!0),o=Object(u.a)(s,2),l=o[0],d=o[1],O=Object(c.useState)(!1),E=Object(u.a)(O,2),b=E[0],p=E[1];Object(c.useEffect)((function(){var e,n=t.details.profile||t.details;t.loggedIn&&!r&&(i(!0),(e=n.uid,e?Aa.getValue(["customProfile",e,"signup"]).then(function(){var t=Object(te.a)(ae.a.mark((function t(n){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=6;break}return t.next=3,_n(e,!0);case 3:return t.abrupt("return",!0);case 6:return t.abrupt("return",n.emailVerified);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.log(e)})):new Promise.resolve(!1)).then((function(e){d(e)})).catch((function(e){return console.log(e)})))}),[t.loggedIn,t.details,r,d]);var S=[];if(!l){S.push({type:"notification",id:"verify-email",status:"urgent",title:"Verify your Email",avatar:Object(C.jsx)(co.a,{style:{background:"white"}}),description:Object(C.jsxs)("span",{children:[Object(C.jsx)("p",{children:"Please check your email for the verification link."}),Object(C.jsx)(It.a,{size:"small",icon:Object(C.jsx)(Ab.a,{}),onClick:function(){p(!0),Ln().finally((function(){return p(!1)}))},loading:b,children:"Resend Email"})]})})}var h=function(e){if(!e||0===e.length||!Array.isArray(e))return{};var t=e.map((function(e){var t=Object(j.a)({},e);if(t.datetime&&(t.datetime=Ic()(e.datetime).fromNow()),t.id&&(t.key=t.id),t.extra&&t.status){var n={todo:"",processing:"blue",urgent:"red",doing:"gold"}[t.status];t.extra=Object(C.jsx)(As.a,{color:n,style:{marginRight:0},children:t.extra})}return t}));return Object(he.groupBy)(t,"type")}(S),T=function(e){var t={};return Object.keys(e).forEach((function(n){var a=e[n];t[n]||(t[n]=0),Array.isArray(a)&&(t[n]=a.filter((function(e){return!e.read})).length)})),t}(h||{});return Object(C.jsx)(Op,{className:lp.a.action,count:S.length&&S.length>=1?S.length:null,loading:!1,clearText:"Clear",viewMoreText:"See more",onViewMore:function(){return Be.b.info("Click on view more")},clearClose:!0,children:Object(C.jsx)(Op.Tab,{tabKey:"notification",count:T.notification,list:h.notification,title:"Notifications",emptyText:"You have viewed all notifications",showViewMore:!0})})},Ep=n(158),bp=function(){var e=Object(c.useContext)(Z).state,t=st(e),n=ot(e),a=n.isBackgroundProcessActive,r=n.isProxyServerRunning,s=n.proxyPort,o=n.proxyIp;return t!==p.CONSTANTS.APP_MODES.DESKTOP?null:Object(C.jsx)(C.Fragment,{children:Object(C.jsx)(Ep.a,{content:a?r?Object(C.jsxs)("div",{children:[Object(C.jsx)("p",{children:"Proxy server is running at"}),Object(C.jsx)("p",{children:"".concat(o,":").concat(s)})]}):"Proxy server is not running.":"Waiting for proxy server to start.",title:null,children:Object(C.jsx)(Fa.a,{status:a&&r?"success":"warning",text:a?r?Object(C.jsx)(i.a.Fragment,{children:Object(C.jsxs)("span",{children:[o,":",s]})}):"Not running":"Waiting.."})})})},pp=n(538),Sp=function(){var e=Object(re.g)(),t=Object(c.useContext)(Z),n=t.dispatch,a=t.state,r=nt(a),i=Object(c.useState)(!1),s=Object(u.a)(i,2),o=s[0],l=s[1],d=bt(r.details.planDetails),O=ft(r),E=Object(c.useState)(!1),b=Object(u.a)(E,2),p=b[0],S=b[1],h=Object(c.useState)(!1),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useState)(0),R=Object(u.a)(A,2),x=R[0],N=R[1],g=function(){d||(N(0),f(W.FEATURES.BACKUP_RULES),S(!0))},_=function(){var e=Object(te.a)(ae.a.mark((function e(t){var a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.loggedIn&&r.details&&r.details.profile){e.next=3;break}return n(kt("authModal",!0,{redirectURL:window.location.href})),e.abrupt("return");case 3:if(a=function(){var e=Object(te.a)(ae.a.mark((function e(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),Object(j.a)({},r).details.isBackupEnabled=!r.details.isBackupEnabled,e.next=5,cl(r.details.profile.uid,t);case 5:l(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),!d){e.next=9;break}return a(),e.abrupt("return");case 9:return g(),e.abrupt("return");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){return Object(C.jsxs)("div",{style:{maxWidth:"350px"},children:[Object(C.jsx)("p",{children:"Securely backup your Rules to Requestly servers so that you don't ever lose them while switching devices."}),Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(It.a,{type:"primary",onClick:function(){return _(!0)},loading:o,icon:Object(C.jsx)(Zc.a,{}),children:"Turn on backups"}),r.loggedIn&&r.details&&r.details.profile?Object(C.jsx)(It.a,{type:"secondary",children:"View previous backups"}):null]})]})},L=function(){return Object(C.jsxs)("div",{style:{maxWidth:"300px"},children:[Object(C.jsx)("p",{children:"Securely backup your Rules to Requestly servers so that you don't ever lose them while switching devices."}),Object(C.jsxs)(_t.b,{children:[Object(C.jsx)(It.a,{type:"primary",onClick:function(){return _(!1)},loading:o,children:"Turn off backups"}),r.loggedIn&&r.details&&r.details.profile?Object(C.jsx)(It.a,{onClick:function(){return function(e,t){t?window.location.href=me.ACCOUNT.MY_BACKUPS.ABSOLUTE:e.push(me.ACCOUNT.MY_BACKUPS.ABSOLUTE)}(e)},type:"secondary",children:"Existing Backups"}):null]})]})},v=function(){return r.loggedIn&&r.details&&r.details.profile?(r.details.profile||r.details||r.loggedIn)&&d||(r.details.profile||r.details||r.loggedIn)&&!d?r.details.isBackupEnabled?L():I():void 0:I()},y=function(){return r.loggedIn&&r.details&&r.details.profile?(r.details.profile||r.details||r.loggedIn)&&d?r.details.isBackupEnabled?Object(C.jsx)(Ep.a,{content:v(),title:"Backups are enabled.",children:Object(C.jsx)("span",{className:"backup-success-bg",style:{cursor:"pointer",marginRight:"12px"},children:Object(C.jsx)(pp.a,{})})}):Object(C.jsx)(Ep.a,{content:v(),title:"Working locally",children:Object(C.jsx)("span",{className:"backup-error-bg",style:{cursor:"pointer",marginRight:"12px"},children:Object(C.jsx)(Qb.b,{})})}):(r.details.profile||r.details||r.loggedIn)&&!d?r.details.isBackupEnabled?Object(C.jsx)(Ep.a,{content:v(),children:Object(C.jsx)(Qb.a,{className:"fix-icon-is-up",onClick:g,style:{cursor:"pointer",marginLeft:"12px",marginRight:"12px"}})}):Object(C.jsx)(Ep.a,{content:v(),title:"Working locally",children:Object(C.jsx)("span",{className:"backup-error-bg",style:{cursor:"pointer",marginRight:"12px"},children:Object(C.jsx)(Qb.b,{})})}):Object(C.jsx)(C.Fragment,{}):Object(C.jsx)(Ep.a,{content:v(),title:"Working locally",children:Object(C.jsx)("span",{className:"backup-error-bg",style:{cursor:"pointer",marginRight:"12px"},children:Object(C.jsx)(Qb.b,{})})})};return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(y,{}),p&&m?Object(C.jsx)(hc,{isOpen:p,toggle:function(){S(!p)},featureName:m,featureLimit:x,userPlanName:O,mode:0===x||!1===x?W.LIMIT_REACHED_MODAL.MODES.CHECK_IF_ENABLED:W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT}):null]})},hp=function(){var e=Object(c.useContext)(Z).state,t=st(e),n=Zb.a.right,a=Object(c.useState)("light"),r=Object(u.a)(a,2),i=r[0],s=r[1];return n="".concat(Zb.a.right,"  ").concat(Zb.a.dark),Object(c.useEffect)((function(){s(localStorage.getItem("theme")?localStorage.getItem("theme"):"light"),"light"===i&&(document.body.classList.remove("dark"),document.body.classList.add("light")),"dark"===i&&(document.body.classList.remove("light"),document.body.classList.add("dark"))}),[i]),Object(C.jsxs)(_t.b,{className:n,children:[Object(C.jsx)(xs.a,{checkedChildren:"\ud83c\udf19",unCheckedChildren:"\ud83c\udf1e",checked:"light"!==i,onClick:function(){"dark"===localStorage.getItem("theme")?(localStorage.setItem("theme","light"),s("light"),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.EXTENSION,p.CONSTANTS.GA_EVENTS.ACTIONS.DARK_MODE_DISABLED,"Dark Mode Disabled")):(localStorage.setItem("theme","dark"),s("dark"),va(p.CONSTANTS.GA_EVENTS.CATEGORIES.EXTENSION,p.CONSTANTS.GA_EVENTS.ACTIONS.DARK_MODE_ENABLED,"Dark Mode Enabled"))}}),Object(C.jsx)(bp,{}),t===p.CONSTANTS.APP_MODES.DESKTOP?null:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)("span",{className:Zb.a.action,onClick:function(){window.open("http://docs.requestly.io/")},style:{cursor:"pointer",marginLeft:"12px",marginRight:"12px"},children:Object(C.jsx)(kb.a,{})}),Object(C.jsx)("span",{className:Zb.a.action,onClick:function(){window.open("https://github.com/requestly/customer-support/")},style:{cursor:"pointer",marginLeft:"12px",marginRight:"12px"},children:Object(C.jsx)(Gb.a,{})})]}),Object(C.jsx)(Sp,{}),Object(C.jsx)(jp,{})," ",Object(C.jsx)(Xb,{menu:!0})]})},Tp=(n(508),n(509),n(20)),mp=n(540),fp=n.n(mp),Ap=p.CONSTANTS.GA_EVENTS,Rp=W.PATHS,xp=Object(re.j)((function(e){var t=e.history,n=e.location,a=Object(c.useContext)(Z),r=a.state,s=a.dispatch,o=st(r),O=nt(r),E=Object(c.useState)(!1),b=Object(u.a)(E,2),S=b[0],h=b[1],T=Object(c.useState)(!1),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(!1),x=Object(u.a)(R,2),g=x[0],_=x[1],I=Object(c.useState)(!1),L=Object(u.a)(I,2),v=L[0],y=L[1],U=function(){var e=[{path:Rp.RULES.ABSOLUTE,name:"HTTP Rules",icon:Object(C.jsx)(hb.a,{}),routes:[{name:"My Rules",path:Rp.RULES.MY_RULES.ABSOLUTE,icon:Object(C.jsx)(Tb.a,{})},{name:"Marketplace",path:Rp.MARKETPLACE.ABSOLUTE,icon:Object(C.jsx)(mb.a,{})},{name:"Create New Rule",path:"/",collapsed:!1,icon:Object(C.jsx)(Va.a,{}),children:[{name:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(N.y,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Redirect a URL"]}),collapsed:!1,path:Rp.RULE_EDITOR.CREATE_RULE.REDIRECT_RULE.ABSOLUTE},{name:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(N.a,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Block a URL"]}),collapsed:!1,path:Rp.RULE_EDITOR.CREATE_RULE.CANCEL_RULE.ABSOLUTE},{name:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(N.m,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Replace URL Substring"]}),collapsed:!1,path:Rp.RULE_EDITOR.CREATE_RULE.REPLACE_RULE.ABSOLUTE},{name:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(N.q,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Modify HTTP Headers"]}),collapsed:!1,path:Rp.RULE_EDITOR.CREATE_RULE.HEADERS_RULE.ABSOLUTE},{name:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(N.x,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Modify Query Params"]}),collapsed:!1,path:Rp.RULE_EDITOR.CREATE_RULE.QUERY_PARAMS_RULE.ABSOLUTE},{name:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(N.e,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Insert JS/CSS"]}),collapsed:!1,path:Rp.RULE_EDITOR.CREATE_RULE.SCRIPT_RULE.ABSOLUTE},{name:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(N.f,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Modify HTTP Response"]}),collapsed:!1,path:Rp.RULE_EDITOR.CREATE_RULE.RESPONSE_RULE.ABSOLUTE},{name:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(N.v,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Change UserAgent Header"]}),collapsed:!1,path:Rp.RULE_EDITOR.CREATE_RULE.USER_AGENT_RULE.ABSOLUTE},{name:Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(N.B,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Delay a Request"]}),collapsed:!1,path:Rp.RULE_EDITOR.CREATE_RULE.DELAY_RULE.ABSOLUTE}]}]},{path:Rp.MOCK_SERVER.ABSOLUTE,name:"Mock Server",icon:Object(C.jsx)(fb.a,{}),routes:[{name:"My Mocks",path:Rp.MOCK_SERVER.MY_MOCKS.ABSOLUTE,icon:Object(C.jsx)(Tb.a,{})},{name:"Create New Mock",path:Rp.MOCK_SERVER.VIEWER.CREATE.ABSOLUTE,icon:Object(C.jsx)(Ab.a,{})}]},{path:Rp.SHARED_LISTS.ABSOLUTE,name:"Shared Lists",icon:Object(C.jsx)(pu.a,{}),routes:[{name:"My Lists",path:Rp.SHARED_LISTS.MY_LISTS.ABSOLUTE,icon:Object(C.jsx)(Tb.a,{})}]},{path:Rp.SETTINGS.ABSOLUTE,name:"Settings",icon:Object(C.jsx)(Ui.a,{}),routes:[{name:"Storage Settings",path:Rp.SETTINGS.STORAGE_SETTINGS.ABSOLUTE,icon:Object(C.jsx)(Rb.a,{})},{name:"Remote Rules",path:Rp.SETTINGS.REMOTE_RULES.ABSOLUTE,icon:Object(C.jsx)(Rb.a,{})}]},{path:Rp.ACCOUNT.ABSOLUTE,name:"Account",icon:Object(C.jsx)(_i.a,{}),routes:[{name:"Account Settings",path:Rp.ACCOUNT.MY_ACCOUNT.ABSOLUTE,icon:Object(C.jsx)(xb.a,{})},{name:"Backups",path:Rp.ACCOUNT.MY_BACKUPS.ABSOLUTE,icon:Object(C.jsx)(Nb.a,{})},{name:"Referrals",path:Rp.ACCOUNT.MY_REFERRALS.ABSOLUTE,icon:Object(C.jsx)(Cb.a,{})}]}];return o&&o===p.CONSTANTS.APP_MODES.DESKTOP&&(e.unshift({path:Rp.DESKTOP.MY_APPS.ABSOLUTE,name:"Apps",icon:Object(C.jsx)(gb.a,{}),routes:[{name:"Apps",path:Rp.DESKTOP.MY_APPS.ABSOLUTE,icon:Object(C.jsx)(_b.a,{})}]}),e.unshift({path:Rp.DESKTOP.INTERCEPT_TRAFFIC.ABSOLUTE,name:"Traffic",icon:Object(C.jsx)(ro.a,{}),routes:[{name:"Network Traffic",path:Rp.DESKTOP.INTERCEPT_TRAFFIC.ABSOLUTE,icon:Object(C.jsx)(ro.a,{})}]})),e},P=Object(c.useCallback)((function(){f||(A(!0),vb())}),[f]);if(Object(c.useEffect)((function(){if(!S){h(!0);var e=Object(se.g)(ln);Object(se.i)(e,function(){var e=Object(te.a)(ae.a.mark((function e(t){var n,a;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=16;break}if(nl(t.uid,o),o===p.CONSTANTS.APP_MODES.EXTENSION||ts()){e.next=8;break}return e.next=5,hs(o).getAllRecords();case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=[];case 9:n=e.t0,a=Object.values(n).filter((function(e){return void 0===e.MKTRuleID&&e.creationDate})).length,window.top===window.self&&ga(t),ha(["userSubscriptions",t.uid,"planDetails"]).then(function(){var e=Object(te.a)(ae.a.mark((function e(n){var r,c;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=bt(n),!e.t0){e.next=5;break}return e.next=4,Oa(t.uid);case 4:e.t0=e.sent;case 5:r=e.t0,c=ba(t),window.uid=null===c||void 0===c?void 0:c.uid,s(vt(!0,{profile:c,isLoggedIn:!0,planDetails:n,isBackupEnabled:r})),bt(n)&&il(o).then((function(e){(!e||ol(e))&&a&&r?ll(o).then((function(e){console.log({newTimestamp:e}),e&&s(yt(e))})):s(yt(e))})),P(),n&&(ya(Ap.ATTR.PAYMENT_MODE,n.type||"Missing Value"),ya(Ap.ATTR.PLAN_ID,n.planId||"Missing Value"),n.subscription&&(ya(Ap.ATTR.PLAN_START_DATE,n.subscription.startDate||"Missing Value"),ya(Ap.ATTR.PLAN_END_DATE,n.subscription.endDate||"Missing Value")));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Unable to fetch user plan",e.message),window.uid=null,s(vt(!1,!1)),P()})),e.next=19;break;case 16:window.uid=null,s(vt(!1,!1)),P();case 19:window.top===window.self&&_a(t),Ra.hotjar.initialize(2757864,6),Ra.hotjar.identify("USER_ID",{userProperty:"value"}),Ra.hotjar.event("button-click");case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}),[s,o,S,f,O,P]),Object(c.useLayoutEffect)((function(){window.RQ&&window.RQ.MODE&&s(function(e){return{type:d.UPDATE_APP_MODE,payload:{appMode:e}}}(window.RQ.MODE))}),[s]),Object(c.useLayoutEffect)((function(){O.details&&O.details.isLoggedIn&&O.details.planDetails?(_(mt(O.details.planDetails)),y(Et(O))):(y(!1),_(!1))}),[O]),!ie()(window.location.hash)){var D=window.location.hash.split("/"),w=D[0],M=D[1];switch(w){case Rp.HASH.SHARED_LISTS:window.location.assign(Rp.SHARED_LISTS.VIEWER.ABSOLUTE+"/"+M);break;case Rp.HASH.RULE_EDITOR:window.location.replace(Rp.RULE_EDITOR.EDIT_RULE.ABSOLUTE+"/"+M)}}return Object(C.jsx)(Tp.b,{locale:fp.a,children:Object(C.jsx)("div",{id:"requestly-dashboard-layout",style:{height:"100vh"},children:Object(C.jsx)(Sb.a,{contentStyle:yn(n.pathname)?{margin:"0px",padding:"0px"}:{},siderWidth:250,footerRender:(!o||o!==p.CONSTANTS.APP_MODES.DESKTOP)&&(n.pathname.includes(W.PATHS.RULES.MY_RULES.ABSOLUTE)?function(){return Object(C.jsx)(wb,{})}:null),menuFooterRender:function(e){return v?g?function(e){return Object(C.jsxs)("span",{style:{lineHeight:"48rpx",display:"flex",height:48,color:"#0a48b3",alignItems:"center",cursor:"pointer",fontWeight:400},onClick:function(){return e.push(W.PATHS.PRICING.ABSOLUTE)},children:[Object(C.jsx)(N.C,{style:{width:16,height:16,margin:"0 16px",marginRight:10}}),"Renew Premium"]})}(t):function(e){return Object(C.jsxs)("span",{style:{lineHeight:"48rpx",display:"flex",height:48,color:"limegreen",alignItems:"center",cursor:"pointer",fontWeight:400},onClick:function(){return e.push(W.PATHS.ACCOUNT.ABSOLUTE)},children:[Object(C.jsx)(Mb.a,{style:{width:16,height:16,margin:"0 16px",marginRight:10}}),"Requestly Premium"]})}(t):function(e){return Object(C.jsxs)("span",{className:"upgrade",style:{lineHeight:"48rpx",display:"flex",height:48,alignItems:"center",cursor:"pointer",fontWeight:400,color:"#0a48b3"},onClick:function(){return Ie(e)},children:[Object(C.jsx)(N.C,{style:{width:16,height:16,margin:"0 16px",marginRight:10}}),"Upgrade to Premium"]})}(t)},onMenuHeaderClick:function(){return Ae(t)},menuItemRender:function(e,t){return Object(C.jsx)(l.b,{to:{pathname:e.path,state:{prevPath:n.pathname}},children:t})},rightContentRender:function(){return Object(C.jsx)(i.a.Fragment,{children:Object(C.jsx)(hp,{})})},collapsedButtonRender:!1,navTheme:"light",headerTheme:"light",primaryColor:"#0a48b3",layout:"mix",contentWidth:"Fixed",fixedHeader:!0,fixSiderbar:!0,splitMenus:!0,title:!1,logo:yn(n.pathname)?Ub:yb,route:yn(n.pathname)?[]:{path:"/",routes:U()},menuHeaderRender:!1,menu:{defaultOpenAll:!0,ignoreFlatMenu:!0},children:Object(C.jsxs)(i.a.Fragment,{children:[Object(C.jsx)(Ib,{}),Object(C.jsxs)(re.d,{children:[Object(C.jsx)(re.b,{path:Rp.DASHBOARD,render:function(e){return Object(C.jsx)(pb,Object(j.a)({},e))}}),Object(C.jsx)(re.a,{from:Rp.EXTENSION_INSTALLED,to:Rp.RULES.ABSOLUTE}),Object(C.jsx)(re.a,{from:Rp.FEEDBACK.ABSOLUTE,to:Rp.FEEDBACK.ABSOLUTE}),Object(C.jsx)(re.a,{from:Rp.LEGACY.FILES_LIBRARY.ABSOLUTE+"/:id",to:Rp.FILES.VIEWER.ABSOLUTE+"/:id"}),Object(C.jsx)(re.a,{from:Rp.LEGACY.PRICING.ABSOLUTE,to:Rp.PRICING.ABSOLUTE}),Object(C.jsx)(re.a,{from:Rp.LEGACY.LICENSE.MANAGE.ABSOLUTE,to:Rp.LICENSE.MANAGE.ABSOLUTE}),Object(C.jsx)(re.a,{from:Rp.LEGACY.LICENSE.ABSOLUTE,to:Rp.LICENSE.ABSOLUTE}),Object(C.jsx)(re.a,{from:Rp.LEGACY.SETTINGS.REMOTE_RULES.ABSOLUTE,to:Rp.SETTINGS.REMOTE_RULES.ABSOLUTE}),Object(C.jsx)(re.a,{from:Rp.LEGACY.SETTINGS.ABSOLUTE,to:Rp.SETTINGS.ABSOLUTE}),Object(C.jsx)(re.a,{from:Rp.LEGACY.UNLOCK_PREMIUM.ABSOLUTE,to:Rp.UNLOCK_PREMIUM.ABSOLUTE}),Object(C.jsx)(re.a,{from:Rp.LEGACY.GOODBYE.ABSOLUTE,to:Rp.GOODBYE.ABSOLUTE}),Object(C.jsx)(re.a,{exact:!0,from:Rp.ROOT,to:Rp.RULES.ABSOLUTE})]})]})})})})})),Np=xp;n(987),n(988),n(989);o.a.render(Object(C.jsx)(ee,{children:Object(C.jsx)(l.a,{children:Object(C.jsx)(Np,{})})}),document.getElementById("root"))}},[[990,1,2]]]);