(this.webpackJsonprequestly=this.webpackJsonprequestly||[]).push([[0],{137:function(e,t,n){},157:function(e,t,n){},177:function(e){e.exports=JSON.parse('[{"id":"bronze","allowDiscounts":false,"monthly":{"price":{"USD":0,"INR":0,"EUR":0,"GBP":0,"MXN":0,"CAD":0,"CNY":0},"planId":null,"days":30},"quarterly":{"price":{"USD":0,"INR":0,"EUR":0,"GBP":0,"MXN":0,"CAD":0,"CNY":0},"planId":null,"days":90},"half-yearly":{"price":{"USD":0,"INR":0,"EUR":0,"GBP":0,"MXN":0,"CAD":0,"CNY":0},"planId":null,"days":180},"annual":{"price":{"USD":0,"INR":0,"EUR":0,"GBP":0,"MXN":0,"CAD":0,"CNY":0},"planId":null,"days":365},"name":"Free"},{"id":"gold","allowDiscounts":true,"popular":true,"monthly":{"price":{"USD":10,"EUR":10,"INR":400,"GBP":10,"MXN":200,"CAD":10,"CNY":60},"planId":"gold_1m","days":30},"quarterly":{"price":{"USD":30,"EUR":30,"INR":600,"GBP":30,"MXN":600,"CAD":30,"CNY":180},"planId":"gold_3m","days":90},"half-yearly":{"price":{"USD":50,"EUR":50,"INR":1000,"GBP":50,"MXN":1000,"CAD":50,"CNY":300},"planId":"gold_6m","days":180},"annual":{"price":{"USD":100,"EUR":100,"INR":4000,"GBP":100,"MXN":2000,"CAD":100,"CNY":600},"planId":"gold_12m","days":365},"name":"Gold"},{"id":"enterprise","allowDiscounts":false,"popular":false,"monthly":{"price":{"USD":10,"EUR":10,"INR":400,"GBP":10,"MXN":400,"CAD":10,"CNY":60},"planId":"enterprise_1m","days":30},"quarterly":{"price":{"USD":30,"EUR":30,"INR":1200,"GBP":30,"MXN":1200,"CAD":30,"CNY":180},"planId":"enterprise_3m","days":90},"half-yearly":{"price":{"USD":60,"EUR":60,"INR":2400,"GBP":60,"MXN":2400,"CAD":60,"CNY":360},"planId":"enterprise_6m","days":180},"annual":{"price":{"USD":120,"EUR":120,"INR":4800,"GBP":120,"MXN":4800,"CAD":120,"CNY":720},"planId":"enterprise_12m","days":365},"name":"Enterprise"}]')},193:function(e,t,n){},245:function(e,t,n){},304:function(e){e.exports=JSON.parse('[{"id":"Users","title":"Number of Users","bronze":{"title":"Limited access","enabled":false,"icon":"frown"},"silver":{"title":"Unlimited Users","enabled":true,"icon":"uncheck"},"gold":{"title":"Best for Indie Dev","enabled":true,"icon":"check"},"enterprise":{"title":"Best for Team/Company","enabled":true,"icon":"check"}},{"id":"rules","title":"Rules","bronze":{"title":"50 Rules","limit":50,"enabled":true,"icon":"frown"},"silver":{"title":"25 Rules (Max 10 Active)","limit":25,"enabled":true,"icon":"check"},"gold":{"title":"Unlimited Rules","limit":10000,"enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Rules","limit":10000,"enabled":true,"icon":"check"}},{"id":"active_rules","title":"Active Rules","bronze":{"title":"50 Active Rules","limit":50,"enabled":true,"icon":"frown"},"silver":{"title":"10 Active Rules","limit":10,"enabled":true,"icon":"check"},"gold":{"title":"Unlimited Active Rules","limit":10000,"enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Active Rules","limit":10000,"enabled":true,"icon":"check"}},{"id":"favourite_rules","title":"Favourite Rules","bronze":{"title":"50 Favourite Rules","limit":50,"enabled":true,"icon":"frown"},"silver":{"title":"10 Favourite Rules","limit":10,"enabled":true,"icon":"check"},"gold":{"title":"Unlimited Favourite Rules","limit":10000,"enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Favourite Rules","limit":10000,"enabled":true,"icon":"check"}},{"id":"files","title":"Files","bronze":{"title":"50 Files","limit":50,"enabled":true,"icon":"frown"},"silver":{"title":"10 Files","limit":10,"enabled":true,"icon":"check"},"gold":{"title":"Unlimited Files","limit":1000,"enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Files","limit":1000,"enabled":true,"icon":"check"}},{"id":"groups","title":"Groups","bronze":{"title":"Limited Groups","enabled":false,"icon":"frown"},"silver":{"title":"Limited Groups","enabled":true,"icon":"frown"},"gold":{"title":"Unlimited Groups","enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Groups","enabled":true,"icon":"check"}},{"id":"shared_lists","title":"Shared Lists","bronze":{"title":"50 Shared Lists","limit":50,"enabled":true,"icon":"frown"},"silver":{"title":"10 Shared Lists","limit":10,"enabled":true,"icon":"check"},"gold":{"title":"Unlimited Shared Lists","limit":1000,"enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Shared Lists","limit":1000,"enabled":true,"icon":"check"}},{"id":"rule_pairs","title":"Rule Pairs","bronze":{"title":"50 Rule Pairs","limit":50,"enabled":true,"icon":"frown"},"silver":{"title":"10 Rule Pairs","limit":10,"enabled":true,"icon":"check"},"gold":{"title":"Unlimited Rule Pairs","limit":10000,"enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Rule Pairs","limit":10000,"enabled":true,"icon":"check"}},{"id":"RESPONSE_BODY_CHARACTER_LIMIT","title":"AJAX Response Char Limit","showInComparisonTable":false,"bronze":{"title":"Upto 6,000 Characters AJAX Response","limit":6000,"enabled":true,"icon":"check"},"silver":{"title":"Upto 6,000 Characters AJAX Response","limit":6000,"enabled":true,"icon":"check"},"gold":{"title":"Upto 60,000 Characters AJAX Response","limit":60000,"enabled":true,"icon":"check"},"enterprise":{"title":"Upto 6,000 Characters AJAX Response","limit":6000,"enabled":true,"icon":"check"}},{"id":"export_import","title":"Export & Import Rules","bronze":{"title":"Import & Export Rules","enabled":true,"icon":"frown"},"silver":{"title":"Import & Export Rules","enabled":false,"icon":"frown"},"gold":{"title":"Import & Export Rules","enabled":true,"icon":"check"},"enterprise":{"title":"Import & Export Rules","enabled":true,"icon":"check"}},{"id":"Customer Support","title":"Priority Support","bronze":{"title":"Support","enabled":true,"icon":"frown"},"silver":{"title":"Priority Support","enabled":false,"icon":"frown"},"gold":{"title":"Priority Support (Slack)","enabled":true,"icon":"check"},"enterprise":{"title":"Priority Support (Slack)","enabled":true,"icon":"check"}}]')},395:function(e,t){if("undefined"===typeof n)var n=!0;var a={browser:"chrome",storageType:"sync",contextMenuContexts:["browser_action"],collectExtUsageStats:!0,env:"prod",WEB_URL:"https://app.requestly.io",firebaseConfig:{apiKey:"AIzaSyC2WOxTtgKH554wCezEJ4plxnMNXaUSFXY",authDomain:"app.requestly.io",databaseURL:"https://requestly.firebaseio.com",projectId:"project-7820168409702389920",storageBucket:"project-7820168409702389920.appspot.com",messagingSenderId:"911299702852"},logLevel:"info",stripeConfig:{publishableKey:"pk_live_FgVCiLBLJBaVSLulhPWptlDg",productIds:{enterprisePlan:{INR:{monthly:"price_1Hs62NIVcpOtHqujisdpsA53",quarterly:"price_1Hs62NIVcpOtHqujbIhUiCNO","half-yearly":"price_1Hs62NIVcpOtHqujk2TCvkba",annual:"price_1Hs62OIVcpOtHqujuSmvQ0LR"},USD:{monthly:"price_1Hs62NIVcpOtHqujNdJXy1U2",quarterly:"price_1Hs62NIVcpOtHqujA6BhjyBc","half-yearly":"price_1Hs62NIVcpOtHqujrfFCxb4I",annual:"price_1Hs62NIVcpOtHqujafhBiwBk"},default:"price_1Hs62NIVcpOtHqujNdJXy1U2"}}},version:"21.11.16"};n?e.exports=a:window&&(window.RQ=window.RQ||{},window.RQ.configs=a)},396:function(e,t,n){if("undefined"===typeof a)var a=!0;var r,c={};r=a?n(395):window.RQ.configs,c.APP_MODES={DESKTOP:"DESKTOP",EXTENSION:"EXTENSION",WORDPRESS:"WORDPRESS",CLOUDFLARE:"CLOUDFLARE"},c.COMPANY_INFO={SUPPORT_EMAIL:"contact@requestly.io"},c.VERSION=3,c.TRACK_ERRORS=!0,c.ONBOARDING_DAYS_TO_EXPIRE=7,c.ONBOARDING_TASKS=5,c.FILE_PICKER_URL="/library/filepicker",c.VERSIONS={REPLACE_RULE:2},c.ENV=r.env,c.PUBLIC_NAMESPACE="__REQUESTLY__",c.RULES_PAGE_URL=r.WEB_URL+"/rules/",c.RULES_PAGE_URL_PATTERN=c.RULES_PAGE_URL+"*",c.PRICING_PAGE_URL=r.WEB_URL+"/pricing/",c.GOODBYE_PAGE_URL=r.WEB_URL+"/goodbye/",c.DELAY_API_URL=r.WEB_URL+"/delay/",c.MOCK_URL=r.WEB_URL+"/mock/",c.BLACK_LIST_DOMAINS=["requestly.in","requestly.io","rq.in","rq.io","__rq"],c.STRING_CONSTANTS={SLASH:"/"},c.LIMITS={NUMBER_SHARED_LISTS:10},c.DEFAULTS={APP_INIT_TIMEOUT:5e3},c.OBJECT_TYPES={GROUP:"group",RULE:"rule"},c.RULE_TYPES={REDIRECT:"Redirect",CANCEL:"Cancel",REPLACE:"Replace",HEADERS:"Headers",USERAGENT:"UserAgent",SCRIPT:"Script",QUERYPARAM:"QueryParam",RESPONSE:"Response",DELAY:"Delay"},c.DELAY_REQUEST_CONSTANTS={DELAY_PARAM_NAME:"delay",DELAY_PARAM_VALUE:"true",MIN_DELAY_VALUE:1,MAX_DELAY_VALUE_NON_XHR:1e4,MAX_DELAY_VALUE_XHR:5e3,DELAY_TYPE:{CLIENT_SIDE:"clientSideDelay",SERVER_SIDE:"serverSideDelay"},REQUEST_TYPE:{XHR:"xmlhttprequest"},METHOD_TYPE:{GET:"GET"}},c.OBJECT_FORMAT_KEYS={CREATION_DATE:"creationDate",NAME:"name",ID:"id",RULE_TYPE:"ruleType",STATUS:"status",OBJECT_TYPE:"objectType",GROUP_ID:"groupId",IS_FAVOURITE:"isFavourite"},c.HEADER_NAMES={USER_AGENT:"User-Agent"},c.GROUP_STATUS={ACTIVE:"Active",INACTIVE:"Inactive"},c.RULE_STATUS={ACTIVE:"Active",INACTIVE:"Inactive"},c.SUBSCRIPTION_STATUS={ACTIVE:"active",CANCELLED:"cancelled"},c.RULE_KEYS={URL:"Url",HOST:"host",PATH:"path",HEADER:"Header",OVERWRITE:"Overwrite",IGNORE:"Ignore",PARAM:"param",VALUE:"value"},c.PATH_FROM_PAIR={RULE_KEYS:"source.key",RULE_OPERATORS:"source.operator",SCRIPT_LIBRARIES:"libraries",SOURCE_PAGE_URL_OPERATOR:"source.filters.pageUrl.operator",SOURCE_PAGE_URL_VALUE:"source.filters.pageUrl.value",SOURCE_RESOURCE_TYPE:"source.filters.resourceType",SOURCE_REQUEST_METHOD:"source.filters.requestMethod"},c.HEADER_SUGGESTIONS={Request:[{label:"authorization",value:"authorization"},{label:"cache-control",value:"cache-control"},{label:"cookie",value:"cookie"},{label:"connection",value:"connection"},{label:"origin",value:"origin"},{label:"user-agent",value:"user-agent"}],Response:[{label:"age",value:"age"},{label:"access-control-allow-origin",value:"access-control-allow-origin"},{label:"access-control-allow-credentials",value:"access-control-allow-credentials"},{label:"expires",value:"expires"},{label:"server",value:"server"},{label:"x-frame-options",value:"x-frame-options"}]},c.URL_COMPONENTS={PROTOCOL:"Protocol",URL:"Url",HOST:"host",PATH:"path",QUERY:"query",HASH:"hash"},c.RULE_OPERATORS={EQUALS:"Equals",CONTAINS:"Contains",MATCHES:"Matches",WILDCARD_MATCHES:"Wildcard_Matches"},c.RULE_SOURCE_FILTER_TYPES={PAGE_URL:"pageUrl",RESOURCE_TYPE:"resourceType",REQUEST_METHOD:"requestMethod"},c.MODIFICATION_TYPES={ADD:"Add",REMOVE:"Remove",REMOVE_ALL:"Remove All",MODIFY:"Modify",REPLACE:"Replace"},c.NEED_HELP_QUERY_TYPES={FEEDBACK:"Feedback",BUG:"Bug",QUESTION:"Question",FEATURE_REQUEST:"FeatureRequest"},c.CLIENT_MESSAGES={GET_SCRIPT_RULES:"getScriptRules",DO_SETUP_RESPONSE_RULE_HANDLER:"doSetupResponseRuleHandler",GET_USER_AGENT_RULE_PAIRS:"getUserAgentRulePairs",OVERRIDE_RESPONSE:"overrideResponse",NOTIFY_RULES_APPLIED:"notifyRulesApplied"},c.EXTENSION_MESSAGES={FOCUS_TAB:"focusTab",GET_FULL_LOGS:"getFullLogs",CLEAR_LOGS_FOR_TAB:"clearLogsForTab",CLEAR_LOGS_FOR_DOMAIN:"clearLogsForDomain",GET_FAVOURITE_RULES:"getFavouriteRules",GET_FLAGS:"getFlags"},c.HEADERS_TARGET={REQUEST:"Request",RESPONSE:"Response"},c.REQUEST_TYPES={MAIN_FRAME:"mainFrame",PAGE_REQUEST:"pageRequest"},c.SCRIPT_TYPES={URL:"url",CODE:"code"},c.SCRIPT_CODE_TYPES={JS:"js",CSS:"css"},c.SCRIPT_LOAD_TIME={BEFORE_PAGE_LOAD:"beforePageLoad",AFTER_PAGE_LOAD:"afterPageLoad"},c.SCRIPT_LIBRARIES={JQUERY:{name:"jQuery",src:"https://code.jquery.com/jquery-2.2.4.js"},UNDERSCORE:{name:"Underscore",src:"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"}},c.RESPONSE_BODY_TYPES={STATIC:"static",CODE:"code"},c.RESPONSE_CODES={NOT_FOUND:404},c.STORAGE_KEYS={REQUESTLY_SETTINGS:"rq_settings",USER_INFO:"user_info",LATEST_NOTIFICATION_READ_BY_USER:"latestNotificationReadId"},c.MESSAGES={DELETE_ITEMS_NO_SELECTION_WARNING:"Please select one or more rules to delete.",DELETE_ITEMS:"Are you sure you want to delete the selected items?",DELETE_GROUP_WITH_RULES_WARNING:"There are some rules contained in this group. Please delete or ungroup them before deleting the group.",DELETE_GROUP:"Are you sure you want to delete the group?",UNGROUP_ITEMS_NO_SELECTION_WARNING:"Please select one or more rules to ungroup.",UNGROUP_ITEMS:"Are you sure you want to ungroup the selected items?",SIGN_IN_TO_VIEW_SHARED_LISTS:"Please login to view your Shared Lists.",SIGN_IN_TO_CREATE_SHARED_LISTS:"Please login to share the selected rules",SIGN_IN_TO_SUBMIT_QUERY:"Please login to contact our support team.",ERROR_AUTHENTICATION:"Received some error in authentication. Please try again later!!",SHARED_LISTS_LIMIT_REACHED:"You can not create more than"+c.LIMITS.NUMBER_SHARED_LISTS+"shared lists",ERROR_TAB_FOCUS:"The tab cannot be focused, as it might have been closed.",DEACTIVATE_REQUESTLY_MENU_OPTION:"Deactivate Requestly"},c.RESOURCES={EXTENSION_ICON:"/resources/images/48x48.png",EXTENSION_ICON_GREYSCALE:"/resources/images/48x48_greyscale.png",EXTENSION_ICON_GREEN:"/resources/images/48x48_green.png"},c.GA_EVENTS={CATEGORIES:{RULES:"rules",RULE:"rule",GROUP:"group",USER:"user",SHARED_LIST:"shared list",RULE_LOGS:"rule logs",EXTENSION:"extension",IN_APP_NOTIFICATION:"InAppNotification",NEED_HELP_FEATURE:"need help feature",PRICING:"pricing",LICENSE:"license",LIBRARY:"library",UNLOCK:"unlock",REMOTE_RULES:"remoteRules",SPONSOR_SIDERAIL:"sponsor_siderail",LOGIN:"login",SIGNUP:"signup",REFERRAL:"referral",PAGE_VISITS:"page visits",REQUEST_UPGRADE:"request upgrade",MARKETPLACE:"marketplace",CHECKOUT:"checkout page",TEAMS:"teams page",ONBOARDING:"onboarding page",RULE_PAIRS:"rule pairs",DESKTOP_APP:"desktop app"},ACTIONS:{MODIFIED:"modified",CREATED:"created",DELETED:"deleted",ACTIVATED:"activated",DEACTIVATED:"deactivated",IMPORTED:"imported",EXPORTED:"exported",LIMIT_REACHED:"limit reached",AUTHENTICATED:"authenticated",VIEWED:"viewed",CLICKED:"clicked",COPIED:"copied",MARKED_FAVOURITE:"marked favourite",UNMARKED_FAVOURITE:"unmarked favourite",WORKFLOW_STARTED:"workflow started",ALREADY_LOGIN:"already login",LOGIN_REQUESTED:"login requested",LOGIN_DONE:"login done",LOGIN_REJECTED:"login rejected",FORM_SUBMITTED:"form submitted",FORM_REJECTED:"form rejected",INVALID_SUBMIT:"invalid submit",GROUPED:"grouped",UNGROUPED:"ungrouped",SHARED:"shared",ERROR:"error occured",TASK_COMPLETED:"task completed",BACKUP_CREATED:"backup created",BACKUP_USED:"backup used",CARD_ERROR:"card error",CARD_ACCEPTED:"card accepted",CARD_ENTERED:"card num and cv entered",CURRENCY_CHANGE:"currency_changed",DURATION_CHANGE:"duration_changed",APPLIED_SUCCESSFULLY:"applied_successfully",APPLIED_UNSUCCESSFULLY:"applied_unsuccessfully",REVOKED:"revoked",BOUGHT:"bought",UPDATED:"updated",REQUEST_ADMIN:"enterprise_plan_requested",UNINSTALLED:"uninstalled",UNINSTALL_RESPONSE:"uninstall_response",ROUTE_VIEWED:"route_viewed",EMAIL_LOGIN_PERFORMED:"email_login_performed",EMAIL_SIGNUP_PERFORMED:"email_signup_performed",GMAIL_LOGIN_PERFORMED:"gmail_login_performed",GMAIL_SIGNUP_PERFORMED:"gmail_signup_performed",MICROSOFT_LOGIN_PERFORMED:"microsoft_login_performed",APPLE_LOGIN_PERFORMED:"apple_login_performed",REFERRAL_APPLIED:"referral_applied",REFERRAL_FAILED:"referral_failed",EMAIL_VERIFICATION_RESEND:"resend_email_verification",EMAIL_VERIFICATION_SUCCESSFUL:"email_verification_successful",EMAIL_VERIFICATION_FAILED:"email_verification_failed",TRAFFIC_TABLE_VIEWED:"traffic_table_viewed",TRAFFIC_TABLE_MODIFIED:"traffic_table_modified",APP_LAUNCHED:"app_launched",APP_CLOSED:"app_closed",APP_NOT_LAUNCHED:"app_not_launched",PROXY_SERVER:"proxy_server_started",BG_PROCESS:"bg_process_started",MANUAL_SETUP_MAC:"manual_setup_mac",DARK_MODE_ENABLED:"dark_mode_enabled",DARK_MODE_DISABLED:"dark_mode_disabled",UPGRADE_REQUIRED_FOR_DARK_MODE:"upgrade_required_for_dark_mode"},ATTR:{PAYMENT_MODE:"payment_mode",PLANNAME:"planname",PLAN_DURATION:"plan_duration",PLAN_ID:"plan_id",PLAN_START_DATE:"plan_startDate",PLAN_END_DATE:"plan_endDate",COUPON:"coupon",COUPON_VALUE:"coupon_value",LICENSE:"licensekey",COMPANY:"company",PROFILE:"profile",REMOTE_RULES_ENDPOINT:"remoteRulesEndpoint",REMOTE_RULES_FREQUENCY:"remoteRulesFrequency",NUM_RULES:"NUM_RULES",NUM_ACTIVE_RULES:"NUM_ACTIVE_RULES",NUM_GROUPS:"NUM_GROUPS",NUM_ACTIVE_GROUPS:"NUM_ACTIVE_GROUPS",NUM_SHARED_LISTS:"NUM_SHARED_LISTS",SIGNUP_DATE:"SIGNUP_DATE"},VALUES:{PAYPAL:"paypal"},GA_CUSTOM_DIMENSIONS:{USER_ID:"dimension1"},GA_CUSTOM_METRICS:{num_rules:"metric1"}},c.USER={AUTHORIZED:"authorized-user",UNAUTHORIZED:"unauthorized-user"},c.FIREBASE_NODES={USERS:"users",PUBLIC:"public",SHARED_LISTS:"sharedLists",FEEDBACK:"feedback",FILES:"files"},c.DATASTORE={ACTIONS:{CHECK_USER_AUTH:"check:userAuthenticated",AUTHENTICATE:"authenticate",FETCH_USER_DETAILS:"fetchUserDetails",GETVALUE:"getValue",SETVALUE:"setValue"}},c.MESSAGE_HANDLER={ACTIONS:{SUBMIT_EVENT:"submitEvent",SUBMIT_ATTR:"submitAttr"},MESSAGE_TYPES:{EVENT:"event",ATTRIBUTE:"attribute"},SINKS:{CUSTOMERLY:"customerly"}},c.getSharedListURL=function(e,t){var n=t.replace(new RegExp(" +|/+","g"),"-").replace(/-+/g,"-");return c.RULES_PAGE_URL+"#sharedList/"+e+"-"+n},c.getSharedListTimestamp=function(e){return e.split("-")[0]},c.fireAjax=function(e,t){return new Promise((function(n,a){var r=new XMLHttpRequest;r.open("GET",e,t),r.onreadystatechange=function(){4===this.readyState&&(this.status>=200&&this.status<400?n(JSON.parse(this.responseText)):a())},r.send()}))},a?e.exports=c:Object.assign(window.RQ,c)},476:function(e,t,n){},477:function(e,t,n){},501:function(e,t,n){},503:function(e,t,n){},560:function(e,t){if("undefined"===typeof n)var n=!0;var a={enabled:!1,ns:"Requestly: ",log:function(e){this.enabled&&console.log.apply(console,[this.ns].concat(Array.prototype.slice.call(arguments)))},error:function(e){this.enabled&&console.error.apply(console,[this.ns].concat(Array.prototype.slice.call(arguments)))}};n?e.exports=a:(window.RQ=window.RQ||{},window.RQ.components=window.RQ.components||{},window.RQ.components.logger=a)},561:function(e,t,n){(function(t){var a=n(562),r=n(566),c=n(567),s=n(568);e.exports=function(){var e={976:function(e,t,n){if(void 0===a)var a=!0;var r,c={};r=a?n(531):window.RQ.configs,c.APP_MODES={DESKTOP:"DESKTOP",EXTENSION:"EXTENSION",WORDPRESS:"WORDPRESS",CLOUDFLARE:"CLOUDFLARE"},c.COMPANY_INFO={SUPPORT_EMAIL:"contact@requestly.io"},c.VERSION=3,c.TRACK_ERRORS=!0,c.ONBOARDING_DAYS_TO_EXPIRE=7,c.ONBOARDING_TASKS=5,c.FILE_PICKER_URL="/library/filepicker",c.VERSIONS={REPLACE_RULE:2},c.ENV=r.env,c.PUBLIC_NAMESPACE="__REQUESTLY__",c.RULES_PAGE_URL=r.WEB_URL+"/rules/",c.RULES_PAGE_URL_PATTERN=c.RULES_PAGE_URL+"*",c.PRICING_PAGE_URL=r.WEB_URL+"/pricing/",c.GOODBYE_PAGE_URL=r.WEB_URL+"/goodbye/",c.DELAY_API_URL=r.WEB_URL+"/delay/",c.MOCK_URL=r.WEB_URL+"/mock/",c.BLACK_LIST_DOMAINS=["requestly.in","requestly.io","rq.in","rq.io","__rq"],c.STRING_CONSTANTS={SLASH:"/"},c.LIMITS={NUMBER_SHARED_LISTS:10},c.DEFAULTS={APP_INIT_TIMEOUT:5e3},c.OBJECT_TYPES={GROUP:"group",RULE:"rule"},c.RULE_TYPES={REDIRECT:"Redirect",CANCEL:"Cancel",REPLACE:"Replace",HEADERS:"Headers",USERAGENT:"UserAgent",SCRIPT:"Script",QUERYPARAM:"QueryParam",RESPONSE:"Response",DELAY:"Delay"},c.DELAY_REQUEST_CONSTANTS={DELAY_PARAM_NAME:"delay",DELAY_PARAM_VALUE:"true",MIN_DELAY_VALUE:1,MAX_DELAY_VALUE_NON_XHR:1e4,MAX_DELAY_VALUE_XHR:5e3,DELAY_TYPE:{CLIENT_SIDE:"clientSideDelay",SERVER_SIDE:"serverSideDelay"},REQUEST_TYPE:{XHR:"xmlhttprequest"},METHOD_TYPE:{GET:"GET"}},c.OBJECT_FORMAT_KEYS={CREATION_DATE:"creationDate",NAME:"name",ID:"id",RULE_TYPE:"ruleType",STATUS:"status",OBJECT_TYPE:"objectType",GROUP_ID:"groupId",IS_FAVOURITE:"isFavourite"},c.HEADER_NAMES={USER_AGENT:"User-Agent"},c.GROUP_STATUS={ACTIVE:"Active",INACTIVE:"Inactive"},c.RULE_STATUS={ACTIVE:"Active",INACTIVE:"Inactive"},c.SUBSCRIPTION_STATUS={ACTIVE:"active",CANCELLED:"cancelled"},c.RULE_KEYS={URL:"Url",HOST:"host",PATH:"path",HEADER:"Header",OVERWRITE:"Overwrite",IGNORE:"Ignore",PARAM:"param",VALUE:"value"},c.PATH_FROM_PAIR={RULE_KEYS:"source.key",RULE_OPERATORS:"source.operator",SCRIPT_LIBRARIES:"libraries",SOURCE_PAGE_URL_OPERATOR:"source.filters.pageUrl.operator",SOURCE_PAGE_URL_VALUE:"source.filters.pageUrl.value",SOURCE_RESOURCE_TYPE:"source.filters.resourceType",SOURCE_REQUEST_METHOD:"source.filters.requestMethod"},c.HEADER_SUGGESTIONS={Request:[{label:"authorization",value:"authorization"},{label:"cache-control",value:"cache-control"},{label:"cookie",value:"cookie"},{label:"connection",value:"connection"},{label:"origin",value:"origin"},{label:"user-agent",value:"user-agent"}],Response:[{label:"age",value:"age"},{label:"access-control-allow-origin",value:"access-control-allow-origin"},{label:"access-control-allow-credentials",value:"access-control-allow-credentials"},{label:"expires",value:"expires"},{label:"server",value:"server"},{label:"x-frame-options",value:"x-frame-options"}]},c.URL_COMPONENTS={PROTOCOL:"Protocol",URL:"Url",HOST:"host",PATH:"path",QUERY:"query",HASH:"hash"},c.RULE_OPERATORS={EQUALS:"Equals",CONTAINS:"Contains",MATCHES:"Matches",WILDCARD_MATCHES:"Wildcard_Matches"},c.RULE_SOURCE_FILTER_TYPES={PAGE_URL:"pageUrl",RESOURCE_TYPE:"resourceType",REQUEST_METHOD:"requestMethod"},c.MODIFICATION_TYPES={ADD:"Add",REMOVE:"Remove",REMOVE_ALL:"Remove All",MODIFY:"Modify",REPLACE:"Replace"},c.NEED_HELP_QUERY_TYPES={FEEDBACK:"Feedback",BUG:"Bug",QUESTION:"Question",FEATURE_REQUEST:"FeatureRequest"},c.CLIENT_MESSAGES={GET_SCRIPT_RULES:"getScriptRules",DO_SETUP_RESPONSE_RULE_HANDLER:"doSetupResponseRuleHandler",GET_USER_AGENT_RULE_PAIRS:"getUserAgentRulePairs",OVERRIDE_RESPONSE:"overrideResponse",NOTIFY_RULES_APPLIED:"notifyRulesApplied"},c.EXTENSION_MESSAGES={FOCUS_TAB:"focusTab",GET_FULL_LOGS:"getFullLogs",CLEAR_LOGS_FOR_TAB:"clearLogsForTab",CLEAR_LOGS_FOR_DOMAIN:"clearLogsForDomain",GET_FAVOURITE_RULES:"getFavouriteRules",GET_FLAGS:"getFlags"},c.HEADERS_TARGET={REQUEST:"Request",RESPONSE:"Response"},c.REQUEST_TYPES={MAIN_FRAME:"mainFrame",PAGE_REQUEST:"pageRequest"},c.SCRIPT_TYPES={URL:"url",CODE:"code"},c.SCRIPT_CODE_TYPES={JS:"js",CSS:"css"},c.SCRIPT_LOAD_TIME={BEFORE_PAGE_LOAD:"beforePageLoad",AFTER_PAGE_LOAD:"afterPageLoad"},c.SCRIPT_LIBRARIES={JQUERY:{name:"jQuery",src:"https://code.jquery.com/jquery-2.2.4.js"},UNDERSCORE:{name:"Underscore",src:"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"}},c.RESPONSE_BODY_TYPES={STATIC:"static",CODE:"code"},c.RESPONSE_CODES={NOT_FOUND:404},c.STORAGE_KEYS={REQUESTLY_SETTINGS:"rq_settings",USER_INFO:"user_info",LATEST_NOTIFICATION_READ_BY_USER:"latestNotificationReadId"},c.MESSAGES={DELETE_ITEMS_NO_SELECTION_WARNING:"Please select one or more rules to delete.",DELETE_ITEMS:"Are you sure you want to delete the selected items?",DELETE_GROUP_WITH_RULES_WARNING:"There are some rules contained in this group. Please delete or ungroup them before deleting the group.",DELETE_GROUP:"Are you sure you want to delete the group?",UNGROUP_ITEMS_NO_SELECTION_WARNING:"Please select one or more rules to ungroup.",UNGROUP_ITEMS:"Are you sure you want to ungroup the selected items?",SIGN_IN_TO_VIEW_SHARED_LISTS:"Please login to view your Shared Lists.",SIGN_IN_TO_CREATE_SHARED_LISTS:"Please login to share the selected rules",SIGN_IN_TO_SUBMIT_QUERY:"Please login to contact our support team.",ERROR_AUTHENTICATION:"Received some error in authentication. Please try again later!!",SHARED_LISTS_LIMIT_REACHED:"You can not create more than"+c.LIMITS.NUMBER_SHARED_LISTS+"shared lists",ERROR_TAB_FOCUS:"The tab cannot be focused, as it might have been closed.",DEACTIVATE_REQUESTLY_MENU_OPTION:"Deactivate Requestly"},c.RESOURCES={EXTENSION_ICON:"/resources/images/48x48.png",EXTENSION_ICON_GREYSCALE:"/resources/images/48x48_greyscale.png",EXTENSION_ICON_GREEN:"/resources/images/48x48_green.png"},c.GA_EVENTS={CATEGORIES:{RULES:"rules",RULE:"rule",GROUP:"group",USER:"user",SHARED_LIST:"shared list",RULE_LOGS:"rule logs",EXTENSION:"extension",IN_APP_NOTIFICATION:"InAppNotification",NEED_HELP_FEATURE:"need help feature",PRICING:"pricing",LICENSE:"license",LIBRARY:"library",UNLOCK:"unlock",REMOTE_RULES:"remoteRules",SPONSOR_SIDERAIL:"sponsor_siderail",LOGIN:"login",SIGNUP:"signup",REFERRAL:"referral",PAGE_VISITS:"page visits",REQUEST_UPGRADE:"request upgrade",MARKETPLACE:"marketplace",CHECKOUT:"checkout page",TEAMS:"teams page",ONBOARDING:"onboarding page",RULE_PAIRS:"rule pairs",DESKTOP_APP:"desktop app"},ACTIONS:{MODIFIED:"modified",CREATED:"created",DELETED:"deleted",ACTIVATED:"activated",DEACTIVATED:"deactivated",IMPORTED:"imported",EXPORTED:"exported",LIMIT_REACHED:"limit reached",AUTHENTICATED:"authenticated",VIEWED:"viewed",CLICKED:"clicked",COPIED:"copied",MARKED_FAVOURITE:"marked favourite",UNMARKED_FAVOURITE:"unmarked favourite",WORKFLOW_STARTED:"workflow started",ALREADY_LOGIN:"already login",LOGIN_REQUESTED:"login requested",LOGIN_DONE:"login done",LOGIN_REJECTED:"login rejected",FORM_SUBMITTED:"form submitted",FORM_REJECTED:"form rejected",INVALID_SUBMIT:"invalid submit",GROUPED:"grouped",UNGROUPED:"ungrouped",SHARED:"shared",ERROR:"error occured",TASK_COMPLETED:"task completed",BACKUP_CREATED:"backup created",BACKUP_USED:"backup used",CARD_ERROR:"card error",CARD_ACCEPTED:"card accepted",CARD_ENTERED:"card num and cv entered",CURRENCY_CHANGE:"currency_changed",DURATION_CHANGE:"duration_changed",APPLIED_SUCCESSFULLY:"applied_successfully",APPLIED_UNSUCCESSFULLY:"applied_unsuccessfully",REVOKED:"revoked",BOUGHT:"bought",UPDATED:"updated",REQUEST_ADMIN:"enterprise_plan_requested",UNINSTALLED:"uninstalled",UNINSTALL_RESPONSE:"uninstall_response",ROUTE_VIEWED:"route_viewed",EMAIL_LOGIN_PERFORMED:"email_login_performed",EMAIL_SIGNUP_PERFORMED:"email_signup_performed",GMAIL_LOGIN_PERFORMED:"gmail_login_performed",GMAIL_SIGNUP_PERFORMED:"gmail_signup_performed",MICROSOFT_LOGIN_PERFORMED:"microsoft_login_performed",APPLE_LOGIN_PERFORMED:"apple_login_performed",REFERRAL_APPLIED:"referral_applied",REFERRAL_FAILED:"referral_failed",EMAIL_VERIFICATION_RESEND:"resend_email_verification",EMAIL_VERIFICATION_SUCCESSFUL:"email_verification_successful",EMAIL_VERIFICATION_FAILED:"email_verification_failed",TRAFFIC_TABLE_VIEWED:"traffic_table_viewed",TRAFFIC_TABLE_MODIFIED:"traffic_table_modified",APP_LAUNCHED:"app_launched",APP_CLOSED:"app_closed",APP_NOT_LAUNCHED:"app_not_launched",PROXY_SERVER:"proxy_server_started",BG_PROCESS:"bg_process_started",MANUAL_SETUP_MAC:"manual_setup_mac",DARK_MODE_ENABLED:"dark_mode_enabled",DARK_MODE_DISABLED:"dark_mode_disabled",UPGRADE_REQUIRED_FOR_DARK_MODE:"upgrade_required_for_dark_mode"},ATTR:{PAYMENT_MODE:"payment_mode",PLANNAME:"planname",PLAN_DURATION:"plan_duration",PLAN_ID:"plan_id",PLAN_START_DATE:"plan_startDate",PLAN_END_DATE:"plan_endDate",COUPON:"coupon",COUPON_VALUE:"coupon_value",LICENSE:"licensekey",COMPANY:"company",PROFILE:"profile",REMOTE_RULES_ENDPOINT:"remoteRulesEndpoint",REMOTE_RULES_FREQUENCY:"remoteRulesFrequency",NUM_RULES:"NUM_RULES",NUM_ACTIVE_RULES:"NUM_ACTIVE_RULES",NUM_GROUPS:"NUM_GROUPS",NUM_ACTIVE_GROUPS:"NUM_ACTIVE_GROUPS",NUM_SHARED_LISTS:"NUM_SHARED_LISTS",SIGNUP_DATE:"SIGNUP_DATE"},VALUES:{PAYPAL:"paypal"},GA_CUSTOM_DIMENSIONS:{USER_ID:"dimension1"},GA_CUSTOM_METRICS:{num_rules:"metric1"}},c.USER={AUTHORIZED:"authorized-user",UNAUTHORIZED:"unauthorized-user"},c.FIREBASE_NODES={USERS:"users",PUBLIC:"public",SHARED_LISTS:"sharedLists",FEEDBACK:"feedback",FILES:"files"},c.DATASTORE={ACTIONS:{CHECK_USER_AUTH:"check:userAuthenticated",AUTHENTICATE:"authenticate",FETCH_USER_DETAILS:"fetchUserDetails",GETVALUE:"getValue",SETVALUE:"setValue"}},c.MESSAGE_HANDLER={ACTIONS:{SUBMIT_EVENT:"submitEvent",SUBMIT_ATTR:"submitAttr"},MESSAGE_TYPES:{EVENT:"event",ATTRIBUTE:"attribute"},SINKS:{CUSTOMERLY:"customerly"}},c.getSharedListURL=function(e,t){var n=t.replace(new RegExp(" +|/+","g"),"-").replace(/-+/g,"-");return c.RULES_PAGE_URL+"#sharedList/"+e+"-"+n},c.getSharedListTimestamp=function(e){return e.split("-")[0]},c.fireAjax=function(e,t){return new Promise((function(n,a){var r=new XMLHttpRequest;r.open("GET",e,t),r.onreadystatechange=function(){4===this.readyState&&(this.status>=200&&this.status<400?n(JSON.parse(this.responseText)):a())},r.send()}))},a?e.exports=c:Object.assign(window.RQ,c)},531:function(e){if(void 0===t)var t=!0;var n={browser:"chrome",storageType:"sync",contextMenuContexts:["browser_action"],collectExtUsageStats:!0,env:"prod",WEB_URL:"https://app.requestly.io",firebaseConfig:{apiKey:"AIzaSyC2WOxTtgKH554wCezEJ4plxnMNXaUSFXY",authDomain:"app.requestly.io",databaseURL:"https://requestly.firebaseio.com",projectId:"project-7820168409702389920",storageBucket:"project-7820168409702389920.appspot.com",messagingSenderId:"911299702852"},logLevel:"info",stripeConfig:{publishableKey:"pk_live_FgVCiLBLJBaVSLulhPWptlDg",productIds:{enterprisePlan:{INR:{monthly:"price_1Hs62NIVcpOtHqujisdpsA53",quarterly:"price_1Hs62NIVcpOtHqujbIhUiCNO","half-yearly":"price_1Hs62NIVcpOtHqujk2TCvkba",annual:"price_1Hs62OIVcpOtHqujuSmvQ0LR"},USD:{monthly:"price_1Hs62NIVcpOtHqujNdJXy1U2",quarterly:"price_1Hs62NIVcpOtHqujA6BhjyBc","half-yearly":"price_1Hs62NIVcpOtHqujrfFCxb4I",annual:"price_1Hs62NIVcpOtHqujafhBiwBk"},default:"price_1Hs62NIVcpOtHqujNdJXy1U2"}}},version:"21.11.16"};t?e.exports=n:window&&(window.RQ=window.RQ||{},window.RQ.configs=n)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var c=t[a]={exports:{}};return e[a](c,c.exports,n),c.exports}n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return function(){"use strict";n.r(i),n.d(i,{getInstance:function(){return g}});var e=n(976),t="^/(.+)/(|i|g|ig|gi)$";function o(e){var n,a=function(e){return-1!==e.search(new RegExp(t))}(e);return a?(n=e.match(new RegExp(t)),new RegExp(n[1],n[2])):null}function l(t,n){var a=new URL(t);switch(n){case e.URL_COMPONENTS.URL:return t;case e.URL_COMPONENTS.PROTOCOL:return a.protocol;case e.URL_COMPONENTS.HOST:return a.host;case e.URL_COMPONENTS.PATH:return a.pathname;case e.URL_COMPONENTS.QUERY:return a.search;case e.URL_COMPONENTS.HASH:return a.hash}console.error("Invalid source key",t,n)}function u(e){var t={};return e&&"?"!==e?("?"===e[0]&&(e=e.substr(1)),e.split("&").forEach((function(e){var n=e.split("=")[0],a=e.split("=")[1];t[n]=t[n]||[],t[n].push(a)})),t):t}function d(e){var t=[];for(var n in e)(e[n]||[]).forEach((function(e){void 0===e?t.push(n):t.push(n+"="+e)}));return t.join("&")}function O(e){return e.split("#")[0].split("?")[0]}var j=n(976).RULE_TYPES,E={};E.GENERATE_RANDOM_NUMBER={applicableRuleTypes:[j.HEADERS],name:"rq_rand",description:"Generate Random Number",usage:"rq_rand(4) (Max 8 digits allowed)",argument:"[0-9]+",getRandomNumber:function(e){return Math.ceil(Math.random()*Math.pow(10,e))},argumentEvaluator:function(e){var t=s(e,1)[0],n=t[0],a=Math.min(n,8),r=E.GENERATE_RANDOM_NUMBER.getRandomNumber(a);for(r=r.toString();r.length<a;)r+="0";return r}},E.GET_REQUEST_ORIGIN={applicableRuleTypes:[j.HEADERS],name:"rq_request_origin",description:"The origin request header",usage:"rq_request_origin()",argument:"",argumentEvaluator:function(e){s(e,1)[0];var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t&&t.requestOrigin?t.requestOrigin:"*"}};var b=n(976),S=function(){function e(){r(this,e)}return c(e,null,[{key:"populateMatchesInString",value:function(e,t){return t.forEach((function(t,n){0!==n&&(t=t||"",e=e.replace(new RegExp("[$]"+n,"g"),t))})),e}},{key:"checkRegexMatch",value:function(t,n,a){var r,c=o(t);return c&&-1!==n.search(c)?(r=c.exec(n)||[],e.populateMatchesInString(a,r)):null}},{key:"checkWildCardMatch",value:function(t,n,a){var r,c,s,i,o=[];for(n="|"+n+"|",r=(t="|"+t+"|").split("*"),c=0;c<r.length;c++){if(s=r[c],-1===(i=n.indexOf(s)))return null;0===i?o.push(""):o.push(n.substr(0,i)),n=n.slice(i+s.length)}return e.populateMatchesInString(a,o)}},{key:"matchUrlWithRuleSource",value:function(t,n,a){for(var r=t.operator,c=l(n,t.key),s=t.value,i=b.BLACK_LIST_DOMAINS||[],o=0;o<i.length;o++)if(-1!==n.indexOf(i[o]))return null;return e.matchUrlCriteria(c,r,s,a)}},{key:"matchUrlCriteria",value:function(t,n,a,r){var c=r||"";switch(n){case b.RULE_OPERATORS.EQUALS:if(a===t)return c;break;case b.RULE_OPERATORS.CONTAINS:if(-1!==t.indexOf(a))return c;break;case b.RULE_OPERATORS.MATCHES:return e.checkRegexMatch(a,t,c);case b.RULE_OPERATORS.WILDCARD_MATCHES:return e.checkWildCardMatch(a,t,c)}return null}},{key:"matchUrlWithRulePair",value:function(t,n,a){var r=void 0!==t.destination?t.destination:null,c=null;return e.matchRequestWithRuleSourceFilters(t.source.filters,a)&&(c=e.matchUrlWithRuleSource(t.source,n,r)),c}},{key:"matchUrlWithRulePairs",value:function(e,t,n){var a,r=t,c=null;for(a=0;a<e.length;a++)null!==(c=this.matchUrlWithRulePair(e[a],r,n))&&(r=c);return r!==t?r:null}},{key:"matchRequestWithRuleSourceFilters",value:function(t,n){if(!t||!n)return!0;for(var a in t){var r=t[a]||[];switch(a){case b.RULE_SOURCE_FILTER_TYPES.PAGE_URL:if(!r.every((function(t){return e.matchPageUrlFilter(t,n)})))return!1;break;case b.RULE_SOURCE_FILTER_TYPES.REQUEST_METHOD:if(!r.some((function(e){return n.method===e})))return!1;break;case b.RULE_SOURCE_FILTER_TYPES.RESOURCE_TYPE:if(!r.some((function(e){return n.type===e})))return!1}}return!0}},{key:"matchPageUrlFilter",value:function(t,n){var a=n.pageUrl;return null!==e.matchUrlCriteria(a,t.operator,t.value)}},{key:"matchValueForPredefinedFunctions",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return e;var n=function(n){var a=E[n];if("function"!=typeof a.argumentEvaluator)return{v:e};var c=void 0;if(a.argument.constructor===Array&&a.argument.length>0)for(c=a.argument[0],r=1;r<a.argument.length;r++)c+="( *, *"+a.argument[r]+")?";else c=a.argument;var s=a.pattern||new RegExp(a.name+"\\("+c+"\\)","ig");e=e.replace(s,(function(e){var n=e.match(new RegExp(a.name+"\\((.*)\\)","i")),r=[];return null!=n&&n.length>1?(n[1].split(",").forEach((function(e){r.push(e.trim())})),a.argumentEvaluator(r,t)):e}))};for(var a in E){var r,c=n(a);if("object"===typeof c)return c.v}return e}},{key:"getHeaderModification",value:function(e,t){var n;return e===b.RULE_TYPES.USERAGENT?{source:t.source,target:b.HEADERS_TARGET.REQUEST,type:b.MODIFICATION_TYPES.REPLACE,header:b.HEADER_NAMES.USER_AGENT,value:t.userAgent}:((n=t).source=n.source||{},n)}},{key:"addHeader",value:function(e,t){e.push({name:t.name,value:t.value})}},{key:"removeHeader",value:function(e,t){for(var n=e.length-1;n>=0;n--){var a=e[n];a.name&&a.name.toLowerCase()===t.toLowerCase()&&e.splice(n,1)}}},{key:"modifyHeaderIfExists",value:function(e,t){for(var n=e.length-1;n>=0;n--){var a=e[n];if(a.name&&a.name.toLowerCase()===t.name.toLowerCase()){a.value=t.value;break}}}},{key:"replaceHeader",value:function(e,t){this.removeHeader(e,t.name),this.addHeader(e,t)}}]),e}(),p=S,h={BLOCK:"block",REDIRECT:"redirect",ADD_DELAY:"add_delay"},T=n(976),m=n(976),f=function(){function t(){r(this,t)}return c(t,null,[{key:"process",value:function(e){for(var t=e.rule,n=e.requestURL,a=e.details,r=n,c=t.pairs,s=null,i=r,o=0;o<c.length;o++)s=c[o],p.matchRequestWithRuleSourceFilters(s.source.filters,a)&&null!==p.matchUrlWithRuleSource(s.source,r)&&(i=this.applyQueryParamModifications(s.modifications,i));return i!==r?{action:"redirect",url:i}:null}},{key:"applyQueryParamModifications",value:function(e,n){var a=n;return e.forEach((function(e){a=t.applyQueryParamModification(e,a)})),a}},{key:"applyQueryParamModification",value:function(t,n){var a=n,r=O(n),c=l(n,m.URL_COMPONENTS.HASH),s=l(n,m.URL_COMPONENTS.QUERY),i=u(s),o=t.param,j=t.value;switch(t.type){case m.MODIFICATION_TYPES.ADD:a=function(t,n,a,r){var c=t,s=O(t),i=l(t,e.URL_COMPONENTS.HASH),o=l(t,e.URL_COMPONENTS.QUERY),j=u(o);return j[n]=r?[]:j[n]||[],j[n].push(a),c=(o=d(j))?s+"?"+o:s,c+=i}(a,o,j,"Overwrite"===t.actionWhenParamExists),"Ignore"===t.actionWhenParamExists&&(a=n);break;case m.MODIFICATION_TYPES.REMOVE:o in i&&(delete i[o],a=(s=d(i))?r+"?"+s:r,a+=c);break;case m.MODIFICATION_TYPES.REMOVE_ALL:a=r+c}return a}}]),t}(),A=f,R=n(976),x=n(976),N=n(976),C=n(976);function g(e){return function(){function e(){r(this,e)}return c(e,null,[{key:"getRuleProcessorInstance",value:function(e){switch(e.toLowerCase()){case C.RULE_TYPES.REDIRECT.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){var t=e.rule,n=e.requestURL,a=e.details,r=p.matchUrlWithRulePairs(t.pairs,n,a);return r&&r!==n?{action:h.REDIRECT,url:r}:null}}]),e}();case C.RULE_TYPES.REPLACE.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){for(var t,n=e.rule,a=e.requestURL,r=e.details,c=n.pairs,s=null,i=null,l=a,u=0;u<c.length;u++)(s=c[u]).from=s.from||"",s.source&&!p.matchRequestWithRuleSourceFilters(s.source.filters,r)||s.source&&s.source.value&&null===p.matchUrlWithRuleSource(s.source,l)||(t=null!==(i=o(s.from)),i=i||s.from,(t&&l.match(i)||-1!==l.indexOf(i))&&(l=l.replace(i,s.to)));return l!==a?{action:"redirect",url:l}:null}}]),e}();case C.RULE_TYPES.HEADERS.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){for(var t=e.rule,n=e.requestURL,r=e.details,c=e.originalHeaders,s=e.typeOfHeaders,i=e.payload,o=void 0===i?{}:i,l=!1,u=t.pairs||[],d=a(c),O=0;O<u.length;O++){var j=u[O],E=j;if(E.target&&E.header&&null!==p.matchUrlWithRulePair(j,n,r)&&(l=!0,!s||E.target===s)){var b=p.matchValueForPredefinedFunctions(E.value,o);switch(E.type){case T.MODIFICATION_TYPES.ADD:p.addHeader(d,{name:E.header,value:b});break;case T.MODIFICATION_TYPES.REMOVE:p.removeHeader(d,E.header);break;case T.MODIFICATION_TYPES.MODIFY:p.modifyHeaderIfExists(d,{name:E.header,value:b});break;case T.MODIFICATION_TYPES.REPLACE:p.replaceHeader(d,{name:E.header,value:b})}}}return l?{action:"modify_headers",newHeaders:d,originalHeaders:c}:null}}]),e}();case C.RULE_TYPES.CANCEL.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){var t=e.rule,n=e.requestURL,a=e.details,r=n,c=p.matchUrlWithRulePairs(t.pairs,r,a);return"string"==typeof c&&0===c.length?{action:h.BLOCK}:null}}]),e}();case C.RULE_TYPES.QUERYPARAM.toLowerCase():return A;case C.RULE_TYPES.SCRIPT.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){var t=e.rule,n=e.requestURL,a=t.pairs[0];if(null===p.matchUrlWithRulePair(a,n))return null;var r=[],c=[];return a.libraries&&a.libraries.forEach((function(e){r.includes(e)||r.push(e)})),{action:"insert",data:{cssScripts:(c=c.concat(a.scripts||[])).filter((function(e){return e.codeType===R.SCRIPT_CODE_TYPES.CSS})),jsScripts:c.filter((function(e){return!e.codeType||e.codeType===R.SCRIPT_CODE_TYPES.JS})),libraries:r}}}}]),e}();case C.RULE_TYPES.USERAGENT.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){var t=e.rule,n=e.requestURL,r=e.originalRequestHeaders,c=void 0===r?[]:r,s=e.details,i=void 0===s?{}:s;console.log({rule:t,requestURL:n,originalRequestHeaders:c,details:i});var o=!1,l=a(c),u=t.ruleType,d=t.pairs||[],O=null;i&&i.pageDomain&&(O=i.pageDomain);for(var j=0;j<d.length;j++){var E=d[j],b=p.getHeaderModification(u,E);(!b.source.value||null!==p.matchUrlWithRuleSource(b.source,n)||u===x.RULE_TYPES.USERAGENT&&b.source.requestType===x.REQUEST_TYPES.MAIN_FRAME&&O&&null!==p.matchUrlWithRuleSource(b.source,O))&&(o=!0,p.replaceHeader(l,{name:b.header,value:b.value}))}return o?{action:"modify_user_agent",newRequestHeaders:l}:null}}]),e}();case C.RULE_TYPES.DELAY.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){for(var t=e.rule,n=e.requestURL,a=e.details,r=t.pairs,c=null,s=n,i=null,o=null,l=0;l<r.length;l++)if(c=r[l],p.matchRequestWithRuleSourceFilters(c.source.filters,a)&&null!==p.matchUrlWithRuleSource(c.source,n)&&(!c.source||!c.source.value||null!==p.matchUrlWithRuleSource(c.source,s)))return i=c.delay,o=c.delayType||N.DELAY_REQUEST_CONSTANTS.DELAY_TYPE.CLIENT_SIDE,{action:h.ADD_DELAY,delay:i,delayType:o};return null}}]),e}();case C.RULE_TYPES.RESPONSE.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){var t=e.rule,n=e.requestURL,a=t.pairs[0];return null===p.matchUrlWithRulePair(a,n)?null:a.response&&a.response.type&&a.response.value?{action:"modify_response",response:a.response.value,responseType:a.response.type}:null}}]),e}();default:return null}}}]),e}().getRuleProcessorInstance(e)}}(),i}()}).call(this,n(105))},572:function(e,t){var n={GET_FUNCTION_FROM_STRING:function(e){return new Function("return "+e)()}};e.exports=n},574:function(e){e.exports=JSON.parse('{"fresh-chrome":{"id":"fresh-chrome","name":"Google Chrome","description":"New Profile","icon":"chrome.png","isActive":false,"comingSoon":false,"isAvailable":false},"existing-chrome":{"id":"existing-chrome","name":"Google Chrome","description":"Existing Profile","icon":"chrome.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-chrome-beta":{"id":"fresh-chrome-beta","name":"Chrome Beta","description":"New Profile","icon":"chrome-beta.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-chrome-dev":{"id":"fresh-chrome-dev","name":"Chrome Dev","description":"New Profile","icon":"chrome-dev.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-chrome-canary":{"id":"fresh-chrome-canary","name":"Chrome Canary","description":"New Profile","icon":"chrome-canary.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-chromium":{"id":"fresh-chromium","name":"Chromium","description":"New Profile","icon":"chromium.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-chromium-dev":{"id":"fresh-chromium-dev","name":"Chromium Dev","description":"New Profile","icon":"chromium.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-edge":{"id":"fresh-edge","name":"Microsoft Edge ","description":"New Profile","icon":"edge.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-edge-beta":{"id":"fresh-edge-beta","name":"Edge Beta","description":"New Profile","icon":"edge-beta.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-edge-dev":{"id":"fresh-edge-dev","name":"Edge Developer","description":"New Profile","icon":"edge-dev.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-edge-canary":{"id":"fresh-edge-canary","name":"Edge Canary","description":"New Profile","icon":"edge-can.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-brave":{"id":"fresh-brave","name":"Brave","description":"New Profile","icon":"brave.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-opera":{"id":"fresh-opera","name":"Opera","description":"New Profile","icon":"opera.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-firefox":{"id":"fresh-firefox","name":"Mozilla Firefox","description":"New Profile","icon":"firefox.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-safari":{"id":"fresh-safari","name":"Safari","description":"New Profile","icon":"safari.png","isActive":false,"comingSoon":false,"isAvailable":false},"electron":{"id":"electron","name":"Any Electron App","description":"Spotify, VS Code, more","icon":"electron.png","isActive":false,"comingSoon":true,"isAvailable":false},"fresh-terminal":{"id":"fresh-terminal","name":"Terminal","description":"New Window","icon":"terminal.png","isActive":false,"comingSoon":true,"isAvailable":false},"existing-terminal":{"id":"existing-terminal","name":"Terminal","description":"Existing Window","icon":"terminal.png","isActive":false,"comingSoon":true,"isAvailable":false},"system-wide":{"id":"system-wide","name":"Everywhere","description":"System Wide","icon":"pc.png","isActive":false,"comingSoon":true,"isAvailable":false},"android":{"id":"android","name":"Android","description":"External Device","icon":"android.png","isActive":false,"comingSoon":true,"isAvailable":false},"ios":{"id":"ios","name":"iOS","description":"External Device","icon":"ios.png","isActive":false,"comingSoon":true,"isAvailable":false},"raspberry-pi":{"id":"raspberry-pi","name":"Raspberry Pi","description":"External Device","icon":"raspberry-pi.png","isActive":false,"comingSoon":true,"isAvailable":false}}')},6:function(e,t,n){var a=n(395),r=n(396),c=n(560),s=n(561),i=n(572);e.exports={CONFIG:a,CONSTANTS:r,COMPONENTS:{LOGGER:c},RULE_PROCESSOR:s,UTILS:i}},912:function(e,t,n){},934:function(e,t,n){},935:function(e,t,n){},936:function(e,t,n){},937:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getAppVersion",(function(){return cs})),n.d(a,"isAppInstalled",(function(){return ss})),n.d(a,"getStorageSuperObject",(function(){return is})),n.d(a,"getStorageObject",(function(){return os})),n.d(a,"saveStorageObject",(function(){return ls})),n.d(a,"removeStorageObject",(function(){return us})),n.d(a,"clearStorage",(function(){return ds})),n.d(a,"startBackgroundProcess",(function(){return Os})),n.d(a,"saveRootCert",(function(){return js}));var r={};n.r(r),n.d(r,"getExtensionVersion",(function(){return bs})),n.d(r,"isExtensionInstalled",(function(){return Ss})),n.d(r,"getStorageType",(function(){return hs})),n.d(r,"getStorageInfo",(function(){return Ts})),n.d(r,"getStorageSuperObject",(function(){return ms})),n.d(r,"getStorageObject",(function(){return fs})),n.d(r,"saveStorageObject",(function(){return As})),n.d(r,"removeStorageObject",(function(){return Rs})),n.d(r,"clearStorage",(function(){return xs})),n.d(r,"setStorageType",(function(){return Ns})),n.d(r,"getRemoteRulesSettings",(function(){return Cs})),n.d(r,"setRemoteRulesSettings",(function(){return gs}));var c=n(1),s=n.n(c),i=n(51),o=n.n(i),l=n(60),u=n(9),d={UPDATE_USER_INFO:"update-user-info",UPDATE_APP_MODE:"update-app-mode",UPDATE_SEARCH:"update-search",TOGGLE_ACTIVE_MODAL:"toggle-active-modal",UPDATE_BACKUP_INFO:"update-backup-info",UPDATE_GROUPS:"update-groups",UPDATE_RULES_AND_GROUPS:"update-rules-and-groups",UPDATE_REFRESH_PENDING_STATUS:"update-refresh-pending-status",TOGGLE_SELECTED_RULE:"toggle-selected-rule-2",SET_SELECTED_RULES:"set-selected-rules",SET_SELECT_ALL_RULES_OF_A_GROUP:"set-select-all-rules-of-a-group",CLEAR_SELECTED_RULES:"clear-selected-rules",UPDATE_RULES_TO_POPULATE:"update-rules-to-populate",UPDATE_GROUPWISE_RULES_TO_POPULATE:"update-groupwise-rules-to-populate",UPDATE_CURRENTLY_SELECTED_RULE_DATA:"update-currently-selected-rule-data",UPDATE_CURRENTLY_SELECTED_RULE_CONFIG:"update-currently-selected-rule-config",CLEAR_CURRENTLY_SELECTED_RULE_AND_CONFIG:"clear-currently-selected-rule-and-config",SELECT_ALL_RULES:"select-all-rules",UPDATE_SELECTED_SHARED_LISTS:"update-selected-shared-lists",UPDATE_MARKETPLACE_RULES:"update-marketplace-rules",TOGGLE_MARKETPLACE_RULES:"toggle-marketplace-rules",UPDATE_DESKTOP_SPECIFIC_DETAILS:"update-desktop-specific-details"},O=n(54),j=n(14),E={SHARED_LISTS:"shared_lists",RULES:"rules",ACTIVE_RULES:"active_rules",RULE_PAIRS:"rule_pairs",GROUPS:"groups",FILES:"files",EXPORT_IMPORT:"export_import",DARK_MODE:"dark_mode",BACKUP_RULES:"backup_rules",SYNCING:"rules_syncing",ADS:"ads",LOGS:"logs",FAV_RULES:"favourite_rules",RESPONSE_BODY_CHARACTER_LIMIT:"characters"},b=E,S=n(6),p={REQUESTLY_DOCS:"https://docs.requestly.io/",REQUESTLY_DOCS_USING_RULES:"https://docs.requestly.io/using-rules/",REQUESTLY_DOCS_SHARING_RULES:"https://docs.requestly.io/managing-rules/sharing",REQUESTLY_DOCS_FILES_SERVICE:"https://docs.requestly.io/library/introduction-to-library",REQUESTLY_DOCS_PREMIUM_SUBSCRIPTION:"https://docs.requestly.io/premium-subscription",REQUESTLY_DOCS_TEAM_SUBSCRIPTION:"https://docs.requestly.io/premium-subscription#for-teams",REQUESTLY_DOCS_BACKUP_DATA:"https://docs.requestly.io/managing-rules/backup-and-restore",REQUESTLY_BLOG:"https://requestly.io/blog/",REQUESTLY_DESKTOP_APP:"https://requestly.io/desktop",REQUESTLY_PRIVACY_POLICY:"https://requestly.io/privacy",REQUESTLY_TERMS_AND_CONDITIONS:"https://requestly.io/terms/",CONTACT_US:"mailto:"+S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL,CONTACT_US_PAGE:"https://requestly.io/contact-us/",REQUESTLY_GITHUB_ISSUES:"https://github.com/requestly/customer-support/issues",FEEDBACK:"https://feedback.requestly.io/",CHROME_EXTENSION:"https://chrome.google.com/webstore/detail/requestly/mdnleldcmiljblolnjhpnblkcekpdkpa",FIREFOX_EXTENSION:"https://app.requestly.in/firefox/builds/requestly-latest.xpi",GDPR:{EXPORT_DATA:"https://requestly.gdprpage.com/subject",DELETE_ACCOUNT:"https://requestly.gdprpage.com/subject",SIGN_DPA:"https://requestly.gdprpage.com/dpa"}},h={MODES:{}};h.MODES.CREATE="create",h.MODES.EDIT="edit",h.MODES.SHARED_LIST_RULE_VIEW="shared-list-rule-view";var T=h,m=function(e,t){return e.concat(t).replace(/\/\//g,"/")},f={ABSOLUTE:{},ROOT:"/",INDEX_HTML:"/index.html",ANY:"*"};f.DASHBOARD=f.ROOT,f.LANDING="/en-us",f.OVERVIEW={},f.OVERVIEW.RELATIVE="/overview",f.OVERVIEW.ABSOLUTE=m(f.DASHBOARD,f.OVERVIEW.RELATIVE),f.ONBOARDING={},f.ONBOARDING.RELATIVE="/onboarding",f.ONBOARDING.ABSOLUTE=m(f.DASHBOARD,f.ONBOARDING.RELATIVE),f.RULES={},f.RULES.RELATIVE="/rules",f.RULES.ABSOLUTE=m(f.DASHBOARD,f.RULES.RELATIVE),f.RULES.MY_RULES={},f.RULES.MY_RULES.RELATIVE="/my-rules",f.RULES.MY_RULES.ABSOLUTE=m(f.RULES.ABSOLUTE,f.RULES.MY_RULES.RELATIVE),f.RULE_EDITOR={},f.RULE_EDITOR.STUB="/rules/editor",f.RULE_EDITOR.RELATIVE=f.RULE_EDITOR.STUB,f.RULE_EDITOR.ABSOLUTE=m(f.DASHBOARD,f.RULE_EDITOR.STUB),f.RULE_EDITOR.CREATE_RULE={},f.RULE_EDITOR.CREATE_RULE.RELATIVE=f.RULE_EDITOR.RELATIVE+"/"+T.MODES.CREATE,f.RULE_EDITOR.CREATE_RULE.ABSOLUTE=f.RULE_EDITOR.ABSOLUTE+"/"+T.MODES.CREATE,f.RULE_EDITOR.CREATE_RULE.REDIRECT_RULE={},f.RULE_EDITOR.CREATE_RULE.REDIRECT_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+S.CONSTANTS.RULE_TYPES.REDIRECT,f.RULE_EDITOR.CREATE_RULE.REDIRECT_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+S.CONSTANTS.RULE_TYPES.REDIRECT,f.RULE_EDITOR.CREATE_RULE.CANCEL_RULE={},f.RULE_EDITOR.CREATE_RULE.CANCEL_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+S.CONSTANTS.RULE_TYPES.CANCEL,f.RULE_EDITOR.CREATE_RULE.CANCEL_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+S.CONSTANTS.RULE_TYPES.CANCEL,f.RULE_EDITOR.CREATE_RULE.REPLACE_RULE={},f.RULE_EDITOR.CREATE_RULE.REPLACE_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+S.CONSTANTS.RULE_TYPES.REPLACE,f.RULE_EDITOR.CREATE_RULE.REPLACE_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+S.CONSTANTS.RULE_TYPES.REPLACE,f.RULE_EDITOR.CREATE_RULE.HEADERS_RULE={},f.RULE_EDITOR.CREATE_RULE.HEADERS_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+S.CONSTANTS.RULE_TYPES.HEADERS,f.RULE_EDITOR.CREATE_RULE.HEADERS_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+S.CONSTANTS.RULE_TYPES.HEADERS,f.RULE_EDITOR.CREATE_RULE.QUERY_PARAMS_RULE={},f.RULE_EDITOR.CREATE_RULE.QUERY_PARAMS_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+S.CONSTANTS.RULE_TYPES.QUERYPARAM,f.RULE_EDITOR.CREATE_RULE.QUERY_PARAMS_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+S.CONSTANTS.RULE_TYPES.QUERYPARAM,f.RULE_EDITOR.CREATE_RULE.SCRIPT_RULE={},f.RULE_EDITOR.CREATE_RULE.SCRIPT_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+S.CONSTANTS.RULE_TYPES.SCRIPT,f.RULE_EDITOR.CREATE_RULE.SCRIPT_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+S.CONSTANTS.RULE_TYPES.SCRIPT,f.RULE_EDITOR.CREATE_RULE.RESPONSE_RULE={},f.RULE_EDITOR.CREATE_RULE.RESPONSE_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+S.CONSTANTS.RULE_TYPES.RESPONSE,f.RULE_EDITOR.CREATE_RULE.RESPONSE_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+S.CONSTANTS.RULE_TYPES.RESPONSE,f.RULE_EDITOR.CREATE_RULE.USER_AGENT_RULE={},f.RULE_EDITOR.CREATE_RULE.USER_AGENT_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+S.CONSTANTS.RULE_TYPES.USERAGENT,f.RULE_EDITOR.CREATE_RULE.USER_AGENT_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+S.CONSTANTS.RULE_TYPES.USERAGENT,f.RULE_EDITOR.CREATE_RULE.DELAY_RULE={},f.RULE_EDITOR.CREATE_RULE.DELAY_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+S.CONSTANTS.RULE_TYPES.DELAY,f.RULE_EDITOR.CREATE_RULE.DELAY_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+S.CONSTANTS.RULE_TYPES.DELAY,f.RULE_EDITOR.EDIT_RULE={},f.RULE_EDITOR.EDIT_RULE.RELATIVE=f.RULE_EDITOR.RELATIVE+"/"+T.MODES.EDIT,f.RULE_EDITOR.EDIT_RULE.ABSOLUTE=f.RULE_EDITOR.ABSOLUTE+"/"+T.MODES.EDIT,f.MOCK_SERVER={},f.MOCK_SERVER.RELATIVE="/mock-server",f.MOCK_SERVER.ABSOLUTE=m(f.DASHBOARD,f.MOCK_SERVER.RELATIVE),f.MOCK_SERVER.MY_MOCKS={},f.MOCK_SERVER.MY_MOCKS.STUB="/my-mocks",f.MOCK_SERVER.MY_MOCKS.RELATIVE=f.MOCK_SERVER.RELATIVE+f.MOCK_SERVER.MY_MOCKS.STUB,f.MOCK_SERVER.MY_MOCKS.ABSOLUTE=f.MOCK_SERVER.ABSOLUTE+f.MOCK_SERVER.MY_MOCKS.STUB,f.MOCK_SERVER.VIEWER={},f.MOCK_SERVER.VIEWER.STUB="/viewer",f.MOCK_SERVER.VIEWER.RELATIVE=f.MOCK_SERVER.RELATIVE+f.MOCK_SERVER.VIEWER.STUB,f.MOCK_SERVER.VIEWER.ABSOLUTE=f.MOCK_SERVER.ABSOLUTE+f.MOCK_SERVER.VIEWER.STUB,f.MOCK_SERVER.VIEWER.CREATE={},f.MOCK_SERVER.VIEWER.CREATE.STUB="/create",f.MOCK_SERVER.VIEWER.CREATE.RELATIVE=f.MOCK_SERVER.VIEWER.RELATIVE+f.MOCK_SERVER.VIEWER.CREATE.STUB,f.MOCK_SERVER.VIEWER.CREATE.ABSOLUTE=f.MOCK_SERVER.VIEWER.ABSOLUTE+f.MOCK_SERVER.VIEWER.CREATE.STUB,f.FILES={},f.FILES.RELATIVE="/files",f.FILES.ABSOLUTE=m(f.DASHBOARD,f.FILES.RELATIVE),f.FILES.MY_FILES={},f.FILES.MY_FILES.STUB="/my-files",f.FILES.MY_FILES.RELATIVE=f.FILES.RELATIVE+f.FILES.MY_FILES.STUB,f.FILES.MY_FILES.ABSOLUTE=f.FILES.ABSOLUTE+f.FILES.MY_FILES.STUB,f.FILES.VIEWER={},f.FILES.VIEWER.STUB="/viewer",f.FILES.VIEWER.RELATIVE=f.FILES.RELATIVE+f.FILES.VIEWER.STUB,f.FILES.VIEWER.ABSOLUTE=f.FILES.ABSOLUTE+f.FILES.VIEWER.STUB,f.FILES.VIEWER.CREATE={},f.FILES.VIEWER.CREATE.STUB="/create",f.FILES.VIEWER.CREATE.RELATIVE=f.FILES.VIEWER.RELATIVE+f.FILES.VIEWER.CREATE.STUB,f.FILES.VIEWER.CREATE.ABSOLUTE=f.FILES.VIEWER.ABSOLUTE+f.FILES.VIEWER.CREATE.STUB,f.MARKETPLACE={},f.MARKETPLACE.RELATIVE="/marketplace",f.MARKETPLACE.ABSOLUTE=m(f.DASHBOARD,f.MARKETPLACE.RELATIVE),f.SHARED_LISTS={},f.SHARED_LISTS.RELATIVE="/shared-lists",f.SHARED_LISTS.ABSOLUTE=m(f.DASHBOARD,f.SHARED_LISTS.RELATIVE),f.SHARED_LISTS.MY_LISTS={},f.SHARED_LISTS.MY_LISTS.STUB="/my-lists",f.SHARED_LISTS.MY_LISTS.RELATIVE=f.SHARED_LISTS.RELATIVE+f.SHARED_LISTS.MY_LISTS.STUB,f.SHARED_LISTS.MY_LISTS.ABSOLUTE=f.SHARED_LISTS.ABSOLUTE+f.SHARED_LISTS.MY_LISTS.STUB,f.SHARED_LISTS.VIEWER={},f.SHARED_LISTS.VIEWER.STUB="/viewer",f.SHARED_LISTS.VIEWER.RELATIVE=f.SHARED_LISTS.RELATIVE+f.SHARED_LISTS.VIEWER.STUB,f.SHARED_LISTS.VIEWER.ABSOLUTE=f.SHARED_LISTS.ABSOLUTE+f.SHARED_LISTS.VIEWER.STUB,f.UNLOCK_PREMIUM={},f.UNLOCK_PREMIUM.RELATIVE="/unlock-premium",f.UNLOCK_PREMIUM.ABSOLUTE=m(f.DASHBOARD,f.UNLOCK_PREMIUM.RELATIVE),f.REFERRAL={},f.REFERRAL.RELATIVE="/referral",f.REFERRAL.ABSOLUTE=m(f.DASHBOARD,f.REFERRAL.RELATIVE),f.BACKUP={},f.BACKUP.RELATIVE="/backup",f.BACKUP.ABSOLUTE=m(f.DASHBOARD,f.BACKUP.RELATIVE),f.REQUEST_UPGRADE={},f.REQUEST_UPGRADE.RELATIVE="/request-upgrade",f.REQUEST_UPGRADE.ABSOLUTE=m(f.DASHBOARD,f.REQUEST_UPGRADE.RELATIVE),f.PRICING={},f.PRICING.RELATIVE="/pricing",f.PRICING.ABSOLUTE=m(f.DASHBOARD,f.PRICING.RELATIVE),f.LICENSE={},f.LICENSE.RELATIVE="/license",f.LICENSE.ABSOLUTE=m(f.DASHBOARD,f.LICENSE.RELATIVE),f.LICENSE.MANAGE={},f.LICENSE.MANAGE.STUB="/manage",f.LICENSE.MANAGE.RELATIVE=f.LICENSE.RELATIVE+f.LICENSE.MANAGE.STUB,f.LICENSE.MANAGE.ABSOLUTE=f.LICENSE.ABSOLUTE+f.LICENSE.MANAGE.STUB,f.SETTINGS={},f.SETTINGS.RELATIVE="/settings",f.SETTINGS.ABSOLUTE=m(f.DASHBOARD,f.SETTINGS.RELATIVE),f.SETTINGS.REMOTE_RULES={},f.SETTINGS.REMOTE_RULES.STUB="/remote-rules",f.SETTINGS.REMOTE_RULES.RELATIVE=f.SETTINGS.RELATIVE+f.SETTINGS.REMOTE_RULES.STUB,f.SETTINGS.REMOTE_RULES.ABSOLUTE=f.SETTINGS.ABSOLUTE+f.SETTINGS.REMOTE_RULES.STUB,f.SETTINGS.STORAGE_SETTINGS={},f.SETTINGS.STORAGE_SETTINGS.STUB="/storage-settings",f.SETTINGS.STORAGE_SETTINGS.RELATIVE=f.SETTINGS.RELATIVE+f.SETTINGS.STORAGE_SETTINGS.STUB,f.SETTINGS.STORAGE_SETTINGS.ABSOLUTE=f.SETTINGS.ABSOLUTE+f.SETTINGS.STORAGE_SETTINGS.STUB,f.ACCEPT_TEAM_INVITE={},f.ACCEPT_TEAM_INVITE.RELATIVE="/accept-team-invite",f.ACCEPT_TEAM_INVITE.ABSOLUTE=m(f.DASHBOARD,f.ACCEPT_TEAM_INVITE.RELATIVE),f.ACCOUNT={},f.ACCOUNT.RELATIVE="/account",f.ACCOUNT.ABSOLUTE=m(f.DASHBOARD,f.ACCOUNT.RELATIVE),f.ACCOUNT.MY_ACCOUNT={},f.ACCOUNT.MY_ACCOUNT.STUB="/my-account",f.ACCOUNT.MY_ACCOUNT.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.MY_ACCOUNT.STUB,f.ACCOUNT.MY_ACCOUNT.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.MY_ACCOUNT.STUB,f.ACCOUNT.MY_BACKUPS={},f.ACCOUNT.MY_BACKUPS.STUB="/my-backups",f.ACCOUNT.MY_BACKUPS.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.MY_BACKUPS.STUB,f.ACCOUNT.MY_BACKUPS.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.MY_BACKUPS.STUB,f.ACCOUNT.MY_REFERRALS={},f.ACCOUNT.MY_REFERRALS.STUB="/my-referrals",f.ACCOUNT.MY_REFERRALS.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.MY_REFERRALS.STUB,f.ACCOUNT.MY_REFERRALS.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.MY_REFERRALS.STUB,f.ACCOUNT.TEAM={},f.ACCOUNT.TEAM.STUB="/team",f.ACCOUNT.TEAM.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.TEAM.STUB,f.ACCOUNT.TEAM.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.TEAM.STUB,f.ACCOUNT.MY_TEAMS={},f.ACCOUNT.MY_TEAMS.STUB="/my-teams",f.ACCOUNT.MY_TEAMS.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.MY_TEAMS.STUB,f.ACCOUNT.MY_TEAMS.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.MY_TEAMS.STUB,f.ACCOUNT.PERSONAL_SUBSCRIPTION={},f.ACCOUNT.PERSONAL_SUBSCRIPTION.STUB="/personal-subscription",f.ACCOUNT.PERSONAL_SUBSCRIPTION.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.PERSONAL_SUBSCRIPTION.STUB,f.ACCOUNT.PERSONAL_SUBSCRIPTION.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.PERSONAL_SUBSCRIPTION.STUB,f.ACCOUNT.UPDATE_SUBSCRIPTION={},f.ACCOUNT.UPDATE_SUBSCRIPTION.STUB="/update-subscription",f.ACCOUNT.UPDATE_SUBSCRIPTION.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.UPDATE_SUBSCRIPTION.STUB,f.ACCOUNT.UPDATE_SUBSCRIPTION.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.UPDATE_SUBSCRIPTION.STUB,f.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US={},f.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US.STUB="/update-subscription-contact-us",f.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US.STUB,f.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US.STUB,f.ACCOUNT.UPDATE_PAYMENT_METHOD={},f.ACCOUNT.UPDATE_PAYMENT_METHOD.STUB="/update-payment-method",f.ACCOUNT.UPDATE_PAYMENT_METHOD.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.UPDATE_PAYMENT_METHOD.STUB,f.ACCOUNT.UPDATE_PAYMENT_METHOD.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.UPDATE_PAYMENT_METHOD.STUB,f.ACCOUNT.REFRESH_SUBSCRIPTION={},f.ACCOUNT.REFRESH_SUBSCRIPTION.STUB="/refresh-subscription",f.ACCOUNT.REFRESH_SUBSCRIPTION.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.REFRESH_SUBSCRIPTION.STUB,f.ACCOUNT.REFRESH_SUBSCRIPTION.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.REFRESH_SUBSCRIPTION.STUB,f.ACCOUNT.CHECKOUT={},f.ACCOUNT.CHECKOUT.STUB="/checkout",f.ACCOUNT.CHECKOUT.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.CHECKOUT.STUB,f.ACCOUNT.CHECKOUT.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.CHECKOUT.STUB,f.GOODBYE={},f.GOODBYE.RELATIVE="/goodbye",f.GOODBYE.ABSOLUTE=m(f.DASHBOARD,f.GOODBYE.RELATIVE),f.FEEDBACK={},f.FEEDBACK.RELATIVE="/feedback",f.FEEDBACK.ABSOLUTE=m(f.DASHBOARD,f.FEEDBACK.RELATIVE),f.ACCOUNT.SUPPORT={},f.ACCOUNT.SUPPORT.RELATIVE="/support",f.ACCOUNT.SUPPORT.ABSOLUTE=m(f.DASHBOARD,f.ACCOUNT.SUPPORT.RELATIVE),f.AUTH={},f.AUTH.SIGN_IN={},f.AUTH.SIGN_IN.RELATIVE="/signin",f.AUTH.SIGN_IN.ABSOLUTE=m(f.DASHBOARD,f.AUTH.SIGN_IN.RELATIVE),f.AUTH.DEKSTOP_SIGN_IN={},f.AUTH.DEKSTOP_SIGN_IN.RELATIVE="/desktop-sign-in",f.AUTH.DEKSTOP_SIGN_IN.ABSOLUTE=m(f.DASHBOARD,f.AUTH.DEKSTOP_SIGN_IN.RELATIVE),f.AUTH.SIGN_UP={},f.AUTH.SIGN_UP.RELATIVE="/signup",f.AUTH.SIGN_UP.ABSOLUTE=m(f.DASHBOARD,f.AUTH.SIGN_UP.RELATIVE),f.AUTH.FORGOT_PASSWORD={},f.AUTH.FORGOT_PASSWORD.RELATIVE="/forgot",f.AUTH.FORGOT_PASSWORD.ABSOLUTE=m(f.DASHBOARD,f.AUTH.FORGOT_PASSWORD.RELATIVE),f.AUTH.EMAIL_ACTION={},f.AUTH.EMAIL_ACTION.RELATIVE="/emailAction",f.AUTH.EMAIL_ACTION.ABSOLUTE=m(f.DASHBOARD,f.AUTH.EMAIL_ACTION.RELATIVE),f.AUTH.RESET_PASSWORD={},f.AUTH.RESET_PASSWORD.RELATIVE="/resetPassword",f.AUTH.RESET_PASSWORD.ABSOLUTE=m(f.DASHBOARD,f.AUTH.RESET_PASSWORD.RELATIVE),f.AUTH.VERIFY_EMAIL={},f.AUTH.VERIFY_EMAIL.RELATIVE="/verifyEmail",f.AUTH.VERIFY_EMAIL.ABSOLUTE=m(f.DASHBOARD,f.AUTH.VERIFY_EMAIL.RELATIVE),f.AUTH.EMAIL_LINK_SIGNIN={},f.AUTH.EMAIL_LINK_SIGNIN.RELATIVE="/emailLinkSignIn",f.AUTH.EMAIL_LINK_SIGNIN.ABSOLUTE=m(f.DASHBOARD,f.AUTH.EMAIL_LINK_SIGNIN.RELATIVE),f.LEGACY={},f.HASH={},f.HASH.SHARED_LISTS="#sharedList",f.HASH.RULE_EDITOR="#edit",f.LEGACY.FILES_LIBRARY={},f.LEGACY.FILES_LIBRARY.ABSOLUTE="/library",f.LEGACY.PRICING={},f.LEGACY.PRICING.ABSOLUTE="/pricing",f.LEGACY.LICENSE={},f.LEGACY.LICENSE.ABSOLUTE="/license",f.LEGACY.LICENSE.MANAGE={},f.LEGACY.LICENSE.MANAGE.ABSOLUTE=f.LEGACY.LICENSE.ABSOLUTE+"/manage",f.LEGACY.SETTINGS={},f.LEGACY.SETTINGS.ABSOLUTE="/settings",f.LEGACY.SETTINGS.REMOTE_RULES={},f.LEGACY.SETTINGS.REMOTE_RULES.ABSOLUTE=f.LEGACY.SETTINGS.ABSOLUTE+"/remote-rules",f.LEGACY.UNLOCK_PREMIUM={},f.LEGACY.UNLOCK_PREMIUM.ABSOLUTE="/unlock",f.LEGACY.GOODBYE={},f.LEGACY.GOODBYE.ABSOLUTE="/goodbye",f.PAYMENT_SUCCESS={},f.PAYMENT_SUCCESS.RELATIVE="/paymentSuccess",f.PAYMENT_SUCCESS.ABSOLUTE=m(f.LANDING,f.PAYMENT_SUCCESS.RELATIVE),f.PAYMENT_FAIL={},f.PAYMENT_FAIL.RELATIVE="/paymentFail",f.PAYMENT_FAIL.ABSOLUTE=m(f.LANDING,f.PAYMENT_FAIL.RELATIVE),f.APP_MODE={},f.APP_MODE.RELATIVE="/app-mode",f.APP_MODE.ABSOLUTE=m(f.DASHBOARD,f.APP_MODE.RELATIVE),f.DESKTOP={},f.DESKTOP.RELATIVE="/desktop",f.DESKTOP.ABSOLUTE=m(f.DASHBOARD,f.DESKTOP.RELATIVE),f.DESKTOP.MANUAL_SETUP={},f.DESKTOP.MANUAL_SETUP.STUB="/manual-setup",f.DESKTOP.MANUAL_SETUP.RELATIVE=f.DESKTOP.RELATIVE+f.DESKTOP.MANUAL_SETUP.STUB,f.DESKTOP.MANUAL_SETUP.ABSOLUTE=m(f.DESKTOP.ABSOLUTE,f.DESKTOP.MANUAL_SETUP.STUB),f.DESKTOP.MY_APPS={},f.DESKTOP.MY_APPS.STUB="/my-apps",f.DESKTOP.MY_APPS.RELATIVE=f.DESKTOP.RELATIVE+f.DESKTOP.MY_APPS.STUB,f.DESKTOP.MY_APPS.ABSOLUTE=m(f.DESKTOP.ABSOLUTE,f.DESKTOP.MY_APPS.STUB),f.DESKTOP.INTERCEPT_TRAFFIC={},f.DESKTOP.INTERCEPT_TRAFFIC.STUB="/intercept-traffic",f.DESKTOP.INTERCEPT_TRAFFIC.RELATIVE=f.DESKTOP.RELATIVE+f.DESKTOP.INTERCEPT_TRAFFIC.STUB,f.DESKTOP.INTERCEPT_TRAFFIC.ABSOLUTE=m(f.DESKTOP.ABSOLUTE,f.DESKTOP.INTERCEPT_TRAFFIC.STUB),f.PAGE404={},f.PAGE404.RELATIVE="/404",f.PAGE404.ABSOLUTE=f.PAGE404.RELATIVE,f.PAGE403={},f.PAGE403.RELATIVE="/403",f.PAGE403.ABSOLUTE=m(f.LANDING,f.PAGE403.RELATIVE),f.EXTENSION_INSTALLED="/extension-installed";var A=f,R={COLUMN_WIDTHS:[10,50,25,15]},x=n(23),N=n(2),C=function(){return{filters:{},key:S.CONSTANTS.RULE_KEYS.URL,operator:S.CONSTANTS.RULE_OPERATORS.CONTAINS,value:""}},g={Redirect:{ID:1,TYPE:S.CONSTANTS.RULE_TYPES.REDIRECT,NAME:"Redirect Request",DESCRIPTION:"Redirect a request URL",ICON:function(){return Object(N.jsx)(x.B,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#5b9027",SECONDARY_COLOR:"#4E7C22",TOOL_TIP_PLACEMENT:"top",PAIR_CONFIG:{TITLE:"Rule Conditions"},EMPTY_PAIR_FORMAT:{destination:"",source:C()},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!0,ALLOW_APPLY_RULE_TO_ALL_URLS:!1,ALLOW_REQUEST_SOURCE_FILTERS:!0},Cancel:{ID:2,TYPE:S.CONSTANTS.RULE_TYPES.CANCEL,NAME:"Cancel Request",DESCRIPTION:"Block URLs by specifying keywords or entire URL",ICON:function(){return Object(N.jsx)(x.a,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#d32a0e",SECONDARY_COLOR:"#BB250C",TOOL_TIP_PLACEMENT:"top",PAIR_CONFIG:{TITLE:"Enter Keywords or URLs or Domains to be blocked"},EMPTY_PAIR_FORMAT:{source:C()},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!0,ALLOW_APPLY_RULE_TO_ALL_URLS:!1,ALLOW_REQUEST_SOURCE_FILTERS:!0},Replace:{ID:3,TYPE:S.CONSTANTS.RULE_TYPES.REPLACE,NAME:"Replace String",DESCRIPTION:"Replace parts of URL like hostname, query value",ICON:function(){return Object(N.jsx)(x.n,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#2aa5e7",SECONDARY_COLOR:"#199ADE",TOOL_TIP_PLACEMENT:"top",PAIR_CONFIG:{TITLE:"Enter the part of URL that needs to be replaced"},EMPTY_PAIR_FORMAT:{from:"",to:"",source:C()},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!1,ALLOW_APPLY_RULE_TO_ALL_URLS:!0,ALLOW_REQUEST_SOURCE_FILTERS:!0},Headers:{ID:4,TYPE:S.CONSTANTS.RULE_TYPES.HEADERS,NAME:"Modify Headers",DESCRIPTION:"Modify HTTP headers in request and response",ICON:function(){return Object(N.jsx)(x.s,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#dd9d12",SECONDARY_COLOR:"#C58C10",TOOL_TIP_PLACEMENT:"top",PAIR_CONFIG:{TITLE:"Headers Modification Rules"},EMPTY_PAIR_FORMAT:{header:"",value:"",type:"Add",target:"Request",source:C()},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!1,ALLOW_APPLY_RULE_TO_ALL_URLS:!0,ALLOW_REQUEST_SOURCE_FILTERS:!0},QueryParam:{ID:5,TYPE:S.CONSTANTS.RULE_TYPES.QUERYPARAM,NAME:"Query Param",DESCRIPTION:"Add or Remove Query Parameters",ICON:function(){return Object(N.jsx)(x.A,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#AA66CC",SECONDARY_COLOR:"#9F53C6",TOOL_TIP_PLACEMENT:"bottom",PAIR_CONFIG:{TITLE:"Query Parameter Modifications"},EMPTY_PAIR_FORMAT:{modifications:[],source:C()},EMPTY_MODIFICATION_FORMAT:{actionWhenParamExists:S.CONSTANTS.RULE_KEYS.OVERWRITE,param:"",type:"Add",value:""},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!0,ALLOW_APPLY_RULE_TO_ALL_URLS:!0,ALLOW_REQUEST_SOURCE_FILTERS:!0},Script:{ID:6,TYPE:S.CONSTANTS.RULE_TYPES.SCRIPT,NAME:"Insert Scripts",DESCRIPTION:"Add custom JS / CSS to any website",ICON:function(){return Object(N.jsx)(x.f,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#444340",SECONDARY_COLOR:"#373634",TOOL_TIP_PLACEMENT:"bottom",PAIR_CONFIG:{TITLE:"Insert Scripts"},EMPTY_PAIR_FORMAT:{libraries:[],source:C(),scripts:[]},EMPTY_SCRIPT_FORMAT:{codeType:"js",fileName:"",loadTime:"afterPageLoad",type:"url",value:""},ALLOW_ADD_PAIR:!1,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!1,ALLOW_APPLY_RULE_TO_ALL_URLS:!0,ALLOW_REQUEST_SOURCE_FILTERS:!1,CUSTOM_SCRIPT_CHARACTER_LIMIT:5000},Response:{ID:7,TYPE:S.CONSTANTS.RULE_TYPES.RESPONSE,NAME:"Modify Response",DESCRIPTION:"Modify AJAX response",ICON:function(){return Object(N.jsx)(x.g,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#880e4f",SECONDARY_COLOR:"#710C42",TOOL_TIP_PLACEMENT:"bottom",PAIR_CONFIG:{TITLE:"Modify response of an AJAX request"},EMPTY_PAIR_FORMAT:{source:C(),response:{type:"static",value:""}},ALLOW_ADD_PAIR:!1,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!1,ALLOW_APPLY_RULE_TO_ALL_URLS:!1,ALLOW_REQUEST_SOURCE_FILTERS:!0,RESPONSE_BODY_CHARACTER_LIMIT:1500,RESPONSE_BODY_JAVASCRIPT_DEFAULT_VALUE:"function modifyResponse(args) {\n  const {method, url, response, responseType, requestHeaders, requestData} = args;\n  // Change response below depending upon request attributes received in args\n  \n  return response;\n}"},UserAgent:{ID:8,TYPE:S.CONSTANTS.RULE_TYPES.USERAGENT,NAME:"User-Agent",DESCRIPTION:"Emulate for different devices by varying user-agent",ICON:function(){return Object(N.jsx)(x.J,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#2bbbad",SECONDARY_COLOR:"#26A69A",TOOL_TIP_PLACEMENT:"bottom",PAIR_CONFIG:{TITLE:"Rule Conditions"},EMPTY_PAIR_FORMAT:{source:C(),env:"",envType:""},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!0,ALLOW_APPLY_RULE_TO_ALL_URLS:!0,ALLOW_REQUEST_SOURCE_FILTERS:!0},Delay:{ID:9,TYPE:S.CONSTANTS.RULE_TYPES.DELAY,NAME:"Delay Network Requests",DESCRIPTION:"Delay a request URL",ICON:function(){return Object(N.jsx)(x.E,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#68ce35",SECONDARY_COLOR:"#5ab52d",TOOL_TIP_PLACEMENT:"bottom",PAIR_CONFIG:{TITLE:"Enter Request URL Pattern"},EMPTY_PAIR_FORMAT:{source:C(),delay:"100"},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!0,ALLOW_APPLY_RULE_TO_ALL_URLS:!1,ALLOW_REQUEST_SOURCE_FILTERS:!0}},_={GROUP_RULES:"group_rules",GROUP_DETAILS:"group_details",UNGROUPED_GROUP_ID:"",UNGROUPED_GROUP_NAME:"Ungrouped",COLUMN_WIDTHS:[6,6,8,30,11,20,19]},I={COLUMN_WIDTHS:[8,22,35,20,15]},L={COLUMN_WIDTHS:[27,50,13,10],MODES:{REGULAR:"regular",FILE_PICKER:"filePicker"}},y={PRIMARY_COLOR:"#0a48b3",BTN_BGCOLOR_PRIMARY:"#f8f9fa",BTN_FONT_COLOR_PRIMARY:"#393f49",BTN_FONT_COLOR_HOVER:"#FFFFFF",BTN_COLOR_IN_ROW:"#465e74",ICON_COLOR_ON_HOVER:"#525f7f"},v={ACTION_LABELS:{}};v.ACTION_LABELS.LOG_IN="LOG IN",v.ACTION_LABELS.SIGN_UP="SIGN UP",v.ACTION_LABELS.REQUEST_RESET_PASSWORD="REQUEST RESET PASSWORD",v.ACTION_LABELS.DO_RESET_PASSWORD="DO RESET PASSWORD";var U=v,P=[{label:"Albania",value:"AL"},{label:"Algeria",value:"DZ"},{label:"Argentina",value:"AR"},{label:"Australia",value:"AU"},{label:"Austria",value:"AT"},{label:"Bahamas",value:"BS"},{label:"Bangladesh",value:"BD"},{label:"Belgium",value:"BE"},{label:"Benin",value:"BJ"},{label:"Bhutan",value:"BT"},{label:"Bolivia",value:"BO"},{label:"Brazil",value:"BR"},{label:"Bulgaria",value:"BG"},{label:"Cambodia",value:"KH"},{label:"Cameroon",value:"CM"},{label:"Canada",value:"CA"},{label:"Chile",value:"CL"},{label:"China",value:"CN"},{label:"Colombia",value:"CO"},{label:"Costa Rica",value:"CR"},{label:"Cuba",value:"CU"},{label:"Cyprus",value:"CY"},{label:"Czechia",value:"CZ"},{label:"Denmark",value:"DK"},{label:"Dominica",value:"DM"},{label:"Dominican Republic ",value:"DO"},{label:"Egypt",value:"EG"},{label:"Ethiopia",value:"ET"},{label:"Fiji",value:"FJ"},{label:"Finland",value:"FI"},{label:"France",value:"FR"},{label:"Georgia",value:"GE"},{label:"Germany",value:"DE"},{label:"Ghana",value:"GH"},{label:"Greece",value:"GR"},{label:"Greenland",value:"GL"},{label:"Hong Kong",value:"HK"},{label:"Hungary",value:"HU"},{label:"Iceland",value:"IS"},{label:"India",value:"IN"},{label:"Indonesia",value:"ID"},{label:"Iran",value:"IR"},{label:"Iraq",value:"IQ"},{label:"Ireland",value:"IE"},{label:"Israel",value:"IL"},{label:"Italy",value:"IT"},{label:"Jamaica",value:"JM"},{label:"Japan",value:"JP"},{label:"Kazakhstan",value:"KZ"},{label:"Kenya",value:"KE"},{label:"Korea",value:"KP"},{label:"Kuwait",value:"KW"},{label:"Kyrgyzstan",value:"KG"},{label:"Latvia",value:"LV"},{label:"Lebanon",value:"LB"},{label:"Lesotho",value:"LS"},{label:"Liberia",value:"LR"},{label:"Libya",value:"LY"},{label:"Lithuania",value:"LT"},{label:"Luxembourg",value:"LU"},{label:"Malaysia",value:"MY"},{label:"Maldives",value:"MV"},{label:"Mali",value:"ML"},{label:"Malta",value:"MT"},{label:"Marshall Islands ",value:"MH"},{label:"Martinique",value:"MQ"},{label:"Mauritania",value:"MR"},{label:"Mauritius",value:"MU"},{label:"Mayotte",value:"YT"},{label:"Mexico",value:"MX"},{label:"Monaco",value:"MC"},{label:"Mongolia",value:"MN"},{label:"Montenegro",value:"ME"},{label:"Montserrat",value:"MS"},{label:"Morocco",value:"MA"},{label:"Mozambique",value:"MZ"},{label:"Myanmar",value:"MM"},{label:"Namibia",value:"NA"},{label:"Nauru",value:"NR"},{label:"Nepal",value:"NP"},{label:"Netherlands ",value:"NL"},{label:"New Caledonia",value:"NC"},{label:"New Zealand",value:"NZ"},{label:"Nicaragua",value:"NI"},{label:"Niger ",value:"NE"},{label:"Nigeria",value:"NG"},{label:"Niue",value:"NU"},{label:"Norfolk Island",value:"NF"},{label:"Northern Mariana Islands ",value:"MP"},{label:"Norway",value:"NO"},{label:"Oman",value:"OM"},{label:"Pakistan",value:"PK"},{label:"Palau",value:"PW"},{label:"Palestine, State of",value:"PS"},{label:"Panama",value:"PA"},{label:"Papua New Guinea",value:"PG"},{label:"Paraguay",value:"PY"},{label:"Peru",value:"PE"},{label:"Philippines ",value:"PH"},{label:"Pitcairn",value:"PN"},{label:"Poland",value:"PL"},{label:"Portugal",value:"PT"},{label:"Puerto Rico",value:"PR"},{label:"Qatar",value:"QA"},{label:"Republic of North Macedonia",value:"MK"},{label:"Romania",value:"RO"},{label:"Russian Federation ",value:"RU"},{label:"Rwanda",value:"RW"},{label:"R\xe9union",value:"RE"},{label:"Saint Barth\xe9lemy",value:"BL"},{label:"Saint Helena, Ascension and Tristan da Cunha",value:"SH"},{label:"Saint Kitts and Nevis",value:"KN"},{label:"Saint Lucia",value:"LC"},{label:"Saint Martin (French part)",value:"MF"},{label:"Saint Pierre and Miquelon",value:"PM"},{label:"Saint Vincent and the Grenadines",value:"VC"},{label:"Samoa",value:"WS"},{label:"San Marino",value:"SM"},{label:"Sao Tome and Principe",value:"ST"},{label:"Saudi Arabia",value:"SA"},{label:"Senegal",value:"SN"},{label:"Serbia",value:"RS"},{label:"Seychelles",value:"SC"},{label:"Sierra Leone",value:"SL"},{label:"Singapore",value:"SG"},{label:"Sint Maarten (Dutch part)",value:"SX"},{label:"Slovakia",value:"SK"},{label:"Slovenia",value:"SI"},{label:"Solomon Islands",value:"SB"},{label:"Somalia",value:"SO"},{label:"South Africa",value:"ZA"},{label:"South Georgia and the South Sandwich Islands",value:"GS"},{label:"South Sudan",value:"SS"},{label:"Spain",value:"ES"},{label:"Sri Lanka",value:"LK"},{label:"Sudan ",value:"SD"},{label:"Suriname",value:"SR"},{label:"Svalbard and Jan Mayen",value:"SJ"},{label:"Sweden",value:"SE"},{label:"Switzerland",value:"CH"},{label:"Syrian Arab Republic",value:"SY"},{label:"Taiwan (Province of China)",value:"TW"},{label:"Tajikistan",value:"TJ"},{label:"Tanzania",value:"TZ"},{label:"Thailand",value:"TH"},{label:"Timor-Leste",value:"TL"},{label:"Togo",value:"TG"},{label:"Tokelau",value:"TK"},{label:"Tonga",value:"TO"},{label:"Trinidad and Tobago",value:"TT"},{label:"Tunisia",value:"TN"},{label:"Turkey",value:"TR"},{label:"Turkmenistan",value:"TM"},{label:"Turks and Caicos Islands ",value:"TC"},{label:"Tuvalu",value:"TV"},{label:"Uganda",value:"UG"},{label:"Ukraine",value:"UA"},{label:"United Arab Emirates ",value:"AE"},{label:"United Kingdom",value:"GB"},{label:"United States",value:"US"},{label:"Uruguay",value:"UY"},{label:"Uzbekistan",value:"UZ"},{label:"Vanuatu",value:"VU"},{label:"Venezuela (Bolivarian Republic of)",value:"VE"},{label:"Viet Nam",value:"VN"},{label:"Virgin Islands (British)",value:"VG"},{label:"Virgin Islands (U.S.)",value:"VI"},{label:"Wallis and Futuna",value:"WF"},{label:"Western Sahara",value:"EH"},{label:"Yemen",value:"YE"},{label:"Zambia",value:"ZM"},{label:"Zimbabwe",value:"ZW"}],D={PLAN_NAMES:{}};D.PLAN_NAMES.BRONZE="bronze",D.PLAN_NAMES.SILVER="silver",D.PLAN_NAMES.GOLD="gold",D.PLAN_NAMES.ENTERPRISE="enterprise",D.COUNTRY_CODES=P;var w=D,M={MODES:{CHECK_LIMIT:"check_limit",CHECK_IF_ENABLED:"check_if_enabled"}},k=M,G={PERSONAL:[]};G.PERSONAL.push("gmail.com"),G.PERSONAL.push("hotmail.com"),G.PERSONAL.push("yahoo.com"),G.PERSONAL.push("outlook.com"),G.PERSONAL.push("googlemail.com"),G.PERSONAL.push("protonmail.com"),G.PERSONAL.push("yandex.mail"),G.PERSONAL.push("yandex.ru"),G.PERSONAL.push("mail.ru"),G.PERSONAL.push("bk.ru"),G.PERSONAL.push("qq.com"),G.DESTROYABLE=[],G.DESTROYABLE.push("mailinator.com"),G.DESTROYABLE.push("yopmail.com"),G.DESTROYABLE.push("eoopy.com"),G.DESTROYABLE.push("ttirv.com");var F=G,B={};B.reactSelectCustomStyles={option:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{border:"none"})},control:function(e){return Object(j.a)(Object(j.a)({},e),{},{border:"0",marginTop:"3%",boxShadow:"0 1px 3px rgb(50 50 93 / 15%), 0 1px 0 rgb(0 0 0 / 2%)",fontSize:"0.875rem"})}};var V=B,Y={DISMISS_PROXY_INFO_BANNER:"DISMISS_PROXY_INFO_BANNER"},H=Y,K={};K.FEATURES=b,K.PRICING=w,K.MIGRATED_TO_NEW_UI="migrated-to-new-ui",K.STORAGE_MIGRATED_TO_LOCAL="storage-migrated-to-local",K.LAST_BACKUP_TIMESTAMP="last-backup-timestamp",K.LAST_SYNC_TIMESTAMP="last-synced-on",K.RQ_SETTINGS="rq_settings",K.LINKS=p,K.STYLES=V,K.RULE_EDITOR_CONFIG=T,K.PATHS=A,K.RULE_TYPES_CONFIG=g,K.RULES_LIST_TABLE_CONSTANTS=_,K.SHARED_LISTS_TABLE_CONSTANTS=I,K.MARKETPLACE_TABLE_CONSTANTS=R,K.FILES_TABLE_CONSTANTS=L,K.THEME_COLORS=y,K.AUTH=U,K.LIMIT_REACHED_MODAL=k,K.NOTIFICATION_DURATION=2e3,K.DELAY_COMPATIBILITY_VERSION="21.06.04",K.MOCK_RESPONSE_BODY_CHARACTER_LIMIT=8e5,K.BETA="beta",K.LOCAL="local",K.PROD="prod",K.EMAIL_DOMAINS=F,K.COOKIES=H;var W=K,q=W.RULES_LIST_TABLE_CONSTANTS,Q={UPDATE_USER_INFO:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{user:{loggedIn:t.payload.loggedIn,details:t.payload.details}})},UPDATE_APP_MODE:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{appMode:t.payload.appMode?t.payload.appMode:e.appMode})},UPDATE_SEARCH:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{search:Object(j.a)(Object(j.a)({},e.search),{},Object(O.a)({},t.payload.searchType,t.payload.value))})},TOGGLE_ACTIVE_MODAL:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{activeModals:Object(j.a)(Object(j.a)({},e.activeModals),{},Object(O.a)({},t.payload.modalName,{isActive:"undefined"!==typeof t.payload.newValue?t.payload.newValue:!e.activeModals[t.payload.modalName].isActive,props:t.payload.newProps||e.activeModals[t.payload.modalName].props}))})},UPDATE_BACKUP_INFO:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{lastBackupTimeStamp:t.payload})})},UPDATE_GROUPS:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{allRules:Object(j.a)(Object(j.a)({},e.rules.allRules),{},{groups:t.payload})})})},UPDATE_RULES_AND_GROUPS:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{allRules:{rules:t.payload.rules,groups:t.payload.groups}})})},UPDATE_RULES_TO_POPULATE:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{rulesToPopulate:t.payload})})},UPDATE_GROUPWISE_RULES_TO_POPULATE:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{groupwiseRulesToPopulate:t.payload})})},TOGGLE_SELECTED_RULE:function(e,t){var n=e.rules.selectedRules[t.payload.ruleId];return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{selectedRules:Object(j.a)(Object(j.a)({},e.rules.selectedRules),{},Object(O.a)({},t.payload.ruleId,!n))})})},SET_SELECTED_RULES:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{selectedRules:t.payload})})},SET_SELECT_ALL_RULES_OF_A_GROUP:function(e,t){var n=t.payload.groupId,a=e.rules.groupwiseRulesToPopulate[n][q.GROUP_RULES],r={};return a.forEach((function(e){r[e.id]=t.payload.newValue})),Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{selectedRules:Object(j.a)(Object(j.a)({},e.rules.selectedRules),r)})})},CLEAR_SELECTED_RULES:function(e){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{selectedRules:{}})})},UPDATE_CURRENTLY_SELECTED_RULE_DATA:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{currentlySelectedRule:Object(j.a)(Object(j.a)({},e.rules.currentlySelectedRule),{},{data:t.payload})})})},UPDATE_CURRENTLY_SELECTED_RULE_CONFIG:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{currentlySelectedRule:Object(j.a)(Object(j.a)({},e.rules.currentlySelectedRule),{},{config:t.payload})})})},CLEAR_CURRENTLY_SELECTED_RULE_AND_CONFIG:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{currentlySelectedRule:{config:!1,data:!1}})})},UPDATE_REFRESH_PENDING_STATUS:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{pendingRefresh:Object(j.a)(Object(j.a)({},e.pendingRefresh),{},Object(O.a)({},t.payload.type,t.payload.newValue?t.payload.newValue:!e.pendingRefresh[t.payload.type]))})},SELECT_ALL_RULES:function(e,t){var n=t.payload.newValue,a={};return e.rules.rulesToPopulate.forEach((function(e){a[e.id]=n})),Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{selectedRules:a})})},UPDATE_SELECTED_SHARED_LISTS:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{sharedLists:Object(j.a)(Object(j.a)({},e.sharedLists),{},{selectedLists:t.payload})})},UPDATE_MARKETPLACE_RULES:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{marketplace:Object(j.a)(Object(j.a)({},e.marketplace),{},{ruleStatus:Object(j.a)(Object(j.a)({},e.marketplace.ruleStatus),t.payload)})})},TOGGLE_MARKETPLACE_RULES:function(e,t){var n=e.marketplace.ruleStatus[t.payload];return Object(j.a)(Object(j.a)({},e),{},{marketplace:Object(j.a)(Object(j.a)({},e.marketplace),{},{ruleStatus:Object(j.a)(Object(j.a)({},e.marketplace.ruleStatus),{},Object(O.a)({},t.payload,n===S.CONSTANTS.RULE_STATUS.ACTIVE?S.CONSTANTS.RULE_STATUS.INACTIVE:S.CONSTANTS.RULE_STATUS.ACTIVE))})})},UPDATE_DESKTOP_SPECIFIC_DETAILS:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{desktopSpecificDetails:Object(j.a)(Object(j.a)({},e.desktopSpecificDetails),t.payload)})}},z=n(574),X={user:{loggedIn:!1,details:!1},appMode:S.CONSTANTS.APP_MODES.EXTENSION,rules:{allRules:{rules:[],groups:[]},currentlySelectedRule:{data:!1,config:!1},rulesToPopulate:[],groupwiseRulesToPopulate:{},selectedRules:{},lastBackupTimeStamp:""},search:{rules:"",files:"",sharedLists:"",marketplace:""},pendingRefresh:{rules:!1,sharedLists:!1},sharedLists:{selectedLists:!1},activeModals:{loadingModal:{isActive:!1,props:{}},authModal:{isActive:!1,props:{}},renameGroupModal:{isActive:!1,props:{}},extensionModal:{isActive:!1,props:{}}},marketplace:{ruleStatus:{}},desktopSpecificDetails:{isBackgroundProcessActive:!1,isProxyServerRunning:!1,proxyPort:8080,appsList:z,availableAppsScanned:!1}},J=Object(c.createContext)(X),Z=J.Provider,$=function(e){var t=e.children,n=Object(c.useReducer)((function(e,t){switch(t.type){case d.UPDATE_USER_INFO:return Q.UPDATE_USER_INFO(e,t);case d.UPDATE_APP_MODE:return Q.UPDATE_APP_MODE(e,t);case d.UPDATE_SEARCH:return Q.UPDATE_SEARCH(e,t);case d.TOGGLE_ACTIVE_MODAL:return Q.TOGGLE_ACTIVE_MODAL(e,t);case d.UPDATE_SELECTED_SHARED_LISTS:return Q.UPDATE_SELECTED_SHARED_LISTS(e,t);case d.UPDATE_BACKUP_INFO:return Q.UPDATE_BACKUP_INFO(e,t);case d.UPDATE_GROUPS:return Q.UPDATE_GROUPS(e,t);case d.UPDATE_RULES_AND_GROUPS:return Q.UPDATE_RULES_AND_GROUPS(e,t);case d.UPDATE_RULES_TO_POPULATE:return Q.UPDATE_RULES_TO_POPULATE(e,t);case d.UPDATE_GROUPWISE_RULES_TO_POPULATE:return Q.UPDATE_GROUPWISE_RULES_TO_POPULATE(e,t);case d.UPDATE_REFRESH_PENDING_STATUS:return Q.UPDATE_REFRESH_PENDING_STATUS(e,t);case d.TOGGLE_SELECTED_RULE:return Q.TOGGLE_SELECTED_RULE(e,t);case d.SET_SELECTED_RULES:return Q.SET_SELECTED_RULES(e,t);case d.SET_SELECT_ALL_RULES_OF_A_GROUP:return Q.SET_SELECT_ALL_RULES_OF_A_GROUP(e,t);case d.CLEAR_SELECTED_RULES:return Q.CLEAR_SELECTED_RULES(e);case d.UPDATE_CURRENTLY_SELECTED_RULE_DATA:return Q.UPDATE_CURRENTLY_SELECTED_RULE_DATA(e,t);case d.UPDATE_CURRENTLY_SELECTED_RULE_CONFIG:return Q.UPDATE_CURRENTLY_SELECTED_RULE_CONFIG(e,t);case d.CLEAR_CURRENTLY_SELECTED_RULE_AND_CONFIG:return Q.CLEAR_CURRENTLY_SELECTED_RULE_AND_CONFIG(e,t);case d.SELECT_ALL_RULES:return Q.SELECT_ALL_RULES(e,t);case d.UPDATE_MARKETPLACE_RULES:return Q.UPDATE_MARKETPLACE_RULES(e,t);case d.TOGGLE_MARKETPLACE_RULES:return Q.TOGGLE_MARKETPLACE_RULES(e,t);case d.UPDATE_DESKTOP_SPECIFIC_DETAILS:return Q.UPDATE_DESKTOP_SPECIFIC_DETAILS(e,t);default:throw new Error}}),X),a=Object(u.a)(n,2),r=a[0],s=a[1];return Object(N.jsx)(Z,{value:{state:r,dispatch:s},children:t})},ee=n(13),te=n.n(ee),ne=n(28),ae=n(35),re=n(36),ce=n.n(re),se=n(263),ie=n(944),oe=n(945),le=n(946),ue=n(947),de=n(948),Oe=n(949),je=n(950),Ee=(n(575),n(577),n(938),n(939),n(940),se.a),be=n(327),Se=function(e){return Object(N.jsx)(ie.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:Object(N.jsx)(oe.a,{style:{background:"transparent"},className:"text-center",children:Object(N.jsx)(be.a,{})})})},pe=n(74),he=W.PATHS,Te=W.LINKS,me=function(e,t){t?window.location.href=he.RULES.ABSOLUTE:e.push(he.RULES.ABSOLUTE)},fe=function(e,t){e.push("".concat(he.RULE_EDITOR.EDIT_RULE.ABSOLUTE,"/").concat(t))},Ae=function(e,t,n){var a=n.replace(new RegExp(" +|/+","g"),"-").replace(/-+/g,"-");e.push("".concat(he.SHARED_LISTS.VIEWER.ABSOLUTE,"/").concat(t,"-").concat(a))},Re=function(e){e.push(he.MOCK_SERVER.ABSOLUTE)},xe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.push({pathname:he.MOCK_SERVER.VIEWER.ABSOLUTE+"/".concat(t),state:n?{mockUrl:n}:null})},Ne=function(e){e.push(he.MOCK_SERVER.VIEWER.CREATE.ABSOLUTE)},Ce=function(e){e.push(he.AUTH.FORGOT_PASSWORD.ABSOLUTE)},ge=function(e){e.push(he.PRICING.ABSOLUTE)},_e=function(e,t){t?window.location.href=he.ACCOUNT.ABSOLUTE:e.push(he.ACCOUNT.ABSOLUTE)},Ie=function(e,t,n,a){var r=new URL(window.location.href);r.pathname=he.ACCOUNT.TEAM.ABSOLUTE+"/".concat(t),a&&r.searchParams.set("autoRefresh","true"),n?window.location=r.href:e.push(r.pathname+r.search)},Le=function(e,t){t?window.location.href=he.ACCOUNT.MY_TEAMS.ABSOLUTE:e.push(he.ACCOUNT.MY_TEAMS.ABSOLUTE)},ye=function(e,t,n){var a=new URL(window.location.href);a.pathname=he.ACCOUNT.PERSONAL_SUBSCRIPTION.ABSOLUTE,n&&a.searchParams.set("autoRefresh","true"),t?window.location=a.href:e.push(a.pathname+a.search)},ve=function(e){var t=e.mode,n=e.teamId,a=e.planType,r=e.days,c=new URL(window.location.href);c.pathname=he.ACCOUNT.CHECKOUT.ABSOLUTE,c.searchParams.set("m",t),"team"===t&&c.searchParams.set("t",n),c.searchParams.set("p",a),c.searchParams.set("d",r),window.location=c.href},Ue=function(e){var t=e.mode,n=e.teamId,a=e.planType,r=e.isRenewal,c=new URL(window.location.href);c.pathname=he.ACCOUNT.UPDATE_SUBSCRIPTION.ABSOLUTE,c.searchParams.set("m",t),"team"===t&&c.searchParams.set("t",n),c.searchParams.set("p",a),r&&c.searchParams.set("r",!0),window.location=c.href},Pe=function(e){var t=e.mode,n=e.teamId,a=new URL(window.location.href);a.pathname=he.ACCOUNT.UPDATE_PAYMENT_METHOD.ABSOLUTE,a.searchParams.set("m",t),"team"===t&&a.searchParams.set("t",n),window.location=a.href},De=function(e){var t="?ref=stripe&paymentId=5357551a-e2d7";e&&"string"===typeof e&&(t=t.concat("err="+e)),window.location.href=he.PAYMENT_FAIL.ABSOLUTE+t},we=function(e,t){t?window.location.href=he.ONBOARDING.ABSOLUTE:e.push(he.ONBOARDING.ABSOLUTE)},Me=function(e,t){t?window.location.href=he.PAGE404.ABSOLUTE:e.push(he.PAGE404.ABSOLUTE)},ke=function(e,t){t?window.location.href=he.PAGE403.ABSOLUTE:e.push(he.PAGE403.ABSOLUTE)},Ge=n(244),Fe={};Ge.b.config({maxCount:2}),Fe.success=function(e){Ge.b.success(e)},Fe.info=function(e){Ge.b.info(e)},Fe.error=function(e){Ge.b.error(e)},Fe.warn=function(e){Ge.b.warn(e)};var Be=n(176),Ve=function(e){if(!e||Object(pe.isEmpty)(e)||"string"!==typeof e)throw new Error("Cant parse the invite code");return e.replace(/\//g,"").replace(/\\/g,"")},Ye=function(){var e=Object(ae.g)(),t=Object(c.useRef)(!0),n=new URLSearchParams(window.location.search).get("code"),a=Object(c.useState)(!0),r=Object(u.a)(a,2),i=r[0],o=r[1],l=Object(c.useState)(!0),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useState)(!1),b=Object(u.a)(E,2),S=b[0],p=b[1],h=Object(c.useState)(""),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useCallback)((function(){o(!0),Ee.functions().httpsCallable("getTeamInvite")({inviteCode:Ve(n)}).then((function(e){if(!t.current)return null;var n=e.data;n.success?(j(!0),f(n.teamName)):j(!1),o(!1)})).catch((function(e){if(!t.current)return null;console.log(e.message),j(!1),o(!1)}))}),[n]),R=function(){p(!0),Ee.functions().httpsCallable("acceptTeamInvite")({inviteCode:Ve(n)}).then((function(n){if(!t.current)return null;var a=n.data;p(!1),a.success?(Fe.info("You have been added to the team"),_e(e,!0)):Fe.warn(a.message)})).catch((function(e){if(!t.current)return null;Fe.warn(e.message)}))};return Object(c.useEffect)((function(){return!n||Object(pe.isEmpty)(n)?(j(!1),o(!1)):A(),function(){t.current=!1}}),[n,A]),Object(N.jsx)(ue.a,{className:" mt--7",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(Oe.a,{className:" shadow",children:Object(N.jsx)(je.a,{children:Object(N.jsx)(de.a,{children:i?Object(N.jsx)(Se,{customLoadingMessage:"Verifying invite"}):O?!m||Object(pe.isEmpty)(m)?Object(N.jsx)(N.Fragment,{}):Object(N.jsx)(ie.a,{children:Object(N.jsxs)(oe.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsxs)("h4",{children:["You have been invited to join the team:"," ",Object(N.jsx)("span",{style:{textTransform:"capitalize"},children:m})," "]}),S?Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("br",{}),Object(N.jsxs)("h5",{children:[Object(N.jsx)(x.o,{color:"orange"})," This process may take a few seconds. Do not close this page."]})]}):null,Object(N.jsx)("br",{}),Object(N.jsxs)(le.a,{className:"btn-icon btn-3",color:"primary",type:"button",disabled:S,onClick:R,children:[Object(N.jsx)("span",{className:"btn-inner--icon",children:Object(N.jsx)("b",{children:S?Object(N.jsx)(Be.a,{className:"icon-spin"}):Object(N.jsx)(x.P,{})})}),Object(N.jsx)("span",{className:"btn-inner--text",children:S?"Accepting":"Accept Invite"})]}),Object(N.jsxs)(le.a,{className:"btn-icon btn-3",color:"primary",outline:!0,type:"button",disabled:S,onClick:function(){return _e(e)},children:[Object(N.jsx)("span",{className:"btn-inner--icon",children:Object(N.jsx)("b",{children:Object(N.jsx)(x.Q,{})})}),Object(N.jsx)("span",{className:"btn-inner--text",children:"Ignore Invite"})]})]})}):Object(N.jsx)(ie.a,{children:Object(N.jsxs)(oe.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h4",{children:"This invite has either been expired or is not meant for you. Please ask the team owner to add you directly."}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsxs)("h4",{children:["Click"," ",Object(N.jsx)("span",{className:"cursor-pointer",onClick:function(){return _e(e)},children:"here"})," ","to go back to account settings."]})]})})})})})})})})},He=n(241),Ke=function(e){return e.rules},We=function(e){return Ke(e).allRules},qe=function(e){return We(e).rules},Qe=function(e){var t=function(e){return qe(e).filter((function(e){return"MKTRuleID"in e}))}(e);return t.filter((function(e,t,n){return n.findIndex((function(t){return t.MKTRuleID===e.MKTRuleID}))===t}))},ze=function(e){return We(e).groups},Xe=function(e){return Ke(e).groupwiseRulesToPopulate},Je=function(e){return Ke(e).selectedRules},Ze=function(e){return Ke(e).currentlySelectedRule},$e=function(e){return Ze(e).data},et=function(e){return e.user},tt=function(e){return e.search},nt=function(e){return e.pendingRefresh},at=function(e){return nt(e).rules},rt=function(e){return e.activeModals},ct=function(e){return e.appMode},st=function(e){return e.desktopSpecificDetails},it=n(177),ot=n(304),lt=it,ut=ot,dt=function(e){return!!(e&&e.loggedIn&&e.details.planDetails)&&("referral"===e.details.planDetails.type?jt(e.details.planDetails.planId)&&!pt(e.details.planDetails):"active"===e.details.planDetails.status&&jt(e.details.planDetails.planId)&&!pt(e.details.planDetails))},Ot=function(e){return e&&jt(e.planId)&&!pt(e)&&("active"===e.status||"referral"===e.type)},jt=function(e){if(!e)return!1;var t=e.split("_")[0];return t===W.PRICING.PLAN_NAMES.SILVER||t===W.PRICING.PLAN_NAMES.GOLD||t===W.PRICING.PLAN_NAMES.ENTERPRISE},Et=function(e){return!!e&&e.split("_")[0]===W.PRICING.PLAN_NAMES.ENTERPRISE},bt=function(e){if(!e)return" ";var t=e.split("_")[0];return t===W.PRICING.PLAN_NAMES.BRONZE?"Free":t===W.PRICING.PLAN_NAMES.SILVER||t===W.PRICING.PLAN_NAMES.GOLD?"Personal":t===W.PRICING.PLAN_NAMES.ENTERPRISE?"For Your Organization":" "},St=function(e){if(!e||!e.subscription)return null;var t=e.subscription.endDate;return e.subscription.current_period_end&&(t=new Date(1e3*e.subscription.current_period_end).toISOString().split("T")[0]),t},pt=function(e){return!(!e||!e.subscription)&&St(e)<(new Date).toISOString().split("T")[0]},ht=function(e){var t=e.details?e.details.planDetails:null;if(!t||!t.planId||!t.subscription||!lt)return W.PRICING.PLAN_NAMES.BRONZE;if(!dt(e))return W.PRICING.PLAN_NAMES.BRONZE;if(pt(t))return W.PRICING.PLAN_NAMES.BRONZE;var n=t.planId;if(["silver_1m","silver_6m","silver_12m"].indexOf(n)>=0)return W.PRICING.PLAN_NAMES.SILVER;if("gold_6m"===n)return W.PRICING.PLAN_NAMES.GOLD;for(var a in lt){var r=lt[a];for(var c in r)if("object"===typeof r[c]&&r[c].planId===n)return r.name.toLowerCase()}return W.PRICING.PLAN_NAMES.BRONZE},Tt=function(e,t){var n=ft(e);if(n)return n[t].enabled;switch(e){case W.FEATURES.LOGS:return t===W.PRICING.PLAN_NAMES.GOLD;case W.FEATURES.ADS:return t===W.PRICING.PLAN_NAMES.BRONZE;default:return!1}},mt=function(e,t){var n=ft(e);if(n)return n[t].limit;switch(e){case W.FEATURES.RULES:return 10;case W.FEATURES.ACTIVE_RULES:case W.FEATURES.FAV_RULES:case W.FEATURES.RULE_PAIRS:return 3;case W.FEATURES.SHARED_LISTS:return 10;case W.FEATURES.RESPONSE_BODY_CHARACTER_LIMIT:return 1500;default:return 3}},ft=function(e){return ut.filter((function(t){return t.id===e}))[0]},At=n(34),Rt=n(124),xt=n(82),Nt=n(58),Ct=n(73),gt=n(76),_t=function(e,t){return{type:d.UPDATE_USER_INFO,payload:{loggedIn:e,details:t}}},It=function(e){return{type:d.UPDATE_BACKUP_INFO,payload:e}},Lt=function(e){return{type:d.UPDATE_GROUPS,payload:e}},yt=function(e,t){return{type:d.UPDATE_RULES_AND_GROUPS,payload:{rules:Object(gt.a)(e),groups:Object(gt.a)(t)}}},vt=function(e,t){return{type:d.UPDATE_REFRESH_PENDING_STATUS,payload:{type:e,newValue:t}}},Ut=function(e){return{type:d.UPDATE_CURRENTLY_SELECTED_RULE_DATA,payload:e}},Pt=function(){return{type:d.CLEAR_CURRENTLY_SELECTED_RULE_AND_CONFIG}},Dt=function(e,t,n){return{type:d.TOGGLE_ACTIVE_MODAL,payload:{modalName:e,newValue:t,newProps:n}}},wt=function(e){return{type:d.UPDATE_DESKTOP_SPECIFIC_DETAILS,payload:e}},Mt=W.AUTH.ACTION_LABELS,kt=function(e){var t=e.src,n=Object(c.useContext)(J).dispatch,a=function(e){n(Dt("authModal",!0,{redirectURL:window.location.href,authMode:Mt.LOG_IN,src:t}))},r=Object(c.useCallback)(a,[n,t]);return Object(c.useEffect)((function(){r()}),[r]),Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(At.a,{className:"primary-card",children:Object(N.jsx)(Rt.a,{style:{textAlign:"center"},align:"center",children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsxs)(oe.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3",children:"You need to login first!"}),Object(N.jsxs)("p",{className:"lead",children:["Please make sure you're logged in to your account before accessing this page"," "]}),Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(Ct.a,{type:"primary",onClick:a,children:"Login"}),Object(N.jsx)(Ct.a,{type:"primary",onClick:function(e){n(Dt("authModal",!0,{redirectURL:window.location.href,authMode:Mt.SIGN_UP,src:t}))},children:"Sign up"})]})]})})})})})},Gt=function(e){var t=e.message,n=Object(ae.g)();return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(At.a,{className:"primary-card",children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,align:"center",children:Object(N.jsxs)(oe.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3",children:"Unlock Requestly Premium"}),Object(N.jsx)("p",{className:"lead",children:t||null}),Object(N.jsxs)("p",{className:"lead",children:["Try Requestly Premium for ",Object(N.jsx)("strong",{children:"free"})," by"," ",Object(N.jsxs)(l.b,{to:W.PATHS.REFERRAL.RELATIVE,children:["Referring your friends"," ",Object(N.jsx)("span",{"aria-label":"congratulations",role:"img",children:"\ud83c\udf89"})]})]}),Object(N.jsx)("p",{className:"lead",children:Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){return ge(n)},children:"Get Requestly Premium"})})]})})})})})},Ft=["component","premiumRequired","premiumMessage","routeSrc"],Bt=function(e){var t=e.component,n=e.premiumRequired,a=e.premiumMessage,r=e.routeSrc,i=Object(He.a)(e,Ft),o=Object(c.useContext)(J).state,l=et(o),d=Object(c.useState)(!1),O=Object(u.a)(d,2),E=O[0],b=O[1];return Object(c.useEffect)((function(){E||b(dt(l))}),[l,E]),Object(N.jsx)(s.a.Fragment,{children:l.loggedIn?n&&!E?Object(N.jsx)(Gt,{message:a}):Object(N.jsx)(t,Object(j.a)({},i)):Object(N.jsx)(kt,{src:r})})},Vt=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Bt,{component:Ye})})},Yt=n(954),Ht=n(958),Kt=n(959),Wt=n(490),qt=n(956),Qt=n(78),zt=n(146),Xt=n(509),Jt=n(187),Zt=function(e){switch(e){case"marketer":return"Marketer";default:return"Developer";case"designer":return"Designer";case"consultant":return"Consultant";case"support":return"Customer Support";case"eng_manager":return"Engineering Manager";case"prod_manager":return"Product Manager";case"tester":return"Tester";case"gamer":return"Video Gamer";case"goanimator":return"Goanimator";case"student":return"Student";case"other":return"Other"}},$t=function(e){var t=e.onChangeHandler;return Object(N.jsxs)(Qt.a,{children:[Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("marketer",Zt("marketer"))},children:Zt("marketer")})},0),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("developer",Zt("developer"))},children:Zt("developer")})},1),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("designer",Zt("designer"))},children:Zt("designer")})},2),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("consultant",Zt("consultant"))},children:Zt("consultant")})},3),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("support",Zt("support"))},children:Zt("support")})},4),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("eng_manager",Zt("eng_manager"))},children:Zt("eng_manager")})},5),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("prod_manager",Zt("prod_manager"))},children:Zt("prod_manager")})},6),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("tester",Zt("tester"))},children:Zt("tester")})},7),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("gamer",Zt("gamer"))},children:Zt("gamer")})},8),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("goanimator",Zt("goanimator"))},children:Zt("goanimator")})},9),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("student",Zt("student"))},children:Zt("student")})},10),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("other",Zt("other"))},children:Zt("other")})},11)]})},en=function(e,t){return Object(N.jsx)(zt.a,{trigger:["click"],overlay:Object(N.jsx)($t,{onChangeHandler:t}),style:{background:"transparent",border:"none",boxShadow:"none"},children:Object(N.jsxs)(Xt.a.Text,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"capitalize",cursor:"pointer"},children:[ce()(e)?"Choose":e," ",Object(N.jsx)(Jt.a,{})]})})},tn=n(510),nn=n(102),an=n(481),rn=n.n(an),cn=n(970),sn=function(){return(new Date).getTime()},on=function(){return Math.random().toString(36).substr(2,5)},ln=function(e){return e.replace("_"," ").match(/([A-Z]?[^A-Z]*)/g).slice(0,-1).map((function(e){return e.toLowerCase()})).join(" ")},un=function(e){try{new URL(e)}catch(t){return!1}return!0},dn=function(e){return e.split("@")[1]},On=function(e){var t=dn(e);return!!t&&!(W.EMAIL_DOMAINS.PERSONAL.includes(t)||W.EMAIL_DOMAINS.DESTROYABLE.includes(t))},jn=function(e){return new Blob([e]).size},En=function(e){return e.toLocaleDateString("en-CA")},bn=function(){var e=(new Date).getHours();return e<12?"Good Morning":e>=12&&e<=17?"Good Afternoon":"Good Evening"},Sn=function(e){var t=W.PRICING.COUNTRY_CODES.find((function(t){return t.value===e}));return t?t.label:null},pn=function(e){switch(e){case S.CONSTANTS.APP_MODES.EXTENSION:return"Browser Extension";case S.CONSTANTS.APP_MODES.DESKTOP:return"Desktop App";case S.CONSTANTS.APP_MODES.CLOUDFLARE:return"Cloudflare App";case S.CONSTANTS.APP_MODES.WORDPRESS:return"Wordpress Plugin";default:return ln(e)}},hn=function(e){switch(e){case S.CONSTANTS.APP_MODES.EXTENSION:return"Extension";case S.CONSTANTS.APP_MODES.DESKTOP:return"Desktop App";case S.CONSTANTS.APP_MODES.CLOUDFLARE:return"Cloudflare";case S.CONSTANTS.APP_MODES.WORDPRESS:return"Wordpress";default:return ln(e)}},Tn=function(e){return e&&"string"===typeof e&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},mn=S.CONSTANTS.GA_EVENTS,fn=function(){var e=Object(ne.a)(te.a.mark((function e(t,n){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wn.updateValueAsPromise(["customProfile",t,"signup"],{emailVerified:n}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),An=function(e,t){t||(t=new Date);var n=En(t);return ta(mn.ATTR.SIGNUP_DATE,n),Wn.setValue(["customProfile",e,"signup"],{signup_date:n})},Rn=function(){return ea(mn.CATEGORIES.USER,mn.ACTIONS.EMAIL_VERIFICATION_RESEND,"verification sent from - ".concat(window.location.pathname)),function(){var e=Ee.auth().currentUser;return e?e.sendEmailVerification({url:window.location.href,handleCodeInApp:!0}):Promise.reject({status:!1,errorCode:"Could not send Email"})}(window.location.href).then((function(){Fe.info("Check your inbox for verification link")})).catch((function(e){e.message&&Fe.error(e.message)}))},xn=W.PATHS,Nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.pathname;return e.includes(W.PATHS.PRICING.RELATIVE)},Cn=function(e,t){window.gtag("event",e,t)},gn="email",_n="gmail",In="apple",Ln=function(e,t,n){Cn("sign_up",{auth_provider:e,uid:t,email:n})},yn=function(e,t,n){Cn("login",{auth_provider:e,uid:t,email:n})},vn=S.CONSTANTS.GA_EVENTS,Un=S.COMPONENTS.LOGGER;function Pn(e){var t=new Ee.auth.GoogleAuthProvider;return t.addScope("profile"),t.addScope("email"),Ee.auth().signInWithPopup(t).then((function(t){var n,a,r=t.additionalUserInfo.isNewUser||!1,c=(null===t||void 0===t||null===(n=t.user)||void 0===n?void 0:n.uid)||null,s=(null===t||void 0===t||null===(a=t.user)||void 0===a?void 0:a.email)||null;r?(aa(s),Ln(_n,c,s),An(c),fn(c,!0)):(na(vn.ACTIONS.GMAIL_LOGIN_PERFORMED,"google",s),yn(_n,c,s));var i=Fn(t.user);return Ee.database().ref(Gn(i.uid)).update(i),e&&e.call(null,!0),i}))}var Dn=function(){return new Promise(function(){var e=Object(ne.a)(te.a.mark((function e(t,n){var a,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(cn.a)(),(r=Ee.database().ref("ot-auth-codes/".concat(a))).on("value",function(){var e=Object(ne.a)(te.a.mark((function e(n){var a,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.val()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Ee.auth().signInWithCustomToken(a);case 5:return c=e.sent,e.next=8,r.remove();case 8:t(c.user);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.open((n=a)?"".concat(xn.AUTH.DEKSTOP_SIGN_IN.ABSOLUTE,"?ot-auth-code=").concat(n):xn.AUTH.DEKSTOP_SIGN_IN.ABSOLUTE,"_blank");case 4:case"end":return e.stop()}var n}),e)})));return function(t,n){return e.apply(this,arguments)}}())},wn=function(){var e=Object(ne.a)(te.a.mark((function e(t,n){var a,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.auth().signInWithEmailLink(t,window.location.href);case 3:return a=e.sent,r=Fn(a.user),Ee.database().ref(Gn(r.uid)).update(r),n&&n.call(null,!0),e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}();function Mn(e){return kn.apply(this,arguments)}function kn(){return(kn=Object(ne.a)(te.a.mark((function e(t){var n,a,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ee.database().ref("users/".concat(t,"/profile")),a=!1,e.next=4,n.get();case 4:if(void 0!==(r=e.sent.toJSON()).isBackupEnabled){e.next=11;break}return e.next=8,n.update({isBackupEnabled:!0});case 8:a=!0,e.next=12;break;case 11:a=r.isBackupEnabled;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gn(e){return"users/"+e+"/profile"}function Fn(e){var t=Object.assign({},e.providerData[0]);return t.uid=e.uid,t.photoURL||(t.photoURL="https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y"),t.displayName||(t.displayName="User"),t}function Bn(e){return Ee.database().ref(e.join("/"))}function Vn(e,t){Bn(e).once("value",(function(e){return t.call(null,e.val())}),(function(){return t.call(null,null)}))}function Yn(e){return new Promise((function(t,n){return Vn(e,t)}))}function Hn(e,t,n){Bn(e).update(t,n)}function Kn(e,t){return new Promise((function(n){return Hn(e,t,n)}))}var Wn={isUserAuthenticated:function(e){!function(e){var t=Ee.auth().currentUser;t?e.call(null,Fn(t)):e.call(null,null)}(e)},authenticate:function(){return Pn()},getValue:function(e){return new Promise((function(t,n){try{Vn(e,t)}catch(a){n(a)}}))},setValue:function(e,t){return function(e,t){return Bn(e).set(t)}(e,t)},updateValueAsPromise:function(e,t){return Kn(e,t)},updateValue:function(e,t){return Hn(e,t)}},qn=S.CONSTANTS.GA_EVENTS;function Qn(e){if(e.attr&&e.value){var t=e.attr.toLowerCase(),n=e.value;if(Wn.isUserAuthenticated((function(e){e&&e.uid&&function(e,t,n){var a=e.uid,r={};r[t]=n,Ee.database().ref("/customProfile/".concat(a,"/attributes")).update(r)}(e,t,n)})),window.sib&&window.sendinblue&&window.sib.email_id){var a=window.sib.email_id,r={};r[t]=n,window.sendinblue.identify(a,r)}qn.GA_CUSTOM_METRICS[t]&&window.ga("set",qn.GA_CUSTOM_METRICS[t],n)}}function zn(e){if(e&&e.uid&&e.providerData&&e.providerData.length>0){var t=e.providerData[0];return{name:t.displayName,email:t.email,uid:e.uid}}}function Xn(e){var t=zn(e);!function(){window.sib={equeue:[],client_key:"ajzj60vxaywpk24xe054qsh1"},window.sib.email_id=e?t.email:"N/A",window.sib.display_chat=0,window.sib.display_logo=0,window.sib.custom_welcome_message=e?"Hello, how can we help you?":"Please sign in to your account or enter your email here first for better support.",window.sib.custom_offline_message="We are currently offline. In order to answer you, please indicate your email in your messages.",window.sendinblue={};for(var n=["track","identify","trackLink","page"],a=0;a<n.length;a++)!function(e){window.sendinblue[e]=function(){var t=Array.prototype.slice.call(arguments);(window.sib[e]||function(){var n={};n[e]=t,window.sib.equeue.push(n)})(t[0],t[1],t[2])}}(n[a]);var r=document.createElement("script");a=document.getElementsByTagName("script")[0],r.type="text/javascript",r.id="sendinblue-js",r.async=!0,r.src="https://sibautomation.com/sa.js?key="+window.sib.client_key,a.parentNode.insertBefore(r,a),window.sendinblue.page()}()}function Jn(e){if(window.$crisp=[],window.CRISP_WEBSITE_ID="1c7370cc-6ff1-446f-89fa-9769ac56b756",function(){var e=document,t=e.createElement("script");t.src="https://client.crisp.chat/l.js",t.async=1,e.getElementsByTagName("head")[0].appendChild(t)}(),e){var t=zn(e);window.$crisp.push(["set","user:email",t.email])}}var Zn,$n=S.CONSTANTS.GA_EVENTS,ea=function(e,t,n,a){var r;(r={eventCategory:e,eventAction:t,eventLabel:n?n.replace(".","_").replace("@","_at_"):null,eventValue:a}).eventValue&&"number"==typeof r.eventValue?window.ga("send",{hitType:"event",eventCategory:r.eventCategory,eventAction:r.eventAction,eventLabel:r.eventLabel,eventValue:Math.ceil(r.eventValue)}):window.ga("send",{hitType:"event",eventCategory:r.eventCategory,eventAction:r.eventAction,eventLabel:r.eventLabel}),window.sib&&window.sendinblue&&window.sib.email_id&&window.sendinblue.track(r.eventLabel,{eventCategory:r.eventCategory},{eventAction:r.eventAction})},ta=function(e,t){Qn({attr:e,value:String(t).replace(".","_")})},na=function(e,t,n){ea($n.CATEGORIES.LOGIN,e,$n.CATEGORIES.LOGIN+"_"+e)},aa=function(e){var t=e.split("@")[1],n=function(e){var t=dn(e);return t?W.EMAIL_DOMAINS.PERSONAL.includes(t)?"PERSONAL":W.EMAIL_DOMAINS.DESTROYABLE.includes(t)?"DESTROYABLE":On(e)?"BUSINESS":"UNDEFINED":"UNDEFINED"}(e);ea($n.CATEGORIES.SIGNUP,"SignUp with ".concat(n," email"),"".concat(n," email - @").concat(t))},ra=function(e){ta("rq_last_activity_ts",En(new Date)),ta("rq_last_activity",e)},ca=function(e){ea($n.CATEGORIES.DESKTOP_APP,"".concat(e),"".concat($n.CATEGORIES.DESKTOP_APP,"_").concat(e))},sa=S.CONSTANTS.GA_EVENTS,ia=function(e){var t=e.isOpen,n=e.handleToggleModal,a=Object(ae.g)(),r=Object(c.useState)(""),s=Object(u.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(!1),d=Object(u.a)(l,2),O=d[0],j=d[1];return Object(N.jsxs)(tn.a,{style:{marginTop:"200px"},visible:t,onCancel:n,footer:null,children:[Object(N.jsx)("div",{children:Object(N.jsx)("h3",{children:"Create New Team"})}),Object(N.jsx)("div",{children:Object(N.jsxs)(Rt.a,{style:{paddingTop:"10px",alignItems:"center"},children:[Object(N.jsx)(xt.a,{children:Object(N.jsx)("h4",{children:"Name your team"})}),Object(N.jsx)(xt.a,{style:{fontSize:"0.9em"},align:"right",children:Object(N.jsx)(nn.a,{type:"text",placeholder:"Team name",style:{textTransform:"capitalize",marginLeft:"90px"},value:i,onChange:function(e){o(e.target.value),ea(sa.CATEGORIES.TEAMS,sa.ACTIONS.WORKFLOW_STARTED,"Name for New Team entered by user")}})})]})}),Object(N.jsxs)("div",{style:{marginTop:"20px",display:"flex",flexDirection:"row-reverse"},children:[Object(N.jsx)(Ct.a,{type:"primary",style:{marginLeft:"10px"},disabled:ce()(i)||O,onClick:function(e){e&&e.preventDefault(),j(!0),Ee.functions().httpsCallable("createTeam")({teamName:i}).then((function(e){Fe.info("Team Created");var t=e.data.teamId;j(!1),Ie(a,t),ea(sa.CATEGORIES.TEAMS,sa.ACTIONS.CREATED,"New Team Created Redirected to New Team Page",{teamName:i})})).catch((function(e){Fe.error("Unable to Create Team"),ea(sa.CATEGORIES.TEAMS,sa.ACTIONS.ERROR,"Error in creating New Team",{error:e.message}),j(!1)}))},children:O?Object(N.jsx)(x.H,{className:"icon-spin"}):Object(N.jsx)("span",{children:"Create Team"})}),Object(N.jsx)(Ct.a,{type:"secondary","data-dismiss":"modal",onClick:n,children:"Close"})]})]})},oa=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(At.a,{className:"primary-card",title:"My Teams",children:Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(xt.a,{span:24,align:"center",children:[Object(N.jsx)("p",{children:"You can create or join multiple teams. Each team is billed separately and subscription is shared with all members."}),Object(N.jsx)("br",{}),Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){return a(!0)},children:"Create your first team"}),Object(N.jsx)(Ct.a,{onClick:function(e){return window.open(W.LINKS.REQUESTLY_DOCS_TEAM_SUBSCRIPTION,"_blank")},children:"Know More"})]})]})})}),Object(N.jsx)(ia,{isOpen:n,handleToggleModal:function(){a(!n)}})]})},la=n(138),ua=n(518),da=n(517),Oa=n(89),ja=S.CONSTANTS.GA_EVENTS,Ea=function(e){var t=e.teams,n=void 0===t?[]:t,a=Object(ae.g)(),r=Object(c.useState)(!1),s=Object(u.a)(r,2),i=s[0],o=s[1],l=[{title:"Team",dataIndex:"name",render:function(e,t){return Object(N.jsx)("span",{onClick:function(){Ie(a,t.id),ea(ja.CATEGORIES.TEAMS,ja.ACTIONS.ROUTE_VIEWED,"Redirected to Selected Team Page by user",{teamId:t.id})},style:{cursor:"pointer"},children:e})}},{title:"Members",dataIndex:"accessCount"},{title:"Admins",dataIndex:"adminCount"},{title:"Subscription",render:function(e,t){return function(e,t){switch(e){case"active":return Object(N.jsxs)("span",{style:{width:"300px"},onClick:function(){return Ie(a,t)},children:[Object(N.jsx)(la.a,{status:"success"})," Active"]});case"incomplete":return Object(N.jsxs)(Ct.a,{className:"btn-icon btn-3",color:"primary",size:"sm",type:"button",onClick:function(){return Ie(a,t)},children:[Object(N.jsx)("span",{children:Object(N.jsx)(x.w,{})}),Object(N.jsx)("span",{children:"Pay now"})]});default:return Object(N.jsxs)("span",{style:{width:"300px"},children:[Object(N.jsx)(la.a,{status:"error"})," Inactive"]})}}(t.subscriptionStatus,t.id)}},{title:"Actions",align:"right",render:function(e,t){return Object(N.jsx)("span",{style:{width:"300px",cursor:"pointer"},onClick:function(){Ie(a,t.id),ea(ja.CATEGORIES.TEAMS,ja.ACTIONS.ROUTE_VIEWED,"Redirected to Selected Team Page by user",{teamId:t.id})},children:Object(N.jsx)(ua.a,{})})}}];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Oa.a,{rowKey:"id",pagination:!1,options:!1,search:!1,dateFormatter:!1,columns:l,dataSource:function(){var e=[];return n&&Object.keys(n).forEach((function(t){e.push(Object(j.a)({id:t},n[t]))})),e}(),headerTitle:"My Teams",toolBarRender:function(){return[Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){o(!0),ea(ja.CATEGORIES.TEAMS,ja.ACTIONS.CLICKED,"Create New Team Btn Clicked")},icon:Object(N.jsx)(da.a,{}),children:"Create New Team"})]}}),Object(N.jsx)(ia,{isOpen:i,handleToggleModal:function(){o(!i)}})]})},ba=n(121),Sa=n(115),pa=function(){var e=Object(N.jsx)(Sa.a,{style:{fontSize:24},spin:!0}),t=Object(c.useState)(!0),n=Object(u.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)([]),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Object(c.useRef)(!0),O=Object(c.useCallback)((function(){r(!0),Ee.functions().httpsCallable("getUserTeams")().then((function(e){if(!d.current)return null;var t=e.data;if(!t.success)throw new Error("Unable to find team");l(t.data),r(!1)})).catch((function(e){if(!d.current)return null;console.log(e),Fe.error("You dont have permission to view this team.")}))}),[]);return Object(c.useEffect)((function(){return O(),function(){d.current=!1}}),[O]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{children:o.length>0?Object(N.jsx)(Ea,{teams:o}):Object(N.jsx)(N.Fragment,{children:a?Object(N.jsx)(ba.a,{style:{marginTop:"40px"},indicator:e,tip:"Loading Teams"}):Object(N.jsx)(oa,{})})})})},ha=function(e){var t=e.customHeading,n=e.hideShadow,a=Object(ae.g)();return Object(N.jsx)(de.a,{className:"my-4",children:Object(N.jsx)(ie.a,{children:Object(N.jsxs)(Oe.a,{className:n?"has-no-border has-no-box-shadow":"shadow",children:[Object(N.jsx)(Yt.a,{className:"bg-white border-0",children:Object(N.jsx)(de.a,{className:"align-items-center",children:Object(N.jsx)(ie.a,{children:Object(N.jsx)("h3",{className:"mb-0",children:t||"My Subscription"})})})}),Object(N.jsx)(je.a,{children:Object(N.jsxs)("div",{style:{textAlign:"center"},className:"mb-4",children:[Object(N.jsx)("p",{children:"Get the most out of Requestly. Upgrade to one of our premium plans."}),Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){return ge(a)},children:"View Plans"}),Object(N.jsx)(Ct.a,{type:"secondary",onClick:function(e){return window.open(W.LINKS.REQUESTLY_DOCS_PREMIUM_SUBSCRIPTION,"_blank")},children:"Know More"})]})]})})]})})})},Ta=n(971),ma=it,fa="USD",Aa=function(e){switch(e){default:return 30;case"quarterly":return 90;case"half-yearly":return 180;case"annual":return 365}},Ra={IN:"INR",MX:"MXN",GB:"GBP",EU:"EUR",US:"USD",CA:"CAD",CN:"CNY"},xa=function(e,t){var n;switch(n=!t&&e?Na(e):t){case"INR":return"\u20b9";case"MXN":return"Mex$";case"USD":return"$";case"GBP":return"\xa3";case"EUR":return"\u20ac";case"CAD":return"C$";case"CNY":return"CN\xa5";default:return n}},Na=function(e){return Ra[e]||fa},Ca=function(e,t){var n=ma.find((function(t){return t.id===e}));return n||Me(null,!0),(n[t]||Me(null,!0)).planId||Me(null,!0)},ga=function(e){switch(e){case"active":return"Active";case"incomplete":case"unpaid":return"Payment pending";case"incomplete_expired":return"Payment Unsuccessful";case"trialing":return"Active Trial Period";case"past_due":return"Past due";case"canceled":return"Cancelled";default:return"Contact us"}},_a=function(e){switch(e){case"team":return"Team Subscription";case"unlock":return"Unlocked Subscription";case"license":return"Enterprise Plan";case"paypal":return"Paypal Subscription";case"individual":return"Personal Subscription";default:return"Premium Plan"}},Ia=function(e){var t=e.customHeading,n=e.hideShadow,a=e.hideManagePersonalSubscriptionButtion,r=e.subscriptionDetails,c=Object(ae.g)(),i=r.validFrom,o=r.validTill,l=r.status,u=r.type;return r?Object(N.jsx)(de.a,{className:"my-4",children:Object(N.jsx)(ie.a,{children:Object(N.jsxs)(Oe.a,{className:n?"has-no-border has-no-box-shadow":"shadow",children:[Object(N.jsx)(Yt.a,{className:"bg-white border-0",children:Object(N.jsx)(de.a,{className:"align-items-center",children:Object(N.jsx)(ie.a,{className:"text-center text-sm-center text-xl-left text-lg-left text-md-left margin-bottom-1-when-xs margin-bottom-1-when-sm",children:Object(N.jsxs)("h3",{className:"mb-0",children:[t||"Current Subscription"," ",a?null:Object(N.jsx)("span",{style:{textAlign:"center"},children:Object(N.jsx)(Ct.a,{type:"link",size:"small",onClick:function(){return ye(c)},children:"(Manage Personal Subscription)"})})]})})})}),Object(N.jsx)("br",{}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsxs)(Ta.b,{title:!1,bordered:!0,size:"small",column:2,children:[Object(N.jsx)(Ta.b.Item,{label:"Status",children:Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(la.a,{status:l&&"active"===l?"success":"error",text:ga(l)}),"canceled"===l||"incomplete_expired"===l?Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(Ct.a,{size:"small",type:"link",onClick:function(e){e.preventDefault(),"individual"===u?ve({mode:u,planType:"gold",days:365}):"team"===u?Le(c):ge(c)},children:"Renew"})}):null]})}),Object(N.jsx)(Ta.b.Item,{label:"Type",children:_a(u)}),Object(N.jsx)(Ta.b.Item,{label:"Valid From",children:new Date(i).toDateString()}),Object(N.jsx)(Ta.b.Item,{label:"Valid Till",children:new Date(o).toDateString()})]})})})]})})}):Object(N.jsx)(s.a.Fragment,{})},La=function(e){var t=e.hideShadow,n=e.customHeading,a=e.hideManagePersonalSubscriptionButtion,r=e.hideIfSubscriptionIsPersonal,i=e.hideIfNoSubscription,o=Object(c.useContext)(J).state,l=et(o),d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(!1),S=Object(u.a)(b,2),p=S[0],h=S[1],T=Object(c.useState)(!1),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(!1),x=Object(u.a)(R,2),C=x[0],g=x[1],_=Object(c.useState)(!1),I=Object(u.a)(_,2),L=I[0],y=I[1];return Object(c.useEffect)((function(){l.details&&l.details.planDetails&&l.details.planDetails.status?(E(l.details.planDetails.status),h(l.details.planDetails.type),A(l.details.planDetails.subscription.startDate),g(l.details.planDetails.subscription.endDate)):y(!0)}),[l]),l?r&&l&&l.details&&l.details.planDetails&&"individual"===l.details.planDetails.type||i&&L?Object(N.jsx)(s.a.Fragment,{}):Object(N.jsx)("div",{className:"profile-card profile-card-shadow",style:{marginTop:"2rem"},children:j&&p&&f&&C&&!L?Object(N.jsx)(Ia,{customHeading:n,hideShadow:t,hideManagePersonalSubscriptionButtion:a,subscriptionDetails:{validFrom:f,validTill:C,status:j,type:p}}):Object(N.jsx)(ha,{customHeading:n,hideShadow:t})}):Object(N.jsx)(s.a.Fragment,{})},ya=n(955),va=n(957),Ua=n(161),Pa=function(e){var t=Ee.auth().currentUser;if(t){var n={};Yn(["userSubscriptions",t.uid,"planDetails"]).then((function(e){n={profile:Fn(t),isLoggedIn:!0,planDetails:e}})).then(Object(ne.a)(te.a.mark((function a(){var r;return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Yn(["users",t.uid,"profile","isBackupEnabled"]);case 2:r=a.sent,n.isBackupEnabled=!!r,e(_t(!0,n));case 5:case"end":return a.stop()}}),a)})))).catch((function(t){console.error("Unable to fetch user plan",t.message),e(_t(!1,!1))}))}else e(_t(!1,!1))},Da=function(e){var t=e.customHeading,n=e.shadow,a=e.hideBillingAddress,r=(e.hideIndiaInCountryList,Object(c.useContext)(J)),i=r.dispatch,o=r.state,l=et(o),d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(""),S=Object(u.a)(b,2),p=S[0],h=S[1],T=Object(c.useState)(""),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(""),x=Object(u.a)(R,2),C=x[0],g=x[1],_=Object(c.useState)(""),I=Object(u.a)(_,2),L=I[0],y=I[1],v=Object(c.useState)(""),U=Object(u.a)(v,2),P=U[0],D=U[1],w=Object(c.useState)(""),M=Object(u.a)(w,2),k=M[0],G=M[1],F=Object(c.useState)(""),B=Object(u.a)(F,2),V=B[0],Y=B[1],H=function(){(function(e,t){var n=t.CompanyName,a=t.FullName,r=t.Address,c={};if(n&&(c.companyName=n),a&&(c.displayName=a),r){var s=r.AddrLine1,i=r.AddrLine2,o=r.AddrCity,l=r.AddrState,u=r.AddrCountry,d=r.AddrZIP;c.address={},s&&(c.address.line1=s),i&&(c.address.line2=i),o&&(c.address.city=o),l&&(c.address.state=l),u&&(c.address.country=u),d&&(c.address.postal_code=d)}return Wn.updateValueAsPromise(["users",e,"profile"],c)})(l.details.profile.uid,{FullName:p,Address:{AddrLine1:f,AddrLine2:C,AddrCity:L,AddrState:P,AddrCountry:k,AddrZIP:V}}).then((function(){E(!1),Pa(i),Fe.info("Profile saved")}))};return Object(c.useEffect)((function(){Wn.getValue(["users",l.details.profile.uid]).then((function(e){if(e){var t=e.profile;t&&(t.displayName&&h(t.displayName),t.address&&(t.address.line1&&A(t.address.line1),t.address.line2&&g(t.address.line2),t.address.city&&y(t.address.city),t.address.state&&D(t.address.state),t.address.postal_code&&Y(t.address.postal_code),t.address.country&&G(t.address.country)))}}))}),[l]),Object(N.jsxs)(Oe.a,{className:"profile-card ".concat(n?"profile-card-shadow":""),children:[Object(N.jsx)(Yt.a,{className:"bg-white border-0",children:Object(N.jsx)(de.a,{className:"align-items-center",children:Object(N.jsx)(ie.a,{xs:"8",children:Object(N.jsx)("h3",{className:"mb-0",children:t||"My account"})})})}),Object(N.jsx)(je.a,{children:Object(N.jsxs)(va.a,{className:"profile-card-form",children:[Object(N.jsx)("h6",{className:"heading-small text-muted mb-4",children:"Basic information"}),Object(N.jsx)("div",{className:"pl-lg-4",children:Object(N.jsxs)(de.a,{className:"profile-card-form-info",children:[Object(N.jsxs)(ya.a,{className:"profile-card-form-field",children:[Object(N.jsx)("label",{className:"form-control-label",htmlFor:"input-username",children:"Name"}),Object(N.jsx)(qt.a,{className:"form-control-alternative",value:p,id:"input-username",placeholder:"Full Name",type:"text",onChange:function(e){E(!0),h(e.target.value)},style:{textTransform:"capitalize"}})]}),Object(N.jsxs)(ya.a,{className:"profile-card-form-field",children:[Object(N.jsx)("label",{className:"form-control-label",htmlFor:"input-email",children:"Email address"}),Object(N.jsx)(qt.a,{className:"form-control-alternative",id:"input-email",placeholder:"Email address",type:"email",disabled:"disabled",defaultValue:l.details.profile.email,style:{textTransform:"lowercase"}})]})]})}),a?Object(N.jsx)(s.a.Fragment,{}):Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("h6",{className:"heading-small text-muted mb-4",children:"Billing address"}),Object(N.jsxs)("div",{className:"pl-lg-4",children:[Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{md:"4",children:Object(N.jsxs)(ya.a,{children:[Object(N.jsx)("label",{className:"form-control-label",htmlFor:"input-address-line1",children:"Line 1"}),Object(N.jsx)(qt.a,{className:"form-control-alternative",id:"input-address-line1",placeholder:"Street",type:"text",value:f,onChange:function(e){E(!0),A(e.target.value)}})]})}),Object(N.jsx)(ie.a,{md:"4",children:Object(N.jsxs)(ya.a,{children:[Object(N.jsx)("label",{className:"form-control-label",htmlFor:"input-address-line2",children:"Line 2"}),Object(N.jsx)(qt.a,{className:"form-control-alternative",id:"input-address-line2",placeholder:"Appartment",type:"text",value:C,onChange:function(e){E(!0),g(e.target.value)}})]})}),Object(N.jsx)(ie.a,{md:"4",children:Object(N.jsxs)(ya.a,{children:[Object(N.jsx)("label",{className:"form-control-label",htmlFor:"input-address-city",children:"City"}),Object(N.jsx)(qt.a,{className:"form-control-alternative",id:"input-address-city",placeholder:"City",type:"text",value:L,onChange:function(e){E(!0),y(e.target.value)}})]})})]}),Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{lg:"4",children:Object(N.jsxs)(ya.a,{children:[Object(N.jsx)("label",{className:"form-control-label",htmlFor:"input-state",children:"State"}),Object(N.jsx)(qt.a,{className:"form-control-alternative",id:"input-state",placeholder:"State",type:"text",value:P,onChange:function(e){E(!0),D(e.target.value)}})]})}),Object(N.jsx)(ie.a,{lg:"4",children:Object(N.jsxs)(ya.a,{children:[Object(N.jsx)("label",{className:"form-control-label",htmlFor:"input-country",children:"Country"}),Object(N.jsx)(Ua.a,{styles:W.STYLES.reactSelectCustomStyles,id:"input-country",className:"form-control-alternative",classNamePrefix:"form-control-alternative",placeholder:"eg. United States",options:W.PRICING.COUNTRY_CODES,value:Object(pe.isEmpty)(k)?null:{value:k,label:Sn(k)},onChange:function(e){E(!0),G(e.value)}})]})}),Object(N.jsx)(ie.a,{lg:"4",children:Object(N.jsxs)(ya.a,{children:[Object(N.jsx)("label",{className:"form-control-label",htmlFor:"input-zip-code",children:"ZIP/Postal Code"}),Object(N.jsx)(qt.a,{className:"form-control-alternative",id:"input-zip-code",placeholder:"eg. V6B 3K9",type:"text",value:V,onChange:function(e){E(!0),Y(e.target.value)}})]})})]})]})]}),j?Object(N.jsx)(de.a,{className:"align-items-center",children:Object(N.jsx)(ie.a,{className:"text-center",xs:"12",children:Object(N.jsx)(le.a,{color:j?"primary":"secondary",onClick:H,size:"sm",disabled:!j,children:"Save"})})}):Object(N.jsx)(s.a.Fragment,{})]})})]})},wa=n(269),Ma=n.n(wa),ka="forgot-password",Ga="sign-in",Fa="sign-up",Ba=function(e){Fe.error(e,{hideProgressBar:!0,autoClose:6e3})},Va=function(e){Fe.warn(e,{hideProgressBar:!0})},Ya=function(e){Fe.info(e,{hideProgressBar:!0,autoClose:5e3})},Ha=function(e,t){switch(e){case Ga:return function(e){switch(e){case"auth/invalid-email":return"Please enter a valid email";case"auth/user-not-found":return"This email is not registered. Please sign up.";case"auth/wrong-password":return"Invalid email or password. Please try again or use Forgot Password.";case"auth/user-disabled":return"Sorry but your account is disabled. Please write us at "+S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL;default:return"Sorry, we couldn\u2019t log you in. Please write us at "+S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL}}(t);case Fa:return function(e){switch(e){case"no-name":return"Please enter your name.";case"no-email":case"auth/invalid-email":return"Please enter a valid email address.";case"no-password":return"Please enter a password to create.";case"auth/email-already-in-use":return"The email you entered is already in use. Try signing in.";case"auth/weak-password":return"Please choose a stronger password";case"auth/operation-not-allowed":return"Sorry but your account is disabled. Please write us at "+S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL;default:return"Sorry, we couldn\u2019t sign you up. Please write us at "+S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL}}(t);case ka:return function(e){switch(e){case"auth/user-not-found":return"Unable to find an account with this email address. Please try again.";case"auth/invalid-email":return"This email seems invalid. Please recheck.";default:return"Unable to request new password this time. Please write us at "+S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL}}(t);default:return"An unexpected has occurred. Please write us at "+S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL}},Ka=function(e,t,n,a,r,c,s){switch(e&&e.preventDefault(),r){case W.FEATURES.SHARED_LISTS:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REQUESTED,"Email Login requested on SharedList index page");break;case W.FEATURES.RULES:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REQUESTED,"Email Login requested on rules index page")}return ce()(t)||!Ma()(t)?(Va("Please enter a valid email"),null):ce()(n)?(Va("Opps! You forgot to enter password"),null):(a&&a(!0),void function(e,t){return Ee.auth().signInWithEmailAndPassword(e,t).then((function(e){var t,n;Un.log("Profile Logged In Successfully");var a=(null===e||void 0===e||null===(t=e.user)||void 0===t?void 0:t.uid)||null,r=(null===e||void 0===e||null===(n=e.user)||void 0===n?void 0:n.email)||null;return na(vn.ACTIONS.EMAIL_LOGIN_PERFORMED,"email",r),yn(gn,a,r),Promise.resolve({status:!0,msg:"Profile Logged In Successfully",result:e})})).catch((function(e){var t=e.code,n=e.message;return Promise.reject({status:!1,msg:n,errorCode:t})}))}(t,n).then((function(e){var t=e.result;if(t.user.uid){switch(Ya("".concat(bn(),", ").concat(t.user.displayName.split(" ")[0])),r){case W.FEATURES.SHARED_LISTS:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_DONE,"Email Login done on SharedList index page");break;case W.FEATURES.RULES:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_DONE,"Email Login done on Rules index page")}c&&c()}else Ba("Sorry we couldn't log you in. Can you please retry?"),a&&a(!1),s&&s()})).catch((function(e){var t=e.errorCode;if(Ba(Ha(Ga,t)),r)switch(r){case W.FEATURES.SHARED_LISTS:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REJECTED,"Email Login rejected on SharedList index page");break;case W.FEATURES.RULES:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REJECTED,"Email Login rejected on Rules index page")}a&&a(!1),s&&s()})))},Wa=function(e,t,n,a,r){switch(e&&e(!0),t){case W.FEATURES.SHARED_LISTS:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REQUESTED,"Apple Login requested on SharedList index page");break;case W.FEATURES.RULES:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REQUESTED,"Apple Login requested on rules index page")}(function(e){var t=new Ee.auth.OAuthProvider("apple.com");return Ee.auth().signInWithPopup(t).then((function(t){var n,a,r=t.additionalUserInfo.isNewUser||!1,c=(null===t||void 0===t||null===(n=t.user)||void 0===n?void 0:n.uid)||null,s=(null===t||void 0===t||null===(a=t.user)||void 0===a?void 0:a.email)||null;r?(aa(s),Ln(In,c,s),An(c),fn(c,!0)):(na(vn.ACTIONS.APPLE_LOGIN_PERFORMED,"apple"),yn(In,c,s));var i=Fn(t.user);return Ee.database().ref(Gn(i.uid)).update(i),e&&e.call(null,!0),i}))})().then((function(c){if(c&&c.uid){switch(Ya("".concat(bn(),", ").concat(c.displayName.split(" ")[0])),t){case W.FEATURES.SHARED_LISTS:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_DONE,"Apple Login done on SharedList index page");break;case W.FEATURES.RULES:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_DONE,"Apple Login done on Rules index page")}a===W.AUTH.ACTION_LABELS.SIGN_UP&&we(r),n&&n()}else if(Ba("Sorry, the email or password you have entered isn't right. Can you please try again?"),e&&e(!1),t)switch(t){case W.FEATURES.SHARED_LISTS:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REJECTED,"Apple login rejected on SharedList index page");break;case W.FEATURES.RULES:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REJECTED,"Apple login rejected on Rules index page")}})).catch((function(){e&&e(!1)}))},qa=function(e,t,n,a,r,c,s){e.preventDefault(),c(!0),function(e,t,n,a){return!e||ce()(e)?Promise.reject({status:!1,errorCode:"no-name"}):!t||ce()(t)?Promise.reject({status:!1,errorCode:"no-email"}):!n||ce()(n)?Promise.reject({status:!1,errorCode:"no-password"}):Ee.auth().createUserWithEmailAndPassword(t,n).then((function(n){return n.user.sendEmailVerification({url:window.location.href,handleCodeInApp:!0}).then((function(){An(n.user.uid),fn(n.user.uid,!1)})),n.user.updateProfile({displayName:e,photoURL:"https://www.gravatar.com/avatar/".concat(rn()(t))}).then((function(){var e=Fn(n.user);return Ee.database().ref(Gn(e.uid)).update(e).then((function(){return Un.log("Profile Created Successfully"),aa(e.email),Ln(gn,e.uid,e.email),a&&Ee.functions().httpsCallable("applyRefCode")({code:a,uid:e.uid,email:e.email}).then((function(e){return e&&e.data&&e.data.reward?(ea(vn.CATEGORIES.REFERRAL,vn.ACTIONS.REFERRAL_APPLIED,"".concat(vn.CATEGORIES.REFERRAL,"_").concat(e.data.reward.type)),{success:!0,msg:"Referral Code applied successfully!",result:e.data}):(ea(vn.CATEGORIES.REFERRAL,vn.ACTIONS.REFERRAL_FAILED,"".concat(vn.CATEGORIES.REFERRAL,"_").concat(vn.ACTIONS.REFERRAL_FAILED)),{success:!1,msg:"Invalid Referral Code",result:e.data})})).catch(console.error),Promise.resolve({status:!0,msg:"SignUp Successfull"})})).catch((function(){return Promise.reject({status:!1,errorCode:""})}))})).catch((function(){return Promise.reject({status:!1,errorCode:""})}))})).catch((function(e){var t=e.code;return Promise.reject({status:!1,errorCode:t})}))}(t,n,a,r).then((function(e){var t=e.status,r=e.errorCode;t?(Ya("Check your email for link to verify email"),Ka(null,n,a),we(s)):(Ba(Ha(Fa,r)),c(!1))})).catch((function(e){var t=e.errorCode;Ba(Ha(Fa,t)),c(!1)}))},Qa=function(e,t,n,a){if(e.preventDefault(),ce()(t)||!Ma()(t))return Va("Please enter a valid email"),null;n(!0),function(e){return Ee.auth().sendPasswordResetEmail(e).then((function(e){return Un.log("Password reset email sent"),Promise.resolve({status:!0,msg:"Password reset email sent"})})).catch((function(e){var t=e.code;return Promise.reject({status:!1,errorCode:t})}))}(t).then((function(e){var t=e.status,r=e.msg;t?(Ya(r),n(!1),a&&a()):(Ba(r),n(!1))})).catch((function(e){var t=e.errorCode;Ba(Ha(ka,t)),n(!1)}))},za=function(e,t,n,a,r){var c=function(e){e?(a(!1),t&&(r&&r(),Ya("Password reset successful. Logging you in."),Ka(null,t,n))):(Ba("Please try again with a stronger password or request a new reset link."),a(!1))};(function(e,t){return t?Ee.auth().confirmPasswordReset(e,t).then((function(e){return Un.log("Password reset successfull"),Promise.resolve({status:!0,msg:"Password Reset Successful"})})).catch((function(e){var t=e.message;return Un.log("Error Reseting Password"),Promise.reject({status:!1,msg:t})})):Promise.reject({status:!1,msg:"Password is Required"})})(e,n).then((function(e){var t=e.status;e.msg;c(t)}),(function(e){var t=e.status;e.msg;c(t)})).catch((function(){c(!1)}))},Xa=function(e,t,n,a,r){if(e.preventDefault(),ce()(t))return Va("Please set a new password"),null;n(!0);var c,s=function(){var e=new URLSearchParams(window.location.search);return e.has("oobCode")?e.get("oobCode"):null}(),i=function(e,c){e?za(s,c,t,n,r):(Ba("This Link has been expired. Please create a new reset request."),n(!1),Ce(a))};(c=s,c?Ee.auth().verifyPasswordResetCode(c).then((function(e){return Promise.resolve({status:!0,email:e})})).catch((function(){return Un.log("Invalid OOB Code"),Promise.reject({status:!1,msg:""})})):Promise.reject({status:!1,msg:""})).then((function(e){var t=e.status,n=(e.msg,e.email);i(t,n)}),(function(e){var t=e.status;e.msg;i(t,null)})).catch((function(){i(!1,null)}))},Ja=function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",Ee.auth().signOut());case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(){return e.apply(this,arguments)}}(),Za=function(){var e=Object(ae.g)(),t=Object(c.useContext)(J),n=t.dispatch,a=t.state,r=et(a),i=Object(c.useState)(!1),o=Object(u.a)(i,2),l=o[0],d=o[1],O=Object(c.useState)(""),j=Object(u.a)(O,2),E=j[0],b=j[1],S=Object(c.useState)(""),p=Object(u.a)(S,2),h=p[0],T=p[1],m=r.details.profile.photoURL?r.details.profile.photoURL:"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y",f=r.details.profile.displayName?r.details.profile.displayName:"User";if("URLSearchParams"in window){var A=new URL(m),R=A.searchParams;R.set("s","180"),A.search=R.toString(),m=A.toString()}return Object(c.useEffect)((function(){r.details&&Wn.getValue(["customProfile",r.details.profile.uid]).then((function(e){if(e){var t=e.position,n=e.companyName;t&&b(Zt(t)),n&&T(n)}}))}),[r.details.profile.uid,r]),Object(N.jsx)(s.a.Fragment,{children:Object(N.jsxs)(At.a,{className:"primary-card",children:[Object(N.jsxs)(de.a,{className:"profile-container",children:[Object(N.jsxs)(ie.a,{className:"profile-container-left profile-container-child",xl:"8",children:[Object(N.jsx)(Da,{shadow:!0,hideBillingAddress:!0}),Object(N.jsx)(La,{})]}),Object(N.jsx)(ie.a,{className:"profile-container-right profile-container-child mb-5 mb-xl-0",xl:"4",children:Object(N.jsxs)(Oe.a,{className:"profile-card profile-card-shadow",children:[Object(N.jsx)(de.a,{className:"justify-content-center",children:Object(N.jsx)(ie.a,{className:"order-lg-2",lg:"3",children:Object(N.jsx)("div",{className:"card-profile-image",children:Object(N.jsx)("a",{href:"https://gravatar.com",target:"_blank",rel:"noopener noreferrer",children:Object(N.jsx)("img",{alt:"...",className:"rounded-circle",src:m})})})})}),Object(N.jsx)(Yt.a,{className:"profile-card-header border-0 pt-1 pt-md-1 pb-0 pb-md-1"}),Object(N.jsxs)(je.a,{className:"profile-card-body pt-0 pt-md-1",style:{fontSize:"14px"},children:[Object(N.jsx)(de.a,{children:Object(N.jsx)("div",{className:"col",children:Object(N.jsx)("div",{className:"card-profile-stats d-flex justify-content-center mt-md-5"})})}),Object(N.jsxs)("div",{className:"text-center",children:[Object(N.jsx)("h3",{children:f}),Object(N.jsxs)("div",{className:"h5 mt-4",children:[Object(N.jsx)("i",{className:"ni business_briefcase-24 mr-2"}),en(E,(function(e,t){b(t),Wn.updateValueAsPromise(["customProfile",r.details.profile.uid],{position:e}).then((function(){Pa(n)}))}))]}),Object(N.jsx)("div",{style:{margin:"1rem 0"},children:Object(N.jsxs)(Ht.a,{className:"input-group mb-4",children:[Object(N.jsx)(Kt.a,{addonType:"prepend",children:Object(N.jsx)(Wt.a,{children:Object(N.jsx)("i",{className:"ni ni-building"})})}),Object(N.jsx)(qt.a,{className:"form-control-alternative",type:"text",placeholder:"Company name",id:"companyName",value:h,onChange:function(e){d(!0),T(e.target.value)},style:{textTransform:"capitalize"}})]})}),Object(N.jsx)("div",{className:"my-4",children:Object(N.jsx)(Ct.a,{type:l?"primary":"secondary",onClick:function(){Wn.updateValueAsPromise(["customProfile",r.details.profile.uid],{companyName:h}).then((function(){Fe.info("Profile saved"),d(!1)}))},size:"small",disabled:!l,children:"Save profile"})}),Object(N.jsx)("hr",{className:"my-4"}),Object(N.jsxs)("div",{style:{textAlign:"left"},children:[Object(N.jsx)(de.a,{className:"my-2",children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(Ct.a,{type:"secondary",size:"small",onClick:function(){Ja().then((function(){Ce(e)}))},children:"Reset Password"})})}),Object(N.jsx)(de.a,{className:"my-2",children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(Ct.a,{type:"secondary",size:"small",onClick:function(){return window.open(W.LINKS.GDPR.EXPORT_DATA,"_blank")},children:"Request Data Download"})})}),Object(N.jsx)(de.a,{className:"my-2",children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(Ct.a,{type:"secondary",size:"small",onClick:function(){return window.open(W.LINKS.GDPR.DELETE_ACCOUNT,"_blank")},children:"Request Account Deletion"})})}),Object(N.jsx)(de.a,{className:"my-2",children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(Ct.a,{type:"secondary",size:"small",onClick:function(){!function(e,t){t?window.location.href=he.ACCOUNT.REFRESH_SUBSCRIPTION.ABSOLUTE:e.push(he.ACCOUNT.REFRESH_SUBSCRIPTION.ABSOLUTE)}(e)},children:"Refresh Subscription"})})})]})]})]})]})})]}),Object(N.jsx)(de.a,{className:"profile-team",children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(je.a,{className:"profile-team-body",children:Object(N.jsx)(pa,{})})})})]})})},$a=function(){return Object(N.jsx)(Bt,{component:Za})},er=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)($a,{})})},tr=n(61),nr=n(62),ar=n(66),rr=n(65),cr=n(960),sr=n(491),ir=(Zn={},Object(O.a)(Zn,S.CONSTANTS.APP_MODES.EXTENSION,{appMode:S.CONSTANTS.APP_MODES.EXTENSION,fullName:pn(S.CONSTANTS.APP_MODES.EXTENSION),shortName:hn(S.CONSTANTS.APP_MODES.EXTENSION),Icon:function(){return Object(N.jsx)(x.d,{size:"1.5em"})},iconBackgroundColor:"red",description:"Requestly browser extension available for Chrome & Firefox",actionLabel:"Add to Chrome",actionLink:W.LINKS.CHROME_EXTENSION}),Object(O.a)(Zn,S.CONSTANTS.APP_MODES.DESKTOP,{appMode:S.CONSTANTS.APP_MODES.DESKTOP,fullName:pn(S.CONSTANTS.APP_MODES.DESKTOP),shortName:hn(S.CONSTANTS.APP_MODES.DESKTOP),Icon:function(){return Object(N.jsx)(x.j,{size:"1.5em"})},iconBackgroundColor:"green",description:"Run Requestly on top of your favourite apps \u2013 Spotify, Slack, Postman, VSCode",actionLabel:"Download for MacOS, Windows & Linux",actionLink:W.LINKS.REQUESTLY_DESKTOP_APP}),Object(O.a)(Zn,S.CONSTANTS.APP_MODES.WORDPRESS,{appMode:S.CONSTANTS.APP_MODES.WORDPRESS,fullName:pn(S.CONSTANTS.APP_MODES.WORDPRESS),shortName:hn(S.CONSTANTS.APP_MODES.WORDPRESS),Icon:function(){return Object(N.jsx)(x.R,{size:"1.7em"})},iconBackgroundColor:"teal",description:"Use Requestly in Wordpress to create redirects and mocks",actionLabel:"COMING SOON"}),Object(O.a)(Zn,S.CONSTANTS.APP_MODES.CLOUDFLARE,{appMode:S.CONSTANTS.APP_MODES.CLOUDFLARE,fullName:pn(S.CONSTANTS.APP_MODES.CLOUDFLARE),shortName:hn(S.CONSTANTS.APP_MODES.CLOUDFLARE),Icon:function(){return Object(N.jsx)(sr.a,{size:"1.7em"})},iconBackgroundColor:"orange",description:"Use Requestly in Cloudflare to modify requests even before it reaches your web server",actionLabel:"COMING SOON"}),Zn),or=function(){var e=Object(c.useContext)(J).state,t=ct(e);return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(ue.a,{className:" mt--7 sm-margin-top-negative-3",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(Oe.a,{className:"shadow",children:Object(N.jsx)(je.a,{children:Object(N.jsxs)(oe.a,{style:{background:"transparent"},children:[Object(N.jsx)(de.a,{className:"mb-4 ",children:Object(N.jsx)(ie.a,{className:"text-center",children:Object(N.jsx)("h2",{children:"Requestly is available as"})})}),Object(N.jsx)(de.a,{children:Object.keys(ir).map((function(e){return Object(N.jsx)(ie.a,{md:"6 mb-6",children:Object(N.jsx)(Oe.a,{className:"card-stats mb-4 mb-lg-0 reduce-opacity-on-hover ".concat(ir[e].actionLink?"cursor-pointer":"cursor-disabled"," "),onClick:function(){return ir[e].actionLink?window.open(ir[e].actionLink,"_blank"):null},children:Object(N.jsxs)(je.a,{children:[Object(N.jsxs)(de.a,{children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsxs)(cr.a,{className:"text-uppercase text-muted ",children:[pn(e),t===e?Object(N.jsx)("span",{className:"badge badge-pill badge-sm badge-success ml-2",children:"Current"}):null]}),Object(N.jsx)("span",{children:ir[e].description})]}),Object(N.jsx)(ie.a,{className:"col-auto",children:Object(N.jsx)("div",{className:"icon icon-shape text-white rounded-circle shadow bg-gradient-".concat(ir[e].iconBackgroundColor),style:{fontSize:"1.5em"},children:s.a.createElement(ir[e].Icon)})})]}),Object(N.jsx)("p",{className:"mt-3  text-muted text-sm",children:e===t?Object(N.jsxs)("span",{className:"text-nowrap",children:["You are currently using Requestly"," ",pn(e)]}):Object(N.jsxs)("span",{className:"text-nowrap",children:[ir[e].actionLabel,ir[e].actionLink?Object(N.jsx)(x.p,{className:"ml-2 fix-icon-is-down"}):null]})})]})})},e)}))})]})})})})})})})},lr=function(e){Object(ar.a)(n,e);var t=Object(rr.a)(n);function n(){return Object(tr.a)(this,n),t.apply(this,arguments)}return Object(nr.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(or,{})})}}]),n}(s.a.Component),ur=n.p+"static/media/google.eae9aa93.svg",dr=n.p+"static/media/apple.348e84b8.svg";function Or(){var e={};return new URLSearchParams(window.location.search).forEach((function(t,n){e[n]=t})),e}var jr=W.AUTH.ACTION_LABELS,Er=function(e){var t=e.setAuthMode,n=e.authMode,a=e.src,r=e.callbacks,s=Object(ae.g)(),i=r||{},o=i.onSignInSuccess,l=i.onRequestPasswordResetSuccess,d=Object(c.useContext)(J).state,O=ct(d),j=Object(c.useState)(!1),E=Object(u.a)(j,2),b=E[0],p=E[1],h=Object(c.useState)(""),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useState)(""),R=Object(u.a)(A,2),C=R[0],g=R[1],_=Object(c.useState)(""),I=Object(u.a)(_,2),L=I[0],y=I[1],v=Object(c.useState)(),U=Object(u.a)(v,2),P=U[0],D=U[1];Object(c.useEffect)((function(){var e=Or();P||"string"==typeof P||(e.rcode?D(e.rcode):D(""))}),[P]);var w=function(){switch(n){default:case jr.LOG_IN:return"or Sign in with";case jr.SIGN_UP:return"or Sign up using"}};return Object(N.jsx)(Oe.a,{style:{maxWidth:"400px",margin:"0 auto"},className:"bg-secondary shadow border-0 auth-modal",children:Object(N.jsxs)(je.a,{className:"px-lg-5 py-lg-5 lg-padding-top-one",children:[Object(N.jsx)("div",{className:"auth-modal-title",children:Object(N.jsx)("small",{className:"text-dark",children:function(){switch(n){default:case jr.LOG_IN:return"Sign in with work email";case jr.SIGN_UP:return Object(N.jsxs)("div",{children:["Sign up with Work Email & get"," ",Object(N.jsx)("span",{className:"text-primary",children:"1\xa0month\xa0premium for free"})]});case jr.REQUEST_RESET_PASSWORD:return"Enter the email address associated with your account. We will email you a link to reset your password.";case jr.DO_RESET_PASSWORD:return"Enter the new password you want to create. This password will be used when you sign in next time."}}()})}),Object(N.jsxs)(va.a,{role:"form",children:[n===jr.SIGN_UP?Object(N.jsx)(ya.a,{className:"mb-3",children:Object(N.jsxs)(Ht.a,{className:"input-group",children:[Object(N.jsx)("div",{className:"input-group-icon",children:Object(N.jsx)(x.N,{size:20})}),Object(N.jsx)(qt.a,{required:!0,placeholder:"John Doe",type:"text",onChange:function(e){return f(e.target.value)},value:m})]})}):null,n===jr.DO_RESET_PASSWORD?null:Object(N.jsx)(ya.a,{className:"mb-3",children:Object(N.jsxs)(Ht.a,{className:"input-group",children:[Object(N.jsx)("div",{className:"input-group-icon",children:Object(N.jsx)(x.m,{size:20})}),Object(N.jsx)(qt.a,{required:!0,placeholder:"example@microsoft.com",type:"email",onChange:function(e){return g(e.target.value)},value:C})]})}),function(){switch(n){case jr.LOG_IN:case jr.SIGN_UP:case jr.DO_RESET_PASSWORD:return Object(N.jsx)(ya.a,{children:Object(N.jsxs)(Ht.a,{className:"input-group",children:[Object(N.jsx)("div",{className:"input-group-icon",children:Object(N.jsx)(x.w,{size:20})}),Object(N.jsx)(qt.a,{required:!0,placeholder:"Password",type:"password",onChange:function(e){return y(e.target.value)},value:L})]})});default:return null}}(),P?Object(N.jsxs)("div",{className:"text-center text-muted mb-4 text-green",children:[Object(N.jsx)("small",{children:"Yay! Referral Code applied successfully!"})," ",Object(N.jsx)("br",{}),Object(N.jsxs)("small",{children:[Object(N.jsx)("b",{children:"Sign up with work email"})," to get Free Requestly Premium"]})]}):null,Object(N.jsx)("div",{className:"text-center",children:function(){if(b)return Object(N.jsx)(le.a,{className:"auth-modal-btn primary",color:"primary",type:"button",children:Object(N.jsx)(x.H,{className:"icon-spin"})});switch(n){default:case jr.LOG_IN:return Object(N.jsx)(le.a,{id:"auth-form-submit-btn",className:"my-4 auth-modal-btn primary",color:"primary",type:"submit",onClick:function(e){return Ka(e,C,L,p,a,o,(function(){return y("")}))},children:"Sign in"});case jr.SIGN_UP:return Object(N.jsx)(le.a,{id:"auth-form-submit-btn",className:"auth-modal-btn primary",color:"primary",type:"submit",onClick:function(e){return qa(e,m,C,L,P,p,s)},children:"Sign up"});case jr.REQUEST_RESET_PASSWORD:return Object(N.jsx)(le.a,{id:"auth-form-submit-btn",className:"auth-modal-btn primary",color:"primary",type:"submit",onClick:function(e){return Qa(e,C,p,l)},children:"Send reset link"});case jr.DO_RESET_PASSWORD:return Object(N.jsx)(le.a,{id:"auth-form-submit-btn",className:"my-4",color:"primary",type:"submit",onClick:function(e){return Xa(e,L,p,s,(function(){return t(jr.LOG_IN)}))},children:"Set new password"})}}()}),function(){switch(n){case jr.LOG_IN:case jr.SIGN_UP:return Object(N.jsxs)(Yt.a,{className:"auth-modal-social-auth",children:[Object(N.jsx)("div",{className:"auth-modal-social-auth-title",children:Object(N.jsx)("small",{className:"text-dark",children:w()})}),Object(N.jsxs)("div",{className:"text-center",style:{display:"flex",flexDirection:"column",width:"60%",margin:"0 auto"},children:[Object(N.jsxs)(le.a,{className:"btn-neutral w-75 my-2 btn-icon auth-modal-btn",color:"default",onClick:function(){return function(e,t,n,a,r,c){switch(e&&e(!0),t){case W.FEATURES.SHARED_LISTS:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REQUESTED,"Google Login requested on SharedList index page");break;case W.FEATURES.RULES:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REQUESTED,"Google Login requested on rules index page")}(a&&a===S.CONSTANTS.APP_MODES.DESKTOP?Dn:Pn)().then((function(a){if(a&&a.uid){switch(Ya("".concat(bn(),", ").concat(a.displayName.split(" ")[0])),t){case W.FEATURES.SHARED_LISTS:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_DONE,"Google Login done on SharedList index page");break;case W.FEATURES.RULES:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_DONE,"Google Login done on Rules index page")}r===W.AUTH.ACTION_LABELS.SIGN_UP&&we(c),n&&n()}else if(Ba("Sorry, the email or password you have entered isn't right. Can you please try again?"),e&&e(!1),t)switch(t){case W.FEATURES.SHARED_LISTS:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REJECTED,"Google Login rejected on SharedList index page");break;case W.FEATURES.RULES:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REJECTED,"Google Login rejected on Rules index page")}})).catch((function(){e&&e(!1)}))}(p,a,o,O,n,s)},children:[Object(N.jsx)("span",{className:"btn-inner--icon",children:Object(N.jsx)("img",{style:{width:"1.4rem",margin:"0 .4rem"},alt:"Login with Google",src:ur})}),Object(N.jsx)("span",{className:"btn-inner--text",children:"Google"})]}),O&&O===S.CONSTANTS.APP_MODES.EXTENSION?Object(N.jsxs)(le.a,{className:"btn-neutral w-75 my-2 btn-icon auth-modal-btn",color:"default",onClick:function(){return Wa(p,a,o,n,s)},children:[Object(N.jsx)("span",{className:"btn-inner--icon",children:Object(N.jsx)("img",{style:{width:"1.4rem",margin:"0 .4rem"},alt:"Login with Apple",src:dr})}),Object(N.jsx)("span",{className:"btn-inner--text",children:"Apple"})]}):null]})]});default:return null}}(),Object(N.jsxs)(de.a,{className:"auth-modal-footer",children:[function(){switch(n){default:case jr.LOG_IN:return Object(N.jsx)(ie.a,{children:Object(N.jsx)("span",{className:"float-left text-muted cursor-pointer",onClick:function(){return t(jr.SIGN_UP)},children:"Sign up"})});case jr.SIGN_UP:case jr.REQUEST_RESET_PASSWORD:case jr.DO_RESET_PASSWORD:return Object(N.jsx)(ie.a,{children:Object(N.jsx)("span",{className:"float-left text-muted cursor-pointer",onClick:function(){return t(jr.LOG_IN)},children:"Sign in"})})}}(),function(){switch(n){default:case jr.LOG_IN:case jr.SIGN_UP:return Object(N.jsx)(ie.a,{children:Object(N.jsx)("span",{className:"float-right text-muted cursor-pointer",onClick:function(){return t(jr.REQUEST_RESET_PASSWORD)},children:"Reset password"})});case jr.DO_RESET_PASSWORD:return Object(N.jsx)(ie.a,{children:Object(N.jsx)("span",{className:"float-right text-muted cursor-pointer",onClick:function(){return t(jr.REQUEST_RESET_PASSWORD)},children:"Resend"})});case jr.REQUEST_RESET_PASSWORD:return Object(N.jsx)(ie.a,{children:Object(N.jsx)("span",{className:"float-right text-muted cursor-pointer",onClick:function(){return t(jr.SIGN_UP)},children:"Sign up"})})}}()]})]})]})})},br=W.AUTH.ACTION_LABELS,Sr=function(e){var t=e.authMode,n=Object(ae.g)(),a=Object(c.useContext)(J).state,r=et(a),i=Object(c.useState)(t||br.LOG_IN),o=Object(u.a)(i,2),l=o[0],d=o[1],O=Object(c.useCallback)((function(){var e=new URLSearchParams(window.location.search);e.has("redirectUrl")?n.push(e.get("redirectUrl")):me(n)}),[n]);return Object(c.useEffect)((function(){!r.loggedIn||l!==br.LOG_IN&&l!==br.SIGN_UP||O()}),[r.loggedIn,O,l]),Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:6,offset:9,className:"auth-page-shadow",children:Object(N.jsx)(Er,{authMode:l,setAuthMode:d})})})})},pr=function(e){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Sr,{authMode:e.authMode})})},hr=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),i=Object(u.a)(r,2),o=i[0],l=i[1],d=function(){var e=Object(ne.a)(te.a.mark((function e(t){var n,r,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams(window.location.search),e.next=3,t.getIdToken();case 3:r=e.sent,c=n.get("ot-auth-code"),Ee.functions().httpsCallable("createAuthToken")({oneTimeCode:c,idToken:r}).then((function(e){a(!0),window.close()})).catch((function(e){console.error(e.message),l(!0),window.close()}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){return Object(N.jsxs)("h4",{className:"display-6",children:[Object(N.jsx)(x.b,{className:"mr-2"}),"You're now logged into the desktop app. This window can now be safely closed."]})},j=function(){return Object(N.jsxs)("h4",{className:"display-6",children:[Object(N.jsx)(x.o,{className:"mr-2"}),"An unexpected error has occured. Please close this window and try logging in again"]})};return Object(c.useEffect)((function(){Ee.auth().getRedirectResult().then(function(){var e=Object(ne.a)(te.a.mark((function e(t){var n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.user){e.next=5;break}return e.next=3,d(t.user);case 3:e.next=12;break;case 5:if(!Ee.auth().currentUser){e.next=10;break}return e.next=8,d(Ee.auth().currentUser);case 8:e.next=12;break;case 10:n=new Ee.auth.GoogleAuthProvider,Ee.auth().signInWithRedirect(n);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(ue.a,{className:" mt--5",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)("div",{className:" col",children:Object(N.jsx)(Oe.a,{className:" shadow",children:Object(N.jsx)(je.a,{children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{lg:"12",md:"12",className:"text-center",children:Object(N.jsx)(oe.a,{style:{background:"transparent"},className:"text-center",children:o?j():n?O():Object(N.jsxs)("h4",{className:"display-6",children:[Object(N.jsx)(x.H,{className:"icon-spin mr-2"}),"Authenticating"]})})})})})})})})})})},Tr=function(){return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(hr,{})})},mr=n(961),fr=n(326),Ar=n(976),Rr=n(168),xr=n(317),Nr=function(e){var t=e.mode,n=e.teamId,a=e.currency,r=e.duration,s=e.isPlanVerificationPassed,i=e.stripe,o=e.planType,l=Object(c.useRef)(!0),d=Object(c.useContext)(J).state,O=et(d),j=Object(c.useState)(!1),E=Object(u.a)(j,2),b=E[0],S=E[1],p=Object(c.useState)(!1),h=Object(u.a)(p,2),T=h[0],m=h[1],f=function(){var e=Object(ne.a)(te.a.mark((function e(){var c,u;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l.current){e.next=2;break}return e.abrupt("return",null);case 2:if(b){e.next=4;break}return e.abrupt("return",null);case 4:if(s){e.next=6;break}return e.abrupt("return",null);case 6:if(!T){e.next=8;break}return e.abrupt("return",null);case 8:m(!0),c=Ca(o,r),e.t0=t,e.next="individual"===e.t0?13:"team"===e.t0?15:17;break;case 13:return u="createIndividualSubscriptionUsingStripeCheckout",e.abrupt("break",19);case 15:return u="createTeamSubscriptionUsingStripeCheckout",e.abrupt("break",19);case 17:return De(),e.abrupt("return",null);case 19:Ee.functions().httpsCallable(u)({rqPlanId:c,currency:a,teamId:n,success_url:"http://"+window.location.host+W.PATHS.PAYMENT_SUCCESS.ABSOLUTE+"?ref=stripe&paymentId=5357551a-e2d7",cancel_url:"http://"+window.location.host+W.PATHS.PAYMENT_FAIL.ABSOLUTE+"?ref=stripe&paymentId=5357551a-e2d7"}).then((function(e){if(!l.current)return null;var t=e.data;if(!t.success)throw Error("couldn't create checkoutSessionId");i.redirectToCheckout({sessionId:t.payload.checkoutSessionId})})).catch((function(e){De()}));case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=Object(c.useCallback)(f,[b,s,T,o,r,t,a,n,i]),R=Object(c.useCallback)((function(){Ee.functions().httpsCallable("getTeamInfo")({teamId:n}).then((function(e){if(!l.current)return null;var t=e.data;if(!t.success)throw new Error("You might already have a subscription");if("active"===t.data.subscriptionStatus)throw new Error("You are already premium");S(!0)})).catch((function(e){if(!l.current)return null;e&&(S(!1),Fe.error("You might already have a subscription"),Ue({mode:"team",planType:"enterprise",teamId:n}))}))}),[n]),x=Object(c.useCallback)((function(){O&&O.details&&O.details.profile.email&&Ee.functions().httpsCallable("fetchIndividualUserSubscriptionDetails")({}).then((function(e){if(!l.current)return null;var t=e.data.data;!0===e.data.success&&"active"===t.status?(S(!1),Ue({mode:"individual",planType:"gold"})):S(!0)})).catch((function(e){l.current||S(!0)}))}),[O]);return Object(c.useEffect)((function(){return s&&("team"===t?R():"individual"===t&&x(),t&&a&&r&&o&&s&&b&&A()),function(){}}),[R,x,t,s,a,r,A,b,o]),Object(N.jsx)(N.Fragment,{})},Cr=it,gr=Na,_r=function(e){switch(parseInt(e)){case 30:return"monthly";case 90:return"quarterly";case 180:return"half-yearly";case 365:return"annual";default:return!1}},Ir=function(){var e=Object(ae.g)(),t=Object(c.useRef)(!0),n=Object(Rr.useStripe)(),a=new URLSearchParams(window.location.search),r=a.get("m"),s=a.get("t"),i=a.get("p"),o=a.get("d"),l=Object(c.useState)("US"),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useState)("USD"),b=Object(u.a)(E,2),S=b[0],p=b[1],h=Object(c.useState)(!1),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useState)(!1),R=Object(u.a)(A,2),x=R[0],C=R[1],g=Object(N.jsx)(Sa.a,{style:{fontSize:24},spin:!0}),_=Cr.find((function(e){return e.id===i})),I=Object(c.useCallback)((function(t){Fe.error(t||"Invalid URL"),Me(e)}),[e]),L=Object(c.useCallback)((function(e){var t=gr(e);if(!t)return I();p(t);var n=_r(o);if(!n)return I();f(n);var a=_[n];if(!a)return I();var r=a.price;return r&&r[t]?void C(!0):I()}),[o,_,I]),y=Object(c.useCallback)((function(){fetch("https://api.country.is/").then((function(e){if(!t.current)return null;200===e.status&&e.json().then((function(e){e.country&&j(e.country),L(e.country)})).catch((function(e){if(!t.current)return null;console.log(e),L(O)}))})).catch((function(e){if(!t.current)return null;console.log(e),L(O)}))}),[O,L]);return Object(c.useEffect)((function(){if(!i||!_||!o||"individual"!==r&&"team"!==r||"team"===r&&"string"!==typeof s){if(!t.current)return;I()}else y();return function(){t.current=!1}}),[y,o,r,_,i,I,s]),Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(xt.a,{span:24,children:[Object(N.jsx)(Rt.a,{className:"mb-8 mt-8",children:Object(N.jsx)(xt.a,{span:24,align:"center",children:Object(N.jsx)(ba.a,{tip:"Verifying your details. This should not take more than a minute or two.",indicator:g})})}),Object(N.jsx)(Rt.a,{className:"mb-2",children:Object(N.jsxs)(xt.a,{span:24,align:"center",children:[Object(N.jsxs)("h1",{children:["Wall of Love"," ",Object(N.jsx)("span",{style:{color:"red"},children:Object(N.jsx)(Ar.a,{})})]}),Object(N.jsx)("h4",{children:"We are proud of 100,000+ happy users. Hear what they say about us."})]})}),Object(N.jsxs)(Rt.a,{gutter:"4",children:[Object(N.jsx)(xt.a,{span:8,children:Object(N.jsx)(mr.a,{author:"Lea Verou, W3C member & Author CSS Secrets",avatar:Object(N.jsx)(fr.a,{src:"/assets/img/users/Lea-Verou.jpg",alt:"Lea Verou"}),content:Object(N.jsx)("p",{children:"A while ago I posted this for changing resource URLs for local debugging. Since then I've switched to using @requestly_ext instead for Chrome: easy on/off toggling and I can use it to debug with the local version of my libraries on remote websites too!"})})}),Object(N.jsx)(xt.a,{span:8,children:Object(N.jsx)(mr.a,{author:"Kos Breton, Director (Management) at Coinbase",avatar:Object(N.jsx)(fr.a,{src:"/assets/img/users/Kos-Breton.jpeg",alt:"Kos Breton"}),content:Object(N.jsx)("p",{children:"Thank you for making this great addon. I just checked out Requestly and indeed it is very easy to set up. It helps me customize my browsing experience entirely. Keep up the great work!"})})}),Object(N.jsx)(xt.a,{span:8,children:Object(N.jsx)(mr.a,{author:"Mukul Gupta, Senior Software Engineer at Adobe",avatar:Object(N.jsx)(fr.a,{src:"/assets/img/users/Mukul-Gupta.jpg",alt:"Mukul Gupta"}),content:Object(N.jsx)("p",{children:"I'd rate it as one of the best extensions around to boost developer productivity. Even if you're not a developer but need to navigate through loads of seemingly similar web pages, it is highly recommended with a very small learning curve."})})})]}),Object(N.jsx)("section",{className:"section section-sm ",style:{display:"none"},children:Object(N.jsx)(Nr,{mode:r,teamId:s,currency:S,duration:m,isPlanVerificationPassed:x,stripe:n,planType:i})})]})})},Lr=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){n||a(Object(xr.a)(S.CONFIG.stripeConfig.publishableKey))}),[n]),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:!1!==n?Object(N.jsx)(Rr.Elements,{stripe:n,children:Object(N.jsx)(Ir,{})}):null})})},yr=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Bt,{component:Lr})})},vr=function(e){var t=e.skeletonType,n=void 0===t?"list":t;return Object(N.jsx)("div",{className:"spinner-card",style:{padding:24},children:Object(N.jsx)(be.a,{type:n})})},Ur=W.PATHS,Pr=function(e){var t=e.delay,n=e.path,a=e.message;n=n||Ur.RULES.RELATIVE;var r=Object(c.useState)(t),s=Object(u.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(!1),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useState)(null),b=Object(u.a)(E,2),S=b[0],p=b[1];return Object(c.useEffect)((function(){i===t&&p(setInterval((function(){return o((function(e){return e-1}))}),1e3)),i<=0&&!O&&(S&&clearInterval(S),j(!0))}),[i,O,t,S]),O?Object(N.jsx)(ae.a,{push:!0,to:n}):Object(N.jsxs)("h5",{className:"title is-6",children:[a||"Redirecting you to ".concat(n)," in ",Object(N.jsx)("span",{children:i})]})},Dr=W.PATHS,wr=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){var e=Or(),t=window.location.search;if(e.mode)switch(e.mode){case"resetPassword":a(Dr.AUTH.RESET_PASSWORD.RELATIVE+t);break;case"verifyEmail":a(Dr.AUTH.VERIFY_EMAIL.RELATIVE+t);break;case"signIn":a(Dr.AUTH.EMAIL_LINK_SIGNIN.RELATIVE+t);break;default:a(Dr.RULES.RELATIVE)}else a(Dr.RULES.RELATIVE)}),[n]),n?Object(N.jsx)(Pr,{delay:0,path:n}):Object(N.jsx)(vr,{customLoadingMessage:"Please Wait ... "})},Mr=function(e){Object(ar.a)(n,e);var t=Object(rr.a)(n);function n(){return Object(tr.a)(this,n),t.apply(this,arguments)}return Object(nr.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(wr,{})})}}]),n}(s.a.Component),kr=n(69),Gr=n(969),Fr=n(129),Br=n.n(Fr),Vr=function(e){var t=e.isOpen,n=e.toggle,a=e.featureName,r=void 0===a?"rules":a,s=e.featureLimit,i=void 0===s?10:s,o=e.userPlanName,l=void 0===o?"Free":o,d=e.mode,O=void 0===d?W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT:d,j=Object(ae.g)(),E=jt(l),b=ln(r),p=Object(c.useState)(!1),h=Object(u.a)(p,1)[0],T=Object(c.useState)(""),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(""),x=Object(u.a)(R,2),C=x[0],g=x[1];return Object(N.jsxs)(tn.a,{className:"modal-dialog-centered modal-danger",contentClassName:"bg-gradient-danger bg-gradient-blue",visible:t,onCancel:function(){return n()},footer:null,title:"It's time to upgrade",children:[Object(N.jsxs)("div",{className:"modal-body",children:[Object(N.jsxs)("div",{className:"py-3 text-center",children:[Object(N.jsx)("h4",{className:"heading mt-4",children:O===W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT?r===W.FEATURES.ACTIVE_RULES?"Upgrade now to activate more rules":r===W.FEATURES.RESPONSE_BODY_CHARACTER_LIMIT?"Upgrade now to increase ".concat(b," limit!"):"Upgrade now to create more ".concat(b):"Upgrade now to enable ".concat(b)}),Object(N.jsxs)("p",{children:[O===W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT?Object(N.jsxs)("span",{children:["It seems like you have reached your ",b," limit."," ",Object(N.jsxs)("strong",{children:[E?l:"Free"," "]})," ","accounts are limited to ",i," ",b,"."," "]}):Object(N.jsxs)("span",{children:[Object(N.jsx)("span",{style:{textTransform:"capitalize"},children:b})," ","is a premium feature."]})," ","Upgrade to one of our premium plans to make sure you can access all of the Requestly features whenever you need it."]})]}),function(){var e=new Date("2021-07-30");return(new Date).getTime()<=e.getTime()}()?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h4",{className:"heading text-center",children:"A sweet surprise for you"}),Object(N.jsxs)("div",{className:"d-flex px-3 justify-content-between",children:[Object(N.jsx)("p",{className:"text-white",children:"50% OFF for first 3 months on Monthly Plan"}),Object(N.jsxs)("h3",{children:[Object(N.jsx)(Gr.a,{delay:0,trigger:"hover focus",target:"monthlyCoupon",children:f?"Copied":"Copy To Clipboard"}),Object(N.jsx)(Fr.CopyToClipboard,{text:f,onCopy:function(){g(""),A("RQ7Monthly"),navigator.clipboard.writeText("RQ7Monthly").then((function(){ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.REQUEST_UPGRADE,S.CONSTANTS.GA_EVENTS.ACTIONS.LIMIT_REACHED,"Monthly coupon code copied")}),(function(e){console.error("Could not copy text: ",e)}))},children:Object(N.jsx)(la.a,{style:{textTransform:"none"},id:"monthlyCoupon",className:"text-dark cursor-pointer",color:"light",children:"RQ7Monthly"})})]})]}),Object(N.jsxs)("div",{className:"d-flex px-3 justify-content-between",children:[Object(N.jsx)("p",{className:"text-white",children:"Flat 25% OFF on Annual Plan"}),Object(N.jsxs)("h3",{children:[Object(N.jsx)(Fr.CopyToClipboard,{text:C,onCopy:function(){A(""),g("RQ7Annual"),navigator.clipboard.writeText("RQ7Annual").then((function(){ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.REQUEST_UPGRADE,S.CONSTANTS.GA_EVENTS.ACTIONS.LIMIT_REACHED,"Annual coupon code copied")}),(function(e){console.error("Could not copy text: ",e)}))},children:Object(N.jsx)(la.a,{style:{textTransform:"none"},id:"annualCoupon",className:"text-dark cursor-pointer",color:"light",children:"RQ7Annual"})}),Object(N.jsx)(Gr.a,{delay:0,trigger:"hover focus",target:"annualCoupon",children:C?"Copied":"Copy To Clipboard"})]})]})]}):null]}),Object(N.jsxs)("div",{className:"modal-footer",style:{textAlign:"center"},children:[h?Object(N.jsxs)(Ct.a,{className:"text-white",color:"link","data-dismiss":"modal",type:"button",onClick:function(){return function(e){e.push(he.UNLOCK_PREMIUM.ABSOLUTE)}(j)},children:["Unlock Premium ",Object(N.jsx)(la.a,{color:"secondary",children:"New"})]}):null,Object(N.jsx)(Ct.a,{onClick:function(){ge(j),n()},className:"btn-white ml-auto",type:"primary",children:"Get Premium"})]})]})};function Yr(e){return S.CONSTANTS.MOCK_URL+e}function Hr(e){return Ee.database().ref("/users/"+Ee.auth().currentUser.uid+"/files/"+e).remove()}function Kr(e){return Ee.storage().ref().child(e.filePath).delete().then((function(){return Hr(e.id)}),(function(t){if("storage/object-not-found"===t.code)return Hr(e.id)}))}function Wr(e,t,n){return t.name=e.metadata.name,t.size=e.metadata.size,t.contentType=e.metadata.contentType,t.webContentLink=n,t.createdTime=e.metadata.timeCreated,t.filePath=e.metadata.fullPath,t.modifiedTime=e.metadata.updated,t}function qr(e,t){return function(e,t){if(!["application/json","application/javascript","text/javascript","text/html","text/css","text/plain","image/jpeg","image/png","image/svg+xml"].reduce((function(e,n){return e||n===t.contentType}),!1))return new Promise((function(e,t){e({success:!1,msg:"Unsupported File Type"})}));return Ee.storage().ref("/users/"+Ee.auth().currentUser.uid+"/files/").child(Date.now().toString()).child(t.name).put(e).then((function(e){return e.ref.getDownloadURL().then((function(n){return(a=n,new Promise((function(e,t){e(a)}))).then((function(a){t.shortUrl=a;var r=Wr(e,t,n),c=Ee.database().ref("/users/"+Ee.auth().currentUser.uid+"/files/").push(),s=c.key;return r.id=s,c.update(r).then((function(){return{success:!0,data:r}}))}));var a}))}))}(e,t)}function Qr(e,t,n){var a=new Blob([t],{type:n.contentType}),r={contentType:n.contentType};return Ee.storage().ref(e).put(a,r).then((function(e){return e.ref.getDownloadURL().then((function(t){var a,r=Wr(e,n,t);return r.id=n.id,(a=r,Ee.database().ref(S.CONSTANTS.FIREBASE_NODES.USERS).child(Ee.auth().currentUser.uid).child(S.CONSTANTS.FIREBASE_NODES.FILES).child(a.id).update(a)).then((function(){return{success:!0,data:r}}))}))}))}var zr=n(977),Xr=function(e){var t=e.updateCollection,n=e.currentFilesCount,a=e.buttonType,r=void 0===a?"primary":a,i=Object(c.useContext)(J).state,o=et(i),l=Object(c.useState)(!1),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useState)(!1),b=Object(u.a)(E,2),S=b[0],p=b[1],h=Object(c.useState)(0),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useState)("Free"),R=Object(u.a)(A,2),x=R[0],C=R[1],g=Object(c.useState)(!1),_=Object(u.a)(g,2),I=_[0],L=_[1];return Object(N.jsxs)(s.a.Fragment,{children:[S?Object(N.jsx)(Ct.a,{loading:!0,type:r,children:"Uploading..."}):O?Object(N.jsx)(nn.a,{type:"file",onChange:function(e){p(!0),function(e){var t={},n=e.target.files[0];return n.size>1e7?Fe.warn("File Uploaded Limit Exceeded. Please keep it <10 mb"):(t.name=n.name,t.description="",t.contentType=n.type,qr(n,t).then((function(e){e.success?Fe.info("File Uploaded Successfully"):Fe.error("File Type not supported")})))}(e).then((function(){t&&t(),j(!1),p(!1)}))}}):Object(N.jsx)(Ct.a,{type:r,onClick:function(e){var t=ht(o),a=mt(W.FEATURES.FILES,t);n>=a?(f(a),C(t),L(!0)):j(!0)},icon:Object(N.jsx)(zr.a,{}),children:"Upload File"}),I?Object(N.jsx)(Vr,{isOpen:I,toggle:function(){L(!I)},featureName:W.FEATURES.FILES,featureLimit:m,userPlanName:x}):null]})},Jr=n(974),Zr=n(191),$r=n(59),ec=n.n($r),tc=Xt.a.Link,nc=Xt.a.Text,ac=function(e){var t=e.filesList,n=void 0===t?{}:t,a=e.updateCollection,r=e.mode,s=e.callback,i=Object(c.useContext)(J).state,o=et(i),l=Object(ae.g)(),d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(""),p=Object(u.a)(b,2),h=p[0],T=p[1],m=[{title:"Name",dataIndex:"name",textWrap:"word-break",ellipsis:!0,render:function(e,t){return Object(N.jsx)(tc,{onClick:function(e){return xe(l,t.id)},children:e})}},{title:"Size",dataIndex:"size",width:"10%",render:function(e,t){return isNaN(parseInt(t.size))?null:parseInt(t.size)/1e3+" kB"}},{title:"Last Modified",align:"center",valueType:"date",render:function(e,t){var n=t.modifiedTime?t.modifiedTime:t.creationDate?t.creationDate:t.modificationDate;return n?ec()(n).format("LLL"):"-"}},{title:"Actions",align:"right",width:"8%",render:function(e,t){return r===W.FILES_TABLE_CONSTANTS.MODES.FILE_PICKER?Object(N.jsx)(Ct.a,{size:"small",type:"secondary",onClick:function(){return s(t.shortUrl)},children:"Insert"}):Object(N.jsx)(Zr.a,{children:function(e){var n=e.isHovering;return Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(nc,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(kr.a,{title:"Edit",children:Object(N.jsx)(ua.a,{onClick:function(e){return xe(l,t.id||t.mockID)}})})}),Object(N.jsx)(nc,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:j?Object(N.jsx)(Sa.a,{}):Object(N.jsx)(kr.a,{title:"Delete File",children:Object(N.jsx)(Jr.a,{onClick:function(){return function(e,t){E(!0),e.mockID?Ee.functions().httpsCallable("deleteMock")(e.mockID).then((function(e){E(!0),e.data.success?(Fe.info("Mock deleted"),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.LIBRARY,S.CONSTANTS.GA_EVENTS.ACTIONS.DELETED,"Mock Deleted"),E(!1),t&&t()):Fe.error("Mock cannot be deleted. Try again.")})):Kr(e).then((function(){Fe.info("File deleted"),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.LIBRARY,S.CONSTANTS.GA_EVENTS.ACTIONS.DELETED,"File Deleted"),E(!1),t&&t()}))}(t,a)}})})})]})}})}}];Object(c.useEffect)((function(){Object.keys(n).length>0&&ta("isHostFileTask",!0)}),[n]);return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Oa.a,{rowKey:"id",headerTitle:Object(N.jsxs)(N.Fragment,{children:["Manage Mocks"," ","bronze"===ht(o)?"(".concat(Object.keys(n).length,"/").concat(function(){var e=ht(o);return mt(W.FEATURES.FILES,e)}()," Mocks Used)"):null,"bronze"===ht(o)?Object(N.jsx)(tc,{onClick:function(e){e.preventDefault(),ge(l),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.FILES,S.CONSTANTS.GA_EVENTS.ACTIONS.REMOVE_LIMIT_CLICKED,"remove.limit.clicked@files.page",Object.keys(n).length)},style:{marginLeft:"1rem"},children:"Remove Limits"}):null]}),toolBarRender:function(){return[Object(N.jsx)(Xr,{updateCollection:a,currentFilesCount:Object.keys(n).length,buttonType:"secondary"}),Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){return Ne(l)},icon:Object(N.jsx)(da.a,{}),children:"Create New Mock"})]},options:!1,pagination:!1,search:!1,dateFormatter:!1,columns:(r!==W.FILES_TABLE_CONSTANTS.MODES.FILE_PICKER&&m.splice(3,0,{title:"Public URL",align:"center",width:"30%",textWrap:"word-break",ellipsis:!0,className:"fit-text-content",render:function(e,t){return Object(N.jsx)("span",{style:{cursor:"pointer"},children:Object(N.jsx)(Br.a,{text:t.shortUrl||Yr(t.mockID),onCopy:function(){var e;T((e=t).shortUrl||Yr(e.mockID))},children:Object(N.jsx)(kr.a,{placement:"topLeft",title:h===(t.shortUrl||Yr(t.mockID))?"Copied":"Click to Copy",children:t.shortUrl||Yr(t.mockID)})})})}}),m),dataSource:Object.values(n).map((function(e){return e.id||(e.id=e.mockID),e}))})})},rc=function(e){var t=e.filesList,n=void 0===t?{}:t,a=e.updateCollection;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(At.a,{className:"primary-card",title:null,children:Object(N.jsx)(ac,{filesList:n,updateCollection:a})})})},cc=function(e){var t=e.updateCollection,n=Object(ae.g)();return Object(N.jsx)(At.a,{className:"primary-card",children:Object(N.jsx)(Rt.a,{style:{textAlign:"center"},align:"center",children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsxs)(oe.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3",children:"Generate API mocks in seconds!"}),Object(N.jsxs)("p",{className:"lead",children:["Create API mocks instantly, without remote deployment",Object(N.jsx)("br",{}),"Upload or Paste your HTML/JS/CSS/JSON response and generate a publicly accessible URL.",Object(N.jsx)(Ct.a,{type:"link",color:"secondary",onClick:function(){return window.open(W.LINKS.REQUESTLY_DOCS_FILES_SERVICE,"_blank")},children:"Read Docs"})]}),Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(Ct.a,{className:"btn-icon btn-3",type:"primary",onClick:function(){return Ne(n)},icon:Object(N.jsx)(ua.a,{}),children:"New Mock Response"}),Object(N.jsx)(Xr,{updateCollection:t,currentFilesCount:0,buttonType:"secondary"})]})]})})})})},sc=function(e){var t=function(e){return e?[S.CONSTANTS.FIREBASE_NODES.USERS,e]:null}(e);return t&&t.push(S.CONSTANTS.FIREBASE_NODES.SHARED_LISTS),t},ic=function(e){return[S.CONSTANTS.FIREBASE_NODES.PUBLIC,S.CONSTANTS.FIREBASE_NODES.SHARED_LISTS,e]},oc=function(e){return[S.CONSTANTS.FIREBASE_NODES.USERS,e,S.CONSTANTS.FIREBASE_NODES.FILES]},lc=function(e){var t=oc(e);return Wn.getValue(t)},uc=function(){var e=Object(ne.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ee.functions().httpsCallable("fetchMocks"),e.next=3,t().then((function(e){return e.data}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dc=function(){var e=Object(c.useContext)(J).state,t=et(e),n=Object(c.useState)(!0),a=Object(u.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)([]),o=Object(u.a)(i,2),l=o[0],d=o[1],O=function(){var e=Object(ne.a)(te.a.mark((function e(){var n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),d([]),e.next=4,lc(t.details.profile.uid).then((function(e){var t=function(t){d((function(n){return[].concat(Object(gt.a)(n),[e[t]])}))};for(var n in e)t(n);return e}));case 4:n=e.sent,uc().then((function(e){d(n?function(t){return[].concat(Object(gt.a)(t),Object(gt.a)(e))}:e),s(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=Object(c.useCallback)(O,[t]);return Object(c.useLayoutEffect)((function(){t.loggedIn&&t.details.profile&&j()}),[t,j]),r?Object(N.jsx)(vr,{customLoadingMessage:"Loading Mocks"}):ce()(l)?Object(N.jsx)(cc,{updateCollection:O}):Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(rc,{updateCollection:O,filesList:l})})},Oc=function(e){Object(ar.a)(n,e);var t=Object(rr.a)(n);function n(){return Object(tr.a)(this,n),t.apply(this,arguments)}return Object(nr.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Bt,{component:dc})})}}]),n}(s.a.Component),jc=n(389),Ec=n(320),bc=n.n(Ec),Sc=n(142),pc=n(183),hc=n.n(pc),Tc=(n(454),n(455),n(456),n(457),n(458),function(e){var t=e.src;return Object(N.jsx)("div",{className:"d-flex justify-content-center p-3",children:Object(N.jsx)("img",{style:{maxWidth:"15vw",width:"100%"},src:t,alt:""})})}),mc=n(141),fc=n(519),Ac=Sc.a.Option,Rc=n(254);Rc.config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds@1.4.3/src-noconflict/"),Rc.config.setModuleUrl("ace/mode/javascript_worker","https://cdn.jsdelivr.net/npm/ace-builds@1.4.3/src-noconflict/worker-javascript.js");var xc="HTML",Nc="CSS",Cc="JS",gc="Image",_c="API",Ic=function(e){var t=e.headersCount,n=e.handleHeadersFieldAdd,a=e.handleHeadersFieldRemove,r=e.headersPairUpdate,s=e.list,i=e.index,o=Object(c.useState)(s[i].key||""),l=Object(u.a)(o,2),d=l[0],O=l[1],j=Object(c.useState)(s[i].value||""),E=Object(u.a)(j,2),b=E[0],S=E[1];return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(Rt.a,{className:"mx-1 my-3",style:{marginBottom:"0.5rem",marginTop:"0.5rem"},children:[Object(N.jsx)(xt.a,{sm:"0.5",className:"align-self-center",span:3,align:"center",children:Object(N.jsx)("h4",{children:"Header Name"})}),Object(N.jsx)(xt.a,{sm:"4",span:8,align:"center",children:Object(N.jsx)(nn.a,{type:"text",placeholder:"Header",value:s[i].key||"",name:"key",onChange:function(e){O(e.target.value),r(i,e.target.value,b)},style:{width:"80%"}})}),Object(N.jsx)(xt.a,{sm:"0.5",className:"align-self-center",span:3,align:"center",children:Object(N.jsx)("h4",{children:"Value"})}),Object(N.jsx)(xt.a,{sm:"4",span:8,align:"center",children:Object(N.jsx)(nn.a,{type:"text",placeholder:"Value",value:s[i].value||"",name:"value",onChange:function(e){S(e.target.value),r(i,d,e.target.value)},style:{width:"80%"}})}),Object(N.jsx)(xt.a,{span:2,children:t>1&&Number(i)<t-1?Object(N.jsx)(Ct.a,{className:"btn-icon btn-3",color:"danger",type:"button",onClick:function(){a(i),O(""),S("")},icon:Object(N.jsx)(Jr.a,{})}):Object(N.jsx)(Ct.a,{className:"btn-icon btn-3",color:"primary",type:"button",onClick:function(){return n()},icon:Object(N.jsx)(da.a,{})})})]})})},Lc=function(e){var t=e.newFile,n=e.currentFilesCount,a=W.MOCK_RESPONSE_BODY_CHARACTER_LIMIT,r=Object(ae.g)(),i=Object(c.useContext)(J).state,o=et(i),l=Object(c.useState)(e.fileDetails?e.fileDetails.name:""),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useState)(e.fileDetails?e.fileDetails.contentType:"application/json"),b=Object(u.a)(E,2),S=b[0],p=b[1],h=Object(c.useState)(!e.fileDetails&&_c),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useState)(".js"),R=Object(u.a)(A,2),x=R[0],C=R[1],g=Object(c.useState)(e.fileDetails?e.fileDetails.description:""),_=Object(u.a)(g,2),I=_[0],L=_[1],y=Object(c.useState)(e.fileDetails?e.fileDetails.statusCode:200),v=Object(u.a)(y,2),U=v[0],P=v[1],D=Object(c.useState)([{}]),w=Object(u.a)(D,2),M=w[0],k=w[1],G=Object(c.useState)(e.fileDetails?e.fileDetails.body||e.data:""),F=Object(u.a)(G,2),B=F[0],V=F[1],Y=Object(c.useState)(1),H=Object(u.a)(Y,2),K=H[0],q=H[1],Q=Object(c.useState)(0),z=Object(u.a)(Q,2),X=z[0],Z=z[1],$=Object(c.useState)("Free"),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],re=Object(c.useState)(!1),ce=Object(u.a)(re,2),se=ce[0],ie=ce[1],oe=function(e,t,n){k((function(a){return a[e].key=t,a[e].value=n,a}))},le=function(){q((function(e){return e+1})),k((function(e){return e.push({}),e}))},ue=function(e){var t;q((function(e){return e-1})),t=e,k((function(e){return e.splice(t,1),e}))},de=function(e){switch(e){case".js":Oe("application/javascript",".js",Cc);break;case".html":Oe("text/html",".html",xc);break;case".css":Oe("text/css",".css",Nc);break;case".json":Oe("application/json","",_c)}},Oe=function(e,t,n){C(t),p(e),f(n)},je=function(){var t=ht(o),a=mt(W.FEATURES.FILES,t);n>a?(Z(a),ne(t),ie(!0)):e.saveFile({name:O,contentType:S,description:I,body:B,headers:M,statusCode:U,extension:x,isMock:m===_c})},Ee=function(e){"Escape"===e.key?(e.preventDefault(),Re(r)):"s"===e.key.toLowerCase()&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&(e.preventDefault(),je())};Object(c.useEffect)((function(){return document.addEventListener("keydown",Ee),function(){document.removeEventListener("keydown",Ee)}}),[Ee]),Object(c.useEffect)((function(){var t=e.fileDetails;if(Object(pe.isEmpty)(M[0])&&t&&t.headers){for(var n=t.headers,a=[],r=0,c=Object.entries(n);r<c.length;r++){var s=Object(u.a)(c[r],2),i=s[0],o=s[1];a.push({key:i,value:o})}a.length&&(k(a),q(a.length))}if(t){var l=t.contentType.startsWith("image");t.isMock?f(_c):f(l?gc:t.name.split(".")[1].toUpperCase())}}),[e,M]);var be=function(n){return Object(N.jsx)(Rt.a,{style:n,children:Object(N.jsx)(xt.a,{span:24,align:"right",children:Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(Ct.a,{type:"primary",onClick:je,loading:!!e.saving,icon:Object(N.jsx)(mc.a,{}),children:e.saving?"Creating":t?"Create Mock":"Save"}),Object(N.jsx)(Ct.a,{className:"btn-icon btn-3 float-right",type:"button",color:"secondary",onClick:function(){return Re(r)},children:Object(N.jsx)("span",{className:"btn-inner--text",children:"Close"})})]})})})};return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsxs)(At.a,{className:"primary-card",children:[be({marginTop:"-1rem"}),Object(N.jsx)("br",{}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsxs)(Ta.b,{title:null,bordered:!0,children:[Object(N.jsx)(Ta.b.Item,{label:"Name",children:Object(N.jsx)(nn.a,{type:"text",placeholder:"Name your mock",value:O,name:"name",onChange:function(e){return j(e.target.value)},disabled:!t,style:{width:"95%"}})}),Object(N.jsx)(Ta.b.Item,{label:"Description",span:2,children:Object(N.jsx)(nn.a,{type:"text",placeholder:"(Optional)",value:I,name:"desc",onChange:function(e){return L(e.target.value)},style:{width:"95%"}})}),Object(N.jsx)(Ta.b.Item,{label:"Response Type",children:t?Object(N.jsxs)(Sc.a,{value:m,className:"select-before",disabled:!t,onChange:de,style:{minWidth:"40%"},children:[Object(N.jsx)(Ac,{value:".js",children:Cc}),Object(N.jsx)(Ac,{value:".html",children:xc}),Object(N.jsx)(Ac,{value:".css",children:Nc}),Object(N.jsx)(Ac,{value:".json",children:_c})]}):m}),m===_c?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Ta.b.Item,{label:"Status Code ",children:Object(N.jsx)(nn.a,{type:"number",placeholder:"200",value:U,name:"statusCode",onChange:function(e){return P(e.target.value)},style:{width:"95%"}})}),Object(N.jsx)(Ta.b.Item,{label:"Content Type",children:Object(N.jsx)(nn.a,{type:"text",placeholder:"content/javascript",value:S,name:"type",disabled:!t,onChange:function(e){return p(e.target.value)}})})]}):null,t?null:e.fileDetails.shortUrl||e.fileDetails.mockID?Object(N.jsx)(Ta.b.Item,{label:"Public URL",span:3,children:Object(N.jsx)(nn.a,{type:"text",value:e.fileDetails.shortUrl||Yr(e.fileDetails.mockID),disabled:!0,addonAfter:Object(N.jsx)(Br.a,{text:e.fileDetails.shortUrl||Yr(e.fileDetails.mockID),children:Object(N.jsx)(kr.a,{title:"Click to copy",children:Object(N.jsx)(fc.a,{})})})})}):Object(N.jsx)("div",{children:Object(N.jsx)(ba.a,{})})]})})}),Object(N.jsx)("div",{className:"margin-bottom-one"}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:S.startsWith("image")?Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{className:"text-align-center",span:24,align:"center",children:Object(N.jsx)(Tc,{src:e.fileDetails.webContentLink})})}):Object(N.jsxs)("div",{children:[m===_c?Object(N.jsxs)("div",{children:[Object(N.jsx)(Rt.a,{className:"pl-3",children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsx)(la.a,{className:"mx-1",color:"warning",children:Object(N.jsx)("h4",{children:"Response Headers (Optional)"})})})}),M.map((function(e,t){return Object(N.jsx)(Ic,{handleHeadersFieldAdd:le,headersCount:K,handleHeadersFieldRemove:ue,headersPairUpdate:oe,index:t,list:M},t)}))]}):null,Object(N.jsx)(Rt.a,{style:{marginBottom:"0.5rem",marginTop:"0.5rem"},children:Object(N.jsxs)(xt.a,{span:24,children:[Object(N.jsx)("h4",{children:m===_c?"Response Body":"File Content"}),Object(N.jsx)(hc.a,{width:"100%",height:"400px",placeholder:m===_c?"Response Body":"File Content",mode:m===Cc?"javascript":m===Nc?"css":m===xc?"html":"text",theme:"monokai",name:"body_editor",fontSize:17,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,onChange:function(e){V(e)},value:B,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{marginBottom:"0.5rem",marginTop:"0.5rem"}})]})}),m===_c?Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{xl:"12",children:Object(N.jsxs)("span",{className:"codemirror-character-count",children:[a-jn(B)>=0?a-jn(B):0," ","characters left"]})})}):null]})})}),be({marginTop:"1rem"})]}),se?Object(N.jsx)(Vr,{isOpen:se,toggle:function(){ie(!se)},featureName:W.FEATURES.FILES,featureLimit:X,userPlanName:te}):null]})},yc=W.PATHS,vc=function(e,t){return Wn.getValue(function(e,t){var n=oc(e);return n.push(t),n}(e,t))},Uc=function(){var e=Object(ne.a)(te.a.mark((function e(t){var n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ee.functions().httpsCallable("fetchMocks"),e.next=3,n(t).then((function(e){return e.data}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pc=S.CONSTANTS.GA_EVENTS,Dc=function(){var e=Object(ae.h)(),t=Object(ae.g)(),n=e.state&&e.state.mockUrl,a=Object(c.useContext)(J).state,r=et(a),s=Object(c.useState)(!0),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Object(c.useState)(!1),O=Object(u.a)(d,2),E=O[0],b=O[1],p=Object(c.useState)(!1),h=Object(u.a)(p,2),T=h[0],m=h[1],f=Object(c.useState)(!1),A=Object(u.a)(f,2),R=A[0],x=A[1],C=Object(c.useState)(!1),g=Object(u.a)(C,2),_=g[0],I=g[1],L=Object(c.useState)(0),y=Object(u.a)(L,2),v=y[0],U=y[1],P=window.location.pathname.split("/")[yc.FILES.VIEWER.ABSOLUTE.split("/").length+1-1],D=function(){var e=Object(ne.a)(te.a.mark((function e(n){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("create"!==P){e.next=5;break}I(!0),l(!1),e.next=7;break;case 5:return e.next=7,vc(n,P).then(function(){var e=Object(ne.a)(te.a.mark((function e(n){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}m(n),bc.a.get(n.webContentLink).then((function(e){x(e.request.response),l(!1)})),e.next=7;break;case 5:return e.next=7,Uc(P).then((function(e){e.success?(m(e.data),l(!1)):e.unauthorized?ke(t):Me(t)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:lc(n).then((function(e){e&&U(Object.keys(e).length)})),uc().then((function(e){e&&U((function(t){return t+e.length}))}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=Object(c.useCallback)(D,[P,t]);return Object(c.useLayoutEffect)((function(){r.loggedIn&&r.details&&r.details.profile&&r.details.profile.uid&&w(r.details.profile.uid)}),[w,r]),Object(c.useEffect)((function(){n&&I(!1)}),[n]),Object(N.jsx)(At.a,{className:"primary-card",title:"".concat(_?"Create Mock":"Edit Mock"),children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:o?Object(N.jsx)(Se,{}):_?Object(N.jsx)(Lc,{newFile:!0,fileDetails:T,data:R,saveFile:function(e){var n=e.name,a=e.contentType,r=e.description,c=e.body,s=e.headers,i=e.statusCode,o=e.extension,l=e.isMock;if(ce()(n))Fe.warn("Please enter a valid file name");else if(l&&ce()(i))Fe.warn("Please enter statusCode");else if(l||!ce()(c)||"image"===a)if(l&&jn(c)>W.MOCK_RESPONSE_BODY_CHARACTER_LIMIT)Fe.warn("Response Body exceeds character limit");else{b(!0);var u={};if(s){var d,O=Object(jc.a)(s);try{for(O.s();!(d=O.n()).done;){var j=d.value;j.key&&j.value&&(u[j.key]=j.value)}}catch(S){O.e(S)}finally{O.f()}}var E={name:l?n:n+o,contentType:a,description:r,headers:u,statusCode:Number(i),body:c,isMock:l};if(l)Ee.functions().httpsCallable("addMock")(E).then((function(e){if(b(!1),e.data){var n=Yr(e.data);Fe.info("Mock Created Successfully"),ea(Pc.CATEGORIES.LIBRARY,Pc.ACTIONS.CREATED,"New Mock Created"),xe(t,e.data,n)}else Fe.error("Unable to create Mock")}));else(function(e,t){return qr(new File([t],e.name,{type:e.contentType,lastModified:Date.now()}),e)})(E,c).then((function(e){b(!1),e.success?(Fe.info("File Created Successfully"),ea(Pc.CATEGORIES.LIBRARY,Pc.ACTIONS.CREATED,"New File Created"),xe(t,e.data.id,e.data.shortUrl)):Fe.error("Unable to create file")}))}else Fe.warn("Please enter file content")},saving:E,currentFilesCount:v}):Object(N.jsx)(Lc,{fileDetails:T,data:R,saveFile:function(e){var n=e.name,a=e.contentType,r=e.description,c=e.body,s=e.headers,i=e.statusCode,o=e.isMock;if(o&&ce()(i))Fe.warn("Please enter statusCode");else if(o||!ce()(c)||" image"===a)if(o&&jn(c)>W.MOCK_RESPONSE_BODY_CHARACTER_LIMIT)Fe.warn("Response Body exceeds character limit");else{b(!0);var l=Object(j.a)({},T);l.description=r;var u={};if(s){var d,O=Object(jc.a)(s);try{for(O.s();!(d=O.n()).done;){var E=d.value;E.key&&E.value&&(u[E.key]=E.value)}}catch(h){O.e(h)}finally{O.f()}}var p={name:n,contentType:a,description:r,headers:u,statusCode:Number(i),body:c,isMock:o};if(o)Ee.functions().httpsCallable("editMock")(Object(j.a)(Object(j.a)({},p),{},{id:P})).then((function(e){b(!1),e.data.success?(Fe.info("Mock Edited Successfully"),ea(Pc.CATEGORIES.LIBRARY,S.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"Mock Updated"),xe(t,P)):Fe.error(e.data.msg||"Unable to edit mock")}));else Qr(T.filePath,c,l).then((function(e){b(!1),e.success?(Fe.info("File Edited Successfully"),ea(Pc.CATEGORIES.LIBRARY,S.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"File Updated"),xe(t,P)):Fe.error("Unable to edit file")}))}else Fe.warn("Please enter file content")},saving:E,currentFilesCount:v})})})})},wc=function(e){Object(ar.a)(n,e);var t=Object(rr.a)(n);function n(){return Object(tr.a)(this,n),t.apply(this,arguments)}return Object(nr.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Bt,{component:Dc})})}}]),n}(s.a.Component),Mc=n(978),kc=n(123),Gc=n(392),Fc=S.CONSTANTS.GA_EVENTS,Bc=function(){var e=Object(c.useContext)(J).state,t=et(e),n=Object(c.useState)({uses:"",recommend:1,suggestions:""}),a=Object(u.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(!1),l=Object(u.a)(o,2),d=l[0],E=l[1],b=Object(c.useState)(""),S=Object(u.a)(b,2),p=S[0],h=S[1],T=Object(c.useState)("false"),m=Object(u.a)(T,2),f=m[0],A=m[1],R=function(e){var t=e.target,n=t.name,a=t.value;i((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(O.a)({},n,a))}))};return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{style:{width:"100%",height:"100%"},children:d?Object(N.jsxs)("div",{style:{margin:"10px 0px 200px 0px",textAlign:"center"},children:[Object(N.jsx)("h2",{children:"Kindly review on chrome store if you haven't already, it won't take more than a minute."}),Object(N.jsxs)("h2",{children:["To submit review on chrome store"," ",Object(N.jsx)("a",{target:"_blank",rel:"noopener noreferrer",onClick:function(){ea(Fc.CATEGORIES.EXTENSION,Fc.ACTIONS.CLICKED,"Review on chrome store button clicked")},href:"https://chrome.google.com/webstore/detail/requestly-redirect-url-mo/mdnleldcmiljblolnjhpnblkcekpdkpa?hl=en",children:Object(N.jsxs)("span",{children:["Click here ",Object(N.jsx)(Mc.a,{})]})})]})]}):"false"===f?Object(N.jsx)(Rt.a,{type:"flex",justify:"center",align:"middle",children:Object(N.jsx)(xt.a,{children:Object(N.jsx)(kc.a,{style:{marginTop:"50%",borderTopRightRadius:"10px",borderTopLeftRadius:"10px",borderBottomRightRadius:"10px",borderBottomLeftRadius:"10px"},children:Object(N.jsxs)("div",{style:{marginTop:"20px",textAlign:"center",verticalAlign:"middle"},children:[Object(N.jsx)("h3",{children:"How satisified are you while using Requestly?"}),Object(N.jsx)(Gc.a,{onChange:function(e){A("true"),i((function(t){return Object(j.a)(Object(j.a)({},t),{},{recommend:e})}))}}),Object(N.jsx)("p",{children:"Select an option"})]})})})}):Object(N.jsx)(Rt.a,{type:"flex",justify:"center",align:"middle",children:Object(N.jsx)(xt.a,{children:Object(N.jsx)(kc.a,{children:Object(N.jsxs)("div",{style:{textAlign:"center",verticalAlign:"middle"},children:[Object(N.jsx)("h3",{children:"Fill the form below to help us improve our user experience,"}),Object(N.jsx)("h3",{children:"Thank you!"}),Object(N.jsx)("div",{className:"app",children:Object(N.jsxs)("div",{style:{margin:"20px auto 0px auto",width:"70%"},children:[Object(N.jsxs)("div",{style:{marginBottom:"20px"},children:[Object(N.jsxs)("h3",{children:["What do you use Requestly for?"," ",Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(nn.a.TextArea,{name:"uses",placeholder:"Do let us know the places where Requestly was the most helpful for you",rows:3,value:r.uses,onChange:R})]}),Object(N.jsx)("div",{}),Object(N.jsxs)("div",{style:{marginTop:"20px"},children:[Object(N.jsx)("h3",{children:"Any suggestion or feature requests?"}),Object(N.jsx)(nn.a.TextArea,{name:"suggestions",placeholder:"Let us know any features or bug fixes that you would like in the upcoming update!",value:r.suggestions,rows:3,onChange:R})]}),t.loggedIn?null:Object(N.jsxs)("div",{style:{marginTop:"20px"},children:[Object(N.jsxs)("h3",{children:["Enter your Email"," ",Object(N.jsx)("span",{style:{color:"red"},children:"*"})]}),Object(N.jsx)(nn.a,{placeholder:"Enter your email address",name:"email",value:p,onChange:function(e){return h(e.target.value)}})]}),Object(N.jsx)(Ct.a,{style:{marginTop:"20px"},block:!0,type:"primary",size:"large",onClick:function(){if(""===r.uses)return Fe.error("Please provide what have you used Requestly the most for!");if(!t.loggedIn){if(""===p)return Fe.error("Please provide your e-mail address");if(""!==p&&!/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(p.trim()))return Fe.error("Please enter your valid e-mail address")}E(!0),ea(Fc.CATEGORIES.EXTENSION,Fc.ACTIONS.UNINSTALL_RESPONSE,"".concat(t.loggedIn?t.details.profile.email:p," - Uses: ").concat(r.uses,", recommend: ").concat(r.recommend,", suggestions: ").concat(r.suggestions));var e={email:t.loggedIn?t.details.profile.email:p,uses:r.uses,recommend:r.recommend,suggestions:r.suggestions};bc.a.post("https://sheet.best/api/sheets/a850f90b-6dca-4bac-bde2-733811c273e2",e).then((function(e){return console.log(e.data)}))},children:"Submit Review"})]})})]})})})})})})})},Vc=function(e){Object(ar.a)(n,e);var t=Object(rr.a)(n);function n(){return Object(tr.a)(this,n),t.apply(this,arguments)}return Object(nr.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Bc,{})})}}]),n}(s.a.Component),Yc=n(962),Hc=n(75),Kc=n(979),Wc=n(980),qc=Xt.a.Link,Qc=S.CONSTANTS.GA_EVENTS,zc=function(){var e=Object(c.useContext)(J).state,t=et(e),n=Object(c.useState)(""),a=Object(u.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(""),o=Object(u.a)(i,2),l=o[0],d=o[1],O=Object(c.useState)(""),j=Object(u.a)(O,2),E=j[0],b=j[1],S=Object(c.useState)(!1),p=Object(u.a)(S,2),h=p[0],T=p[1],m=Object(c.useState)(!1),f=Object(u.a)(m,2),A=f[0],R=f[1],x=Object(c.useState)(""),C=Object(u.a)(x,2),g=C[0],_=C[1],I=Object(c.useState)(!1),L=Object(u.a)(I,2),y=L[0],v=L[1],U=Object(c.useState)(!1),P=Object(u.a)(U,2),D=P[0],w=P[1],M=Object(c.useState)(""),k=Object(u.a)(M,2),G=k[0],F=k[1],B=Object(c.useState)(!1),V=Object(u.a)(B,2),Y=V[0],H=V[1],K=function(){if(t.details.isLoggedIn){if(F(t.details.profile.email),t.details.planDetails&&"license"===t.details.planDetails.type){var e=t.details.planDetails.subscription||{},n=e.endDate||1e3*e.current_period_end,a=new Date(n).toISOString().split("T")[0];v("license"===t.details.planDetails.type),d(t.details.planDetails.planId),s(t.details.planDetails.subscription.id),H(new Date(a).toDateString())}w(!1)}},q=Object(c.useCallback)(K,[t.details.isLoggedIn,t.details.planDetails,t.details.profile.email]),Q=Object(c.useCallback)((function(){w(!0),q()}),[q]);if(Object(c.useLayoutEffect)((function(){Q()}),[Q,t]),D)return Object(N.jsx)(Se,{customLoadingMessage:"Fetching your license details"});if(y)return Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,align:"center",children:Object(N.jsxs)(oe.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h3",{children:Object(N.jsxs)(Yc.a,{color:"secondary",children:[Object(N.jsx)("strong",{children:Object(N.jsx)("span",{className:"alert-inner--icon",role:"img","aria-label":"emoji",children:"\ud83d\udce2"})})," ",Object(N.jsxs)("span",{className:"alert-inner--text",children:["License is being replaced by Teams."," ",Object(N.jsx)(qc,{onClick:function(){return window.open(W.LINKS.REQUESTLY_DOCS_PREMIUM_SUBSCRIPTION,"_blank")},className:"cursor-pointer",children:"Read more"})]})]})}),Object(N.jsx)("br",{}),Object(N.jsxs)("p",{className:"lead",children:["You have a ",Object(N.jsx)("strong",{children:l.split("_")[0].toUpperCase()})," ","License Key."]}),Object(N.jsxs)("p",{className:"lead",children:["Your License is valid upto : ",Object(N.jsx)("strong",{children:Y})]})]})})});var z=g&&!A,X=g&&A;return Object(N.jsxs)(Hc.a,{onSubmit:function(e){e.preventDefault(),T(!0),Ee.functions().httpsCallable("applyLicense")({license:r,company:E,email:G}).then((function(e){T(!1),R(e.data.success),_(e.data.message),e.data.success?(ea(Qc.CATEGORIES.LICENSE,Qc.ACTIONS.APPLIED_SUCCESSFULLY,"License Applied ".concat(E," ").concat(r)),ta(Qc.ATTR.LICENSE,r),ta(Qc.ATTR.COMPANY,E),window.location.reload()):(s(""),ea(Qc.CATEGORIES.LICENSE,Qc.ACTIONS.APPLIED_UNSUCCESSFULLY,"License Failed ".concat(E," ").concat(r))),K()})).catch(console.error)},role:"form",id:"applyLicenseForm",children:[Object(N.jsxs)("center",{children:[Object(N.jsx)("h3",{children:Object(N.jsxs)(Yc.a,{color:"secondary",children:[Object(N.jsx)("strong",{children:Object(N.jsx)("span",{className:"alert-inner--icon",role:"img","aria-label":"emoji",children:"\ud83d\udce2"})})," ",Object(N.jsxs)("span",{className:"alert-inner--text",children:["License is being replaced by Teams."," ",Object(N.jsx)(qc,{onClick:function(){return window.open(W.LINKS.REQUESTLY_DOCS_PREMIUM_SUBSCRIPTION,"_blank")},className:"cursor-pointer",children:"Read more"})]})]})}),Object(N.jsx)("br",{}),Object(N.jsx)("h3",{children:"Please enter the following details "})]}),Object(N.jsx)("br",{}),Object(N.jsx)("center",{children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{align:"center",span:8,offset:8,children:Object(N.jsxs)(ya.a,{className:["mb-3",z?"has-danger":"",X?"has-success":""].join(" "),style:{width:"50%"},children:[Object(N.jsx)(nn.a,{required:!0,type:"text",placeholder:"Company Name",value:E,disabled:A,onChange:function(e){return b(e.target.value)},className:["form-control-alternative",z?"is-invalid":"",X?"is-valid":""].join(" "),addonBefore:Object(N.jsx)(Kc.a,{})}),Object(N.jsx)("br",{}),Object(N.jsx)(nn.a,{style:{marginTop:"2%"},required:!0,type:"text",placeholder:"License Key",value:r,disabled:A,onChange:function(e){return s(e.target.value)},className:["form-control-alternative",z?"is-invalid":"",X?"is-valid":""].join(" "),addonBefore:Object(N.jsx)(Wc.a,{})}),A?null:Object(N.jsx)(Ct.a,{className:"my-4",type:"primary",style:{marginTop:"2%"},loading:h,children:"Apply License"})]})})})}),z?Object(N.jsx)("center",{children:Object(N.jsx)("h4",{style:{color:"red"},children:g})}):null,X?Object(N.jsx)("center",{children:Object(N.jsx)("h4",{style:{color:"green"},children:g})}):null]})},Xc=n(975),Jc=function(){var e=Object(ae.g)();return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(At.a,{className:"primary-card",title:"License Details",extra:Object(N.jsx)(Ct.a,{type:"primary",onClick:function(t){return function(e){e.push(he.LICENSE.MANAGE.ABSOLUTE)}(e)},icon:Object(N.jsx)(Xc.a,{}),children:"Manage License"}),children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,align:"center",children:Object(N.jsx)(zc,{})})})})})},Zc=function(){return Object(N.jsx)(Bt,{component:Jc})},$c=function(e){Object(ar.a)(n,e);var t=Object(rr.a)(n);function n(){return Object(tr.a)(this,n),t.apply(this,arguments)}return Object(nr.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Zc,{})})}}]),n}(s.a.Component),es=S.CONSTANTS.GA_EVENTS,ts=function(){var e=Object(c.useContext)(J).state,t=et(e),n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(!1),l=Object(u.a)(o,2),d=l[0],O=l[1],E=Object(c.useState)(!1),b=Object(u.a)(E,2),S=b[0],p=b[1],h=Object(c.useState)({}),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useCallback)((function(){(i(!0),t.loggedIn)?Ee.functions().httpsCallable("getCompanyLicenseUsers")({}).then((function(e){O(e.data.success),f(e.data.users?e.data.users:{}),i(!1)})).catch((function(e){console.log(e)})):i(!1)}),[t]);return Object(c.useLayoutEffect)((function(){A()}),[A]),Object(N.jsx)(s.a.Fragment,{children:r?Object(N.jsx)(vr,{customLoadingMessage:"Loading License Information"}):Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(At.a,{className:"primary-card",title:"License Details",children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,align:"center",children:Object(N.jsx)(kc.a,{className:"shadow",children:Object(N.jsx)(je.a,{children:d?ce()(m)?Object(N.jsx)(oe.a,{style:{background:"transparent"},className:"text-center",children:Object(N.jsx)("p",{className:"lead",children:"There are no users using license keys."})}):Object(N.jsx)(Oa.a,{options:!1,pagination:!1,search:!1,dateFormatter:!1,toolBarRender:!1,headerTitle:!1,rowKey:"id",dataSource:Object.keys(m).map((function(e){return Object(j.a)({id:e},m[e])})),columns:[{title:"User Email",dataIndex:"email",textWrap:"word-break",ellipsis:!0},{title:"License Key",dataIndex:"licenseKey",textWrap:"word-break",ellipsis:!0},{title:"Actions",align:"right",render:function(e,t){return Object(N.jsx)(Ct.a,{danger:!0,onClick:function(e){return function(e){var t=m[e].email,n=Ee.functions().httpsCallable("revokeLicense");p(!0),n({userId:e}).then((function(e){p(!1),O(e.data.success),f(e.data.users?e.data.users:{}),Fe.success("Revoked ".concat(t," License")),ea(es.CATEGORIES.LICENSE,es.ACTIONS.REVOKED,"License Revoked ".concat(t))}))}(t.id)},loading:S,children:"Revoke Access"})},textWrap:"word-break",ellipsis:!0}]}):Object(N.jsx)(oe.a,{style:{background:"transparent"},className:"text-center",children:Object(N.jsx)("p",{className:"lead",children:"Only the company admin can manage licenses. Please talk to your company admin if you want to be added as an admin to your company."})})})})})})})})})},ns=function(e){Object(ar.a)(n,e);var t=Object(rr.a)(n);function n(){return Object(tr.a)(this,n),t.apply(this,arguments)}return Object(nr.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Bt,{component:ts})})}}]),n}(s.a.Component),as=S.COMPONENTS.LOGGER,rs={eventCallbackMap:{},requestId:1,constants:{CONTENT_SCRIPT:"content_script",PAGE_SCRIPT:"page_script",DOMAIN:S.CONFIG.WEB_URL,SOURCE_FIELD:"source"},addMessageListener:function(){window.addEventListener("message",this.handleMessageReceived.bind(this))},getSource:function(){return this.constants.PAGE_SCRIPT},registerCallback:function(e,t){if(t){var n=this.requestId++;this.eventCallbackMap[e.action+"_"+n]=t,e.requestId=n}},invokeCallback:function(e){var t=this.eventCallbackMap[e.action+"_"+e.requestId];"function"===typeof t&&(delete this.eventCallbackMap[e.action],t.call(this,e.response))},sendMessage:function(e,t){e.action?(this.registerCallback(e,t),e[this.constants.SOURCE_FIELD]=this.getSource(),window.postMessage(e,this.constants.DOMAIN)):as.error("Invalid message. Must contain some action")},sendResponse:function(e,t){var n={action:e.action,requestId:e.requestId,response:t};n[this.constants.SOURCE_FIELD]=this.constants.PAGE_SCRIPT,window.postMessage(n,this.constants.DOMAIN)},handleMessageReceived:function(e){e&&e.origin!==this.constants.DOMAIN?"debug"===S.COMPONENTS.logLevel&&console.log("Ignoring message from the following domain",e.origin,e.data):e&&e.data&&e.data.source===this.constants.CONTENT_SCRIPT&&("debug"===S.COMPONENTS.logLevel&&console.log("Received message:",e.data),this.invokeCallback(e.data))},init:function(){-1!==window.location.hostname.indexOf("requestly.in")&&-1!==this.constants.DOMAIN.indexOf("requestly.io")&&(this.constants.DOMAIN=this.constants.DOMAIN.replace(".io",".in")),this.addMessageListener()}};function cs(){return window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.VERSION}function ss(){return!!cs()}function is(){return new Promise((function(e,t){window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES&&window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE?e(window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE.getStorageSuperObject()):t("Couldnt hit desktop API")}))}function os(e){return new Promise((function(t,n){window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES&&window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE?t(window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE.getStorageObject(e)):n("Couldnt hit desktop API")}))}function ls(e){return new Promise((function(t,n){window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES&&window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE?t(window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE.setStorageObject(e)):n("Couldnt hit desktop API")}))}function us(e){return new Promise((function(t,n){window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES&&window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE?t(window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE.deleteItem(e)):n("Couldnt hit desktop API")}))}function ds(){return new Promise((function(e,t){window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES&&window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE?e(window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE.clearStorage()):t("Couldnt hit desktop API")}))}var Os=function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.RQ.DESKTOP.SERVICES.STATE_MANAGEMENT.getState("isBackgroundProcessActive").then(function(){var e=Object(ne.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(ne.a)(te.a.mark((function e(n){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=7;break}return e.next=3,window.RQ.DESKTOP.SERVICES.IPC.invokeEventInMain("start-background-process");case 3:a=e.sent,n(a),e.next=8;break;case 7:n(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),js=function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("save-root-cert").then((function(e){e.success?Fe.success("Certificate saved"):Fe.error("An error occured while saving certificate")})).catch((function(){Fe.error("An error occured while saving certificate")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Es=a;function bs(){return document.documentElement.getAttribute("rq-ext-version")}function Ss(){return!!bs()}function ps(e){return new Promise((function(t){return rs.sendMessage(e,t)}))}function hs(){return ps({action:"GET_STORAGE_TYPE"})}function Ts(){return ps({action:"GET_STORAGE_INFO"})}function ms(){return new Promise((function(e){rs.sendMessage({action:"GET_STORAGE_SUPER_OBJECT"},e)}))}function fs(e){return new Promise((function(t){rs.sendMessage({action:"GET_STORAGE_OBJECT",key:e},t)}))}function As(e){return new Promise((function(t){rs.sendMessage({action:"SAVE_STORAGE_OBJECT",object:e},t)}))}function Rs(e){return new Promise((function(t){rs.sendMessage({action:"REMOVE_STORAGE_OBJECT",key:e},t)}))}function xs(){return new Promise((function(e){rs.sendMessage({action:"CLEAR_STORAGE"},e)}))}function Ns(e){return new Promise((function(t){rs.sendMessage({action:"SET_STORAGE_TYPE",storageType:e},t)}))}function Cs(){return ps({action:"GET_REMOTE_RULES_SETTINGS"})}function gs(e){return new Promise((function(t,n){Ss()?rs.sendMessage({action:"SET_REMOTE_RULES_SETTINGS",remoteRulesSettings:e},t):n("Please make sure your extension is up to date")}))}var _s=r,Is=function(){function e(t){Object(tr.a)(this,e),this.appMode=t.appMode||S.CONSTANTS.APP_MODES.EXTENSION,this.StorageHelper=function(e){switch(e){case S.CONSTANTS.APP_MODES.EXTENSION:return _s;case S.CONSTANTS.APP_MODES.DESKTOP:default:return Es}}(this.appMode),this.primaryKeys=t.primaryKeys||["objectType","ruleType"],this.records=[],this.isRecordsFetched=!1,this.cachingEnabled=t.cacheRecords,this.saveRecordWithID=this.saveRecordWithID.bind(this),this.saveRecord=this.saveRecord.bind(this),this.getRecord=this.getRecord.bind(this),this.getRecords=this.getRecords.bind(this)}return Object(nr.a)(e,[{key:"getAllRecords",value:function(){return this.StorageHelper.getStorageSuperObject()}},{key:"getRecords",value:function(e,t){var n=this,a=this;return new Promise((function(r,c){a.cachingEnabled&&a.isRecordsFetched&&!t?r(a.filterRecordsByType(a.records,e)):n.StorageHelper.getStorageSuperObject().then((function(t){for(var n in a.records.length=0,t)a.hasPrimaryKey(t[n])&&a.records.push(t[n]);a.isRecordsFetched=!0,r(a.filterRecordsByType(a.records,e))}))}))}},{key:"hasPrimaryKey",value:function(e){for(var t=0;t<this.primaryKeys.length;t++)if("undefined"!==typeof e[this.primaryKeys[t]])return!0;return!1}},{key:"filterRecordsByType",value:function(e,t){return t?e.filter((function(e){return(e.objectType||S.CONSTANTS.OBJECT_TYPES.RULE)===t})):e}},{key:"saveRecord",value:function(e){var t=this;return this.StorageHelper.saveStorageObject(e).then((function(){t.updateRecord(e)}))}},{key:"saveRuleOrGroup",value:function(e){var t=Object(O.a)({},e.id,Object(j.a)(Object(j.a)({},e),{},{lastModified:(new Date).getTime()}));return this.saveRecord(t)}},{key:"saveMultipleRulesOrGroups",value:function(e){var t={};return e.forEach((function(e){e&&e.id&&(t[e.id]=e)})),this.saveRecord(t)}},{key:"saveRecordWithID",value:function(e){var t=this;return this.StorageHelper.saveStorageObject(Object(O.a)({},e.id,e)).then((function(){t.updateRecord(e)}))}},{key:"getRecord",value:function(e){return this.StorageHelper.getStorageObject(e)}},{key:"removeRecord",value:function(e){var t=this;return this.StorageHelper.removeStorageObject(e).then((function(){t.deleteRecord(e)}))}},{key:"getCachedRecordIndex",value:function(e){for(var t=0;t<this.records.length;t++){if(this.records[t].id===e)return t}return-1}},{key:"updateRecord",value:function(e){var t=e.id,n=this.getCachedRecordIndex(t),a=-1!==n;if("undefined"!==typeof e){if(!this.hasPrimaryKey(e))return;a?this.records[n]=e:this.records.push(e)}}},{key:"deleteRecord",value:function(e){var t=this.getCachedRecordIndex(e);this.records.splice(t,1)}},{key:"printRecords",value:function(){this.StorageHelper.getStorageSuperObject().then((function(e){console.log(e)}))}},{key:"clearDB",value:function(){var e=this;this.StorageHelper.clearStorage().then((function(){e.records=[]}))}}]),e}(),Ls=function(e){return new Is({cacheRecords:!1,appMode:e})};se.a.initializeApp(S.CONFIG.firebaseConfig),function(){var e,t,n,a,r,c;e=window,t=document,n="script",a="ga",e.GoogleAnalyticsObject=a,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,r=t.createElement(n),c=t.getElementsByTagName(n)[0],r.async=1,r.src="https://www.google-analytics.com/analytics.js",c.parentNode.insertBefore(r,c),window.ga("create","UA-46800996-7","auto"),window.ga("require","GTM-KN4N9B7")}(),rs.init();var ys=W.RULE_TYPES_CONFIG,vs=function(e){var t=e.ruleData,n=t.imageURL,a=t.rules[0].ruleType;return Object(N.jsx)(N.Fragment,{children:n?Object(N.jsx)("img",{width:"30px",src:n,alt:""}):s.a.createElement(ys[a].ICON)})},Us=n(514),Ps=function(e){var t=e.ruleData;return Object(N.jsx)("div",{style:{flexFlow:"wrap"},children:t.map((function(e,t){return Object(N.jsx)(Us.a,{style:{padding:"5px",fontSize:"0.7rem"},children:e.toUpperCase()},t)}))})},Ds=n(515),ws=function(e){e.columnWidth;var t=e.ruleData,n=Object(c.useContext)(J),a=n.state,r=n.dispatch,s=et(a),i=function(e){return e.marketplace.ruleStatus}(a),o=ct(a),l=Object(c.useCallback)(r,[r]),O=Object(c.useState)(!1),E=Object(u.a)(O,2),b=E[0],p=E[1],h=Object(c.useState)(!0),T=Object(u.a)(h,2),m=T[0],f=T[1];Object(c.useEffect)((function(){o===S.CONSTANTS.APP_MODES.EXTENSION&&Ls(o).getRecord(W.RQ_SETTINGS).then((function(e){f(!e||e.isExtensionEnabled)}))}),[o]);var A=t.MKTRuleID,R=function(e){var n=[];t.rules.forEach((function(t){n.push(Ls(o).saveRuleOrGroup(Object(j.a)(Object(j.a)({},t),{},{status:e})))})),Promise.all(n).then((function(){l(function(e){return{type:d.TOGGLE_MARKETPLACE_RULES,payload:e}}(A))})).then((function(){S.CONSTANTS.RULE_STATUS.ACTIVE,Fe.success("Rule is now ".concat(e.toLowerCase()))})).then((function(){ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.MARKETPLACE,"toggled",t.name)}))},x=function(){return i[A]===S.CONSTANTS.RULE_STATUS.ACTIVE},C=Object(c.useCallback)(x,[A,i]);return Object(c.useEffect)((function(){p(C())}),[C]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ds.a,{checked:b,onChange:function(){o!==S.CONSTANTS.APP_MODES.EXTENSION||Ss()?o!==S.CONSTANTS.APP_MODES.EXTENSION||!Ss()||m?s.loggedIn?p(!b):r(Dt("authModal",!0,{redirectURL:window.location.href})):r(Dt("extensionModal",!0,{redirectURL:window.location.href,disabled:!0})):r(Dt("extensionModal",!0,{redirectURL:window.location.href}))},onClick:function(e){o===S.CONSTANTS.APP_MODES.EXTENSION&&!Ss()||o===S.CONSTANTS.APP_MODES.EXTENSION&&Ss()&&!m||s.loggedIn&&(x()?R(S.CONSTANTS.RULE_STATUS.INACTIVE):R(S.CONSTANTS.RULE_STATUS.ACTIVE))}})})},Ms=[{title:"Site",width:10,align:"center",dataIndex:"site",render:function(e){return Object(N.jsx)(vs,{ruleData:e})}},{title:"Name",width:200,dataIndex:"name",render:function(e){return Object(N.jsx)("p",{children:e})}},{title:"Tags",width:70,dataIndex:"tags",render:function(e){return Object(N.jsx)(Ps,{ruleData:e})}},{title:"Status",width:40,dataIndex:"status",align:"center",render:function(e){return Object(N.jsx)(ws,{ruleData:e})}}],ks=function(e){var t=e.marketplaceRules,n=Object(c.useState)([]),a=Object(u.a)(n,2),r=a[0],s=a[1];Object(c.useEffect)((function(){t.map((function(e){return i(e,e.MKTRuleID)}))}),[]);var i=function(e,t){s((function(n){return[].concat(Object(gt.a)(n),[{key:t,site:e,name:e.name+" "+e.description,tags:e.tags,status:e}])}))};return Object(N.jsx)(Oa.a,{columns:Ms,request:function(){return Promise.resolve({data:r,success:!0})},rowkey:"key",search:!1,toolBarRender:!1,pagination:!1,headerTitle:"Marketplace"})},Gs=function(){return Object(N.jsx)("center",{children:Object(N.jsx)("h2",{style:{margin:"2rem"},children:"Couldn`t find any rule matching the given keyword."})})},Fs=function(e){var t=e.marketplaceRules,n=Object(c.useContext)(J),a=n.dispatch,r=function(e){return tt(e).marketplace}(n.state),s=t,i=ce()(r)?s:s.filter((function(e){return e.name.match(new RegExp(r,"i"))}));return Object(c.useEffect)((function(){return function(){a({type:d.UPDATE_SEARCH,payload:{searchType:"marketplace",value:""}})}}),[a]),Object(N.jsx)("div",{style:{height:"100%",width:"100%"},children:ce()(i)?Object(N.jsx)(Gs,{}):Object(N.jsx)(ks,{marketplaceRules:i})})},Bs=function(e){var t=e.marketplaceRules;return Object(N.jsx)(Fs,{marketplaceRules:t})},Vs=function(){var e=Object(c.useState)(!0),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(u.a)(r,2),i=s[0],o=s[1],l=function(){var e=Object(ne.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ee.firestore().collection("marketplace"),e.next=3,t.get();case 3:e.sent.forEach((function(e){o((function(t){return[].concat(Object(gt.a)(t),[e.data()])}))})),a(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useLayoutEffect)((function(){l()}),[]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ue.a,{fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsxs)(Oe.a,{children:[Object(N.jsx)(Yt.a,{children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsx)("h3",{style:{marginLeft:"2px"},children:"Marketplace"})})})}),n?Object(N.jsx)("div",{children:Object(N.jsx)(vr,{customLoadingMessage:"Loading Marketplace"})}):Object(N.jsx)(Bs,{marketplaceRules:i})]})})})})},Ys=function(){var e=Object(c.useContext)(J),t=e.dispatch,n=e.state,a=qe(n),r=ct(n),i=Qe(n),o=Object(c.useCallback)(t,[t]);Object(c.useEffect)((function(){var e=Ls(r).getRecords(S.CONSTANTS.OBJECT_TYPES.GROUP),t=Ls(r).getRecords(S.CONSTANTS.OBJECT_TYPES.RULE);Promise.all([e,t]).then((function(e){var t=e[0],n=e[1];o(yt(n,t))}))}),[o,r]);var l=Object(c.useCallback)((function(){var e={};return i.forEach((function(t){e[t.MKTRuleID]=t.status})),e}),[a]);return Object(c.useEffect)((function(){o(function(e){return{type:d.UPDATE_MARKETPLACE_RULES,payload:e}}(l()))}),[o,l]),Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(ue.a,{fluid:!0,children:Object(N.jsx)(Vs,{})})})},Hs=function(e){Object(ar.a)(n,e);var t=Object(rr.a)(n);function n(){return Object(tr.a)(this,n),t.apply(this,arguments)}return Object(nr.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ys,{})})}}]),n}(s.a.Component),Ks=function(){return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsxs)(Oe.a,{children:[Object(N.jsx)("div",{children:Object(N.jsx)("div",{style:{textAlign:"center"},children:Object(N.jsx)("h1",{children:"Requestly Premium for Teams"})})}),Object(N.jsx)("h1",{style:{marginLeft:"10px"},children:"My Teams"}),Object(N.jsx)(de.a,{className:"profile-team",children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(je.a,{className:"profile-team-body",children:Object(N.jsx)(pa,{})})})})]})})},Ws=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Bt,{component:Ks})})},qs=n(523),Qs=n(511),zs=Xt.a.Text,Xs=function(){var e=Object(ae.g)();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(At.a,{className:"primary-card",children:[Object(N.jsx)(Qs.a,{status:"warning",title:"We are unable to verify this transaction!",subTitle:"Please try again with a different payment method. Any amount deducted would be automatically credited back to your card.",extra:[Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){return ge(e)},icon:Object(N.jsx)(qs.a,{}),children:"Try again"},"go-back")]}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,align:"center",children:Object(N.jsx)(zs,{type:"secondary",children:"To pay via PayPal or wire transfer, write to us at contact@requestly.io"})})})]})})},Js=function(){var e=Object(ae.g)();return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(At.a,{className:"primary-card",children:Object(N.jsx)(Qs.a,{status:"success",title:"Successfully subscribed to Requestly Premium!",subTitle:"Account activation takes 1-2 minutes, please wait. You will shortly receive the receipt on your email address.",extra:[Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){return me(e,!0)},icon:Object(N.jsx)(qs.a,{}),children:"Start using Requestly Premium"},"go-back")]})})})},Zs=n(207),$s=W.PATHS,ei=function(){var e=Object(ae.g)();return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Qs.a,{status:"404",title:"Oops! Error 404",subTitle:"Sorry, we can't find that page! Don't worry though, everything is STILL AWESOME!",extra:Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){return e.push($s.RULES.RELATIVE)},icon:Object(N.jsx)(Zs.a,{}),children:"Back Home"})})})},ti=W.PATHS,ni=function(){var e=Object(ae.g)();return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Qs.a,{status:"403",title:"Oops! No access",subTitle:"Oops! Looks like you are not authorized to access this page. Don't worry though, everything is STILL AWESOME!",extra:Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){return e.push(ti.RULES.RELATIVE)},icon:Object(N.jsx)(Zs.a,{}),children:"Back Home"})})})},ai=function(e){var t=e.customHeading,n=e.hideShadow,a=Object(c.useRef)(!0),r=Object(c.useState)(!0),i=Object(u.a)(r,2),o=i[0],l=i[1],d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(!1),S=Object(u.a)(b,2),p=S[0],h=S[1],T=Object(c.useState)(!1),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(!1),x=Object(u.a)(R,2),C=x[0],g=x[1],_=Object(c.useCallback)((function(){Ee.functions().httpsCallable("fetchIndividualUserSubscriptionDetails")().then((function(e){if(!a.current)return null;if(!1===e.data.success)return E(!0),void l(!1);var t=e.data.data;g(t.status),"canceled"===t.status&&E(!0),h(new Date(1e3*t.endDate).toDateString()),A(new Date(1e3*t.startDate).toDateString()),l(!1)})).catch((function(e){if(!a.current)return null;l(!1)}))}),[]);return Object(c.useEffect)((function(){return _(),function(){a.current=!1}}),[_]),Object(N.jsx)(s.a.Fragment,{children:o?Object(N.jsx)(de.a,{children:Object(N.jsx)(Se,{})}):j?Object(N.jsx)(ha,{customHeading:t,hideShadow:n}):Object(N.jsx)(Ia,{hideManagePersonalSubscriptionButtion:!0,customHeading:t,hideShadow:n,subscriptionDetails:{validTill:p,validFrom:f,status:C,type:"individual"}})})},ri=function(e){var t=e.mode,n=e.teamId,a=new URLSearchParams(window.location.search),r=!!a.has("autoRefresh")&&"true"===a.get("autoRefresh"),i=Object(c.useRef)(!0),o=Object(c.useContext)(J).state,l=et(o),d=Object(c.useState)(null),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(!1),S=Object(u.a)(b,2),p=S[0],h=S[1],T=Object(c.useState)([]),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(!1),C=Object(u.a)(R,2),g=C[0],_=C[1],I=function(e){if(t){_(!0);var a=[],r="individual"===t?"individualSubscriptions":"teams",c="individual"===t?l.details.profile.uid:n,s=Ee.firestore().collection(r).doc(c).collection("invoices").orderBy("created","desc");e&&(s=s.startAfter(e)),(s=s.limit(10)).get().then((function(e){if(!i.current)return null;e.empty?h(!0):(e.forEach((function(e){e.data().number&&e.data().hosted_invoice_url&&a.push({id:e.id,total:Math.round(e.data().total/100).toFixed(2),subTotal:Math.round(e.data().subTotal/100).toFixed(2),tax:Math.round((e.data().tax||0)/100).toFixed(2),amountPaid:Math.round(e.data().amountPaid/100).toFixed(2),created:new Date(1e3*e.data().created).toDateString(),periodStart:new Date(1e3*e.data().periodStart).toDateString(),preiodEnd:new Date(1e3*e.data().preiodEnd).toDateString(),currency:e.data().currency,status:e.data().status,hosted_invoice_url:e.data().hosted_invoice_url,number:e.data().number,productStart:new Date(1e3*e.data().productStart).toDateString(),productEnd:new Date(1e3*e.data().productEnd).toDateString()})})),a.length>0&&(A((function(e){return e.concat(a)})),E(e))),_(!1)}))}},L=Object(c.useCallback)(I,[t,n,l.details.profile.uid]);return Object(c.useEffect)((function(){return L(),function(){i.current=!1}}),[L]),Object(c.useLayoutEffect)((function(){if(r){var e=setInterval((function(){Object(pe.isEmpty)(f)&&L()}),2e3);return function(){clearInterval(e)}}}),[f,L,r]),Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,align:"center",children:g?Object(N.jsx)(Se,{customLoadingMessage:"Loading your invoices"}):Object(pe.isEmpty)(f)?Object(N.jsx)(oe.a,{style:{background:"transparent"},className:"text-center",children:Object(N.jsx)("h5",{children:"There are currently no invoices. If you have recently made a purchase, please wait a minute or two."})}):function(){var e=function(e){var t=new Set;return e.filter((function(e){var n=t.has(e.id);return t.add(e.id),!n}))}(f);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Oa.a,{rowKey:"id",options:!1,pagination:!1,search:!1,dateFormatter:!1,headerTitle:!1,dataSource:e,columns:[{title:"Invoice ID",dataIndex:"number",render:function(e,t){return Object(N.jsx)(Ct.a,{type:"link",onClick:function(e){return window.open(t.hosted_invoice_url,"_blank")},children:e})}},{title:"Amount",render:function(e,t){return Object(N.jsx)("span",{className:"font-weight-bold",style:{textTransform:"uppercase"},children:"".concat(t.currency," ").concat(parseInt(t.total)>0?parseInt(t.total):0)})}},{title:"Status",dataIndex:"status",render:function(e,t){return function(e){switch(e.status){case"open":return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsxs)(Ct.a,{className:"btn-icon btn-3",color:"primary",size:"sm",type:"button",children:[Object(N.jsx)("span",{className:"btn-inner--icon",children:Object(N.jsx)(x.w,{})}),Object(N.jsx)("span",{className:"btn-inner--text",children:"Pay now"})]})});case"paid":return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("i",{className:"bg-success"}),Object(N.jsx)("span",{className:"font-weight-bold",children:"Paid"})]});case"void":return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("i",{className:"bg-danger"}),Object(N.jsx)("span",{className:"font-weight-bold",children:"Cancelled"})]});case"draft":return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("i",{className:"bg-danger"}),Object(N.jsx)("span",{className:"font-weight-bold",children:"Pending"})]});case"uncollectible":return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("i",{className:"bg-danger"}),Object(N.jsx)("span",{className:"font-weight-bold",children:"Expired"})]});default:return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("i",{className:"bg-success"}),"Paid"]})}}(t)}},{title:"Invoice Date",dataIndex:"created"},{title:"Invoice Period",render:function(e,t){return"".concat(t.productStart," ~ ").concat(t.productEnd)}}]}),Object(N.jsx)("br",{}),p?Object(N.jsx)("span",{children:"- End of all invoices -"}):Object(N.jsx)(Ct.a,{onClick:function(e){I(j.docs[j.docs.length-1])},type:"link",children:"View Past Invoices"})]})}()})})})},ci=function(){var e=Object(c.useRef)(!0),t=Object(c.useState)(!0),n=Object(u.a)(t,2),a=n[0],r=n[1],s=Object(c.useCallback)((function(){Ee.functions().httpsCallable("fetchIndividualUserSubscriptionDetails")().then((function(t){if(!e.current)return null;!1!==t.data.success?"canceled"===t.data.data.status&&r(!1):r(!1)})).catch((function(t){if(!e.current)return null}))}),[]);return Object(c.useEffect)((function(){return s(),function(){e.current=!1}}),[s]),Object(N.jsx)(ue.a,{className:" mt--7",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsxs)(Oe.a,{className:"shadow",children:[Object(N.jsx)(Yt.a,{className:"border-0 has-thin-border-bottom",children:Object(N.jsxs)(de.a,{className:"align-items-center",children:[Object(N.jsx)(ie.a,{className:"text-center text-sm-center text-xl-left text-lg-left text-md-left margin-bottom-1-when-xs margin-bottom-1-when-sm",children:Object(N.jsx)("h2",{className:"mb-0",children:"Requestly Premium"})}),a?Object(N.jsx)(ie.a,{xs:"12",xl:"6",lg:"6",md:"6",className:"text-center text-sm-center text-xl-right text-md-right text-lg-right",children:Object(N.jsxs)(le.a,{className:"btn-icon btn-3",color:"primary",type:"button",onClick:function(){return Ue({mode:"individual",planType:"gold"})},children:[Object(N.jsx)("span",{className:"btn-inner--icon",children:Object(N.jsx)(x.D,{size:"1rem"})}),Object(N.jsx)("span",{className:"btn-inner--text",children:"Change Plan"})]})}):null]})}),Object(N.jsxs)(je.a,{children:[Object(N.jsx)(de.a,{children:Object(N.jsxs)(ie.a,{children:[Object(N.jsx)("br",{}),Object(N.jsxs)("h4",{style:{textAlign:"center"},children:["You can manage your personal subscription here. If you want to manage a subscription for a Team instead, click"," ",Object(N.jsx)(l.b,{to:W.PATHS.ACCOUNT.MY_TEAMS.ABSOLUTE,children:"here"}),"."]})]})}),Object(N.jsx)("br",{}),Object(N.jsx)(La,{hideShadow:!0,customHeading:"Currently Selected Subscription",hideManagePersonalSubscriptionButtion:!0,hideIfSubscriptionIsPersonal:!0,hideIfNoSubscription:!0}),Object(N.jsx)(ai,{hideShadow:!0,customHeading:"Personal Subscription"}),Object(N.jsxs)(Oe.a,{className:"border-0 has-no-box-shadow",children:[Object(N.jsx)(Yt.a,{className:"border-0 has-thin-border-bottom",children:Object(N.jsxs)(de.a,{className:"align-items-center",children:[Object(N.jsx)(ie.a,{className:"text-center text-sm-center text-xl-left text-lg-left text-md-left margin-bottom-1-when-xs margin-bottom-1-when-sm",children:Object(N.jsx)("h3",{className:"mb-0",children:"Billing"})}),a?Object(N.jsx)(ie.a,{xs:"12",xl:"6",lg:"6",md:"6",className:"text-center text-sm-center text-xl-right text-md-right text-lg-right",children:Object(N.jsxs)(le.a,{className:"btn-icon btn-3",color:"primary",type:"button",onClick:function(){return Pe({mode:"individual"})},children:[Object(N.jsx)("span",{className:"btn-inner--icon",children:Object(N.jsx)(x.i,{size:"1.2rem"})}),Object(N.jsx)("span",{className:"btn-inner--text",children:"Update Payment Method"})]})}):null]})}),Object(N.jsx)(je.a,{className:"border-0",children:Object(N.jsx)(ri,{mode:"individual"})})]}),Object(N.jsx)(de.a,{children:Object(N.jsxs)(ie.a,{style:{fontSize:"0.8125rem"},className:"text-center",children:["Any questions? Reach our payment support team at"," ",Object(N.jsx)("a",{href:"mailto:".concat(S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),children:S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})]})})]})]})})})})},si=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Bt,{component:ci})})},ii=n(190),oi=n(516);function li(e){var t=e.currency,n=e.price,a=e.duration,r=e.showOnlyExactAmount,c=e.plan;return 0===Number(n)?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("h1",{style:{textAlign:"center"},children:[Object(N.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:xa(null,t)}),Object(N.jsx)("span",{style:{fontSize:"3rem"},children:"0"}),Object(N.jsx)("span",{children:"/month"})]}),"monthly"===a?null:Object(N.jsx)("h4",{style:{textIndent:"100%",whiteSpace:"nowrap",overflow:"hidden"},children:xa(null,t)})]}):"monthly"===a?Object(N.jsxs)("h1",{style:{textAlign:"center"},children:[Object(N.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:xa(null,t)}),Object(N.jsx)("span",{style:{fontSize:"3rem"},children:+n}),Object(N.jsxs)("span",{children:["/month",c.id===W.PRICING.PLAN_NAMES.ENTERPRISE?"/user":null]})]}):"quarterly"===a?Object(N.jsx)(s.a.Fragment,{children:r?Object(N.jsxs)("h1",{style:{textAlign:"center"},children:[Object(N.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:xa(null,t)}),+n,Object(N.jsx)("span",{children:"/quarter"})]}):Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsxs)("h1",{style:{textAlign:"center"},children:[Object(N.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:xa(null,t)}),+Math.floor(+n/3),Object(N.jsx)("span",{children:"/month"})]}),Object(N.jsxs)("h1",{children:[xa(null,t),Object(N.jsx)("b",{children:+n})," /quarter"]})]})}):"half-yearly"===a?Object(N.jsx)(s.a.Fragment,{children:r?Object(N.jsxs)("h1",{style:{textAlign:"center"},children:[Object(N.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:xa(null,t)}),+n,Object(N.jsx)("span",{className:"period",children:"/six months"})]}):Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsxs)("h1",{style:{textAlign:"center"},children:[Object(N.jsx)("span",{className:"period",style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:xa(null,t)}),+Math.floor(+n/6),Object(N.jsx)("span",{children:"/month"})]}),Object(N.jsxs)("h1",{style:{textAlign:"center"},children:[xa(null,t),Object(N.jsx)("b",{children:+n})," /six months"]})]})}):"annual"===a?Object(N.jsx)(s.a.Fragment,{children:r?Object(N.jsxs)("h1",{style:{textAlign:"center"},children:[Object(N.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:xa(null,t)}),+n,Object(N.jsx)("span",{children:"/year"})]}):Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsxs)("h1",{style:{textAlign:"center"},children:[Object(N.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:xa(null,t)}),Object(N.jsx)("span",{style:{fontSize:"3rem"},children:+Math.floor(+n/12)}),Object(N.jsxs)("span",{children:["/month",c.id===W.PRICING.PLAN_NAMES.ENTERPRISE?"/user":null]})]}),Object(N.jsxs)("h4",{style:{textAlign:"center"},children:["~ ",xa(null,t),Object(N.jsx)("b",{children:+n}),"/year",c.id===W.PRICING.PLAN_NAMES.ENTERPRISE?"/user":null]})]})}):void 0}var ui=n(981),di=n(151),Oi=n(92);function ji(e){var t=e.feature;return t.title&&!0===t.enabled?Object(N.jsxs)("div",{style:{display:"flex",margin:"10px"},children:[t.icon&&"frown"===t.icon?Object(N.jsx)(ui.a,{}):Object(N.jsx)(di.a,{style:{color:"#0a48b3"}}),Object(N.jsx)("h3",{className:"pricing-table-item-text",style:{margin:"auto"},children:t.title})]}):t.title&&!1===t.enabled?Object(N.jsxs)("div",{style:{display:"flex",margin:"10px"},children:[Object(N.jsx)(Oi.a,{}),Object(N.jsx)("h3",{className:"pricing-table-item-text",style:{color:"grey",margin:"auto"},children:t.title})]}):t.title?t.title:void 0}var Ei=n(513),bi=n(967),Si=n(150),pi=n(982),hi=n(983),Ti=n(984),mi=function(e){var t=e.isVisible,n=e.toggleModal,a=Object(c.useContext)(J).state,r=et(a),s=Object(c.useState)(!1),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Object(c.useState)(20),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(""),S=Object(u.a)(b,2),p=S[0],h=S[1],T=Object(c.useState)(r&&r.details&&r.details.profile&&r.details.profile.email?r.details.profile.email:""),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)("self"),x=Object(u.a)(R,2),C=x[0],g=x[1],_=Object(c.useState)(""),I=Object(u.a)(_,2),L=I[0],y=I[1];return Object(N.jsx)(tn.a,{title:"Requestly for Teams",visible:t,onOk:function(){!Object(pe.isEmpty)(f)&&Tn(f)?(l(!0),Ee.functions().httpsCallable("enterprisePlanEnquiry")({userEmail:f,companyName:p,usersCount:j,billingType:C,billingEmail:L}).then((function(){Ei.a.open({icon:Object(N.jsx)(pi.a,{twoToneColor:"#52c41a"}),message:"Requestly for Teams",description:"All set! We have received your requirements. We'll get back to you within 4-5 hours."}),n()})).catch((function(){Ei.a.open({icon:Object(N.jsx)(ui.a,{}),message:"Oops! Something went wrong",description:"Looks like someone from your organization has already added a billing manager. Please contact us at contact@requestly.io"}),n()}))):Ge.b.error("Please enter a valid email")},confirmLoading:o,onCancel:function(){n(!1)},destroyOnClose:!0,okText:"Get Quote",cancelText:"Cancel",width:600,children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsxs)(Hc.a,{labelCol:{span:6},wrapperCol:{span:14},children:[Object(N.jsx)(Hc.a.Item,{label:"No. of users",children:Object(N.jsxs)(Rt.a,{children:[Object(N.jsx)(xt.a,{span:20,children:Object(N.jsx)(bi.a,{min:10,max:100,onChange:function(e){return E(e)},value:j})}),Object(N.jsx)(xt.a,{span:3,offset:1,children:Object(N.jsx)(Si.a,{min:10,max:100,value:j,onChange:E})})]})}),Object(N.jsx)(Hc.a.Item,{label:"Company Name",children:Object(N.jsx)(nn.a,{type:"text",value:p,onChange:function(e){return h(e.target.value)},prefix:Object(N.jsx)(hi.a,{}),placeholder:"Ex: Amazon (Optional)"})}),Object(N.jsx)(Hc.a.Item,{label:"Your email",children:Object(N.jsx)(nn.a,{type:"email",value:f,onChange:function(e){return A(e.target.value)},prefix:Object(N.jsx)(Ti.a,{}),placeholder:"sam@amazon.com"})}),Object(N.jsx)(Hc.a.Item,{label:"Billing",children:Object(N.jsxs)(ii.a.Group,{value:C,onChange:function(e){return g(e.target.value)},children:[Object(N.jsx)(ii.a.Button,{value:"self",children:"I'll handle the billing"}),Object(N.jsx)(ii.a.Button,{value:"manager",children:"I've a billing manager"})]})}),"manager"===C?Object(N.jsx)(Hc.a.Item,{label:"Billing email",children:Object(N.jsx)(nn.a,{type:"email",value:L,onChange:function(e){return y(e.target.value)},prefix:Object(N.jsx)(Ti.a,{}),placeholder:"mac@amazon.com"})}):null]})})})})},fi=Xt.a.Text,Ai=it,Ri=W.AUTH.ACTION_LABELS,xi=function(e){var t=e.features,n=e.currency,a=e.duration,r=e.currentPlan,i=e.onChoosePlan,o=e.isPlanExpired,l=e.annualDiscountValue,d=Object(c.useContext)(J),O=d.state,j=d.dispatch,E=et(O),b=Object(ae.g)(),S=Object(c.useState)(!1),p=Object(u.a)(S,2),h=p[0],T=p[1];if(!t||!t.length)return Object(N.jsx)("div",{className:"section is-large has-text-centered",children:Object(N.jsx)("button",{className:"button is-loading",children:"Loading"})});var m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!h;T(e)},f=function(){return Object(N.jsx)("span",{children:"Upgrade"})};return Object(N.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Ai.map((function(e){if("quarterly"===a)return Object(N.jsx)(s.a.Fragment,{},e.id);var c=e[a].price[n];"gold"===e.id&&"annual"===a?c-=l/100*c:e.allowDiscounts&&(c-=0*c),c=c.toFixed(2);var u=0===Number(c),d=jt(r),O=Et(e.id),S=!(!d||o||!E)&&dt(E),p=function(t){return"gold"===e.id?Object(N.jsx)(la.a.Ribbon,{text:"Popular",children:t.children}):t.children};return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("div",{onClick:function(){return i(e.id)},children:Object(N.jsx)(p,{text:"Popular",children:Object(N.jsx)(kc.a,{hoverable:!0,style:"gold"===e.id?{margin:"10px",borderWidth:"3px",borderRadius:"0.5rem",borderColor:"#0a48b3"}:{margin:"10px"},className:"pricing-table-shadow",children:Object(N.jsxs)("div",{style:{width:"300px"},children:[Object(N.jsx)("h1",{style:{display:"grid",placeItems:"center",fontWeight:"bolder"},children:bt(e.id)}),Object(N.jsx)(li,{currency:n,duration:a,price:c,plan:e}),Object(N.jsx)("div",{style:{textAlign:"center"},children:Object(N.jsx)(fi,{type:"secondary",children:u?"No Credit Card Required":"Cancel Anytime"})}),Object(N.jsx)("hr",{className:"hr-light"}),Object(N.jsx)("div",{children:t.map((function(t){return!1===t.showInComparisonTable?Object(N.jsx)(s.a.Fragment,{},t.id):Object(N.jsx)("div",{style:{textAlign:"center",margin:"1.1rem"},children:Object(N.jsx)(ji,{feature:t[e.id]})},t.id)}))}),Object(N.jsx)("br",{}),u?Object(N.jsx)(Ct.a,{block:!0,size:"large",shape:"round",type:"secondary",onClick:function(){return E.loggedIn?b.push("/rules"):void j(Dt("authModal",!0,{redirectURL:window.location.href,authMode:Ri.SIGN_UP}))},children:"Sign up for free"}):O?Object(N.jsx)(Ct.a,{block:!0,size:"large",shape:"round",type:S&&!O?"default":"primary",icon:Object(N.jsx)(mc.a,{}),onClick:function(e){T(!0),e.stopPropagation()},children:O?"Upgrade":S?"Current plan":"Contact Us"}):Object(N.jsx)(Ct.a,{block:!0,size:"large",shape:"round",type:S&&!O?"default":"primary",disabled:S&&!O,icon:Object(N.jsx)(mc.a,{}),children:O?f():S?"Current plan":f()})]})})})},e.id),h?Object(N.jsx)(mi,{isVisible:h,toggleModal:m}):null]},e.id)}))})},Ni=S.CONSTANTS.GA_EVENTS;function Ci(e){var t=e.user,n=Object(c.useState)({}),a=Object(u.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(0),l=Object(u.a)(o,2),d=l[0],O=l[1],j=Ee.functions().httpsCallable("getEnterpriseAdminDetails"),E=Ee.functions().httpsCallable("requestEnterprisePlanFromAdmin");return Object(c.useLayoutEffect)((function(){t.details.isLoggedIn&&0===Object.keys(r).length&&j({email:t.details.profile.email}).then((function(e){i(e)}))})),Object(N.jsx)(s.a.Fragment,{children:r&&r.data&&r.data.success?1===d?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("br",{}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,align:"center",children:Object(N.jsx)(Sa.a,{})})}),Object(N.jsx)("br",{})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("br",{}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{className:"",sm:"12",span:14,offset:5,align:"center",children:2===d?Object(N.jsx)(oi.a,{type:"success",showIcon:!0,color:"primary",message:Object(N.jsxs)(N.Fragment,{children:[r.data.enterpriseData.admin.name," ","has been notified. Please get in touch with them for further details."]})}):Object(N.jsx)(oi.a,{type:"info",showIcon:!0,message:Object(N.jsxs)(N.Fragment,{children:["Your organization is already on Requestly Enterprise Plan managed by"," ",r.data.enterpriseData.admin.name,"."," ",Object(N.jsx)("span",{onClick:function(){O(1);var e=r.data.enterpriseData.admin,n=e.email.split("@")[1];E({userEmail:t.details.profile.email,adminEmail:e.email,adminName:e.name}).then((function(){ea(Ni.CATEGORIES.PRICING,Ni.ACTIONS.REQUEST_ADMIN,"".concat(n," enterprise requested")),O(2)})).catch((function(t){console.log(t),Fe.error("Unable to send email"),Fe.info("Contact directly at: ".concat(e.email))}))},className:"text-light",style:{cursor:"pointer",fontWeight:"bolder"},children:"Click here"})," ","to request Premium subscription for you."]})})})}),Object(N.jsx)("br",{})]}):null})}var gi=S.CONSTANTS.GA_EVENTS,_i=fa,Ii=Ra,Li=Na,yi=function(e){var t=e.currency,n=Object.values(Ii).includes(t)?t:null,a=Object(c.useContext)(J).state,r=et(a),i=Object(c.useState)(null),o=Object(u.a)(i,1)[0],l=Object(c.useState)(!!n),d=Object(u.a)(l,1)[0],O=Object(c.useState)(n?n.toUpperCase():_i),j=Object(u.a)(O,2),E=j[0],b=j[1],p=Object(c.useState)("annual"),h=Object(u.a)(p,2),T=h[0],m=h[1],f=Object(c.useState)(ot),A=Object(u.a)(f,1)[0],R=Object(c.useState)(!1),x=Object(u.a)(R,2),C=x[0],g=x[1],_=Object(c.useState)(null),I=Object(u.a)(_,2),L=I[0],y=I[1],v=Object(c.useState)(null),U=Object(u.a)(v,2),P=U[0],D=U[1],w=Object(c.useCallback)((function(){if(d)return b(E),void g(!0);fetch("https://api.country.is/").then((function(e){200===e.status&&e.json().then((function(e){if(e.country){var t=Li(e.country);b(t)}else b(_i);g(!0)}))})).catch((function(e){b(_i),g(!0)}))}),[]);return Object(c.useLayoutEffect)((function(){r.details.isLoggedIn&&(r.details.planDetails?(D(pt(r.details.planDetails)),y(r.details.planDetails.planId.split("_")[0])):y("bronze")),C||w()}),[o,T,E,C,w,r]),Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(de.a,{children:Object(N.jsxs)("div",{style:{display:"grid",placeItems:"center"},children:[Object(N.jsx)("h1",{className:"font-weight-bolder  mt-4 h1-larger",style:{fontWeight:700},children:"Pricing plans for individuals and teams"}),Object(N.jsx)("h3",{children:"All plans come with a 15-day money back guarantee."})]})}),Object(N.jsxs)("div",{children:[Object(N.jsx)(ii.a.Group,{style:{display:"grid",placeItems:"center",marginTop:"30px"},defaultValue:"annual",buttonStyle:"solid",onChange:function(e){return t=e.target.value,m(t),void ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.PRICING,S.CONSTANTS.GA_EVENTS.ACTIONS.DURATION_CHANGE,"Duration changed to ".concat(t));var t},children:Object(N.jsxs)("div",{children:[Object(N.jsx)(ii.a.Button,{style:{width:"200px",textAlign:"center",borderTopLeftRadius:"20px",borderBottomLeftRadius:"20px",fontWeight:"bold"},value:"monthly",children:"Monthly"}),Object(N.jsx)(ii.a.Button,{style:{width:"200px",textAlign:"center",borderTopRightRadius:"20px",borderBottomRightRadius:"20px",fontWeight:"bold"},value:"annual",children:"Yearly"})]})}),Object(N.jsx)("h4",{style:{color:"#0a48b3",display:"grid",placeItems:"center",marginLeft:"200px",marginTop:"10px",fontWeight:"bold"},children:"~2 months EXTRA!"})]}),Object(N.jsx)(Ci,{user:r}),Object(N.jsx)(de.a,{style:{marginBottom:"1rem",marginTop:"1rem"},children:Object(N.jsx)("div",{style:{display:"grid",placeItems:"center"},children:Object(N.jsx)(oi.a,{message:"Use code BFRIDAY2021 before Tuesday for 30% off on all plans.",type:"info",showIcon:!0})})}),Object(N.jsx)(xi,{currency:E,duration:T,annualDiscountValue:0,features:A,currentPlan:L,isPlanExpired:P,onChoosePlan:function(e){"bronze"!==e&&(r.details.isLoggedIn?Et(e)?(ea(gi.CATEGORIES.PRICING,gi.ACTIONS.VIEWED,"Redirected@Teams.from.pricing.page"),Le(null,!0)):(ea(gi.CATEGORIES.PRICING,gi.ACTIONS.VIEWED,"Redirected@Checkout.from.Pricing.Page"),ve({mode:"individual",planType:"gold",days:Aa(T)})):(ea(gi.CATEGORIES.PRICING,gi.ACTIONS.LOGIN_REQUESTED,"sign in"),function(e,t){var n=t||{},a=n.redirectURL,r=n.source,c=new URL(window.location.origin+he.AUTH.SIGN_IN.ABSOLUTE);a&&c.searchParams.set("redirectUrl",a),r&&c.searchParams.set("src",r),e?e.push(c.href):window.location=c.href}(!1,{redirectURL:window.location.pathname,source:"pricing",hardRedirect:!0})))}}),Object(N.jsx)("div",{className:"container section content mb-3",children:L===W.PRICING.PLAN_NAMES.SILVER?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("span",{children:["You are on Silver Plan which expires on"," ",St(r.details.planDetails),". Silver Plan is deprecated and can no longer be renewed. Please contact us at"," ",Object(N.jsx)("a",{href:"mailto:contact@requestly.io",children:"contact@requestly.io"})," for further questions."]}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{})]}):null})]})};n(396);var vi={AU:3,BR:5,CA:4,CN:3,DE:1,GB:5,IN:6,JP:6,RU:6,TR:2,US:6},Ui=function(){var e=Object(ne.a)(te.a.mark((function e(){var t,n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.country.is/");case 2:if(200!==(t=e.sent).status){e.next=10;break}return e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n.country);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pi=function(){var e=Object(ne.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=localStorage.getItem("country"))){e.next=6;break}return e.next=4,Ui();case 4:t=e.sent,localStorage.setItem("country",t);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Di=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(0),s=Object(u.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(!0),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useCallback)((function(e){""===e?j(!1):void 0!==vi[e]?(o(vi[e]),j(!1)):""!==e&&void 0===vi[e]&&j(!1)}),[]),b=Object(c.useCallback)(Object(ne.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pi();case 2:t=e.sent,a(t),E(t);case 5:case"end":return e.stop()}}),e)}))),[E]);Object(c.useLayoutEffect)((function(){b()}),[b]);return Object(N.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(12,auto)",justifyContent:"center",gap:"20px"},children:O?Object(N.jsx)(ba.a,{indicator:!0}):[Object(gt.a)(Array(i)).map((function(e,t){return Object(N.jsx)("div",{children:Object(N.jsx)("img",{height:100,width:100,alt:"",style:{cursor:"default"},src:"assets/img/countries-customer-brand/".concat(n,"/customerLogo-").concat(t,".svg"),className:"bw-color-on-hover"})},t)})),Object(gt.a)(Array(10-i)).map((function(e,t){return Object(N.jsx)("div",{children:Object(N.jsx)("img",{height:100,width:100,alt:"",style:{cursor:"default"},src:"assets/img/customer-brand/customerLogo-".concat(t,".svg"),className:"bw-color-on-hover"})},t)}))]})},wi=n(973),Mi=function(e){Ee.functions().httpsCallable("requestEmailSignIn")().then((function(e){console.log(e)})).catch((function(e){return console.error(e.message)}))},ki=function(){var e=[{ques:Object(N.jsx)(s.a.Fragment,{children:"Do you offer any trial period?"}),answer:Object(N.jsxs)(s.a.Fragment,{children:["No, but we offer ",Object(N.jsx)("strong",{children:"15-days Guarantee Period"}),". If you are not happy with your premium subscription, you may cancel your subscription from Account Settings or by reaching out our support."]})},{ques:Object(N.jsx)(s.a.Fragment,{children:"Is there any discount for an annual subscription?"}),answer:Object(N.jsx)(s.a.Fragment,{children:"Yes, we offer discounts if you choose annual subscription for any plan. Please check annual pricing for details."})},{ques:Object(N.jsx)(s.a.Fragment,{children:"Does unlimited really mean unlimited?"}),answer:Object(N.jsxs)(s.a.Fragment,{children:["For most of the intents and purposes, ",Object(N.jsx)("strong",{children:"yes"}),". It serves the purpose for most of our users. Further, some things might be restricted due to storage or performance reasons. Please contact us in case it happens and we'll look into it."]})},{ques:Object(N.jsx)(s.a.Fragment,{children:"Can I upgrade from personal subscription to a Team subscription?"}),answer:Object(N.jsx)(s.a.Fragment,{children:"Yes. Cancel your personal subscription after activating a Team subscription and we'll refund the adjusted amount of personal subscription."})},{ques:Object(N.jsx)(s.a.Fragment,{children:"Which payment methods do you accept?"}),answer:Object(N.jsxs)(s.a.Fragment,{children:["We are using ",Object(N.jsx)("strong",{children:"Stripe"})," as our payment processor. Stripe supports majority of credit and debit card networks including"," ",Object(N.jsx)("strong",{children:"Visa & Mastercard"}),". American Express and Discover card users need to contact us at"," ",Object(N.jsx)("a",{className:"has-no-text-decoration",href:"mailto:".concat(S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),target:"_blank",rel:"noopener noreferrer",children:Object(N.jsx)("strong",{children:S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})}),"."]})},{ques:Object(N.jsx)(s.a.Fragment,{children:"Do you offer discounts for open-source project maintainers?"}),answer:Object(N.jsxs)(s.a.Fragment,{children:["Yes, we do offer discounts for ",Object(N.jsx)("b",{children:"open-source"})," project maintainers on a case-by-case basis. Please send an email to"," ",Object(N.jsx)("a",{className:"has-no-text-decoration",href:"mailto:".concat(S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),target:"_blank",rel:"noopener noreferrer",children:Object(N.jsx)("strong",{children:S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})})," ","with a description of your project and we'll review."]})},{ques:Object(N.jsx)(s.a.Fragment,{children:" Do you offer discounts for students?"}),answer:Object(N.jsxs)(s.a.Fragment,{children:["Yes, we offer one year free subscription of Requestly Premium to current ",Object(N.jsx)("b",{children:"students"}),". Please share your details at"," ",Object(N.jsx)("a",{className:"has-no-text-decoration",href:"mailto:".concat(S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),target:"_blank",rel:"noopener noreferrer",children:Object(N.jsx)("strong",{children:S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})}),"."]})},{ques:Object(N.jsx)(s.a.Fragment,{children:"I have another query..."}),answer:Object(N.jsxs)(s.a.Fragment,{children:["We are happy to help you. You can live chat with us during our office hours or write to us at"," ",Object(N.jsx)("a",{className:"has-no-text-decoration",href:"mailto:".concat(S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),target:"_blank",rel:"noopener noreferrer",children:Object(N.jsx)("strong",{children:S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})}),"."]})}];return Object(N.jsxs)("div",{children:[Object(N.jsx)("br",{}),Object(N.jsxs)("h1",{style:{textAlign:"center",fontSize:"1.6rem"},children:["Pricing ",Object(N.jsx)("span",{onClick:Mi,children:"&"})," limits FAQ"]}),Object(N.jsx)("br",{}),Object(N.jsx)("div",{style:{margin:"0px 200px"},children:Object(N.jsx)(wi.b,{grid:{gutter:16,column:2},dataSource:e,renderItem:function(e){return Object(N.jsx)(wi.b.Item,{children:Object(N.jsx)(mr.a,{author:Object(N.jsxs)("h1",{style:{fontWeight:600,color:"#000"},children:["\u2192 ",e.ques]}),content:Object(N.jsx)("h3",{children:e.answer})})})}})})]})},Gi=function(){return Object(c.useEffect)((function(){Ee.functions().httpsCallable("pricingPageViews")()}),[]),Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(At.a,{className:"primary-card",children:Object(N.jsx)(de.a,{children:Object(N.jsx)("div",{className:"col text-center",children:Object(N.jsxs)(Oe.a,{className:"shadow",children:[Object(N.jsx)(yi,{}),Object(N.jsx)("br",{}),Object(N.jsxs)("div",{style:{textAlign:"center"},children:[Object(N.jsx)("h4",{style:{display:"flex",justifyContent:"center",color:"grey"},children:"Have a coupon code? You can apply on checkout."}),Object(N.jsxs)("h4",{style:{display:"flex",justifyContent:"center",color:"grey"},children:["Prices inclusive of tax. Secure payment by \xa0",Object(N.jsx)(x.I,{size:"2rem",color:"#0a48b3",style:{transform:"translate(0%, -12%)"}})]}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("h2",{children:"Trusted by developer teams from 500+ organizations"}),Object(N.jsx)(Di,{})]}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)(ki,{})]})})})})})},Fi=function(e){Object(ar.a)(n,e);var t=Object(rr.a)(n);function n(){return Object(tr.a)(this,n),t.apply(this,arguments)}return Object(nr.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Gi,{})})}}]),n}(s.a.Component),Bi=n(236);var Vi=function(e){var t=e.code,n=e.count,a=e.limit,r=function(){return"".concat(window.location.origin).concat(W.PATHS.AUTH.SIGN_UP.RELATIVE,"?rcode=").concat(t," ")},c=function(){return Object(N.jsxs)(xt.a,{children:[Object(N.jsx)("p",{className:"display-5",children:"When a new user joins with a different work email domain from yours, you both receive 1 month of Requestly Premium."}),Object(N.jsxs)("p",{className:"display-5",children:["When a new user joins with same work email domain as yours, you both receive 2 months of Requestly Premium."," ",Object(N.jsxs)("a",{href:"https://requestly.io/blog/2021/02/06/introducing-referral-feature/",target:"_blank",rel:"noreferrer",children:["Learn More ",Object(N.jsx)("i",{className:"fas fa-external-link-alt pl-1"})]})]})]})},s=function(){var e=0;return n&&a&&(e=n/a*100),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,align:"center",children:Object(N.jsx)(kr.a,{title:"Click to copy",children:Object(N.jsxs)(Ct.a,{onClick:function(){return e=r(),t=(t="Copied Referral link to clipboard!")||"Copied to clipboard!",void navigator.clipboard.writeText(e).then((function(){Fe.info(t)}),(function(e){console.error("Async: Could not copy text: ",e)}));var e,t},type:"success",color:"secondary",children:[r(),Object(N.jsx)("i",{className:"far fa-clipboard fa-2x"})]})})})}),Object(N.jsx)("br",{}),Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(xt.a,{span:4,offset:10,align:"center",children:[Object(N.jsx)("div",{className:"text-center",children:"Referred ".concat(n," out of ").concat(a)}),Object(N.jsx)(Bi.a,{percent:parseInt(e||0)})]})})]})};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(c,{}),Object(N.jsx)(s,{})]})},Yi=n(963);var Hi=function(e){var t=e.referredAccounts;return Object(N.jsxs)(Oe.a,{className:"m-2",children:[Object(N.jsx)(Yt.a,{children:Object(N.jsx)(de.a,{className:"pl-5",children:Object(N.jsx)("h2",{children:"Users you have referred"})})}),Object(N.jsx)(je.a,{children:Object(N.jsxs)(Yi.a,{children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"#"}),Object(N.jsx)("th",{children:"Email"}),Object(N.jsx)("th",{children:"Date Joined"}),Object(N.jsx)("th",{children:"Rewards"})]})}),Object(N.jsx)("tbody",{children:t.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"row",children:t+1}),Object(N.jsx)("td",{children:e.email}),Object(N.jsx)("td",{children:e.dateJoined}),Object(N.jsx)("td",{children:e.reward})]},t)}))})]})})]})};function Ki(e){return e.split("").reverse().join("")}function Wi(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*a));return t}function qi(e){return Wi(2)+Ki(e)+Wi(2)}function Qi(e){return Wn.getValue(["customProfile",e,"referral"]).then((function(t){return t||(console.log("making referral node"),function(e,t){var n={referral:{code:qi(e),referredAccountsCount:0,referredAccounts:[]}};return Wn.setValue(["customProfile",e],n)}(e).then((function(){return Wn.getValue(["customProfile",e,"referral"]).then((function(e){return e}))})))})).catch((function(e){return console.log(e)}))}var zi=function(){var e=Object(c.useContext)(J).state,t=et(e),n=Object(c.useState)(),a=Object(u.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(),l=Object(u.a)(o,2),d=l[0],O=l[1];return Object(c.useEffect)((function(){t.details.profile&&!r&&Qi(t.details.profile.uid).then((function(e){i(e)})).catch((function(e){return console.log(e)})),d||Wn.getValue(["referral","limit"]).then((function(e){return O(e)})).catch((function(e){return console.log(e)}))}),[r,t,d]),r&&d?Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(At.a,{className:"primary-card",children:Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(xt.a,{span:24,align:"center",children:[Object(N.jsx)(Rt.a,{className:"align-items-center",children:Object(N.jsxs)(xt.a,{span:"24",align:"center",children:[Object(N.jsxs)("h2",{className:"mb-0",children:["Spread the Love"," ",Object(N.jsx)("span",{role:"img","aria-label":"confetti",children:"\ud83c\udf89"})]}),Object(N.jsx)("p",{className:"text-muted mb-0",children:"Invite your colleagues to Requestly and get Requestly Premium Free"})]})}),Object(N.jsx)(Vi,{code:r.code,count:r.referredAccountsCount,limit:d}),r.referredAccounts?Object(N.jsx)(Hi,{referredAccounts:r.referredAccounts}):null]})})})}):Object(N.jsx)(vr,{customLoadingMessage:"Getting Referral Information"})},Xi=function(e){Object(ar.a)(n,e);var t=Object(rr.a)(n);function n(){return Object(tr.a)(this,n),t.apply(this,arguments)}return Object(nr.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Bt,{component:zi})})}}]),n}(s.a.Component),Ji=W.RULES_LIST_TABLE_CONSTANTS,Zi=(Ji.GROUP_DETAILS,function(e,t,n){return e.groupId!==Ji.UNGROUPED_GROUP_ID&&(n[e.groupId]||(t.push(e.groupId),n[e.groupId]=!0)),$i(e)}),$i=function(e){var t=e;return delete t.isFavourite,t},eo=function(e,t,n){return new Promise((function(a){var r=[],c={};Ls(e).getAllRecords().then((function(e){var s=t.map((function(t){return Zi(e[t],r,c)})),i=[];r.forEach((function(e){i.push(n[e][Ji.GROUP_DETAILS])})),a({rules:s,groups:i})}))}))},to=function(e,t){var n=e.modificationDate?e.modificationDate:e.creationDate,a=t.modificationDate?t.modificationDate:t.creationDate;return n<a?1:n>a?-1:0},no=function(e){return"MKTRuleID"in e},ao=S.CONSTANTS.GA_EVENTS,ro=function(){var e=Object(ne.a)(te.a.mark((function e(t,n){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Ee.database().ref("users/".concat(t,"/profile")),e.next=4,a.update({isBackupEnabled:n});case 4:return Fe.info("Backups are now ".concat(n?"enabled":"disabled",".")),e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),Fe.error("Sorry, we are experiencing issues updating the backup state."),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),co=function(e){return Ls(e).getRecord(W.LAST_BACKUP_TIMESTAMP)},so=function(e,t){var n=new Date(e),a=new Date(t);return n.getTime()-a.getTime()},io=function(e){var t=!1;if(e){var n=so(Date.now(),e);Math.floor(n/1e3/60/60/24)>7&&(t=!0)}return Boolean(!e&&t)},oo=function(e){return co(e).then((function(t){var n,a=Date.now();t&&(n=so(a,t));var r=Math.floor(n/1e3/60/60);return!t||r>6?function(e){return new Promise((function(t){Ls(e).getAllRecords().then((function(e){var n=[],a={},r=[],c={};for(var s in e)switch(e[s].objectType){case S.CONSTANTS.OBJECT_TYPES.RULE:r.push(e[s]);break;case S.CONSTANTS.OBJECT_TYPES.GROUP:c[s]=e[s]}var i=r.map((function(e){return Zi(e,n,a)})),o=[];n.forEach((function(e){o.push(c[e])})),t({rules:i,groups:o})}))}))}(e).then((function(t){return Ee.functions().httpsCallable("updateRulesBackup")({records:t,timestamp:a}).then((function(){return ea(ao.CATEGORIES.RULES,ao.ACTIONS.BACKUP_CREATED,"rules and groups backup created"),function(e,t){var n=t||Date.now();return Ls(e).saveRecord(Object(O.a)({},W.LAST_BACKUP_TIMESTAMP,n)).then((function(){return{success:!0,time:n}}))}(e)}))})):{success:!1,time:n}}))},lo=function(e){return new Promise(function(){var t=Object(ne.a)(te.a.mark((function t(n){var a,r,c;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Ee.firestore().collection("backup").doc(e),t.next=3,a.get();case 3:r=t.sent,c=r.data(),n(c?{data:c}:{data:null});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},uo=function(e){var t=new Date(e),n=t.getDate(),a=n+"/"+(t.getMonth()+1)+"/"+t.getFullYear();return isNaN(n)?null:a},Oo=n(985),jo=S.CONSTANTS.GA_EVENTS,Eo=Xt.a.Link,bo=function(){var e=Object(c.useContext)(J),t=e.state,n=e.dispatch,a=function(e){return Ke(e).lastBackupTimeStamp}(t),r=et(t).details.profile.uid,i=ct(t),o=Object(c.useState)(""),l=Object(u.a)(o,2),d=l[0],O=l[1],j=Object(c.useState)(null),E=Object(u.a)(j,2),b=E[0],S=E[1],p=Object(c.useState)(!1),h=Object(u.a)(p,2),T=h[0],m=h[1],f=Object(c.useState)(!1),A=Object(u.a)(f,2),R=A[0],x=A[1],C=function(){var e=Object(ne.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lo(r);case 2:t=e.sent,S(t.data),m(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=Object(c.useCallback)(C,[r]),_=function(e){if(b){x(!0);var t=b.backups[e];(function(e,t){var n=t.data,a=[].concat(Object(gt.a)(n.groups),Object(gt.a)(n.rules));return Ls(e).saveMultipleRulesOrGroups(a)})(i,t).then((function(){Fe.info("Rules and Groups updated"),ea(jo.CATEGORIES.RULES,jo.ACTIONS.BACKUP_USED,"backup number - ".concat(e+1," used")),x(!1)})).catch((function(){console.log("Error: Caught trying to copy empty backup to storage, please Report!"),x(!1)}))}else console.log("Error: Caught trying to copy empty backup to storage, please Report!")},I=[{title:"Backup Date",dataIndex:"timestamp",valueType:"date",render:function(e,t){return ec()(t.timestamp).format("LLL")}},{title:"Actions",align:"right",render:function(e,t,n){return Object(N.jsx)(Ct.a,{icon:Object(N.jsx)(Oo.a,{}),onClick:function(){return _(n)},loading:R,children:"Rollback"})}}];Object(c.useEffect)((function(){a&&Object(pe.isEmpty)(d)&&O(a),b||g()}),[b,a,d,S,O,g]);var L=function(){oo(i).then((function(e){if(e.success)e.time&&(Fe.info("New Backup Created!"),O(e.time),n(It(Date.now())));else{var t=!0,a=360-Math.floor(e.time/1e3/60);a<60&&(t=!1),Fe.error("Please wait at least ".concat(t?"".concat(Math.floor(a/60)," hours"):"".concat(a," minutes")," before next backup"))}}))};return T?Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(At.a,{className:"primary-card",children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:b?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Rt.a,{className:"align-items-center",children:Object(N.jsxs)(xt.a,{span:24,align:"center",children:[Object(N.jsx)("h2",{children:"Auto Backup Rules to Requestly servers"}),Object(N.jsx)("p",{children:"This will help you use your rules across browsers and devices"}),Object(N.jsx)("p",{children:Object(N.jsx)("em",{children:Object(N.jsx)("a",{href:W.LINKS.REQUESTLY_DOCS_BACKUP_DATA,children:"Learn how it works"})})})]})}),Object(N.jsx)(Rt.a,{className:"align-items-center",children:Object(N.jsx)(xt.a,{span:24,align:"center",children:d&&b&&uo(d)?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("h4",{children:["Your last backup was on"," ",Object(N.jsxs)("em",{children:["".concat(uo(d)," ")," "]})]}),Object(N.jsx)(Ct.a,{color:"primary",onClick:function(){return L()},children:"Backup Your Rules"})]}):Object(N.jsxs)("p",{children:["Click ",Object(N.jsx)(Eo,{onClick:function(){return L()},children:"here"})," to forcefully initiate a backup. (Do this only if you understand the implications!)"]})})}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,align:"center",children:Object(N.jsx)(Oa.a,{rowKey:"timestamp",dataSource:b.backups,options:!1,pagination:!1,search:!1,dateFormatter:!1,headerTitle:"Recent backups",columns:I})})})]}):Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{lg:"12",md:"12",className:"text-center",children:Object(N.jsxs)(oe.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3",children:"Create Your First Backup"}),Object(N.jsx)("p",{className:"lead",children:"This will help you use your rules across browsers and devices"}),Object(N.jsx)("p",{children:Object(N.jsx)(Ct.a,{color:"primary",onClick:function(){return L()},children:"Backup Your Data"})})]})})})})})})}):Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(vr,{customLoadingMessage:"Getting previous backups"})})},So=function(e){Object(ar.a)(n,e);var t=Object(rr.a)(n);function n(){return Object(tr.a)(this,n),t.apply(this,arguments)}return Object(nr.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Bt,{premiumRequired:!0,component:bo,premiumMessage:"Auto backups your data at periodic intervals so that you don't ever lose them while switching devices."})})}}]),n}(s.a.Component),po=function(){var e=Object(c.useRef)(!0),t=Object(c.useState)(!1),n=Object(u.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){return function(){e.current=!1}}),[]),Object(N.jsx)(ue.a,{className:" mt--7",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(Oe.a,{className:" shadow",children:Object(N.jsx)(je.a,{children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsxs)(oe.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h4",{children:"If you are facing any issue with your current susbscription, a refresh might be helpful."}),a?Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("br",{}),Object(N.jsxs)("h5",{children:[Object(N.jsx)(x.o,{color:"orange"})," This process may take a few seconds. Do not close this page."]})]}):null,Object(N.jsx)("br",{}),Object(N.jsxs)(le.a,{className:"btn-icon btn-3",color:"primary",type:"button",disabled:a,onClick:function(){r(!0),Ee.functions().httpsCallable("refreshSubscription")().then((function(t){if(!e.current)return null;var n=t.data;n.success?(r(!1),_e(!1,!0)):(r(!1),Fe.warn(n.message))})).catch((function(t){if(!e.current)return null;r(!1),Fe.warn(t.message)}))},children:[Object(N.jsx)("span",{className:"btn-inner--icon",children:Object(N.jsx)("b",{children:Object(N.jsx)(Be.c,{className:a?"icon-spin":""})})}),Object(N.jsx)("span",{className:"btn-inner--text",children:"Refresh Subscription"})]}),Object(N.jsx)("br",{}),Object(N.jsx)("hr",{}),Object(N.jsxs)("p",{children:["Still facing issues? Reach our payment support team at"," ",Object(N.jsx)("a",{href:"mailto:".concat(S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),children:S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL}),"."]})]})})})})})})})})},ho=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Bt,{component:po})})},To=function(e){var t=e.customErrorMessage||"Something went wrong";return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ue.a,{className:" mt--7",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)("div",{className:" col",children:Object(N.jsx)(Oe.a,{className:" shadow",children:Object(N.jsx)(je.a,{children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:Object(N.jsxs)(oe.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3"}),Object(N.jsx)("h5",{children:t})]})})})})})})})})})},mo=n(186),fo=S.CONSTANTS.GA_EVENTS,Ao=function(){var e=Object(c.useContext)(J).state,t=et(e),n=ct(e),a=Object(c.useState)(!0),r=Object(u.a)(a,2),i=r[0],o=r[1],l=Object(c.useState)({}),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useState)(""),b=Object(u.a)(E,2),p=b[0],h=b[1],T=Object(c.useState)(""),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(60),x=Object(u.a)(R,2),C=x[0],g=x[1],_=Object(c.useCallback)((function(){if(t.loggedIn){j(t.details.profile),o(!1);var e=ht(t),n=pt(t.details.planDetails);h(n?W.PRICING.PLAN_NAMES.BRONZE:e)}else o(!1)}),[t]),I=function(){return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:10,offset:7,children:Object(N.jsxs)("div",{className:"card-body",children:[Object(N.jsxs)("div",{className:"card-text",style:{padding:"1rem 10%"},children:[Object(N.jsx)("p",{className:"m-0",children:"Define Server EndPoint from where app will periodically import the rules"}),Object(N.jsx)("div",{className:" mb-3",children:Object(N.jsx)(nn.a,{type:"text",className:"form-control",placeholder:"https://myserver.com/rules/v1",value:f,onChange:function(e){return A(e.target.value)},addonBefore:"Server Endpoint"})}),Object(N.jsx)("br",{}),Object(N.jsx)("p",{className:"m-0",children:"Frequency (in minutes) for importing rules from Server. Minimum 2 & maximum 100 minutes."}),Object(N.jsx)("div",{className:" mb-3",children:Object(N.jsx)(nn.a,{type:"number",min:"2",max:"60",className:"form-control",placeholder:"20",value:C,onChange:function(e){return g(e.target.value)},addonBefore:"Frequency"})})]}),Object(N.jsx)("div",{className:"text-center",children:Object(N.jsx)(Ct.a,{type:"primary",className:"btn btn-primary",onClick:L,icon:Object(N.jsx)(mo.a,{}),children:"Save & Import Periodically"})})]})})})})},L=function(){if(!f||ce()(f)?(Fe.warn("Please enter a valid end point"),0):!(!C||C<2||C>100)||(Fe.warn("Frequency must lie between 2 and 100. Please provide a valid value"),0)){var e={enabled:!0,endPoint:f,frequency:C};gs(e).then((function(t){t.success?Kn(["settings",O.uid,"remoteRules"],e).then((function(){Fe.success("Settings saved successfully!"),ea(fo.CATEGORIES.REMOTE_RULES,fo.ACTIONS.CREATED,"Remote Rules Settings Created"),ta(fo.ATTR.REMOTE_RULES_ENDPOINT,e.endPoint),ta(fo.ATTR.REMOTE_RULES_FREQUENCY,e.frequency)})):alert("Unable to save settings in storage. Please reach out to support at contact@requestly.io")})).catch((function(e){return Fe.error(e)}))}};return Object(c.useEffect)((function(){n!==S.CONSTANTS.APP_MODES.DESKTOP&&(_(),Cs().then((function(e){e.endPoint&&A(e.endPoint),e.frequency&&g(e.frequency)})))}),[_,n]),n===S.CONSTANTS.APP_MODES.DESKTOP?Object(N.jsx)(To,{customErrorMessage:"Remote rules are available only in Requestly Chrome Extension as of now."}):i?Object(N.jsx)(vr,{customLoadingMessage:"Loading Remote Rules"}):Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(At.a,{className:"primary-card",title:"Remote Rules (Beta)",children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,align:"center",children:p!==W.PRICING.PLAN_NAMES.GOLD?Object(N.jsx)(oe.a,{style:{background:"transparent"},className:"text-center",children:Object(N.jsx)("h5",{children:"Remote Rules feature is only available in Premium Plan."})}):I()})})})})},Ro=function(e){Object(ar.a)(n,e);var t=Object(rr.a)(n);function n(){return Object(tr.a)(this,n),t.apply(this,arguments)}return Object(nr.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Bt,{component:Ao})})}}]),n}(s.a.Component),xo=n(964),No=n(965),Co=S.CONSTANTS.GA_EVENTS,go=function(){var e=Object(c.useContext)(J).state,t=et(e),n=Object(c.useState)({}),a=Object(u.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(""),o=Object(u.a)(i,2),l=o[0],d=o[1],O=Object(c.useState)(""),j=Object(u.a)(O,2),E=j[0],b=j[1],S=Object(c.useState)(""),p=Object(u.a)(S,2),h=p[0],T=p[1],m=Object(c.useState)(!1),f=Object(u.a)(m,2),A=f[0],R=f[1],x=Object(c.useState)(!1),C=Object(u.a)(x,2),g=C[0],_=C[1],I=Object(c.useState)(!1),L=Object(u.a)(I,2),y=L[0],v=L[1],U=Object(c.useState)(!1),P=Object(u.a)(U,2),D=P[0],w=P[1],M=Object(c.useState)(!0),k=Object(u.a)(M,2),G=k[0],F=k[1],B=Object(c.useState)(!1),V=Object(u.a)(B,2),Y=V[0],H=V[1];Object(c.useEffect)((function(){setTimeout((function(){F(!1)}),1200)}));return Object(c.useLayoutEffect)((function(){t.details.isLoggedIn&&(s(t.details.profile),Vn(["customProfile",t.details.profile.uid,"requestUpgrade"],(function(e){e&&e.sentEmail&&(R(!0),H(!0))})))}),[t]),Object(c.useEffect)((function(){t.details.isLoggedIn&&(b("Requestly Premium for ".concat(r.displayName)),T("Hi,\n".concat(r.displayName," has been using Requestly to debug & modify network requests. It has helped him achieve 10x productivity & saved critical hours for the work. ").concat(r.displayName," has started to hit free limits in the product with additional usage and has requested you to consider upgrading to Premium.\n\nYou can check out our prices at https://app.requestly.io/pricing \n\nCheers!\nRequestly Team")))}),[r,t.details.isLoggedIn]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ue.a,{className:" mt--7 sm-margin-top-negative-3",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsxs)(Oe.a,{className:"shadow",children:[Object(N.jsx)(Yt.a,{className:"border-0 has-thin-border-bottom",style:{position:"sticky",top:"0",zIndex:"1"},children:Object(N.jsx)(de.a,{className:"align-items-center",children:Object(N.jsxs)(ie.a,{className:"text-center text-sm-center text-xl-left text-lg-left text-md-left margin-bottom-1-when-xs margin-bottom-1-when-sm",children:[Object(N.jsx)("h2",{className:"mb-0",children:"Request an Upgrade"}),Object(N.jsx)("h4",{className:"text-muted mb-0",children:"Request your Manager/ IT Admin for Requestly Premium"})]})})}),Object(N.jsx)(je.a,{children:G?Object(N.jsxs)("div",{className:"text-align-center",children:[Object(N.jsx)(xo.a,{color:"primary",style:{width:"4rem",height:"4rem"}}),Object(N.jsx)("h5",{children:"Initializing..."})]}):A?Object(N.jsx)("h3",{children:"We have requested your manager to get Requestly Premium for you."}):Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(va.a,{children:[Object(N.jsxs)(ya.a,{children:[Object(N.jsx)(qt.a,{type:"email",placeholder:"Manager's Email",style:{fontSize:"1.2rem",color:"#5a5a5a"},value:l,onChange:function(e){g&&_(!1),d(e.target.value)},className:g?"is-invalid":"is-valid"}),Object(N.jsx)(No.a,{children:"This Field Cannot be Empty"})]}),Object(N.jsxs)(ya.a,{children:[Object(N.jsx)(qt.a,{placeholder:"Subject",style:{fontSize:"1.2rem",color:"#5a5a5a"},value:E,onChange:function(e){D&&w(!1),b(e.target.value)},className:D?"is-invalid":"is-valid"}),Object(N.jsx)(No.a,{children:"This Field Cannot be Empty"})]}),Object(N.jsxs)(ya.a,{children:[Object(N.jsx)(qt.a,{type:"textarea",rows:"10",placeholder:"Body",style:{fontSize:"1.2rem",color:"#5a5a5a"},value:h,onChange:function(e){y&&v(!1),T(e.target.value)},className:y?"is-invalid":"is-valid"}),Object(N.jsx)(No.a,{children:"This Field Cannot be Empty"})]}),Object(N.jsx)("div",{className:"text-center",children:Y?Object(N.jsx)(le.a,{disabled:!0,color:"primary",size:"lg",children:Object(N.jsx)(xo.a,{color:"secondary",style:{width:"1rem",height:"1rem"}})}):Object(N.jsxs)(le.a,{color:"primary",size:"lg",onClick:function(){if(H(!0),!l)return _(!0),void H(!1);if(!h)return v(!0),void H(!1);if(!E)return w(!0),void H(!1);if(!/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(l))return Fe.warn("Please enter a valid email address."),void H(!1);ea(Co.CATEGORIES.REQUEST_UPGRADE,Co.ACTIONS.CLICKED,"RequestUpgrade email sent"),A||Hn(["customProfile",r.uid,"requestUpgrade"],{managerEmail:l,requestDate:(new Date).toISOString().split("T")[0],sentEmail:!1},(function(){Ee.functions().httpsCallable("requestUpgrade")({userId:r.uid,emailContent:{managerEmail:l,subject:E,body:h}}).then((function(){return R(!0)})).catch((function(e){return console.log(e)}))}))},children:[Object(N.jsx)("i",{className:"fa fa-paper-plane"})," Send Email"]})})]})})})]})})})})})},_o=function(e){Object(ar.a)(n,e);var t=Object(rr.a)(n);function n(){return Object(tr.a)(this,n),t.apply(this,arguments)}return Object(nr.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Bt,{component:go})})}}]),n}(s.a.Component),Io=Xt.a.Link,Lo=function(e){var t=e.heading,n=e.content;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(At.a,{className:"primary-card",children:Object(N.jsx)(Rt.a,{style:{textAlign:"center"},align:"center",children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsxs)(oe.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3",children:t}),Object(N.jsxs)("p",{className:"lead",children:[n," ",Object(N.jsx)(Io,{target:"_blank",rel:"noopener noreferrer",href:W.LINKS.REQUESTLY_DOCS,children:"Read Docs"})]}),Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){return window.open("chrome.google.com/webstore/detail/requestly-redirect-url-mo/mdnleldcmiljblolnjhpnblkcekpdkpa","_blank")},children:"Get for Chrome"}),Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){return window.open(W.LINKS.FIREFOX_EXTENSION)},children:"Get for Firefox"})]})]})})})})})},yo=n(968),vo=n.p+"static/media/activate_requestly.cfb68936.png",Uo=Xt.a.Link,Po=yo.a.Panel,Do=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(At.a,{className:"primary-card",children:Object(N.jsx)(Rt.a,{style:{textAlign:"center"},align:"center",children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsxs)(oe.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3",children:"Extension is deactivated"}),Object(N.jsxs)("p",{className:"lead",children:["Please activate the extension by right clicking on it and selecting"," ",Object(N.jsx)(Uo,{style:{cursor:"auto",fontWeight:"bold"},children:"Activate Requestly"})," ","option and then refresh this page."]}),Object(N.jsx)(yo.a,{ghost:!0,children:Object(N.jsx)(Po,{header:"Click to view screenshot",children:Object(N.jsx)("img",{style:{maxWidth:"30vh"},src:vo,alt:"activate requestly"})})})]})})})})})},wo=function(e){switch(e.ruleType){case S.CONSTANTS.RULE_TYPES.QUERYPARAM:e.pairs.map((function(e){return e.id=e.id||on(),e.modifications.map((function(e){return e.id=e.id||on()})),e}));break;case S.CONSTANTS.RULE_TYPES.SCRIPT:e.pairs.map((function(e){return e.id=e.id||on(),e.scripts.map((function(e){return e.id=e.id||on()})),e}));break;default:e.pairs.map((function(e){return e.id=e.id||on(),e}))}return e},Mo=function(){var e=Object(ne.a)(te.a.mark((function e(t){var n,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ls(t).getRecords(S.CONSTANTS.OBJECT_TYPES.RULE);case 2:n=e.sent,a=n.map((function(e){return wo(e)})),Ls(t).saveMultipleRulesOrGroups(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ko=function(){var e=Object(c.useContext)(J).state,t=ct(e),n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){(function(e){return Ls(e).getRecord(W.MIGRATED_TO_NEW_UI)})(t).then((function(e){e?console.log("ALREADY MIGRATED"):(s(!0),console.log("PERFORMING MIGRATION"),Mo(t).then((function(){(function(e){return Ls(e).saveRecord(Object(O.a)({},W.MIGRATED_TO_NEW_UI,!0))})(t).then((function(){s(!1)}))})))}))}),[t]),Object(N.jsx)(tn.a,{className:"modal-dialog-centered ",visible:r,onCancel:function(){return null},footer:null,children:Object(N.jsx)("div",{className:"modal-body ",children:Object(N.jsx)(Se,{customLoadingMessage:"Setting up Requestly"})})})},Go=function(){var e=Object(ne.a)(te.a.mark((function e(t){var n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null,e.next=3,Ts();case 3:if(n=e.sent,"local"!==n.storageType){e.next=7;break}return e.abrupt("return");case 7:Ns("local");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fo=function(){var e=Object(c.useContext)(J).state,t=ct(e),n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){t===S.CONSTANTS.APP_MODES.EXTENSION&&function(e){return Ls(e).getRecord(W.STORAGE_MIGRATED_TO_LOCAL)}(t).then((function(e){e?console.log("STORAGE ALREADY MIGRATED"):(s(!0),console.log("PERFORMING STORAGE MIGRATION"),Go(t).then((function(){(function(e){return Ls(e).saveRecord(Object(O.a)({},W.STORAGE_MIGRATED_TO_LOCAL,!0))})(t).then((function(){s(!1)}))})))}))}),[t]),Object(N.jsx)(tn.a,{className:"modal-dialog-centered ",visible:r,onCancel:function(){return null},footer:null,children:Object(N.jsx)("div",{className:"modal-body ",children:Object(N.jsx)(Se,{customLoadingMessage:"Setting up Requestly"})})})},Bo=W.PATHS,Vo=W.RULE_TYPES_CONFIG,Yo=function(e){return Object(N.jsx)(tn.a,{visible:e.isOpen,onCancel:e.toggle,footer:null,title:"Create New Rule",width:1e3,children:Object(N.jsx)("div",{children:Object(N.jsx)(Rt.a,{gutter:[16,16],children:Object.entries(Vo).map((function(e){var t=Object(u.a)(e,2),n=(t[0],t[1]);return bs()<=W.DELAY_COMPATIBILITY_VERSION&&n.TYPE===S.CONSTANTS.RULE_TYPES.DELAY?null:Object(N.jsx)(xt.a,{xs:24,sm:12,lg:8,children:Object(N.jsx)(kc.a,{loading:!1,hoverable:!0,style:{height:"100%",display:"flex",flexFlow:"column",cursor:"default"},size:"small",bodyStyle:{flexGrow:"1"},actions:[Object(N.jsx)(l.c,{to:"".concat(Bo.RULE_EDITOR.CREATE_RULE.ABSOLUTE,"/").concat(n.TYPE),children:Object(N.jsx)(Ct.a,{type:"primary",children:" Create "})})],children:Object(N.jsx)(kc.a.Meta,{avatar:Object(N.jsx)(N.Fragment,{children:s.a.createElement(n.ICON)}),title:n.NAME,description:n.DESCRIPTION})})},n.ID)}))})})})},Ho=n(512),Ko=n(148),Wo=n(494),qo=W.RULES_LIST_TABLE_CONSTANTS,Qo=function(e,t){return Ls(e).saveMultipleRulesOrGroups(t)},zo=function(e,t){var n=t;e.forEach((function(e){n>0?(e.status=S.CONSTANTS.RULE_STATUS.ACTIVE,n--):function(e){e.status=S.CONSTANTS.RULE_STATUS.INACTIVE}(e)}))},Xo=function(e){var t=[],n=[],a={};return e.forEach((function(e){return e.objectType===S.CONSTANTS.OBJECT_TYPES.RULE?t.push(e):e.objectType===S.CONSTANTS.OBJECT_TYPES.GROUP?function(e){n.push(e),a[e.id]=!0}(e):null})),{rules:t,groups:n,groupsId:a}},Jo=function(e){return(e.status===S.CONSTANTS.RULE_STATUS.ACTIVE||S.CONSTANTS.RULE_STATUS.INACTIVE)&&(e.objectType===S.CONSTANTS.OBJECT_TYPES.RULE||S.CONSTANTS.OBJECT_TYPES.GROUP)&&"string"===typeof e.name&&"string"===typeof e.description},Zo=function(e){return e.forEach((function(e){return e.creationDate=sn(),e}))},$o=function(e,t,n){var a=Xo(e),r=a.rules.filter((function(e){return Jo(e)})),c=a.groups.filter((function(e){return Jo(e)}));Zo(r),Zo(c),function(e){e.forEach((function(e){return e.id="".concat(e.ruleType,"_").concat(on()),e}))}(r),function(e){e.forEach((function(e){return e.objectType===S.CONSTANTS.OBJECT_TYPES.RULE?wo(e):e}))}(r);var s,i,o=ht(t),l=mt(W.FEATURES.ACTIVE_RULES,o),u=n.filter((function(e){return e.status===S.CONSTANTS.RULE_STATUS.ACTIVE&&!no(e)})).length;dt(t)||zo(r,l-u);s=r,i=a.groupsId,s.forEach((function(e){return e.groupId=i[e.groupId]?e.groupId:qo.UNGROUPED_GROUP_ID,e}));var d=r.concat(c);return new Promise((function(e){e({data:d,rulesCount:r.length,groupsCount:c.length})}))},el=function(e){var t=e.toggle,n=e.isOpen,a=Object(c.useContext)(J),r=a.dispatch,i=a.state,o=qe(i),l=at(i),d=et(i),O=ct(i),E=Object(c.useState)(!1),b=Object(u.a)(E,2),p=b[0],h=b[1],T=Object(c.useState)(!1),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(!1),x=Object(u.a)(R,2),C=x[0],g=x[1],_=Object(c.useState)(!1),I=Object(u.a)(_,2),L=I[0],y=I[1],v=function(){var e=Object(c.useCallback)((function(e){var n=e[0],a=new FileReader;a.onabort=function(){return t()},a.onerror=function(){return t()},a.onload=function(){A(!0);var e=[];try{e=JSON.parse(a.result)}catch(t){console.log(t)}$o(e,d,o).then((function(e){h(e.data),g(e.rulesCount),y(e.groupsCount),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.IMPORTED,"Rules Imported",e.rulesCount)}))},a.readAsText(n)}),[]),n=Object(Ho.a)({onDrop:e}),a=n.getRootProps,r=n.getInputProps;return Object(N.jsxs)("div",Object(j.a)(Object(j.a)({},a()),{},{children:[Object(N.jsx)("input",Object(j.a)({},r())),Object(N.jsxs)("center",{children:[Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(Be.d,{})}),Object(N.jsx)("p",{children:"Drag and drop requestly export file, or click to select"})]})]}))},U=function(){Qo(O,p).then((function(){r(vt("rules",!l)),t()})).then((function(){Fe.info("Successfully imported rules")}))},P=function(){return Object(N.jsxs)(xt.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(Ko.a,{})}),Object(N.jsx)("h5",{children:"Could not find valid data in this file. Please try another"})]})};return Object(N.jsxs)(tn.a,{className:"modal-dialog-centered ",visible:n,onCancel:t,footer:null,title:"Import Rules Wizard",children:[Object(N.jsx)("div",{className:"modal-body ",children:p?C&&C>0||L&&L>0?Object(N.jsxs)(xt.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",style:{textAlign:"center"},children:[Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(Wo.a,{})}),Object(N.jsxs)("h5",{children:["Successfully parsed"," ",C>0?C+" rules":null," ",L>0?"and "+L+" groups":null]})]}):P():f?Object(N.jsx)(Se,{customLoadingMessage:"Processing data"}):Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(v,{})})}),Object(N.jsx)("br",{}),Object(N.jsx)("div",{className:"modal-footer ",style:{textAlign:"center"},children:p&&f&&C&&C>0?Object(N.jsx)(Ct.a,{color:"primary","data-dismiss":"modal",type:"button",onClick:U,children:"Import"}):null})]})},tl=W.PATHS,nl=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),i=Object(u.a)(r,2),o=i[0],d=i[1];return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(At.a,{className:"primary-card",children:Object(N.jsx)(Rt.a,{style:{textAlign:"center"},align:"center",children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsxs)(oe.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3",children:"Get Started with Rules"}),Object(N.jsx)("p",{className:"lead",children:"Rules are the constraints that define how you want to modify the network requests."}),Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){return a(!0)},children:"Create My First Rule"}),Object(N.jsx)(Ct.a,{color:"secondary",onClick:function(){return d(!0)},children:"Upload Rules"})]}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsxs)("h4",{className:"lead mt-5",children:["You can also use rules from the"," ",Object(N.jsx)(l.b,{style:{color:"#0648B3"},to:tl.MARKETPLACE.ABSOLUTE,children:Object(N.jsx)("strong",{children:"Marketplace"})})]})]})})})}),n?Object(N.jsx)(Yo,{isOpen:n,toggle:function(){a(!n)}}):null,o?Object(N.jsx)(el,{isOpen:o,toggle:function(){d(!o)}}):null]})},al=n(235),rl=function(){var e=Object(ne.a)(te.a.mark((function e(t,n,a){var r,c,s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Ee.database().ref("sync/".concat(n,"/rules")),c=Ee.database().ref("sync/".concat(n,"/metadata")),s=Date.now();try{t.status?(r.update(Object(O.a)({},t.id,t)),c.update(Object(O.a)({},W.LAST_SYNC_TIMESTAMP,s))):(Ee.database().ref("sync/".concat(n,"/rules/").concat(t)).remove(),c.update(Object(O.a)({},W.LAST_SYNC_TIMESTAMP,s))),Ls(a).saveRecord(Object(O.a)({},W.LAST_SYNC_TIMESTAMP,s))}catch(i){console.log(i)}case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),cl=function(){var e=Object(ne.a)(te.a.mark((function e(t,n,a){var r,c,s,i,o,l;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ee.database().ref("sync/".concat(n,"/rules")),c=Ee.database().ref("sync/".concat(n,"/metadata")),s=Date.now(),e.prev=3,e.next=6,c.get();case 6:return e.next=8,e.sent.val();case 8:return i=e.sent,o=0,i&&(o=i[W.LAST_SYNC_TIMESTAMP]||0),l=0,e.prev=12,e.next=15,Ls(a).getRecord(W.LAST_SYNC_TIMESTAMP);case 15:if(e.t0=e.sent,e.t0){e.next=18;break}e.t0=0;case 18:l=e.t0,e.next=24;break;case 21:e.prev=21,e.t1=e.catch(12),l=0;case 24:o!==l&&sl(n,a),t.ruleType?(r.update(Object(O.a)({},t.id,t)),c.update(Object(O.a)({},W.LAST_SYNC_TIMESTAMP,s))):(Ee.database().ref("sync/".concat(n,"/rules/").concat(t)).remove(),c.update(Object(O.a)({},W.LAST_SYNC_TIMESTAMP,s))),Ls(a).saveRecord(Object(O.a)({},W.LAST_SYNC_TIMESTAMP,s)),e.next=32;break;case 29:e.prev=29,e.t2=e.catch(3),console.log(e.t2);case 32:case"end":return e.stop()}}),e,null,[[3,29],[12,21]])})));return function(t,n,a){return e.apply(this,arguments)}}(),sl=function(){var e=Object(ne.a)(te.a.mark((function e(t,n){var a,r,c,s,i;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ee.database().ref("sync/".concat(t)),r=Date.now(),e.next=4,Ls(n).getAllRecords();case 4:c=e.sent,s=Object.values(c).filter((function(e){return void 0===e.MKTRuleID&&e.creationDate})),i={},s.forEach((function(e){i[e.id]=e}));try{a.set({rules:i,metadata:Object(O.a)({},W.LAST_SYNC_TIMESTAMP,r)}),Ls(n).saveRecord(Object(O.a)({},W.LAST_SYNC_TIMESTAMP,r))}catch(o){console.log(o)}case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),il=function(e){var t=Object(c.useContext)(J),n=t.dispatch,a=t.state,r=et(a),s=at(a),i=ct(a),o=Object(c.useState)([]),l=Object(u.a)(o,2),d=l[0],O=l[1],j=function(t){var a="Group_".concat(on()),c={creationDate:sn(),description:"",id:a,name:t,objectType:S.CONSTANTS.OBJECT_TYPES.GROUP,status:S.CONSTANTS.RULE_STATUS.ACTIVE};Ls(i).saveRuleOrGroup(c).then(Object(ne.a)(te.a.mark((function t(){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r.loggedIn){t.next=4;break}if(!r.details.isSyncEnabled){t.next=4;break}return t.next=4,rl(c,r.details.profile.uid,i);case 4:n(vt("rules",!s)),e.toggle();case 6:case"end":return t.stop()}}),t)}))))};return ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.GROUP,S.CONSTANTS.GA_EVENTS.ACTIONS.WORKFLOW_STARTED,"Create New Rules Group"),ra("Create New Rules Group"),Object(N.jsx)(tn.a,{className:"modal-dialog-centered ",visible:e.isOpen,onCancel:e.toggle,footer:null,title:"Create New Group",children:Object(N.jsxs)("div",{className:"modal-body  zero-padding-bottom",children:[Object(N.jsx)(xt.a,{className:"my-auto",children:Object(N.jsx)("span",{children:"Enter Group Name"})}),Object(N.jsx)("br",{}),Object(N.jsx)(xt.a,{className:"my-auto",style:{fontSize:"0.9em"},children:Object(N.jsx)(al.a,{isMulti:!1,name:"select-group",placeholder:"Enter Group Name",onChange:function(e){O(e.label),j(e.label)},value:d})})]})})},ol=n(459),ll=function(e,t,n){return new Promise((function(a,r){eo(e,t,n).then((function(e){var t=e.rules,n=e.groups;a({fileContent:JSON.stringify(t.concat(n),null,2),rulesCount:t.length,groupsCount:n.length})}))}))},ul=function(e){ol(e,"requestly_rules.txt","text/plain")},dl=function(e){var t=e.toggle,n=e.isOpen,a=e.rulesToExport,r=Object(c.useContext)(J).state,s=Xe(r),i=ct(r),o=Object(c.useState)(!1),l=Object(u.a)(o,2),d=l[0],O=l[1],j=function(){return Object(N.jsxs)(xt.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(Ko.a,{})}),Object(N.jsx)("h5",{children:"Please select a rule before exporting"})]})};return Object(c.useEffect)((function(){d||ll(i,a,s).then((function(e){O(e)}))}),[a,s,d,i]),Object(N.jsx)(tn.a,{className:"modal-dialog-centered ",visible:n,onCancel:t,footer:null,style:{textAlign:"center"},title:"Export Rules Wizard",children:Object(N.jsx)("div",{className:"modal-body ",children:d?function(){if(0===d.rulesCount)return j();try{ul(d.fileContent),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.EXPORTED,"Group Exported",d.rulesCount)}catch(e){}return Object(N.jsxs)(xt.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(N.jsx)("h1",{className:"display-2 cursor-pointer",onClick:function(){return ul(d.fileContent)},children:Object(N.jsx)(x.k,{})}),Object(N.jsx)("br",{}),Object(N.jsxs)("b",{children:["Your download will begin in a moment. If it doesn't,"," ",Object(N.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return ul(d.fileContent)},children:"click here"}),"."]}),Object(N.jsx)("br",{}),Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Total Rules Exported: "}),d.rulesCount," ",Object(N.jsx)("br",{})]})]})}():Object(N.jsx)(Se,{customLoadingMessage:"Preparing data to export"})})})},Ol=function(){var e=Object(ne.a)(te.a.mark((function e(t,n,a){var r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],n.forEach((function(e){r.push(Ls(t).removeRecord(e))})),e.next=4,Promise.all(r);case 4:return e.abrupt("return",a());case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),jl=function(e){e({type:d.CLEAR_SELECTED_RULES})},El=function(e){return Object.keys(e).filter((function(t){return e[t]}))},bl=function(e){var t=e.toggle,n=e.isOpen,a=e.rulesToDelete,r=Object(c.useContext)(J),i=r.dispatch,o=r.state,l=at(o),d=ct(o),O=Object(c.useState)(!1),j=Object(u.a)(O,2),E=j[0],b=j[1],S=Object(c.useState)(!1),p=Object(u.a)(S,2),h=p[0],T=p[1],m=function(e){var t=e.showConfirmationBtn;return Object(N.jsx)("div",{className:"modal-footer ",style:{backgroundColor:"white",position:"sticky",bottom:"0",zIndex:"100"},children:t?Object(N.jsx)(Ct.a,{color:"primary","data-dismiss":"modal",type:"button",onClick:function(){return b(!0)},children:"Yes"}):null})},f=function(){return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("div",{className:"modal-body ",children:Object(N.jsxs)(xt.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(Ko.a,{})}),Object(N.jsx)("h5",{children:"Please select a rule before deleting"})]})}),m({showConfirmationBtn:!1})]})},A=Object(c.useCallback)((function(){T(!0),i(vt("rules",!l)),t(),jl(i)}),[i,l,t]);return Object(c.useEffect)((function(){E&&!h&&Ol(d,a,A).then((function(){}))}),[E,h,a,A,d]),Object(N.jsx)(tn.a,{className:"modal-dialog-centered ",visible:n,onCancel:t,footer:null,title:"Delete Rules",style:{textAlign:"center"},children:E?h?Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("div",{className:"modal-body ",children:Object(N.jsx)(xt.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:Object(N.jsx)("b",{children:"Successfully deleted rules"})})}),m({showConfirmationBtn:!1})]}):Object(N.jsx)(Se,{customLoadingMessage:"Deleting Rules"}):0===a.length?f():Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("div",{className:"modal-body ",children:Object(N.jsxs)(xt.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(x.L,{})}),Object(N.jsx)("b",{children:"Are you sure to delete the selected rules?"}),Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Total Rules Selected: "}),a.length," ",Object(N.jsx)("br",{})]})]})}),m({showConfirmationBtn:!0})]})})},Sl=function(e){var t=e.mode,n={CURRENT_RULE:"CURRENT_RULE",SELECTED_RULES:"SELECTED_RULES"},a=Object(c.useContext)(J),r=a.dispatch,s=a.state,i=et(s),o=Object(c.useCallback)(r,[r]),l=$e(s),d=Je(s),O=ze(s),E=at(s),b=ct(s),p=Object(c.useState)([]),h=Object(u.a)(p,2),T=h[0],m=h[1],f=Object(c.useState)([]),A=Object(u.a)(f,2),R=A[0],x=A[1],C=Object(c.useCallback)((function(e){return t===n.SELECTED_RULES?[]:e.filter((function(e){return e.value===l.groupId}))}),[t,n.SELECTED_RULES,l.groupId]),g=function(e){if(t===n.CURRENT_RULE){var a=Object(j.a)(Object(j.a)({},l),{},{groupId:e});r(Ut(a))}else(function(e,t,n,a){return new Promise((function(r,c){var s=El(t);ce()(s)&&c(),Ls(e).getAllRecords().then((function(t){var c=[];s.forEach(function(){var r=Object(ne.a)(te.a.mark((function r(s){var i;return te.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=Object(j.a)(Object(j.a)({},t[s]),{},{groupId:n}),c.push(i),!a.loggedIn){r.next=6;break}if(!a.details.isSyncEnabled){r.next=6;break}return r.next=6,cl(i,a.details.profile.uid,e);case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()),Ls(e).saveMultipleRulesOrGroups(c).then((function(){return r()}))}))}))})(b,d,e,i).then((function(){jl(r),r(vt("rules",!E))})).catch((function(){Fe.warn("Please select the rules first",{hideProgressBar:!0})}))};return ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.GROUP,S.CONSTANTS.GA_EVENTS.ACTIONS.WORKFLOW_STARTED,"Modify Rules Group"),ra("Modify Rules Group"),Object(c.useEffect)((function(){Ls(b).getRecords(S.CONSTANTS.OBJECT_TYPES.GROUP).then((function(e){o(Lt(e))}))}),[o,l,b]),Object(c.useEffect)((function(){m(O.map((function(e){return{label:e.name,value:e.id}})))}),[O]),Object(c.useEffect)((function(){x(C(T))}),[x,C,T]),Object(N.jsx)(tn.a,{visible:e.isOpen,onCancel:e.toggle,footer:null,title:"Change Group",children:Object(N.jsxs)("div",{className:"",children:[Object(N.jsx)(xt.a,{className:"my-auto",children:Object(N.jsx)("span",{children:"Select new group"})}),Object(N.jsx)("br",{}),Object(N.jsx)(xt.a,{className:"my-auto",style:{fontSize:"0.9em"},children:Object(N.jsx)(al.a,{isMulti:!1,name:"select-group",options:T,placeholder:"Select or Type",value:R,onChange:function(t){t.__isNew__?function(e,t,n){var a="Group_".concat(on());Ls(e).saveRuleOrGroup({creationDate:sn(),description:"",id:a,name:t,objectType:S.CONSTANTS.OBJECT_TYPES.GROUP,status:S.CONSTANTS.RULE_STATUS.ACTIVE}).then((function(){n(a)}))}(b,t.label,g):g(t.value),e.toggle()}})})]})})},pl=function(e){var t=e.groupId,n=e.isOpen,a=e.toggle,r=t.groupId,i=Object(c.useContext)(J),o=i.state,l=i.dispatch,d=et(o),O=at(o),E=ct(o),b=Object(c.useState)({}),S=Object(u.a)(b,2),p=S[0],h=S[1],T=Object(c.useState)(""),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(!0),C=Object(u.a)(R,2),g=C[0],_=C[1],I=Object(c.useState)(!1),L=Object(u.a)(I,2),y=L[0],v=L[1],U=function(e){v(!0);var t=Object(j.a)(Object(j.a)({},p),{},{name:f,modificationDate:sn()});Ls(E).saveRuleOrGroup(t).then(Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fe.info("Renamed Group"),l(vt("rules",!O)),a(),!d.loggedIn){e.next=7;break}if(!d.details.isSyncEnabled){e.next=7;break}return e.next=7,rl(t,d.details.profile.uid,E);case 7:case"end":return e.stop()}}),e)}))))};return Object(c.useLayoutEffect)((function(){Ls(E).getRecord(r).then((function(e){e&&e.name&&(h(e),A(e.name),_(!1))}))}),[r,E]),Object(N.jsx)(tn.a,{className:"modal-dialog-centered ",visible:n,onCancel:a,footer:null,title:"Rename Group",style:{textAlign:"center"},children:g?Object(N.jsx)("div",{className:"modal-body one-padding-top zero-padding-bottom",children:Object(N.jsx)(Rt.a,{className:"one-padding-bottom  my-auto",children:Object(N.jsx)(Se,{})})}):Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("div",{className:"modal-body one-padding-top zero-padding-bottom",children:Object(N.jsx)(nn.a,{className:"has-dark-text",placeholder:"New Group Name",value:f,onChange:function(e){return A(e.target.value)}})}),Object(N.jsx)("br",{}),Object(N.jsx)("div",{className:"modal-footer ",children:Object(N.jsx)(Ct.a,{color:"primary",type:"button",onClick:U,children:y?Object(N.jsx)(x.H,{className:"icon-spin"}):"Save"})})]})})},hl=function(e,t,n,a,r){var c=Date.now();return new Promise((function(s){eo(e,t,a).then((function(e){var t=e.rules,a=e.groups,i=ic(c),o=sc(r);o.push(c);var l={access:{owner:r},shareId:c,rules:t,groups:a,isEnabled:!0},u=Wn.setValue(o,{listName:n,shareId:c,creationDate:sn()}),d=Wn.setValue(i,l);Promise.all([u,d]).then((function(){s({sharedListId:c,sharedListName:n,sharedListData:l})}))}))}))},Tl=function(e){var t=e.toggle,n=e.isOpen,a=e.rulesToShare,r=Object(c.useContext)(J).state,i=Xe(r),o=et(r),l=ct(r),d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(!1),p=Object(u.a)(b,2),h=p[0],T=p[1],m=Object(c.useState)(""),f=Object(u.a)(m,2),A=f[0],R=f[1],C=Object(c.useState)(""),g=Object(u.a)(C,2),_=g[0],I=g[1],L=Object(c.useState)(""),y=Object(u.a)(L,2),v=y[0],U=y[1],P=Object(c.useState)([]),D=Object(u.a)(P,2),w=D[0],M=D[1],k=Object(c.useState)(""),G=Object(u.a)(k,2),F=G[0],B=G[1],V=Object(c.useState)(!1),Y=Object(u.a)(V,2),H=Y[0],K=Y[1],W=Object(c.useState)([]),q=Object(u.a)(W,2),Q=q[0],z=q[1],X=function(){console.log("onCopyHandler called"),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.COPIED,"SharedList url copied from CreateSharedListModal"),U(_)},Z=function(){""===A?Fe.warning("Provide a shared list name"):E(!0)},$=function(e){var t=e.showConfirmationBtn,n=e.showNotifyBtn;return Object(N.jsxs)("div",{className:"modal-footer ",style:{pointerEvents:"none",position:"sticky",bottom:"0",zIndex:"100"},children:[t?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("br",{}),Object(N.jsx)(Ct.a,{style:{pointerEvents:"all"},color:"primary","data-dismiss":"modal",type:"primary",onClick:function(){return Z()},children:"Create"})]}):null,n&&H?Object(N.jsx)(Ct.a,{style:{pointerEvents:"all"},color:"primary","data-dismiss":"modal",type:"button",disabled:!0,children:Object(N.jsx)(x.H,{className:"icon-spin"})}):null]})},ee=function(){ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.CLICKED,"Notify Button Clicked"),K(!0),Ee.functions().httpsCallable("sendShareListUrlAsEmailToShare")({sharedListData:F,recipientEmails:w}).then(function(){var e=Object(ne.a)(te.a.mark((function e(n){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=n.data).success?(console.log(a),Fe.success("We've notified them"),z([].concat(Object(gt.a)(Q),Object(gt.a)(a.emails))),t()):(K(!1),Fe.error("Opps! Check the email and try again")),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.SHARED,"Notification Sent To people");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e.message),Fe.error("Opps! Couldn't send the notification"),t()}))},ae=function(e){var t=e.url,n=e.onCopyHandler;return Object(N.jsx)("span",{style:{cursor:"pointer"},children:Object(N.jsx)(Br.a,{text:t,onCopy:n,children:Object(N.jsx)("span",{children:v===_?"Copied!":Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{children:"Copy"})," ",Object(N.jsx)(fc.a,{style:{marginLeft:"1%"}})]})})})})},re=function(){return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("div",{className:"modal-body ",children:Object(N.jsxs)(xt.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(Ko.a,{})}),Object(N.jsx)("h5",{children:"Please select a rule before sharing"})]})}),$({showConfirmationBtn:!1,showNotifyBtn:!1})]})},ce=Object(c.useCallback)((function(e,t,n){var a=S.CONSTANTS.getSharedListURL(e,t);I(a),B(n),T(!0),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.CREATED,"Shared List created")}),[]),se=function(){var e=Object(ne.a)(te.a.mark((function e(t){var n,a,r,c,s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ee.firestore().doc("sharedListEmails/".concat(t)),e.next=3,n.get();case 3:if(a=e.sent,!a.exists){e.next=14;break}return e.next=8,n.get();case 8:r=e.sent.data(),c=r.emails,s=c.map((function(e){return{value:e,label:e}})),z(s),e.next=15;break;case 14:z([]);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(o.details.profile.uid);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[o.details.profile.uid]);var ie=function(e){13===e.keyCode&&Z()};return Object(c.useEffect)((function(){j&&!h&&hl(l,a,A,i,o.details.profile.uid).then((function(e){var t=e.sharedListId,n=e.sharedListName,a=e.sharedListData;ce(t,n,a)})),ta("iscreatesharedlisttask",!0)}),[j,h,a,A,i,o.details.profile.uid,ce,l]),Object(c.useEffect)((function(){return document.addEventListener("keydown",ie),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.WORKFLOW_STARTED,"SharedList creation workflow started"),function(){document.removeEventListener("keydown",ie)}}),[ie]),Object(N.jsx)(tn.a,{className:"modal-dialog-centered ",visible:n,onCancel:t,footer:null,title:"Share Rules",style:{textAlign:"center"},children:j?h?Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{align:"center",span:24,children:Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(x.b,{})})})}),Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(xt.a,{align:"center",span:24,children:[Object(N.jsx)("p",{children:"Successfully created shared list. You can share this list with other users and they will be able to import these rules."}),Object(N.jsx)("p",{className:"m-3",children:Object(N.jsx)("b",{children:"Notify People (optional)"})})]})}),Object(N.jsxs)(Rt.a,{style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(xt.a,{align:"center",span:20,children:Object(N.jsx)(al.a,{isMulti:!0,options:Q,onChange:function(e){var t=e?e.map((function(e){return e.value.trim()})):[];M(t)},className:"flex-grow-1 has-dark-text border-0"})}),Object(N.jsx)(xt.a,{span:4,align:"right",children:Object(N.jsx)(Ct.a,{style:{pointerEvents:"all"},className:"m-1",color:"primary","data-dismiss":"modal",type:"primary",onClick:ee,disabled:!w,children:"Notify"})})]}),Object(N.jsx)(Rt.a,{className:"margin-top-one",children:Object(N.jsx)(xt.a,{span:24,align:"center",children:Object(N.jsx)(nn.a,{value:_,disabled:!0,addonAfter:Object(N.jsx)(ae,{url:_,onCopyHandler:X})})})}),$({showConfirmationBtn:!1,showNotifyBtn:!0})]}):Object(N.jsx)(Se,{customLoadingMessage:"Creating List"}):0===a.length?re():Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("div",{className:"modal-body ",children:Object(N.jsxs)(xt.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(x.G,{})}),Object(N.jsx)("p",{children:Object(N.jsx)("b",{children:"Please enter a name for your shared list of rules"})}),Object(N.jsx)(Ht.a,{className:"input-group-alternative has-traditional-border",children:Object(N.jsx)(nn.a,{className:"display-inline-block has-dark-text",placeholder:"My shared list",type:"text",onChange:function(e){return R(e.target.value)},value:A})})]})}),$({showConfirmationBtn:!0,showNotifyBtn:!1})]})})},ml=function(e){var t=sc(e);return Wn.getValue(t)},fl=n(987),Al=n(988),Rl=n(986),xl=n(989),Nl=n(332),Cl=n(522),gl=n(990),_l=function(e){var t=e.currentlySelectedRuleConfig;return Object(N.jsx)(Nt.b,{className:"text-center text-sm-center text-xl-left text-lg-left text-md-left margin-bottom-1-when-xs margin-bottom-1-when-sm",children:Object(N.jsx)("h3",{className:"mb-0",children:"".concat(t.NAME," Rule ")})})},Il=function(e,t,n,a){var r=Object(j.a)(Object(j.a)({},n),{},{modificationDate:sn()});return Ls(e).saveRuleOrGroup(r).then((function(){Ls(e).getRecord(r.groupId).then((function(t){if(t&&"group"===t.objectType){var n=Object(j.a)(Object(j.a)({},t),{},{modificationDate:sn()});Ls(e).saveRuleOrGroup(n).then((function(){}))}}))}))},Ll=function(e,t){!function(e){e(Pt())}(e),me(t)},yl=W.RULE_EDITOR_CONFIG,vl=W.RULE_TYPES_CONFIG,Ul=function(e,t){e(Ut(t))},Pl=function(e,t,n,a){if(t){var r={creationDate:sn(),description:"",groupId:"",id:"".concat(n,"_").concat(on()),isSample:!1,name:"",objectType:S.CONSTANTS.OBJECT_TYPES.RULE,pairs:[],ruleType:n,status:S.CONSTANTS.RULE_STATUS.INACTIVE};r.pairs.push((c=n,Object(j.a)(Object(j.a)({},vl[c].EMPTY_PAIR_FORMAT),{},{id:on()}))),a(e,r)}var c},Dl=function(e,t,n){void 0===t?function(e){e.push(he.ROOT)}(n):e({type:d.UPDATE_CURRENTLY_SELECTED_RULE_CONFIG,payload:t})},wl=function(e){e(Pt())},Ml=function(e,t){if(t)return{MODE:yl.MODES.SHARED_LIST_RULE_VIEW};if(!e)return{};var n=e.pathname.split("/");return{MODE:n[n.length-2],RULE_TYPE_TO_CREATE:n[n.length-1],RULE_TO_EDIT_ID:n[n.length-1]}},kl=function(e,t,n){if(t===S.CONSTANTS.APP_MODES.EXTENSION&&"local"===n||t===S.CONSTANTS.APP_MODES.DESKTOP)return e.details.planDetails&&new Date(e.details.planDetails.subscription.endDate)-new Date>=0?1e6:6e3;if(!e)return 1500;var a=ht(e);return mt(W.FEATURES.RESPONSE_BODY_CHARACTER_LIMIT,a)},Gl=function(e,t,n,a){var r;return ce()(e.name)?{result:!1,message:"Please provide a rule name"}:ce()(e.pairs)?{result:!1,message:"Opps! Rule must have atleast one pair"}:(e.ruleType===S.CONSTANTS.RULE_TYPES.REDIRECT?e.pairs.forEach((function(e){ce()(e.source.value)?r={result:!1,message:"Please enter a source"}:ce()(e.destination)?r={result:!1,message:"Please enter a destination URL"}:un(e.destination)||e.destination.startsWith("$")||e.destination.startsWith("$")||e.destination.startsWith("http://")||e.destination.startsWith("https://")||e.destination.startsWith("file://")||(e.destination="http://"+e.destination,un(e.destination)||(r={result:!1,message:"Please enter a valid redirect URL"}))})):e.ruleType===S.CONSTANTS.RULE_TYPES.CANCEL?e.pairs.forEach((function(e){ce()(e.source.value)&&(r={result:!1,message:"Please enter a source"})})):e.ruleType===S.CONSTANTS.RULE_TYPES.REPLACE?e.pairs.forEach((function(e){ce()(e.from)&&(r={result:!1,message:"Please enter the part that needs to be replaced"})})):e.ruleType===S.CONSTANTS.RULE_TYPES.HEADERS?e.pairs.forEach((function(e){ce()(e.header)&&(r={result:!1,message:"Please enter the header name"}),"Remove"!==e.type&&ce()(e.value)&&(r={result:!1,message:"Please enter the header value"})})):e.ruleType===S.CONSTANTS.RULE_TYPES.QUERYPARAM?e.pairs.forEach((function(e){e.modifications.forEach((function(e){"Remove All"!==e.type&&ce()(e.param)&&(r={result:!1,message:"Please enter the param name"}),"Add"===e.type&&ce()(e.value)&&(r={result:!1,message:"Please enter the param value"})}))})):e.ruleType===S.CONSTANTS.RULE_TYPES.SCRIPT?e.pairs.forEach((function(e){ce()(e.libraries)&&ce()(e.scripts)?r={result:!1,message:"Please provide a script source"}:e.scripts.forEach((function(e){"code"===e.type?ce()(e.value)?r={result:!1,message:"Please enter a valid script code"}:e.value.length>=W.RULE_TYPES_CONFIG.Script.CUSTOM_SCRIPT_CHARACTER_LIMIT&&(r={result:!1,message:"Script code should be less than ".concat(W.RULE_TYPES_CONFIG.Script.CUSTOM_SCRIPT_CHARACTER_LIMIT," characters")}):"url"===e.type&&ce()(e.value)&&(r={result:!1,message:"Please enter a valid script URL"})}))})):e.ruleType===S.CONSTANTS.RULE_TYPES.RESPONSE?e.pairs.forEach((function(e){ce()(e.source.value)?r={result:!1,message:"Please enter a source"}:ce()(e.response.value)?r={result:!1,message:"Please specify response body"}:jn(e.response.value)>kl(t,n,a)&&(r={result:!1,message:"Response should be less than ".concat(kl(t,n,a)," characters.")})})):e.ruleType===S.CONSTANTS.RULE_TYPES.USERAGENT?e.pairs.forEach((function(e){ce()(e.envType)?r={result:!1,message:"Please select device type"}:ce()(e.env)&&!e.userAgent&&(r={result:!1,message:"Please select UserAgent"})})):e.ruleType===S.CONSTANTS.RULE_TYPES.DELAY&&e.pairs.forEach((function(e){var t=e.delay;ce()(e.source.value)?r={result:!1,message:"Please enter a source"}:ce()(t)?r={result:!1,message:"Delay cannot be empty"}:isNaN(t)&&0!==parseInt(t)?r={result:!1,message:"Delay should be a Number"}:Object(pe.inRange)(parseInt(t),S.CONSTANTS.DELAY_REQUEST_CONSTANTS.MIN_DELAY_VALUE,S.CONSTANTS.DELAY_REQUEST_CONSTANTS.MAX_DELAY_VALUE_NON_XHR+1)||(r={result:!1,message:"Delay should lie between ".concat(S.CONSTANTS.DELAY_REQUEST_CONSTANTS.MIN_DELAY_VALUE," and ").concat(S.CONSTANTS.DELAY_REQUEST_CONSTANTS.MAX_DELAY_VALUE_NON_XHR)})})),r&&!1===r.result?r:{result:!0})},Fl=function(e,t){Cn("rule_created",{rule_type:e,uid:t})},Bl=function(e,t){Cn("rule_edited",{rule_type:e,uid:t})},Vl=function(e){var t=Object(ae.g)(),n=Ml(e.location).MODE,a=Object(c.useContext)(J),r=(a.dispatch,a.state),s=$e(r),i=et(r),o=ct(r),l=function(){return n===W.RULE_EDITOR_CONFIG.MODES.EDIT?"Save":"Create"},u=function(){var e=Object(ne.a)(te.a.mark((function e(){var a,r,c,u;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null,o!==S.CONSTANTS.APP_MODES.EXTENSION){e.next=9;break}return e.next=4,hs();case 4:r=e.sent,c=r.storageType,a=c,e.next=10;break;case 9:o===S.CONSTANTS.APP_MODES.DESKTOP&&(a="local");case 10:if(a){e.next=13;break}return alert("Storage problem occurred. Please send a screenshot of this to us at contact@requestly.io"),e.abrupt("return");case 13:(u=Gl(s,i,o,a)).result?Il(o,0,s).then(Object(ne.a)(te.a.mark((function e(){var a,r,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.loggedIn){e.next=4;break}if(!i.details.isSyncEnabled){e.next=4;break}return e.next=4,cl(s,i.details.profile.uid,o);case 4:Fe.success("Successfully ".concat(l().toLowerCase(),"d the rule")),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,S.CONSTANTS.GA_EVENTS.ACTIONS.CREATED,"Rule Saved"),a=null,r=null,i&&i.details&&i.details.profile&&(a=i.details.profile.uid),s&&s.ruleType&&(r=s.ruleType),n===W.RULE_EDITOR_CONFIG.MODES.CREATE?Fl(r,a):n===W.RULE_EDITOR_CONFIG.MODES.EDIT&&Bl(r,a),ra("Rule Saved"),c=s.id,fe(t,c);case 14:case"end":return e.stop()}}),e)})))):Fe.warn(u.message,{hideProgressBar:!0});case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(e){(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&"s"===e.key.toLowerCase()&&(e.preventDefault(),u())};return Object(c.useEffect)((function(){return document.addEventListener("keydown",d),function(){document.removeEventListener("keydown",d)}}),[d]),Object(N.jsxs)(Ct.a,{className:"btn-icon btn-3",type:"primary",onClick:u,icon:Object(N.jsx)(mo.a,{}),children:[l()," Rule"]})},Yl=function(){var e=Object(ae.g)(),t=Object(c.useContext)(J).dispatch,n=function(n){"Escape"===n.key&&Ll(t,e)};return Object(c.useEffect)((function(){return document.addEventListener("keydown",n),function(){return document.removeEventListener("keydown",n)}}),[]),Object(N.jsx)(Ct.a,{className:"btn-icon btn-3",type:"secondary","data-dismiss":"modal",onClick:function(){return Ll(t,e)},shape:"circle",icon:Object(N.jsx)(Oi.a,{})})},Hl=function(e,t){Cn("active_rule_limit_reached",{uid:e,rules_count:t})},Kl=function(e){var t=e.location,n=Object(c.useContext)(J),a=n.dispatch,r=n.state,i=$e(r),o=qe(r),l=et(r),d=Object(c.useState)(!1),O=Object(u.a)(d,2),E=O[0],b=O[1],p=Object(c.useState)(0),h=Object(u.a)(p,2),T=h[0],m=h[1],f=Object(c.useState)("Free"),A=Object(u.a)(f,2),R=A[0],x=A[1],C=Object(c.useState)(!1),g=Object(u.a)(C,2),_=g[0],I=g[1],L=function(){return i.status===S.CONSTANTS.RULE_STATUS.ACTIVE},y=function(e){e!==i.status&&Ul(a,Object(j.a)(Object(j.a)({},i),{},{status:e}))},v=Object(c.useCallback)(y,[i,a]);return Object(c.useEffect)((function(){if(!E){var e=o.filter((function(e){return e.status===S.CONSTANTS.RULE_STATUS.ACTIVE&&!no(e)})).length,n=ht(l),a=mt(W.FEATURES.ACTIVE_RULES,n);-1!==t.pathname.indexOf("create")&&e<a&&v(S.CONSTANTS.RULE_STATUS.ACTIVE)}}),[o,v,l,t.pathname,E]),Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Ds.a,{size:"small",checked:L(),onChange:function(e){if(b(!0),L())y(S.CONSTANTS.RULE_STATUS.INACTIVE);else{var t=o.filter((function(e){return e.status===S.CONSTANTS.RULE_STATUS.ACTIVE&&!no(e)})).length,n=ht(l),a=mt(W.FEATURES.ACTIVE_RULES,n);if(t>=a){var r,c;m(a),x(n),I(!0);var s=(null===l||void 0===l||null===(r=l.details)||void 0===r||null===(c=r.profile)||void 0===c?void 0:c.uid)||null;Hl(s,t)}else y(S.CONSTANTS.RULE_STATUS.ACTIVE)}}}),_?Object(N.jsx)(Vr,{isOpen:_,toggle:function(){I(!_)},featureName:W.FEATURES.ACTIVE_RULES,featureLimit:T,userPlanName:R}):null]})},Wl=function(e){return Object.keys(e).filter((function(t){return e[t]}))},ql=function(e){var t=Ml(e.location).MODE,n=Object(c.useContext)(J),a=n.dispatch,r=n.state,s=$e(r),i=et(r),o={};o[s.id]=!0;var l=Object(c.useState)(""),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useState)(W.FEATURES.RULES),b=Object(u.a)(E,2),p=b[0],h=b[1],T=Object(c.useState)(0),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(Wl(o)),x=Object(u.a)(R,2),C=x[0],g=x[1],_=Object(c.useState)(!1),I=Object(u.a)(_,2),L=I[0],y=I[1],v=Object(c.useState)(!1),U=Object(u.a)(v,2),P=U[0],D=U[1];return Object(N.jsxs)(N.Fragment,{children:[t===W.RULE_EDITOR_CONFIG.MODES.EDIT?Object(N.jsx)(Ct.a,{className:"btn-icon btn-3 mr-lg-4 my-3 my-lg-0 my-md-0 my-sm-0",color:"primary",type:"secondary",onClick:function(){a(Dt("loadingModal",!0));var e=ht(i),t=mt(W.FEATURES.SHARED_LISTS,e);ml(i.details.profile.uid).then((function(n){var r=function(e){return e?Object.keys(e).length:0}(n);r>=t?(A(t),j(e),h(W.FEATURES.SHARED_LISTS),D(!0)):(g(Wl(o)),y(!0),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,"rules",S.CONSTANTS.GA_EVENTS.ACTIONS.SHARED)),a(Dt("loadingModal",!1))}))},icon:Object(N.jsx)(Rl.a,{}),children:"Share Rule"}):null,L?Object(N.jsx)(Tl,{isOpen:L,toggle:function(){y(!L)},rulesToShare:C}):null,P?Object(N.jsx)(Vr,{isOpen:P,toggle:function(){D(!P)},featureName:p,featureLimit:f,userPlanName:O,mode:0===f?W.LIMIT_REACHED_MODAL.MODES.CHECK_IF_ENABLED:W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT}):null]})},Ql=function(e){return Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(Kl,{location:e.location}),Object(N.jsx)(ql,{location:e.location}),Object(N.jsx)(Vl,{location:e.location}),Object(N.jsx)(Yl,{})]})},zl=function(e){var t=e.currentlySelectedRuleConfig,n=e.topCountShowRequiredDataObject;return Object(N.jsxs)(Rt.a,{children:[Object(N.jsx)(xt.a,{span:12,children:Object(N.jsx)(_l,{currentlySelectedRuleConfig:t,topCountShowRequiredDataObject:n})}),Object(N.jsx)(xt.a,{span:12,align:"right",children:Object(N.jsx)(Ql,{location:e.location})})]})},Xl=n(812),Jl=function(e,t,n,a){var r=JSON.parse(JSON.stringify(e));if("string"===typeof n)t(Xl(r,["pairs[".concat(a,"].").concat(n)]));else{var c=n.map((function(e){return"pairs[".concat(a,"].").concat(e)}));t(Xl(r,c))}},Zl=n(217),$l=function(e,t,n){return Zl(e.pairs[t],n,"")},eu=n(285),tu=n(217),nu=function(e,t,n,a,r){if(null===a||0===a.length)Jl(e,t,r,n);else{var c=JSON.parse(JSON.stringify(e)),s=a.map((function(e){return e.value}));eu(c.pairs[n],r,s),t(c)}},au=function(e,t,n,a){var r=tu(e.pairs[t],n,[]);return a.filter((function(e){return r.includes(e.value)}))},ru=n(240),cu=Xt.a.Text,su=[{label:"All (default)",value:"all",isDisabled:!0},{label:"XHR",value:"xmlhttprequest"},{label:"JS",value:"script"},{label:"CSS",value:"stylesheet"},{label:"Image",value:"image"},{label:"Media",value:"media"},{label:"Font",value:"font"},{label:"Web Socket",value:"websocket"},{label:"Main Document",value:"main_frame"},{label:"iFrame Document",value:"sub_frame"}],iu=[{label:"All (default)",value:"all",isDisabled:!0},{label:"GET",value:"GET"},{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"DELETE",value:"DELETE"},{label:"PATCH",value:"PATCH"},{label:"OPTIONS",value:"OPTIONS"},{label:"TRACE",value:"TRACE"},{label:"CONNECT",value:"CONNECT"},{label:"HEAD",value:"HEAD"}],ou=function(e){switch(e){case S.CONSTANTS.RULE_OPERATORS.EQUALS:return"e.g. http://www.example.com";case S.CONSTANTS.RULE_OPERATORS.CONTAINS:return"e.g. google";case S.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES:return"e.g. *://*.mydomain.com/*";case S.CONSTANTS.RULE_OPERATORS.MATCHES:return"e.g. /example-([0-9]+)/ig";default:return"Select a condition first"}},lu=function(e){var t=e.modifyPairAtGivenPath,n=e.pairIndex,a=Object(c.useContext)(J),r=a.dispatch,i=a.state,o=$e(i),l=function(e){return r(Ut(e))},u=function(){switch($l(o,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR)){case S.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES:return"Wildcard";case S.CONSTANTS.RULE_OPERATORS.MATCHES:return"RegEx";case"":return"Select";default:return $l(o,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR)}},d=function(e){return Object(N.jsx)("span",{onClick:function(){Jl(o,l,"source.filters.".concat(e),n),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,S.CONSTANTS.GA_EVENTS.ACTIONS.DELETE,"Rule source "+e+" filter modified")},className:"cursor-pointer",children:Object(N.jsx)(ru.a,{})})},O={PAGE_URL_MODIFIED:function(){ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,S.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"Rule source pageUrl filter modified")},RESOURCE_TYPE_MODIFIED:function(){ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,S.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"Rule source resourceType filter modified")},REQUEST_METHOD_MODIFIED:function(){ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,S.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"Rule source requestMethod filter modified")}},j=Object(N.jsxs)(Qt.a,{children:[Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return t(e,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR,S.CONSTANTS.RULE_OPERATORS.EQUALS)},children:"Equals"})},1),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return t(e,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR,S.CONSTANTS.RULE_OPERATORS.CONTAINS)},children:"Contains"})},2),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return t(e,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR,S.CONSTANTS.RULE_OPERATORS.MATCHES)},children:"Matches (RegEx)"})},3),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return t(e,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR,S.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES)},children:"Matches (Wildcard)"})},4)]});return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsxs)(tn.a,{visible:!1!==n,onCancel:function(){return e.closeModal()},footer:null,title:"Source Filters",width:700,children:[Object(N.jsxs)(Rt.a,{style:{paddingBottom:"1rem",alignItems:"center"},children:[Object(N.jsx)(xt.a,{span:3,children:Object(N.jsx)("span",{children:"Page URL"})}),Object(N.jsx)(xt.a,{span:6,align:"center",children:Object(N.jsx)(zt.a,{overlay:j,children:Object(N.jsxs)(cu,{strong:!0,className:"ant-dropdown-link all-caps-text",onClick:function(e){e.preventDefault(),O.PAGE_URL_MODIFIED(e)},style:{textTransform:"uppercase",cursor:"pointer"},children:[u()," ",Object(N.jsx)(Jt.a,{})]})})}),Object(N.jsx)(xt.a,{span:12,children:Object(N.jsx)(nn.a,{placeholder:ou($l(o,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR)),name:"description",type:"text",value:$l(o,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_VALUE),onChange:function(e){t(e,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_VALUE),O.PAGE_URL_MODIFIED()},disabled:"Select"===u()})}),Object(N.jsx)(xt.a,{align:"right",span:3,children:d(S.CONSTANTS.RULE_SOURCE_FILTER_TYPES.PAGE_URL)})]}),Object(N.jsxs)(Rt.a,{className:"one-padding-bottom",style:{paddingBottom:"1rem",alignItems:"center"},children:[Object(N.jsx)(xt.a,{span:5,children:Object(N.jsx)("span",{children:"Resource Type"})}),Object(N.jsx)(xt.a,{span:17,children:Object(N.jsx)(Ua.a,{isMulti:!0,name:"resource-type",options:su,placeholder:"All (default)",value:au(o,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_RESOURCE_TYPE,su),onChange:function(e){nu(o,l,n,e,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_RESOURCE_TYPE),O.RESOURCE_TYPE_MODIFIED()}})}),Object(N.jsx)(xt.a,{span:2,align:"right",children:d(S.CONSTANTS.RULE_SOURCE_FILTER_TYPES.RESOURCE_TYPE)})]}),Object(N.jsxs)(Rt.a,{className:"one-padding-bottom",style:{paddingBottom:"1rem",alignItems:"center"},children:[Object(N.jsx)(xt.a,{span:5,children:Object(N.jsx)("span",{children:"Request Method"})}),Object(N.jsx)(xt.a,{span:17,children:Object(N.jsx)(Ua.a,{isMulti:!0,name:"request-method",options:iu,placeholder:"All (default)",value:au(o,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_REQUEST_METHOD,iu),onChange:function(e){return nu(o,l,n,e,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_REQUEST_METHOD)}})}),Object(N.jsx)(xt.a,{span:2,align:"right",children:d(S.CONSTANTS.RULE_SOURCE_FILTER_TYPES.REQUEST_METHOD)})]})]})})},uu=n(524),du=W.FILES_TABLE_CONSTANTS.COLUMN_WIDTHS,Ou=function(e){return du[e]+"%"},ju=function(e){var t=e.fileDetails,n=(e.fileId,e.updateCollection),a=e.mode,r=e.callback,i=Object(ae.g)(),o=Object(c.useState)(!1),l=Object(u.a)(o,2),d=l[0],O=l[1],j=Object(c.useState)(""),E=Object(u.a)(j,2),b=E[0],p=E[1],h=function(){p(t.shortUrl)},T=function(e){return Object(N.jsx)("td",{className:"text-right",style:{width:Ou(2)},children:Object(N.jsxs)("span",{className:e?"all-direct-children-have-margin":"all-direct-children-have-margin text-light",style:{fontSize:"1.3em"},children:[Object(N.jsxs)("span",{className:"custom-tooltip cursor-pointer",onClick:function(e){return xe(i,t.id||t.mockID)},children:[Object(N.jsx)(x.l,{}),Object(N.jsx)("span",{className:"custom-tooltiptext",children:"Edit File"})]}),Object(N.jsx)(Br.a,{text:t.shortUrl||Yr(t.mockID),onCopy:h,children:Object(N.jsxs)("span",{className:"custom-tooltip cursor-pointer",children:[Object(N.jsx)(x.u,{}),Object(N.jsx)("span",{className:"custom-tooltiptext",children:b===t.shortUrl?"Copied":"Copy direct link"})]})}),Object(N.jsxs)("span",{className:"custom-tooltip cursor-pointer",onClick:function(){return function(e,t){O(!0),e.mockID?Ee.functions().httpsCallable("deleteMock")(e.mockID).then((function(e){O(!0),e.data.success?(Fe.info("Mock deleted"),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.LIBRARY,S.CONSTANTS.GA_EVENTS.ACTIONS.DELETED,"Mock Deleted"),O(!1),t&&t()):Fe.error("Mock cannot be deleted. Try again.")})):Kr(e).then((function(){Fe.info("File deleted"),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.LIBRARY,S.CONSTANTS.GA_EVENTS.ACTIONS.DELETED,"File Deleted"),O(!1),t&&t()}))}(t,n)},children:[d?Object(N.jsx)(x.H,{className:"icon-spin"}):Object(N.jsx)(x.L,{}),Object(N.jsx)("span",{className:"custom-tooltiptext",children:"Delete File"})]})]})})};return Object(N.jsx)(uu.a,{children:function(e){var n=e.isHovering;return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("td",{className:" nowrap overflow-hidden cursor-pointer text-center",style:{width:Ou(0)},children:Object(N.jsx)("span",{onClick:function(e){return xe(i,t.id||t.mockID)},children:t.name})}),Object(N.jsx)("td",{className:"text-align-center cursor-pointer",style:{width:Ou(1)},children:t.description}),Object(N.jsx)("td",{className:"text-align-center cursor-pointer",style:{width:Ou(2)},children:new Date(t.modifiedTime).toDateString()}),a!==W.FILES_TABLE_CONSTANTS.MODES.FILE_PICKER?Object(N.jsx)("td",{className:"text-align-center cursor-pointer",style:{width:Ou(2)},children:new Date(t.modifiedTime).toDateString()}):null,a===W.FILES_TABLE_CONSTANTS.MODES.FILE_PICKER?Object(N.jsx)("td",{className:"text-right",style:{width:Ou(2)},children:Object(N.jsx)(le.a,{color:"secondary",outline:!0,type:"button",size:"sm",onClick:function(){return r(t.shortUrl)},children:"Insert"})}):T(n)]})}})},Eu=function(e){var t=e.type,n=void 0===t?"rule":t,a=e.colSpan,r=void 0===a?7:a;return Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:r,children:Object(N.jsx)("center",{children:Object(N.jsxs)("h2",{style:{margin:"2rem"},children:["Couldn`t find any ",n," matching the given keyword."]})})})})},bu=function(e){var t=e.filesList,n=e.updateCollection,a=e.mode,r=e.callback,s=function(e){return tt(e).files}(Object(c.useContext)(J).state);Object(c.useEffect)((function(){Object.keys(t).length>0&&ta("isHostFileTask",!0)}),[t]);var i=ce()(s)?Object.keys(t):Object.keys(t).filter((function(e){return t[e].name.match(new RegExp(s,"i"))}));return ce()(i)?Object(N.jsx)("tbody",{children:Object(N.jsx)(Eu,{type:"file",colSpan:"4"})}):Object(N.jsx)("tbody",{children:i.map((function(e){return Object(N.jsx)(ju,{fileId:e,fileDetails:t[e],updateCollection:n,mode:a,callback:r},e)}))})},Su=W.FILES_TABLE_CONSTANTS.COLUMN_WIDTHS,pu=function(e){var t=e.filesList,n=e.updateCollection,a=e.mode,r=e.callback;return Object(N.jsxs)(Yi.a,{className:"align-items-center table-flush table-hover",style:{tableLayout:"fixed"},children:[Object(N.jsx)("thead",{className:"thead-light",children:Object(N.jsx)("tr",{children:[{columnData:"Name"},{columnData:"Description"},{columnData:"Last Updated"},{columnData:"Actions",styles:{textAlign:"right"}}].map((function(e,t){var n=e.columnData,a=e.styles,r=e.onClickHandler;return Object(N.jsx)("th",{scope:"col",className:"text-align-center",style:Object(j.a)({width:Su[t]+"%"},a),onClick:r,children:n},t)}))},"0")}),Object(N.jsx)(bu,{updateCollection:n,filesList:t,mode:a,callback:r})]})},hu=function(e){var t=e.isOpen,n=e.toggle,a=e.callback,r=Object(c.useContext)(J).state,s=et(r),i=Object(c.useState)(!0),o=Object(u.a)(i,2),d=o[0],O=o[1],j=Object(c.useState)({}),E=Object(u.a)(j,2),b=E[0],S=E[1],p=Object(c.useCallback)((function(){lc(s.details.profile.uid).then((function(e){S(e),O(!1)}))}),[s]);return Object(c.useLayoutEffect)((function(){s.loggedIn&&s.details.profile&&p()}),[s,p]),Object(N.jsx)(tn.a,{visible:t,onCancel:n,footer:null,title:"My Files",children:Object(N.jsx)("div",{className:"modal-body ",children:s.loggedIn?d?Object(N.jsx)(vr,{customLoadingMessage:"Loading Files"}):ce()(b)?Object(N.jsx)(oe.a,{style:{background:"transparent"},className:"text-center",children:Object(N.jsxs)("h5",{children:["You havn't uploaded any file yet."," ",Object(N.jsx)(l.b,{rel:"noopener noreferrer",target:"_blank",to:W.PATHS.FILES.ABSOLUTE,children:"Upload Now?"})]})}):Object(N.jsx)(pu,{filesList:b,mode:W.FILES_TABLE_CONSTANTS.MODES.FILE_PICKER,callback:a}):Object(N.jsx)(oe.a,{style:{background:"transparent"},className:"text-center",children:Object(N.jsx)("p",{children:"You need to login first!"})})})})},Tu=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions,i=r.generatePlaceholderText,o=r.modifyPairAtGivenPath,l=Object(c.useState)(!1),d=Object(u.a)(l,2),O=d[0],j=d[1];return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsxs)(Rt.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(xt.a,{span:3,children:Object(N.jsx)("span",{children:"Redirect to"})}),Object(N.jsx)(xt.a,{span:21,children:Object(N.jsx)(nn.a,{className:"display-inline-block has-dark-text",placeholder:i(n.source.operator,"destination"),type:"text",onChange:function(e){return o(e,a,"destination")},value:n.destination,addonAfter:Object(N.jsx)(kr.a,{title:"Pick from My Files",children:Object(N.jsx)(x.q,{style:{cursor:"pointer"},id:"pick-from-library",onClick:function(e){j(!0)}})})})})]},t),O?Object(N.jsx)(hu,{isOpen:O,toggle:function(){j(!O)},callback:function(e){j(!1),o(void 0,a,"destination",e)}}):null]})},mu=Xt.a.Text,fu=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions,c=e.options,s=e.ruleDetails,i=r.modifyPairAtGivenPath,o=r.openFilterModal,l=r.getFilterCount,u=r.deletePair,d=r.generatePlaceholderText;c=c||{};var O=Object(N.jsxs)(Qt.a,{children:[Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_KEYS,S.CONSTANTS.RULE_KEYS.URL)},children:"URL"})},1),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_KEYS,S.CONSTANTS.RULE_KEYS.HOST)},children:"Host"})},2),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_KEYS,S.CONSTANTS.RULE_KEYS.PATH)},children:"Path"})},3)]}),j=Object(N.jsxs)(Qt.a,{children:[Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,S.CONSTANTS.RULE_OPERATORS.EQUALS)},children:"Equals"})},1),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,S.CONSTANTS.RULE_OPERATORS.CONTAINS)},children:"Contains"})},2),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,S.CONSTANTS.RULE_OPERATORS.MATCHES)},children:"Matches (RegEx)"})},3),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,S.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES)},children:"Matches (Wildcard)"})},4)]});return Object(N.jsxs)(Rt.a,{span:24,style:{alignItems:"center",justifyContent:"center"},className:" margin-top-one",children:[Object(N.jsx)(xt.a,{span:2,align:"left",children:Object(N.jsx)("span",{children:"If request"})}),Object(N.jsx)(xt.a,{span:2,align:"center",children:Object(N.jsx)(zt.a,{overlay:O,children:Object(N.jsxs)(mu,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"uppercase",cursor:"pointer"},children:[n.source.key," ",Object(N.jsx)(Jt.a,{})]})})}),Object(N.jsx)(xt.a,{span:3,align:"center",children:Object(N.jsx)(zt.a,{overlay:j,children:Object(N.jsxs)(mu,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"capitalize",cursor:"pointer"},children:[n.source.operator===S.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES?"Wildcard":n.source.operator===S.CONSTANTS.RULE_OPERATORS.MATCHES?"RegEx":n.source.operator," ",Object(N.jsx)(Jt.a,{})]})})}),Object(N.jsx)(xt.a,{span:s.SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW&&s.ALLOW_REQUEST_SOURCE_FILTERS?11:s.SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW?13:s.ALLOW_REQUEST_SOURCE_FILTERS?15:17,children:Object(N.jsx)(nn.a,{placeholder:s.ALLOW_APPLY_RULE_TO_ALL_URLS?"Leave this field Empty to apply rule to all URLs":d(n.source.operator,"source-value"),type:"text",onChange:function(e){return i(e,a,"source.value")},value:n.source.value})}),s.ALLOW_REQUEST_SOURCE_FILTERS?Object(N.jsxs)(xt.a,{span:2,align:"left",children:["\xa0\xa0",Object(N.jsx)(kr.a,{title:"Filters",children:Object(N.jsxs)("span",{onClick:function(){return o(a)},id:"edit-filters",style:{cursor:"pointer"},children:[Object(N.jsx)(x.r,{color:"#4A5868"})," ",0!==l(a)?Object(N.jsx)(la.a,{style:{color:"#465967",backgroundColor:"#E5EAEF"},children:l(a)}):null]})})]}):null,s.SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW?Object(N.jsx)(xt.a,{align:"right",span:4,children:Object(N.jsx)(kr.a,{title:"Remove Pair",children:Object(N.jsx)(x.L,{id:"delete-pair",color:"#4A5868",onClick:function(e){return u(e,a)},style:{cursor:"pointer"}})})}):null]},t)},Au=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsx)(fu,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsx)(Tu,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:a})})})]})},Ru=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(N.jsx)(fu,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})},xu=n(81),Nu=n.n(xu),Cu=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions,c=r.modifyPairAtGivenPath,s=r.deletePair,i=Object(N.jsxs)(Qt.a,{children:[Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)(Nu.a,{onClick:function(e){return c(e,a,"target",S.CONSTANTS.HEADERS_TARGET.REQUEST)},children:S.CONSTANTS.HEADERS_TARGET.REQUEST})},1),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)(Nu.a,{onClick:function(e){return c(e,a,"target",S.CONSTANTS.HEADERS_TARGET.RESPONSE)},children:S.CONSTANTS.HEADERS_TARGET.RESPONSE})},2)]}),o=Object(N.jsxs)(Qt.a,{children:[Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)(Nu.a,{onClick:function(e){return c(e,a,"type",S.CONSTANTS.MODIFICATION_TYPES.ADD)},children:"Add"})},1),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)(Nu.a,{onClick:function(e){return c(e,a,"type",S.CONSTANTS.MODIFICATION_TYPES.REMOVE)},children:"Remove"})},2),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)(Nu.a,{onClick:function(e){return c(e,a,"type",S.CONSTANTS.MODIFICATION_TYPES.MODIFY)},children:"Modify"})},3)]});return Object(N.jsxs)(Rt.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(xt.a,{span:3,children:Object(N.jsx)(zt.a,{overlay:o,children:Object(N.jsxs)(Nu.a,{className:"ant-dropdown-link cursor-pointer",onClick:function(e){return e.preventDefault()},children:[n.type," ",Object(N.jsx)(Jt.a,{})]})})}),Object(N.jsx)(xt.a,{span:3,children:Object(N.jsx)(zt.a,{overlay:i,children:Object(N.jsxs)(Nu.a,{className:"ant-dropdown-link cursor-pointer",onClick:function(e){return e.preventDefault()},children:[n.target," ",Object(N.jsx)(Jt.a,{})]})})}),Object(N.jsx)(xt.a,{span:8,className:"my-auto margin-bottom-1-when-xs margin-bottom-1-when-sm margin-bottom-1-when-md ",children:Object(N.jsx)(nn.a,{addonBefore:"Header",className:"display-inline-block has-dark-text",style:{paddingLeft:"4px",width:"95%"},placeholder:"Header Name",type:"text",value:n.header,onChange:function(e){return c(e,a,"header")}})}),Object(N.jsx)(xt.a,{span:9,className:"my-auto",children:Object(N.jsx)(nn.a,{addonBefore:"Value",className:"display-inline-block has-dark-text",style:{paddingLeft:"4px",width:"95%"},placeholder:"Header Value",type:"text",value:n.value,onChange:function(e){return c(e,a,S.CONSTANTS.RULE_KEYS.VALUE)},disabled:"Remove"===n.type})}),Object(N.jsx)(xt.a,{span:1,className:"my-auto",align:"right",children:Object(N.jsx)(kr.a,{title:"Remove Pair",children:Object(N.jsx)(x.L,{id:"delete-pair",color:"#4A5868",onClick:function(e){return s(e,a)},style:{cursor:"pointer"}})})})]},t)},gu=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:"24",children:Object(N.jsx)(Cu,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a})})}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsx)(fu,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})})]})},_u=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions,c=r.modifyPairAtGivenPath,s=r.deletePair;return Object(N.jsxs)(Rt.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(xt.a,{span:11,children:Object(N.jsx)(nn.a,{addonBefore:"Replace",className:"display-inline-block has-dark-text",placeholder:"This part in URL",type:"text",onChange:function(e){return c(e,a,"from")},value:n.from,style:{width:"95%",paddingLeft:"4px"}})}),Object(N.jsx)(xt.a,{span:11,children:Object(N.jsx)(nn.a,{addonBefore:"With",className:"display-inline-block has-dark-text",placeholder:"This part",type:"text",onChange:function(e){return c(e,a,"to")},value:n.to,style:{width:"95%",paddingLeft:"4px"}})}),Object(N.jsx)(xt.a,{span:2,align:"right",children:Object(N.jsx)(kr.a,{title:"Remove Pair",children:Object(N.jsx)(x.L,{id:"delete-pair",color:"#4A5868",onClick:function(e){return s(e,a)},style:{cursor:"pointer"}})})})]},t)},Iu=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsx)(_u,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a})})}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsx)(fu,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})})]})},Lu=n(321),yu=function(e){var t=e.rowIndex,n=e.pairIndex,a=e.helperFunctions,r=e.modification,c=e.modificationIndex,s=a.modifyPairAtGivenPath,i=a.deleteModification,o=Object(N.jsxs)(Qt.a,{children:[Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return s(e,n,"modifications[".concat(c,"].type"),"Add")},children:"Add/Replace"})},1),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return s(e,n,"modifications[".concat(c,"].type"),"Remove")},children:"Remove"})},2),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return s(e,n,"modifications[".concat(c,"].type"),"Remove All")},children:"Remove All"})},3)]});return Object(N.jsxs)(Rt.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(xt.a,{span:3,children:Object(N.jsx)(zt.a,{overlay:o,children:Object(N.jsxs)(Nu.a,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"uppercase",cursor:"pointer"},children:[r.type," ",Object(N.jsx)(Jt.a,{})]})})}),Object(N.jsx)(xt.a,{span:10,children:Object(N.jsx)(nn.a,{addonBefore:"Param",className:"display-inline-block has-dark-text",style:{paddingLeft:"4px"},placeholder:"Param Name",type:"text",onChange:function(e){return s(e,n,"modifications[".concat(c,"].param"))},value:r.param,disabled:"Remove All"===r.type})}),Object(N.jsx)(xt.a,{span:10,children:Object(N.jsx)(nn.a,{addonBefore:"Value",className:"display-inline-block has-dark-text",style:{paddingLeft:"4px",width:"95%"},placeholder:"Param Value",type:"text",onChange:function(e){return s(e,n,"modifications[".concat(c,"].value"))},value:r.value,disabled:"Add"!==r.type})}),Object(N.jsx)(xt.a,{span:1,align:"right",children:Object(N.jsx)(kr.a,{title:"Remove",children:Object(N.jsx)(Lu.a,{id:"delete-pair",color:"#4A5868",onClick:function(e){return i(e,n,c)},style:{cursor:"pointer"}})})})]},t)},vu=function(e){var t=e.rowIndex,n=e.helperFunctions.addEmptyModification;return Object(N.jsx)(Rt.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:Object(N.jsx)(xt.a,{offset:3,span:21,children:Object(N.jsx)(Ct.a,{type:"secondary",size:"small",onClick:n,icon:Object(N.jsx)(da.a,{}),children:Object(N.jsx)("span",{className:"btn-inner--text",children:"Add Modification"})})})},t)},Uu=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails,i=a.pushValueToArrayInPair,o=a.deleteArrayValueByIndexInPair,l=function(e){i(e,n,"modifications",u())},u=Object(c.useCallback)((function(){return Object(j.a)(Object(j.a)({},r.EMPTY_MODIFICATION_FORMAT),{},{id:on()})}),[r.EMPTY_MODIFICATION_FORMAT]),d=Object(c.useCallback)(l,[u,n,i]),O=Object(c.useCallback)((function(){d()}),[d]),E=function(e,t,n){o(e,t,"modifications",n)};return Object(c.useEffect)((function(){0===t.modifications.length&&O()}),[O,t.modifications.length]),Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsx)(fu,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})}),t.modifications.map((function(e,r){return Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsx)(yu,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:Object(j.a)(Object(j.a)({},a),{},{deleteModification:E}),modification:e,modificationIndex:r},e.id)})},r)})),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsx)(vu,{rowIndex:3,pair:t,pairIndex:n,helperFunctions:Object(j.a)(Object(j.a)({},a),{},{addEmptyModification:l})})})})]})},Pu=n(285),Du=n(217),wu=function(){return Object.keys(S.CONSTANTS.SCRIPT_LIBRARIES).map((function(e){return{value:e,label:S.CONSTANTS.SCRIPT_LIBRARIES[e].name}}))},Mu=function(e){var t=e.rowIndex,n=e.pairIndex,a=Object(c.useContext)(J),r=a.dispatch,s=a.state,i=$e(s),o=function(e,t){var a=JSON.parse(JSON.stringify(i)),c=[];e&&(c=e.map((function(e){return e.value}))),Pu(a.pairs[n],t,c),r(Ut(a))};return Object(N.jsxs)(Rt.a,{className:" margin-top-one",style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(xt.a,{className:"my-auto",span:4,children:Object(N.jsx)("span",{children:"Insert Libraries"})}),Object(N.jsx)(xt.a,{span:20,className:"my-auto margin-bottom-1-when-xs margin-bottom-1-when-sm",children:Object(N.jsx)(Ua.a,{isMulti:!0,name:"resource-type",options:wu(),placeholder:"None",value:function(e,t){var a=Du(i.pairs[n],e,[]);return t.filter((function(e){return a.includes(e.value)}))}(S.CONSTANTS.PATH_FROM_PAIR.SCRIPT_LIBRARIES,wu()),onChange:function(e){return o(e,S.CONSTANTS.PATH_FROM_PAIR.SCRIPT_LIBRARIES)}})})]},t)},ku=function(e){var t=e.rowIndex,n=e.helperFunctions.addEmptyScript;return Object(N.jsx)(Rt.a,{className:" margin-top-one",style:{alignItems:"center",justifyContent:"center"},children:Object(N.jsx)(xt.a,{span:20,offset:4,className:"my-auto",children:Object(N.jsx)(Ct.a,{type:"secondary",size:"small",onClick:n,icon:Object(N.jsx)(da.a,{}),children:"Insert Custom Script"})})},t)},Gu=Xt.a.Text,Fu=function(e){var t=e.rowIndex,n=e.pairIndex,a=e.helperFunctions,r=e.script,i=e.scriptIndex,o=e.ruleDetails,l=a.modifyPairAtGivenPath,d=a.deleteScript,O=Object(c.useState)(!1),j=Object(u.a)(O,2),E=j[0],b=j[1],p=function(){b(!E)},h=function(e){b(!0)},T=function(e){b(!1),l(void 0,n,"scripts[".concat(i,"].value"),e)},m=function(e,t){l(e,n,"scripts[".concat(i,"].type"),t,[{path:"scripts[".concat(i,"].value"),value:""}])},f=Object(N.jsxs)(Qt.a,{children:[Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return l(e,n,"scripts[".concat(i,"].loadTime"),S.CONSTANTS.SCRIPT_LOAD_TIME.AFTER_PAGE_LOAD)},children:"After Page Load"})},1),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return l(e,n,"scripts[".concat(i,"].loadTime"),S.CONSTANTS.SCRIPT_LOAD_TIME.BEFORE_PAGE_LOAD)},children:"Before Page Load"})},2)]}),A=Object(N.jsxs)(Qt.a,{children:[Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return m(e,S.CONSTANTS.SCRIPT_TYPES.URL)},children:"URL"})},1),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return m(e,S.CONSTANTS.SCRIPT_TYPES.CODE)},children:"Custom Code"})},2)]}),R=Object(N.jsxs)(Qt.a,{children:[Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return l(e,n,"scripts[".concat(i,"].codeType"),S.CONSTANTS.SCRIPT_CODE_TYPES.JS)},children:"JavaScript"})},1),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return l(e,n,"scripts[".concat(i,"].codeType"),S.CONSTANTS.SCRIPT_CODE_TYPES.CSS)},children:"CSS"})},2)]});return Object(N.jsxs)("div",{style:{border:"1px solid #d5dee6",borderRadius:"4px",padding:"1%",margin:"1%",boxShadow:"1px 1px #d5dee6"},children:[Object(N.jsxs)(Rt.a,{className:"margin-top-one",style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(xt.a,{span:4,children:Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(Gu,{children:"Code Type"}),Object(N.jsx)(zt.a,{overlay:R,children:Object(N.jsxs)(Gu,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"uppercase",cursor:"pointer"},children:[r.codeType," ",Object(N.jsx)(Jt.a,{})]})})]})}),Object(N.jsx)(xt.a,{span:4,children:Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(Gu,{children:"Code Source"}),Object(N.jsx)(zt.a,{overlay:A,children:Object(N.jsxs)(Gu,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"uppercase",cursor:"pointer"},children:[r.type," ",Object(N.jsx)(Jt.a,{})]})})]})}),r.codeType===S.CONSTANTS.SCRIPT_CODE_TYPES.JS?Object(N.jsx)(xt.a,{span:4,children:Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(Gu,{children:"Insert"}),Object(N.jsx)(zt.a,{overlay:f,children:Object(N.jsxs)(Gu,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"capitalize",cursor:"pointer"},children:[r.loadTime===S.CONSTANTS.SCRIPT_LOAD_TIME.AFTER_PAGE_LOAD?"After Page Load":"Before Page Load"," ",Object(N.jsx)(Jt.a,{})]})})]})}):null,Object(N.jsx)(xt.a,{className:"my-auto",span:12,align:"right",children:Object(N.jsx)(kr.a,{title:"Remove",children:Object(N.jsx)(Lu.a,{id:"delete-pair",color:"#4A5868",onClick:function(e){return d(e,n,i)},style:{cursor:"pointer"}})})})]}),r.type===S.CONSTANTS.SCRIPT_TYPES.URL?Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsxs)(Rt.a,{className:"margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(xt.a,{span:4,children:Object(N.jsx)("span",{children:"Source"})}),Object(N.jsx)(xt.a,{span:20,children:Object(N.jsx)(nn.a,{addonAfter:Object(N.jsx)(kr.a,{title:"Import from My Files",children:Object(N.jsx)(Cl.a,{style:{cursor:"pointer"},onClick:h})}),className:"display-inline-block has-dark-text",placeholder:"Enter Source URL (relative or absolute)",type:"text",onChange:function(e){return l(e,n,"scripts[".concat(i,"].value"))},value:r.value})})]}),E?Object(N.jsx)(hu,{isOpen:E,toggle:p,callback:T}):null]}):Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsx)(hc.a,{width:"100%",height:"400px",placeholder:"Response Body",mode:r.codeType===S.CONSTANTS.SCRIPT_CODE_TYPES.JS?"javascript":S.CONSTANTS.SCRIPT_CODE_TYPES.CSS,theme:"monokai",name:"body_editor",fontSize:17,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,onChange:function(e){l(void 0,n,"scripts[".concat(i,"].value"),e)},value:r.value,maxLength:"25",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{borderRadius:"5px",marginBottom:"0.5rem",marginTop:"0.5rem"}})})},t),Object(N.jsx)(Rt.a,{span:24,children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsxs)("span",{className:"codemirror-character-count",children:[o.CUSTOM_SCRIPT_CHARACTER_LIMIT-r.value.length," ","characters left"]})})})]})]},t)},Bu=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails,c=a.pushValueToArrayInPair,i=a.deleteArrayValueByIndexInPair,o=function(){return Object(j.a)(Object(j.a)({},r.EMPTY_SCRIPT_FORMAT),{},{id:on()})},l=function(e,t,n){e&&e.preventDefault(),i(e,t,"scripts",n)};return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(fu,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r}),Object(N.jsx)(Mu,{rowIndex:3,pair:t,pairIndex:n,helperFunctions:Object(j.a)({},a)}),t.scripts.map((function(e,c){return Object(N.jsx)(Fu,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:Object(j.a)(Object(j.a)({},a),{},{deleteScript:l}),ruleDetails:r,script:e,scriptIndex:c},e.id)})),Object(N.jsx)(ku,{helperFunctions:Object(j.a)(Object(j.a)({},a),{},{addEmptyScript:function(e){e&&e.preventDefault(),c(e,n,"scripts",o())}})})]})},Vu=n(162),Yu=n(484),Hu=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions,i=e.ruleDetails,o=r.modifyPairAtGivenPath,l=Object(c.useContext)(J).state,d=ct(l),O=et(l),j=Object(c.useState)(!1),E=Object(u.a)(j,2),b=E[0],p=E[1],h=Object(c.useState)(1e6),T=Object(u.a)(h,2),m=T[0],f=T[1],A=ht(O),R=W.FEATURES.RESPONSE_BODY_CHARACTER_LIMIT;return Object(c.useEffect)((function(){function e(){return(e=Object(ne.a)(te.a.mark((function e(){var t,n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d!==S.CONSTANTS.APP_MODES.DESKTOP){e.next=5;break}"local",f(kl(O,d,"local")),e.next=11;break;case 5:if(d!==S.CONSTANTS.APP_MODES.EXTENSION){e.next=11;break}return e.next=8,hs();case 8:t=e.sent,n=t.storageType,f(kl(O,d,n));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[d,O]),Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsxs)(Rt.a,{className:"margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(xt.a,{span:12,children:Object(N.jsx)("span",{children:"Response Body"})}),Object(N.jsx)(xt.a,{span:12,align:"right",children:Object(N.jsx)(Yu.a,{title:"This will clear the existing body content",onConfirm:function(e){n.response.type===S.CONSTANTS.RESPONSE_BODY_TYPES.STATIC?o(null,a,"response.type",S.CONSTANTS.RESPONSE_BODY_TYPES.CODE,[{path:"response.value",value:i.RESPONSE_BODY_JAVASCRIPT_DEFAULT_VALUE}]):o(null,a,"response.type",S.CONSTANTS.RESPONSE_BODY_TYPES.STATIC,[{path:"response.value",value:""}])},okText:"Confirm",cancelText:"Cancel",children:Object(N.jsx)(Vu.a,{className:"custom-control-input",id:"customCheck1",type:"checkbox",checked:n.response.type!==S.CONSTANTS.RESPONSE_BODY_TYPES.STATIC,children:"Modify using JavaScript"})})})]},t),Object(N.jsx)(Rt.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:Object(N.jsx)(xt.a,{xl:"12",span:24,children:Object(N.jsx)(hc.a,{width:"100%",height:"400px",placeholder:"Response Body",mode:"javascript",theme:"monokai",name:"body_editor",fontSize:17,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,onChange:function(e){o(null,a,"response.value",e)},value:n.response.value,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{borderRadius:"5px",marginBottom:"0.5rem",marginTop:"0.5rem"}})})}),Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(xt.a,{xl:"12",span:24,children:[Object(N.jsxs)("span",{className:"codemirror-character-count",children:[m-jn(n.response.value)," ","characters left."]}),!function(e){return!!e.details.planDetails&&new Date(e.details.planDetails.subscription.endDate)-new Date>=0}(O)&&Object(N.jsx)("span",{style:{marginLeft:".2rem",color:"blue",fontSize:".8rem",cursor:"pointer"},onClick:function(){p(!0)},children:"Increase limit"})]})}),!!b&&Object(N.jsx)(Vr,{isOpen:b,toggle:function(){p(!b)},featureName:R,featureLimit:m,userPlanName:A,mode:0===m?W.LIMIT_REACHED_MODAL.MODES.CHECK_IF_ENABLED:W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT})]},t)},Ku=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsx)(fu,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsx)(Hu,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})})]})},Wu=function(e){switch(e.envType){case"device":return[{label:"Android",options:[{label:"Android Phone",value:{env:"andoid.phone",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Mobile Safari/537.36"}},{label:"Android Tablet",value:{env:"andoid.tablet",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36"}}]},{label:"Apple",options:[{label:"Apple iPhone",value:{env:"apple.iphone",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1"}},{label:"Apple iPad",value:{env:"apple.ipad",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1"}}]},{label:"Windows",options:[{label:"Windows Phone",value:{env:"windows.phone",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 920)"}},{label:"Windows Tablet",value:{env:"windows.tablet",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; WOW64; Trident/6.0; Touch; NOKIA; Lumia 920)"}}]},{label:"Blackberry",options:[{label:"Blackberry Phone",value:{env:"blackberry.phone",userAgent:"Mozilla/5.0 (BlackBerry; U; BlackBerry 9900; en-US) AppleWebKit/534.11 (KHTML, like Gecko) Version/7.0.0.187 Mobile Safari/534.11"}},{label:"Blackberry Tablet",value:{env:"blackberry.tablet",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.0.0; en-US) AppleWebKit/535.8 (KHTML, like Gecko) Version/7.2.0.0 Safari/535.8"}}]},{label:"Symbian",options:[{label:"Symbian Phone",value:{env:"symbian_phone",userAgent:"Mozilla/5.0 (SymbianOS) AppleWebKit/533.4 (KHTML, like Gecko) NokiaBrowser/7.3.1.33 Mobile Safari/533.4 3gpp-gba"}}]}];case"browser":return[{label:"Google Chrome",options:[{label:"Chrome on Windows",value:{env:"chrome.windows",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36"}},{label:"Chrome on Macintosh",value:{env:"chrome.macintosh",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36"}},{label:"Chrome on Linux",value:{env:"chrome.linux",userAgent:"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36"}}]},{label:"Mozilla Firefox",options:[{label:"Firefox on Windows",value:{env:"firefox.windows",userAgent:"Mozilla/5.0 (Windows NT 10.0; WOW64; rv:52.0) Gecko/20100101 Firefox/52.0"}},{label:"Firfox on Macintosh",value:{env:"firefox.macintosh",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10; rv:52.0) Gecko/20100101 Firefox/52.0"}},{label:"Firfox on Linux",value:{env:"firefox.linux",userAgent:"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0"}}]},{label:"Safari",options:[{label:"Safari",value:{env:"safari",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/602.4.8 (KHTML, like Gecko) Version/10.0.3 Safari/602.4.8"}}]},{label:"Microsoft Internet Explorer",options:[{label:"Internet Explorer 6",value:{env:"msie.msie6",userAgent:"Mozilla/4.0(compatible; MSIE 6.0; Windows NT 5.1)"}},{label:"Internet Explorer 7",value:{env:"msie.msie7",userAgent:"Mozilla/4.0(compatible; MSIE 7.0; Windows NT 6.0)"}},{label:"Internet Explorer 8",value:{env:"msie.msie8",userAgent:"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0)"}},{label:"Internet Explorer 9",value:{env:"msie.msie9",userAgent:"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)"}},{label:"Internet Explorer 10",value:{env:"msie.msie10",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)"}},{label:"Internet Explorer 11",value:{env:"msie.msie11",userAgent:"Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko"}}]},{label:"Microsoft Edge",options:[{label:"Microsoft Edge",value:{env:"msedge",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.135 Safari/537.36 Edge/12.10240"}}]},{label:"Opera",options:[{label:"Opera 68",value:{env:"opera",userAgent:"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.52 Safari/537.36 OPR/15.0.1147.100"}}]}];default:return[]}},qu=Xt.a.Text,Qu=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions.modifyPairAtGivenPath,c=function(e,t){var n=[{path:"env",value:""}];"custom"===t&&n.push({path:"userAgent",value:window.navigator.userAgent}),r(e,a,"envType",t,n)},s=Object(N.jsxs)(Qt.a,{children:[Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return c(e,"device")},children:"Device"})},1),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return c(e,"browser")},children:"Browser"})},2),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return c(e,"custom")},children:"Custom"})},3)]});return Object(N.jsxs)(Rt.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(xt.a,{span:2,className:"my-auto",children:Object(N.jsx)("span",{children:"UserAgent"})}),Object(N.jsx)(xt.a,{span:2,className:"my-auto",children:Object(N.jsx)(zt.a,{overlay:s,children:Object(N.jsxs)(qu,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"capitalize",cursor:"pointer"},children:[""===n.envType?"Select":n.envType," ",Object(N.jsx)(Jt.a,{})]})})}),Object(N.jsx)(xt.a,{xl:"7",lg:"7",md:"7",sm:"12",xs:"12",span:14,children:"custom"===n.envType?Object(N.jsx)(nn.a,{placeholder:"Enter custom UserAgent string",type:"text",onChange:function(e){return r(e,a,"userAgent")},className:"display-inline-block has-dark-text ",value:n.userAgent}):Object(N.jsx)(Ua.a,{isMulti:!1,name:"env",options:Wu(n),placeholder:"Type to search",value:{label:n.env.replace("msie.msie","Internet Explorer ").replace(/[.|_]/," ")},onChange:function(e){var t;r(null,a,"env",(t=e).value.env,[{path:"userAgent",value:t.value.userAgent}])},styles:{valueContainer:function(){return{textTransform:"capitalize",fontSize:"0.9em",marginLeft:"2%"}}},noOptionsMessage:function(){return"Please select device type first"}})}),Object(N.jsx)(xt.a,{span:6})]},t)},zu=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsx)(fu,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsx)(Qu,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:a})})})]})},Xu=Xt.a.Text,Ju=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions,c=e.options,s=e.ruleDetails,i=r.modifyPairAtGivenPath,o=r.openFilterModal,l=r.getFilterCount,u=r.deletePair,d=r.generatePlaceholderText;c=c||{};var O=Object(N.jsxs)(Qt.a,{children:[Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,S.CONSTANTS.RULE_OPERATORS.EQUALS)},children:"Equals"})},1),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,S.CONSTANTS.RULE_OPERATORS.CONTAINS)},children:"Contains"})},2),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,S.CONSTANTS.RULE_OPERATORS.MATCHES)},children:"Matches (RegEx)"})},3),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,S.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES)},children:"Matches (Wildcard)"})},4)]}),j=Object(N.jsxs)(Qt.a,{children:[Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_KEYS,S.CONSTANTS.RULE_KEYS.URL)},children:"URL"})},1),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_KEYS,S.CONSTANTS.RULE_KEYS.HOST)},children:"Host"})},2),Object(N.jsx)(Qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_KEYS,S.CONSTANTS.RULE_KEYS.PATH)},children:"Path"})},3)]});return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(Rt.a,{span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(xt.a,{span:2,children:Object(N.jsx)("span",{children:"If request"})}),Object(N.jsx)(xt.a,{span:2,children:Object(N.jsx)(zt.a,{overlay:j,children:Object(N.jsxs)(Xu,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"uppercase",cursor:"pointer"},children:[n.source.key," ",Object(N.jsx)(Jt.a,{})]})})}),Object(N.jsx)(xt.a,{span:2,children:Object(N.jsx)(zt.a,{overlay:O,children:Object(N.jsxs)(Xu,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"capitalize",cursor:"pointer"},children:[n.source.operator===S.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES?"Wildcard":n.source.operator===S.CONSTANTS.RULE_OPERATORS.MATCHES?"RegEx":n.source.operator," ",Object(N.jsx)(Jt.a,{})]})})}),Object(N.jsx)(xt.a,{span:9,children:Object(N.jsx)(nn.a,{placeholder:s.ALLOW_APPLY_RULE_TO_ALL_URLS?"Leave this field Empty to apply rule to all URLs":d(n.source.operator,"source-value"),type:"text",onChange:function(e){return i(e,a,"source.value")},value:n.source.value,style:{width:"98%"}})}),s.ALLOW_REQUEST_SOURCE_FILTERS?Object(N.jsx)(xt.a,{span:1,align:"left",children:Object(N.jsx)(kr.a,{title:"Filters",children:Object(N.jsxs)("span",{onClick:function(){return o(a)},style:{cursor:"pointer"},children:[Object(N.jsx)(x.r,{color:"#4A5868"})," ",0!==l(a)?Object(N.jsx)(la.a,{style:{color:"#465967",backgroundColor:"#E5EAEF"},children:l(a)}):null]})})}):null,Object(N.jsx)(xt.a,{span:2,children:Object(N.jsx)("span",{children:"Delay (ms)"})}),Object(N.jsx)(xt.a,{sm:"2",xl:"3",className:"mb-auto mt-sm-2 mt-xl-auto",span:5,children:Object(N.jsx)(nn.a,{className:"display-inline-block has-dark-text",placeholder:"Time in ms",type:"text",onChange:function(e){return i(e,a,"delay")},value:n.delay})}),s.SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW?Object(N.jsx)(xt.a,{className:"my-auto",span:1,align:"right",children:Object(N.jsx)(kr.a,{title:"Remove Pair",children:Object(N.jsx)(x.L,{onClick:function(e){return u(e,a)},style:{cursor:"pointer"}})})}):null]},t)})},Zu=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ju,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})},$u=function(e,t,n){var a=JSON.parse(JSON.stringify(e));a.pairs.push(function(e){return Object(j.a)(Object(j.a)({},e.EMPTY_PAIR_FORMAT),{},{id:on()})}(t)),Ul(n,a)},ed=n(285),td=n(217),nd=function(e,t){if("source-value"===t)switch(e){case S.CONSTANTS.RULE_OPERATORS.EQUALS:return"e.g. http://www.example.com";case S.CONSTANTS.RULE_OPERATORS.CONTAINS:return"e.g. google";case S.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES:return"e.g. *://*.mydomain.com/*";case S.CONSTANTS.RULE_OPERATORS.MATCHES:return"e.g. /example-([0-9]+)/ig";default:return""}else if("destination"===t)switch(e){case S.CONSTANTS.RULE_OPERATORS.EQUALS:case S.CONSTANTS.RULE_OPERATORS.CONTAINS:return"e.g. http://www.new-example.com";case S.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES:return"e.g. $1://$2.newdomain.com/$3 (Each * can be replaced with respective $)";case S.CONSTANTS.RULE_OPERATORS.MATCHES:return"e.g. http://www.new-example.com?queryParam=$1&searchParam=$2";default:return""}return""},ad=function(e){var t=Object(c.useContext)(J),n=t.dispatch,a=t.state,r=$e(a),i=function(e){return n(Ut(e))},o=Object(c.useState)(!1),l=Object(u.a)(o,2),d=l[0],O=l[1],j=function(e,t,n,a,c){e&&e.preventDefault();var s;s=void 0!==a?a:e.target.value;var o=JSON.parse(JSON.stringify(r));ed(o.pairs[t],n,s),c&&c.forEach((function(e){ed(o.pairs[t],e.path,e.value)})),i(o)},E=function(t,n){var a={modifyPairAtGivenPath:j,generatePlaceholderText:nd,openFilterModal:p,deletePair:b,getFilterCount:h,pushValueToArrayInPair:T,deleteArrayValueByIndexInPair:m};switch(e.currentlySelectedRuleConfig.TYPE){case S.CONSTANTS.RULE_TYPES.REDIRECT:return Object(N.jsx)(Au,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case S.CONSTANTS.RULE_TYPES.CANCEL:return Object(N.jsx)(Ru,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case S.CONSTANTS.RULE_TYPES.REPLACE:return Object(N.jsx)(Iu,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case S.CONSTANTS.RULE_TYPES.HEADERS:return Object(N.jsx)(gu,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case S.CONSTANTS.RULE_TYPES.QUERYPARAM:return Object(N.jsx)(Uu,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case S.CONSTANTS.RULE_TYPES.SCRIPT:return Object(N.jsx)(Bu,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case S.CONSTANTS.RULE_TYPES.RESPONSE:return Object(N.jsx)(Ku,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case S.CONSTANTS.RULE_TYPES.USERAGENT:return Object(N.jsx)(zu,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case S.CONSTANTS.RULE_TYPES.DELAY:return Object(N.jsx)(Zu,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig})}},b=function(e,t){e&&e.preventDefault();var n=JSON.parse(JSON.stringify(r));n.pairs.splice(t,1),i(n)},p=function(e){O(e),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,S.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"Rule Filters Modal Opened")},h=function(e){return Object.keys(r.pairs[e].source.filters||{}).length},T=function(e,t,n,a){e&&e.preventDefault();var c=JSON.parse(JSON.stringify(r)),s=td(c.pairs[t],n);ed(c.pairs[t],n,[].concat(Object(gt.a)(s),[a])),i(c)},m=function(e,t,n,a){e&&e.preventDefault();var c=JSON.parse(JSON.stringify(r));td(c.pairs[t],n).splice(a,1),i(c)};return r.pairs&&0===r.pairs.length&&$u(r,e.currentlySelectedRuleConfig,n),Object(N.jsxs)(s.a.Fragment,{children:[r.pairs?r.pairs.map((function(e,t){return Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{className:"source-destination-pair ",span:24,children:E(e,t)})},e.id||t)})):null,!1!==d?Object(N.jsx)(lu,{pairIndex:d,closeModal:function(){O(!1),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,S.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"Rule Filters Modal Closed")},modifyPairAtGivenPath:j}):null]})},rd=function(e){var t=e.setIsChangeRuleGroupModalActive,n=e.currentlySelectedGroup;return Object(N.jsx)("b",{onClick:function(){return t(!0)},style:{cursor:"pointer"},children:"".concat(n)})},cd=function(e,t,n){Ul(t,Object(j.a)(Object(j.a)({},e),{},Object(O.a)({},n.target.name,n.target.value)))},sd=function(){var e=Object(c.useContext)(J),t=e.dispatch,n=e.state,a=$e(n);return Object(N.jsx)(nn.a,{placeholder:"Description (optional)",name:"description",type:"text",className:" has-dark-text height-two-rem",value:a.description,onChange:function(e){return cd(a,t,e)}})},id=function(e){var t=e.currentlySelectedRuleConfig;return Object(N.jsx)(ie.a,{xl:"10",lg:"11",md:"11",sm:"10",xs:"9",children:Object(N.jsx)("span",{children:t.PAIR_CONFIG.TITLE})})},od=function(e){var t=e.currentlySelectedRuleConfig,n=Object(c.useContext)(J),a=n.dispatch,r=n.state,s=et(r),i=$e(r),o=Object(c.useState)(0),l=Object(u.a)(o,2),d=l[0],O=l[1],j=Object(c.useState)(""),E=Object(u.a)(j,2),b=E[0],p=E[1],h=Object(c.useState)(W.FEATURES.RULE_PAIRS),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useState)(0),R=Object(u.a)(A,2),x=R[0],C=R[1],g=Object(c.useState)(!1),_=Object(u.a)(g,2),I=_[0],L=_[1];Object(c.useEffect)((function(){O(i.pairs.length)}),[i]);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Ct.a,{className:"btn-icon btn-3 has-no-box-shadow float-right has-no-border",type:"secondary",onClick:function(){var e=ht(s),n=mt(W.FEATURES.RULE_PAIRS,e);d<n?($u(i,t,a),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE_PAIRS,S.CONSTANTS.GA_EVENTS.ACTIONS.CREATED,"New.rule.pair.made",d)):(C(n),p(e),f(W.FEATURES.RULE_PAIRS),L(!0),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE_PAIRS,S.CONSTANTS.GA_EVENTS.ACTIONS.LIMIT_REACHED,"Rule.pairs.limit.reached",d))},icon:Object(N.jsx)(da.a,{}),children:"Add Condition"}),I?Object(N.jsx)(Vr,{isOpen:I,toggle:function(){L(!I)},featureName:m,featureLimit:x,userPlanName:b,mode:0===x?W.LIMIT_REACHED_MODAL.MODES.CHECK_IF_ENABLED:W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT}):null]})},ld=function(e){var t=e.currentlySelectedRuleConfig,n=e.setIsChangeRuleGroupModalActive,a=e.currentlySelectedGroup,r=e.mode,s=Object(c.useContext)(J),i=s.dispatch,o=s.state,l=$e(o);return Object(N.jsxs)(je.a,{children:[r!==W.RULE_EDITOR_CONFIG.MODES.SHARED_LIST_RULE_VIEW?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(Rt.a,{className:"one-margin-bottom",children:[Object(N.jsx)(xt.a,{className:"col-auto text-xl-right text-md-right text-lg-right",span:a&&"string"===typeof a&&a.length>28?24:8,children:Object(N.jsx)(nn.a,{addonBefore:Object(N.jsx)(rd,{currentlySelectedRuleConfig:t,setIsChangeRuleGroupModalActive:n,currentlySelectedGroup:a}),placeholder:"Rule Name",name:"name",type:"text",className:" has-dark-text height-two-rem",value:l.name,onChange:function(e){return cd(l,i,e)},autoFocus:!0})}),Object(N.jsx)(xt.a,{span:a&&"string"===typeof a&&a.length>28?24:14,offset:a&&"string"===typeof a&&a.length>28?0:2,style:a&&"string"===typeof a&&a.length>28?{marginTop:"1%"}:{},children:Object(N.jsx)(sd,{})})]}),Object(N.jsx)("br",{})]}):null,Object(N.jsxs)(Rt.a,{className:"one-margin-bottom",children:[Object(N.jsx)(xt.a,{span:12,children:Object(N.jsx)(id,{currentlySelectedRuleConfig:t})}),Object(N.jsx)(xt.a,{span:12,align:"right",children:t.ALLOW_ADD_PAIR&&r!==W.RULE_EDITOR_CONFIG.MODES.SHARED_LIST_RULE_VIEW?Object(N.jsx)(od,{currentlySelectedRuleConfig:t}):null})]}),t.TYPE===S.CONSTANTS.RULE_TYPES.DELAY?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Rt.a,{className:" margin-top-one",children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsx)(oi.a,{message:"Delay is capped automatically to avoid browsing performance degradation.",type:"info",showIcon:!0,description:"For XHR/Fetch, max delay is ".concat(S.CONSTANTS.DELAY_REQUEST_CONSTANTS.MAX_DELAY_VALUE_XHR,"ms & for other resources (JS, CSS, Images etc), max delay is ").concat(S.CONSTANTS.DELAY_REQUEST_CONSTANTS.MAX_DELAY_VALUE_NON_XHR,"ms"),closable:!0})})}),Object(N.jsx)("br",{})]}):null,Object(N.jsx)(ad,{mode:r,currentlySelectedRuleConfig:t})]})},ud=W.RULE_EDITOR_CONFIG,dd=W.RULE_TYPES_CONFIG,Od=W.RULES_LIST_TABLE_CONSTANTS,jd=Od.UNGROUPED_GROUP_ID,Ed=Od.UNGROUPED_GROUP_NAME,bd=function(e){var t=Ml(e.location,e.isSharedListViewRule),n=t.MODE,a=t.RULE_TYPE_TO_CREATE,r=t.RULE_TO_EDIT_ID,s=Object(ae.g)(),i=Object(c.useContext)(J),o=i.dispatch,l=i.state,d=$e(l),O=function(e){return Ze(e).config}(l),j=qe(l),E=ct(l),b=et(l),p=Object(c.useRef)(!1),h=Object(c.useState)(!1),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useState)(""),R=Object(u.a)(A,2),x=R[0],C=R[1],g=Object(c.useState)(!1),_=Object(u.a)(g,2),I=_[0],L=_[1],y=Object(c.useCallback)(Dl,[Dl]),v=Object(c.useCallback)(Ul,[Ul]),U=Object(c.useCallback)(Pl,[O]);if(Object(c.useEffect)((function(){(!1===d||n===ud.MODES.CREATE&&d.ruleType!==a||n===ud.MODES.CREATE&&O.TYPE!==a||n===ud.MODES.CREATE&&O.TYPE!==d.ruleType)&&(n===ud.MODES.CREATE?(U(o,O,a,Ul),y(o,dd[a],s)):n===ud.MODES.EDIT?Ls(E).getRecord(r).then((function(e){void 0===e?Me(s):p.current||(v(o,e),y(o,dd[e.ruleType],s))})):n===ud.MODES.SHARED_LIST_RULE_VIEW?e.rule&&(p.current||(v(o,e.rule),y(o,dd[e.rule.ruleType],s))):Me(s))}),[O,d,n,U,v,r,a,o,s,y,e.rule,E,e.location]),Object(c.useEffect)((function(){d.groupId===jd?C(Ed):void 0!==d.groupId&&Ls(E).getRecord(d.groupId).then((function(e){C(e?e.name:Ed)}))}),[d.groupId,E]),!m&&ce()(j)&&Ls(E).getRecords(S.CONSTANTS.OBJECT_TYPES.RULE).then((function(e){f(!0),o(yt(e,[]))})),Object(c.useEffect)((function(){return function(){p.current=!0,wl(o)}}),[o]),Object(c.useEffect)((function(){e&&e.location&&e.location.pathname.includes("/rules/editor/create/")&&e.location.state&&e.location.state.prevPath&&e.location.state.prevPath.includes("/rules/editor/edit/")&&wl(o)}),[o,e]),!1===O||void 0===O||void 0===O.NAME||void 0===d.name||n===ud.MODES.CREATE&&d.ruleType!==a)return Object(N.jsx)(vr,{renderHeader:!0});var P={numOfRulePairsOfUser:d.pairs.length,planName:ht(b),planRulePairLimit:mt(W.FEATURES.RULE_PAIRS,ht(b))};return Object(N.jsxs)(N.Fragment,{children:[n!==ud.MODES.SHARED_LIST_RULE_VIEW?Object(N.jsx)(zl,{currentlySelectedRuleConfig:O,topCountShowRequiredDataObject:P,location:e.location}):null,Object(N.jsx)("br",{}),Object(N.jsx)(ld,{currentlySelectedRuleConfig:O,setIsChangeRuleGroupModalActive:L,currentlySelectedGroup:x,mode:n}),I?Object(N.jsx)(Sl,{isOpen:I,toggle:function(){L(!I)},mode:"CURRENT_RULE"}):null]})},Sd=function(e){var t=e.rule,n=e.isOpen,a=e.toggle;return t?Object(N.jsx)(tn.a,{className:"modal-dialog-centered max-width-80-percent ",visible:n,onCancel:a,footer:null,title:"Preview Rule - Read only",width:"100%",children:Object(N.jsx)(bd,{rule:t,isSharedListViewRule:!0})}):Object(N.jsx)("span",{})},pd=W.RULES_LIST_TABLE_CONSTANTS,hd=function(e,t){e(vt("rules",!t))},Td=n(459),md=W.RULES_LIST_TABLE_CONSTANTS,fd=function(e,t,n,a,r){var c=Object(j.a)(Object(j.a)({},n),{},{creationDate:sn(),name:n.name+" Copy",id:n.ruleType+"_"+on(),isSample:!1,isFavourite:!1,status:"Inactive"});return Ls(e).saveRuleOrGroup(c).then((function(){fe(a,c.id),r(c)}))},Ad=n(285),Rd=n(217),xd=Xt.a.Link,Nd=W.RULES_LIST_TABLE_CONSTANTS,Cd=Nd.GROUP_DETAILS,gd=Nd.GROUP_RULES,_d=Nd.UNGROUPED_GROUP_ID,Id=Nd.UNGROUPED_GROUP_NAME,Ld=function(e,t){return e.groupId!==_d&&(!!e.groupId&&(!!t[e.groupId]&&t[e.groupId][Cd].status===S.CONSTANTS.RULE_STATUS.INACTIVE))},yd=function(e){return e.status===S.CONSTANTS.RULE_STATUS.ACTIVE},vd=function(e){var t=e.handleChangeGroupOnClick,n=e.handleShareRulesOnClick,a=e.handleExportRulesOnClick,r=e.handleImportRulesOnClick,i=e.handleDeleteRulesOnClick,o=e.handleNewGroupOnClick,l=e.handleNewRuleOnClick,O=e.totalRulesCount,E=e.rules,b=e.groups,p=e.options,h=e.headerTitle,T=e.toolBarRender,m=Object(ae.g)(),f=Object(c.useState)(!1),A=Object(u.a)(f,2),R=A[0],x=A[1],C=Object(c.useState)(!1),g=Object(u.a)(C,2),_=g[0],I=g[1],L=Object(c.useState)(!1),y=Object(u.a)(L,2),v=y[0],U=y[1],P=Object(c.useState)(!1),D=Object(u.a)(P,2),w=D[0],M=D[1],k=Object(c.useState)(0),G=Object(u.a)(k,2),F=G[0],B=G[1],V=Object(c.useState)("Free"),Y=Object(u.a)(V,2),H=Y[0],K=Y[1],q=Object(c.useState)(!1),Q=Object(u.a)(q,2),z=Q[0],X=Q[1],Z=Object(c.useState)([]),$=Object(u.a)(Z,2),ee=$[0],re=$[1],se=Object(c.useContext)(J),ie=se.state,oe=se.dispatch,le=et(ie),ue=function(e){return tt(e).rules}(ie),de=E||qe(ie),Oe=b||ze(ie),je=function(e){return Ke(e).rulesToPopulate}(ie),Ee=Xe(ie),be=ct(ie),Se=at(ie),he=Je(ie),Te=El(he),me=Te,Ae=function(e){I(e),x(!0)},Re=Object(c.useCallback)((function(e){oe(function(e){return{type:d.UPDATE_RULES_TO_POPULATE,payload:e}}(e))}),[oe]),xe=Object(c.useCallback)((function(e){oe({type:d.UPDATE_GROUPWISE_RULES_TO_POPULATE,payload:e})}),[oe]),Ne=!(p&&p.disableStatus),Ce=!(p&&p.disableEditing),_e=!(p&&p.disableActions),Ie=!(p&&p.disableFavourites),Le=Object(c.useCallback)((function(){var e=de.filter((function(e){return!no(e)}));0===ue.length?Re(e):Re(e.filter((function(e){return e.name.match(new RegExp(ue,"i"))})))}),[de,ue,Re]),ye=Object(c.useCallback)((function(){var e={};Ad(e,"".concat(_d,".").concat(Cd),{}),Ad(e,"".concat(_d,".").concat(gd),[]),Oe.forEach((function(t){Ad(e,"".concat(t.id,".").concat(Cd),t),Ad(e,"".concat(t.id,".").concat(gd),[])})),je.sort(to).forEach((function(t){Rd(e,"".concat(t.groupId,".").concat(gd),[]).push(t)})),xe(e)}),[Oe,je,xe]),ve=function(e,t){e.stopPropagation(),e.preventDefault(),function(e){var t=e.status===S.CONSTANTS.RULE_STATUS.ACTIVE?S.CONSTANTS.RULE_STATUS.INACTIVE:S.CONSTANTS.RULE_STATUS.ACTIVE,n=Object(j.a)(Object(j.a)({},e),{},{status:t});Ls(be).saveRuleOrGroup(n).then(Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe(vt("rules",!Se)),!le.loggedIn){e.next=5;break}if(!le.details.isSyncEnabled){e.next=5;break}return e.next=5,rl(n,le.details.profile.uid,be);case 5:case"end":return e.stop()}}),e)})))).then((function(){S.CONSTANTS.RULE_STATUS.ACTIVE,Fe.success("Group is now ".concat(t.toLowerCase()))}))}(t),ea("group","toggled","Group Toggled")},Ue=function(e){e.stopPropagation(),function(e,t,n){var a=[];return new Promise((function(r,c){ce()(t)?c(new Error("No Rules were Selected")):Ls(e).getAllRecords().then((function(c){t.forEach(function(){var t=Object(ne.a)(te.a.mark((function t(r){var s;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=Object(j.a)(Object(j.a)({},c[r]),{},{groupId:pd.UNGROUPED_GROUP_ID}),!n.loggedIn){t.next=5;break}if(!n.details.isSyncEnabled){t.next=5;break}return t.next=5,cl(s,n.details.profile.uid,e);case 5:a.push(Ls(e).saveRuleOrGroup(s));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),Promise.all(a).then((function(){return r()}))}))}))}(be,Te,le).then((function(){jl(oe),hd(oe,Se)})).then((function(){Fe.info("Rules Ungrouped"),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.UNGROUPED,"Rules Ungrouped"),ra("Rules Ungrouped")})).catch((function(){return Fe.warn("Please select rules first",{hideProgressBar:!0})}))},Pe=function(e,t){e.stopPropagation(),function(e,t,n){return n[t]?ce()(n[t].group_rules)?Ls(e).removeRecord(t):Promise.reject("Delete or Ungroup rules first"):Promise.reject("Invalid Group")}(be,t.id,Ee).then(Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hd(oe,Se),Fe.info("Group deleted"),!le.loggedIn){e.next=6;break}if(!le.details.isSyncEnabled){e.next=6;break}return e.next=6,rl(t.id,le.details.profile.uid,be);case 6:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.GROUP,S.CONSTANTS.GA_EVENTS.ACTIONS.DELETED,"Group Deleted"),ra("Group Deleted");case 8:case"end":return e.stop()}}),e)})))).catch((function(e){return Fe.warn(e,{hideProgressBar:!0})}))},De=function(e,t){Ls(be).saveRuleOrGroup(Object(j.a)(Object(j.a)({},t),{},{isFavourite:e})).then(Object(ne.a)(te.a.mark((function n(){var a;return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=Object(j.a)(Object(j.a)({},t),{},{isFavourite:e}),oe(vt("rules",!Se)),!le.loggedIn){n.next=6;break}if(!le.details.isSyncEnabled){n.next=6;break}return n.next=6,cl(a,le.details.profile.uid,be);case 6:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,"FAVOURITE","Rule Favourite Toggled");case 7:case"end":return n.stop()}}),n)}))))},we=function(e,t){e.stopPropagation(),Ce&&function(e){if(e.isFavourite)De(!1,e);else{var t=de.filter((function(e){return e.isFavourite})).length,n=ht(le),a=mt(W.FEATURES.FAV_RULES,n);t>=a?(B(a),M(W.FEATURES.FAV_RULES),K(n),U(!0)):De(!0,e)}}(t)},Me=function(e,t){Ls(be).saveRuleOrGroup(Object(j.a)(Object(j.a)({},t),{},{status:e})).then(Object(ne.a)(te.a.mark((function n(){var a;return te.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=Object(j.a)(Object(j.a)({},t),{},{status:e}),S.CONSTANTS.RULE_STATUS.ACTIVE,Fe.success("Rule is now ".concat(e.toLowerCase())),oe(vt("rules",!Se)),!le.loggedIn){n.next=7;break}if(!le.details.isSyncEnabled){n.next=7;break}return n.next=7,cl(a,le.details.profile.uid,be);case 7:ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,t.ruleType+" rule","toggled");case 8:case"end":return n.stop()}}),n)}))))},ke=function(){oe(Dt("authModal",!0,{redirectURL:window.location.href,src:W.FEATURES.RULES}))},Ge=function(e,t){e.stopPropagation(),le.loggedIn?function(e){oe(Dt("loadingModal",!0));var t=ht(le),n=mt(W.FEATURES.SHARED_LISTS,t);ml(le.details.profile.uid).then((function(a){var r=0;a&&(r=Object.keys(a).length),r>=n?(B(n),K(t),M(W.FEATURES.SHARED_LISTS),U(!0)):(re([e.id]),X(!0),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,"rules",S.CONSTANTS.GA_EVENTS.ACTIONS.SHARED)),oe(Dt("loadingModal",!1))}))}(t):ke()},Be=function(e){var t=ht(le);Tt(W.FEATURES.EXPORT_IMPORT,t)?(ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,e.ruleType+" rule",S.CONSTANTS.GA_EVENTS.ACTIONS.EXPORTED),function(e,t){var n=[];n.push(e),e.groupId!==md.UNGROUPED_GROUP_ID&&n.push(t[e.groupId][md.GROUP_DETAILS]),Td(JSON.stringify(n,null,2),"requestly_rules.txt","text/plain")}(e,Ee)):(B(0),K(t),M(W.FEATURES.EXPORT_IMPORT),U(!0))},Ve=function(){var e=Object(ne.a)(te.a.mark((function e(t,n){var a,r,c,s,i,o,l,u,d;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,n.ruleType+" rule",S.CONSTANTS.GA_EVENTS.ACTIONS.COPIED),e.next=4,Ls(be).getAllRecords();case 4:a=e.sent,r=(new Date).getTime(),c=null;try{c=window.localStorage.getItem("authModalShownLastOn")||a.user_info.installationDate}catch(O){ke(),window.localStorage.setItem("authModalShownLastOn",r)}if(s=(r-c)/864e5,i=de.filter((function(e){return!e.MKTRuleID&&e.creationDate})),le.loggedIn||!(i.length>=5||s>=15)){e.next=13;break}return window.localStorage.setItem("authModalShownLastOn",r),e.abrupt("return",ke());case 13:o=ht(le),l=mt(W.FEATURES.RULES,o),u=de.filter((function(e){return!no(e)})),u.length>=l?(B(l),K(o),M(W.FEATURES.RULES),U(!0)):(d=function(){var e=Object(ne.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!le.loggedIn){e.next=4;break}if(!le.details.isSyncEnabled){e.next=4;break}return e.next=4,cl(t,le.details.profile.uid,be);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fd(be,0,n,m,d));case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ye=function(e,t){e.stopPropagation(),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,t.ruleType+" rule",S.CONSTANTS.GA_EVENTS.ACTIONS.DELETED),ra(t.ruleType+" rule deleted"),function(e,t,n,a){return Ls(e).removeRecord(n).then((function(){t(vt("rules",!a))}))}(be,oe,t.id,Se).then(Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fe.info("Rule deleted"),!le.loggedIn){e.next=5;break}if(!le.details.isSyncEnabled){e.next=5;break}return e.next=5,cl(t.id,le.details.profile.uid,be);case 5:case"end":return e.stop()}}),e)})))).then((function(){jl(oe)}))},He={selectedRowKeys:me,onChange:function(e){var t=e.filter((function(e){return!e.startsWith("Group_")&&e!==_d})),n={};t.forEach((function(e){n[e]=!0})),oe({type:d.SET_SELECTED_RULES,payload:n})},checkStrictly:!1},We=[{title:"Rule Details",dataIndex:"name",render:function(e,t){if("group"===t.objectType)return{children:Object(N.jsxs)("span",{children:[Object(N.jsx)("strong",{children:e})," ",Object(N.jsxs)("i",{children:["(",(n=t.id,Rd(Ee,"".concat(n,".").concat(gd),[]).length)," Rules)"]})]}),colSpan:2};var n,a=e.length>40?e.substring(0,40)+"...":e,r=t.description.length>40?t.description.substring(0,40)+"...":t.description;return{children:Object(N.jsxs)("div",{style:{overflow:"hidden",whiteSpace:"nowrap",wordWrap:"break-word",wordBreak:"break-word",textOverflow:"ellipsis"},children:[Object(N.jsx)(xd,{onClick:function(e){return function(e,t){e.stopPropagation(),Ce?fe(m,t.id):Ae&&Ae(t)}(e,t)},children:a}),Object(N.jsx)("br",{}),Object(N.jsx)(Nu.a,{type:"secondary",style:{overflow:"hidden",whiteSpace:"nowrap",wordWrap:"break-word",wordBreak:"break-word",textOverflow:"ellipsis"},children:r})]})}}},{title:"Type",dataIndex:"ruleType",render:function(e,t){return t.objectType&&"group"===t.objectType?{children:null,colSpan:0}:Object(N.jsx)(Us.a,{icon:s.a.createElement(W.RULE_TYPES_CONFIG[t.ruleType].ICON),children:Object(N.jsxs)("span",{children:["\xa0 \xa0",W.RULE_TYPES_CONFIG[t.ruleType].NAME]})})}},{title:"Status",dataIndex:"status",align:"right",render:function(e,t){return t.objectType&&"group"===t.objectType?Ne&&t.id!==_d?Ce?Object(N.jsx)(Ds.a,{size:"small",checkedChildren:Object(N.jsx)(mo.a,{}),unCheckedChildren:Object(N.jsx)(Oi.a,{}),checked:yd(t),onClick:function(e,n){return ve(n,t)}}):Object(N.jsx)(Nu.a,{children:yd(t)?"On":"Off"}):null:Ne?Ce?Object(N.jsx)(Ds.a,{size:"small",disabled:Ld(t,Ee),checked:yd(t),onClick:function(e,n){return function(e,t){if(e.preventDefault(),e.stopPropagation(),yd(t))Me(S.CONSTANTS.RULE_STATUS.INACTIVE,t);else{var n=de.filter((function(e){return e.status===S.CONSTANTS.RULE_STATUS.ACTIVE&&!no(e)})).length,a=ht(le),r=mt(W.FEATURES.ACTIVE_RULES,a);if(n>=r){var c,s;B(r),M(W.FEATURES.ACTIVE_RULES),K(a),U(!0);var i=(null===le||void 0===le||null===(c=le.details)||void 0===c||null===(s=c.profile)||void 0===s?void 0:s.uid)||null;Hl(i,n)}else Me(S.CONSTANTS.RULE_STATUS.ACTIVE,t)}}(n,t)}}):Object(N.jsx)(Nu.a,{children:yd(t)?"On":"Off"}):null}},{title:"Last Modified",align:"center",dataIndex:"modificationDate",valueType:"date",render:function(e,t){if(t.objectType&&"group"===t.objectType)return null;var n=t.modificationDate?t.modificationDate:t.creationDate;return ec()(n).format("LL")}},{title:"Favorite",align:"center",dataIndex:"isFavourite",render:function(e,t){return t.objectType&&"group"===t.objectType?null:Ie?t.isFavourite?Object(N.jsx)(Ar.a,{onClick:function(e){return we(e,t)},style:{color:"#004BAD",cursor:"pointer"}}):Object(N.jsx)(fl.a,{onClick:function(e){return we(e,t)},style:{cursor:"pointer"}}):null}},{title:"Actions",align:"right",render:function(e,t){return t.objectType&&"group"===t.objectType?_e&&t.id!==_d?Object(N.jsx)(Zr.a,{children:function(e){var n=e.isHovering;return Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(Nu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(kr.a,{title:"Ungroup Selected Rules",children:Object(N.jsx)(Al.a,{onClick:function(e){return Ue(e)}})})}),Object(N.jsx)(Nu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(kr.a,{title:"Rename Group",children:Object(N.jsx)(ua.a,{onClick:function(e){return function(e,t){e.stopPropagation();var n=t.id;oe(Dt("renameGroupModal",!0,{groupId:{groupId:n}}))}(e,t)}})})}),Object(N.jsx)(Nu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(kr.a,{title:"Delete Group",children:Object(N.jsx)(Jr.a,{onClick:function(e){return Pe(e,t)}})})})]})}}):null:_e?Object(N.jsx)(Zr.a,{children:function(e){var n=e.isHovering;return Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(Nu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(kr.a,{title:"Edit Rule",children:Object(N.jsx)(ua.a,{onClick:function(e){return n=t,e.stopPropagation(),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,n.ruleType+" rule",S.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED),ra(n.ruleType+" rule modified"),void fe(m,n.id);var n}})})}),Object(N.jsx)(Nu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(kr.a,{title:"Share Rule",children:Object(N.jsx)(Rl.a,{onClick:function(e){return Ge(e,t)}})})}),Object(N.jsx)(Nu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(kr.a,{title:"Export Rule",children:Object(N.jsx)(xl.a,{onClick:function(e){return n=t,e.stopPropagation(),void(le.loggedIn?Be(n):ke());var n}})})}),Object(N.jsx)(Nu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(kr.a,{title:"Copy Rule",children:Object(N.jsx)(fc.a,{onClick:function(e){return Ve(e,t)}})})}),Object(N.jsx)(Nu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(kr.a,{title:"Delete Rule",children:Object(N.jsx)(Jr.a,{onClick:function(e){return Ye(e,t)}})})})]})}}):Object(N.jsx)(Zr.a,{children:function(e){var n=e.isHovering;return Object(N.jsx)(Nt.b,{children:Object(N.jsx)(Nu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(kr.a,{title:"Edit Rule",children:Object(N.jsx)(Nl.a,{onClick:function(e){e.stopPropagation(),Ae(t)}})})})})}})}}],Qe=function(){var e=ht(le);return mt(W.FEATURES.RULES,e)},Ze=function(e){"Escape"===e.key&&(e.preventDefault(),m.goBack())},$e=Object(c.useCallback)((function(){jl(oe)}),[oe]);Object(c.useEffect)((function(){return $e}),[$e]),Object(c.useEffect)((function(){return h&&document.addEventListener("keydown",Ze),function(){h&&document.removeEventListener("keydown",Ze)}}),[]),Object(c.useEffect)((function(){Le()}),[Le]),Object(c.useEffect)((function(){ye()}),[ye]),Object(c.useEffect)((function(){oe(Lt(Oe))}),[oe,Oe]),je.length;var nt=[];for(var rt in Ee){var st=Ee[rt][Cd];st.children=Ee[rt][gd],st.name||(st.creationDate=1629967497355,st.description="",st.id=_d,st.name=Id,st.objectType="group",st.status=S.CONSTANTS.RULE_STATUS.ACTIVE),nt.push(st)}return Object(pe.isEmpty)(nt)||nt[0].id!==_d||nt.push(nt.shift()),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Oa.a,{rowClassName:function(e,t){return"group"===e.objectType?"rule-group-row":null},expandable:{defaultExpandAllRows:!1,defaultExpandedRowKeys:[_d],expandRowByClick:!0,rowExpandable:!0},tableAlertRender:function(e){return Object(N.jsx)("span",{children:"".concat(e.selectedRowKeys.length," Rules selected")})},tableAlertOptionRender:function(){return Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(kr.a,{title:"Change Group",children:Object(N.jsx)(Ct.a,{shape:"circle",onClick:t,icon:Object(N.jsx)(Cl.a,{})})}),Object(N.jsx)(kr.a,{title:"Share",children:Object(N.jsx)(Ct.a,{shape:"circle",onClick:n,icon:Object(N.jsx)(Rl.a,{})})}),Object(N.jsx)(kr.a,{title:"Export",children:Object(N.jsx)(Ct.a,{shape:"circle",onClick:a,icon:Object(N.jsx)(xl.a,{})})}),Object(N.jsx)(kr.a,{title:"Delete",children:Object(N.jsx)(Ct.a,{shape:"circle",onClick:i,icon:Object(N.jsx)(Jr.a,{})})})]})},rowSelection:!p.disableSelection&&He,columns:We,dataSource:nt,rowKey:"id",pagination:!1,search:!1,dateFormatter:!1,headerTitle:h||Object(N.jsxs)(N.Fragment,{children:["My HTTP Rules ","bronze"===ht(le)&&O<=Qe()?"(".concat(O,"/").concat(Qe()," Rules Created)"):null,"bronze"===ht(le)?Object(N.jsx)(xd,{onClick:function(e){e.preventDefault(),ge(m),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.REMOVE_LIMIT_CLICKED,"remove.limit.clicked@rules.page",O)},style:{marginLeft:"1rem"},children:"Remove Limits"}):null]}),options:!1,toolBarRender:T||function(){return[Object(N.jsx)(Ct.a,{onClick:r,icon:Object(N.jsx)(gl.a,{}),children:"Import"}),Object(N.jsx)(Ct.a,{onClick:a,icon:Object(N.jsx)(xl.a,{}),children:"Export"}),Object(N.jsx)(Ct.a,{onClick:n,icon:Object(N.jsx)(Rl.a,{}),children:"Share"}),Object(N.jsx)(Ct.a,{onClick:o,icon:Object(N.jsx)(da.a,{}),children:"New Group"}),Object(N.jsx)(Ct.a,{type:"primary",onClick:l,icon:Object(N.jsx)(da.a,{}),children:"New Rule"})]}}),R?Object(N.jsx)(Sd,{isOpen:R,toggle:function(){x(!R)},rule:_}):null,v&&w?Object(N.jsx)(Vr,{isOpen:v,toggle:function(){U(!v)},featureName:w,featureLimit:F,userPlanName:H,mode:0===F||!1===F?W.LIMIT_REACHED_MODAL.MODES.CHECK_IF_ENABLED:W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT}):null,z?Object(N.jsx)(Tl,{isOpen:z,toggle:function(){X(!z)},rulesToShare:ee}):null]})},Ud=function(e,t){Cn("create_rule_limit_reached",{uid:e,rules_count:t})},Pd=function(){var e=Object(c.useContext)(J),t=e.state,n=e.dispatch,a=Je(t),r=et(t),s=qe(t),i=rt(t),o=ct(t),l=Object.values(S.CONSTANTS.RULE_TYPES),d=Object(c.useState)(""),O=Object(u.a)(d,2),E=O[0],b=O[1],p=Object(c.useState)(W.FEATURES.RULES),h=Object(u.a)(p,2),T=h[0],m=h[1],f=Object(c.useState)(0),A=Object(u.a)(f,2),R=A[0],x=A[1],C=Object(c.useState)(El(a)),g=Object(u.a)(C,2),_=g[0],I=g[1],L=Object(c.useState)(0),y=Object(u.a)(L,2),v=y[0],U=y[1],P=Object(c.useState)(!1),D=Object(u.a)(P,2),w=D[0],M=D[1],k=Object(c.useState)(!1),G=Object(u.a)(k,2),F=G[0],B=G[1],V=Object(c.useState)(!1),Y=Object(u.a)(V,2),H=Y[0],K=Y[1],q=Object(c.useState)(!1),Q=Object(u.a)(q,2),z=Q[0],X=Q[1],Z=Object(c.useState)(!1),$=Object(u.a)(Z,2),ee=$[0],ae=$[1],re=Object(c.useState)(!1),ce=Object(u.a)(re,2),se=ce[0],ie=ce[1],oe=Object(c.useState)(!1),le=Object(u.a)(oe,2),ue=le[0],de=le[1],Oe=Object(c.useState)(!1),je=Object(u.a)(Oe,2),Ee=je[0],be=je[1],Se=Object(c.useState)(!1),pe=Object(u.a)(Se,2),he=pe[0],Te=pe[1],me=function(){B(!F)},fe=function(){n(Dt("authModal",!0,{redirectURL:window.location.href,src:W.FEATURES.RULES,callback:function(){return B(!0)}}))},Ae=function(){var e=Object(ne.a)(te.a.mark((function e(){var t,n,a,r,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ls(o).getAllRecords();case 2:t=e.sent,n=(new Date).getTime(),a=null;try{a=window.localStorage.getItem("authModalShownLastOn")||t.user_info.installationDate}catch(i){fe(),window.localStorage.setItem("authModalShownLastOn",n)}r=(n-a)/864e5,(c=s.filter((function(e){return!e.MKTRuleID&&e.creationDate}))).length>=5||r>=15?(null,Ud(null,c.length),window.localStorage.setItem("authModalShownLastOn",n),fe()):B(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=ht(r),t=mt(W.FEATURES.RULES,e),n=s.filter((function(e){return!no(e)}));if(n.length>=t){var a,c;x(t),b(e),m(W.FEATURES.RULES),Te(!0);var i=(null===r||void 0===r||null===(a=r.details)||void 0===a||null===(c=a.profile)||void 0===c?void 0:c.uid)||null;Ud(i,n.length)}else B(!0)},xe=function(e){return e?Object.keys(e).length:0},Ne=function(){n(Dt("loadingModal",!0));var e=ht(r),t=mt(W.FEATURES.SHARED_LISTS,e);ml(r.details.profile.uid).then((function(r){xe(r)>=t?(x(t),b(e),m(W.FEATURES.SHARED_LISTS),Te(!0)):(I(El(a)),be(!0),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,"rules",S.CONSTANTS.GA_EVENTS.ACTIONS.SHARED)),n(Dt("loadingModal",!1))}))},Ce=function(){de(!0)},ge=function(){var e=ht(r);Tt(W.FEATURES.EXPORT_IMPORT,e)?(I(El(a)),ae(!0)):(x(0),b(e),m(W.FEATURES.EXPORT_IMPORT),Te(!0))},_e=function(){return M(window.innerWidth<620)};return window.clearRulesSelection=!1,Object(c.useEffect)((function(){return window.addEventListener("resize",_e),function(){return window.removeEventListener("resize",_e)}}),[w]),Object(c.useEffect)((function(){l.forEach((function(e){var t=s.filter((function(t){return t.ruleType===e&&!t.MKTRuleID}));ta(e+"_rules",t.length)})),r&&r.details&&r.details.profile?ml(r.details.profile.uid).then((function(e){var t=xe(e);ta(S.CONSTANTS.GA_EVENTS.ATTR.NUM_SHARED_LISTS,t),t>0&&ta("iscreatesharedlisttask",!0)})):(ta(S.CONSTANTS.GA_EVENTS.ATTR.NUM_SHARED_LISTS,0),ta("iscreatesharedlisttask",!1))}),[s,l,r]),Object(c.useEffect)((function(){var e=s.filter((function(e){return void 0===e.MKTRuleID}));U(e.length)}),[s]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(At.a,{className:"primary-card",title:null,children:Object(N.jsx)(vd,{handleChangeGroupOnClick:function(){I(El(a)),X(!0)},handleShareRulesOnClick:function(){r.loggedIn?Ne():fe()},handleExportRulesOnClick:function(){r.loggedIn?ge():fe()},handleDeleteRulesOnClick:function(){I(El(a)),ie(!0)},handleImportRulesOnClick:function(e){r.loggedIn?Ce():fe()},totalRulesCount:v,handleNewGroupOnClick:function(){I(El(a)),K(!0)},handleNewRuleOnClick:function(e){r.loggedIn?Re():Ae()},options:{disableSelection:!1,disableEditing:!1,disableActions:!1,disableFavourites:!1,disableStatus:!1}})}),F?Object(N.jsx)(Yo,{isOpen:F,toggle:me,onClickHandler:me}):null,H?Object(N.jsx)(il,{isOpen:H,toggle:function(){K(!H)}}):null,z?Object(N.jsx)(Sl,{isOpen:z,toggle:function(){X(!z)},mode:"SELECTED_RULES"}):null,ee?Object(N.jsx)(dl,{isOpen:ee,toggle:function(){ae(!ee)},rulesToExport:_}):null,se?Object(N.jsx)(bl,{isOpen:se,toggle:function(){ie(!se)},rulesToDelete:_}):null,ue?Object(N.jsx)(el,{isOpen:ue,toggle:function(){de(!ue)}}):null,Ee?Object(N.jsx)(Tl,{isOpen:Ee,toggle:function(){be(!Ee)},rulesToShare:_}):null,he?Object(N.jsx)(Vr,{isOpen:he,toggle:function(){Te(!he)},featureName:T,featureLimit:R,userPlanName:E,mode:0===R?W.LIMIT_REACHED_MODAL.MODES.CHECK_IF_ENABLED:W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT}):null,i.renameGroupModal.isActive?Object(N.jsx)(pl,Object(j.a)({isOpen:i.renameGroupModal.isActive,toggle:function(){n(Dt("renameGroupModal"))}},i.renameGroupModal.props)):null]})},Dd=S.CONSTANTS.GA_EVENTS,wd=function(){var e=Object(c.useContext)(J),t=e.dispatch,n=e.state,a=qe(n).filter((function(e){return!no(e)})),r=at(n),i=ct(n),o=Object(c.useState)(!1),l=Object(u.a)(o,2),d=l[0],O=l[1],j=Object(c.useCallback)(t,[t]);return Object(c.useEffect)((function(){var e=Ls(i).getRecords(S.CONSTANTS.OBJECT_TYPES.GROUP),t=Ls(i).getRecords(S.CONSTANTS.OBJECT_TYPES.RULE);Promise.all([e,t]).then((function(e){var t=e[0],n=e[1];j(yt(n,t)),O(!0),ta(Dd.ATTR.NUM_RULES,n.length),ta(Dd.ATTR.NUM_ACTIVE_RULES,n.filter((function(e){return e.status===S.CONSTANTS.RULE_STATUS.ACTIVE})).length),ta(Dd.ATTR.NUM_GROUPS,t.length),ta(Dd.ATTR.NUM_ACTIVE_GROUPS,t.filter((function(e){return e.status===S.CONSTANTS.GROUP_STATUS.ACTIVE})).length)}))}),[j,r,i]),Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(ko,{}),Object(N.jsx)(Fo,{}),d?0!==a.length?Object(N.jsx)(Pd,{}):Object(N.jsx)(nl,{}):Object(N.jsx)(vr,{customLoadingMessage:"Loading Rules",skeletonType:"list"})]})},Md=function(){var e=Object(c.useContext)(J).state,t=ct(e),n=Object(c.useState)(!0),a=Object(u.a)(n,2),r=a[0],s=a[1];Object(c.useEffect)((function(){t===S.CONSTANTS.APP_MODES.EXTENSION&&Ls(t).getRecord(W.RQ_SETTINGS).then((function(e){s(!e||e.isExtensionEnabled)}))}),[t]);return Object(N.jsx)(N.Fragment,{children:t===S.CONSTANTS.APP_MODES.DESKTOP?Object(N.jsx)(wd,{}):Ss()?r?Object(N.jsx)(wd,{}):Object(N.jsx)(Do,{}):Object(N.jsx)(Lo,{heading:"Get Started",content:"Please install Requestly Browser Extension to setup rules to modify network requests."})})},kd=function(e){var t=e.heading,n=e.content,a=Object(c.useState)(!1),r=Object(u.a)(a,2),s=r[0],i=r[1],o=Object(c.useContext)(J).state,l=et(o),d=W.FEATURES.RULES,O=ht(l),j=mt(W.FEATURES.SHARED_LISTS,O);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(At.a,{className:"primary-card",children:Object(N.jsx)(Rt.a,{style:{textAlign:"center"},align:"center",children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsxs)(oe.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3",children:t}),Object(N.jsx)("p",{className:"lead",children:n}),Object(N.jsx)(Nt.b,{children:Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){i(!0)},children:"Upgrade"})})]})})})}),s?Object(N.jsx)(Vr,{isOpen:s,toggle:function(){i(!s)},featureName:d,featureLimit:j,userPlanName:O,mode:0===j?W.LIMIT_REACHED_MODAL.MODES.CHECK_IF_ENABLED:W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT}):null]})},Gd=function(e){var t=e.heading,n=e.content,a=e.cbUrl,r=Object(c.useContext)(J).dispatch,s=Object(ae.g)();return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(At.a,{className:"primary-card",children:Object(N.jsx)(Rt.a,{style:{textAlign:"center"},align:"center",children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsxs)(oe.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3",children:t}),Object(N.jsx)("p",{className:"lead",children:n}),Object(N.jsx)(Nt.b,{children:Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){r(Dt("authModal",!0,{redirectURL:window.location.href,src:W.FEATURES.RULES,callback:function(){s.push(a)}}))},children:"Login"})})]})})})})})},Fd=(n(909),n(972)),Bd=function(e){var t=e.isOpen,n=e.toggle,a=e.body,r=e.mode;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(tn.a,{size:"small",visible:t,onCancel:n,footer:null,style:{width:"300px",margin:"0 auto"},bodyStyle:{padding:"0",borderRadius:"0.45rem"},width:"600px",children:Object(N.jsx)(hc.a,{width:"100%",height:"400px",placeholder:a,mode:r,theme:"monokai",name:"body_editor",fontSize:17,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,value:a,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{marginBottom:"0.5rem",marginTop:"0.5rem"}})})})},Vd=yo.a.Panel,Yd="redirect",Hd="cancel",Kd="header",Wd="response",qd="delay",Qd="user-agent",zd="insert",Xd=Xt.a.Paragraph,Jd=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(u.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(""),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useState)(!1),b=Object(u.a)(E,2),p=b[0],h=b[1],T=Object(c.useState)({body:"",mode:"javascript"}),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useContext)(J).state,C=$e(R),g=function(){h((function(e){return!e}))},_=function(e,t){A({body:t,mode:e}),g()},I=function(e){e.stopPropagation(),e.preventDefault(),un(O)?function(e,t){a(!1),o([]);var n,r=[];n=S.RULE_PROCESSOR.getInstance(C.ruleType).process({rule:e,requestURL:t,originalHeaders:[]}),console.log({simulatedUrl:n,ruleData:C});var c=e.pairs.map((function(e){return{operation:"Add"===e.type?"Added":"Modify"===e.type?"Modified":"Removed",header:e.header,newVal:e.value,target:e.target}})),s=c.lastIndexOf((function(e){return"Request"===e.target}));if(c.splice(s,0,{}),n)switch(C.ruleType){case"Redirect":case"Replace":case"QueryParam":r.push({id:Object(cn.a)(),type:Yd,newURL:n.url});break;case"Cancel":r.push({id:Object(cn.a)(),type:Hd,newURL:n.url});break;case"Response":r.push({id:Object(cn.a)(),type:Wd,response:n.response}),A({body:n.response,mode:"json"});break;case"Delay":r.push({id:Object(cn.a)(),type:qd,delayType:n.delayType,delay:n.delay});break;case"Headers":c.forEach((function(e){var t=e.operation,n=e.newVal,a=e.header,c=e.target;return r.push({id:Object(cn.a)(),type:Kd,operation:t,newVal:n,header:a,target:c})}));break;case"UserAgent":r.push({id:Object(cn.a)(),type:Qd,headerType:n.newRequestHeaders[0].name,headerValue:n.newRequestHeaders[0].value});break;case"Script":r.push({id:Object(cn.a)(),type:zd,data:n.data})}o(r),a(!0)}(C,O):Fe.warn("Please provide a valid URL to simulate.")},L=function(){return n?Object(N.jsxs)(Hc.a.Item,{children:[Object(N.jsx)(Rt.a,{style:{marginBottom:"5%"},children:"Result:"}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,align:"center",children:Object(N.jsxs)(Fd.a,{children:[Object(N.jsx)(Fd.a.Item,{color:"grey",children:"Request Start"}),i.map((function(e){return y(e)})),Object(N.jsx)(Fd.a.Item,{color:"grey",children:"Request End"})]})})}),Object(pe.isEmpty)(i)?Object(N.jsx)(Rt.a,{children:Object(N.jsx)("i",{children:"This Rule makes no change to the given request."})}):null]}):null},y=function(e){switch(e.type){case Yd:return Object(N.jsxs)(Fd.a.Item,{dot:Object(N.jsx)(x.B,{className:"fix-icon-is-up timeline-clock-icon"}),color:"green",children:[Object(N.jsx)("span",{style:{color:"green"},children:"Redirected to"})," ",Object(N.jsx)(Xd,{ellipsis:{rows:2,expandable:!0,symbol:"more"},style:{color:"rgba(0, 0, 0, 0.45)"},children:e.newURL})]},e.id);case Qd:return Object(N.jsxs)(Fd.a.Item,{dot:Object(N.jsx)(x.y,{className:"fix-icon-is-up timeline-clock-icon"}),color:"green",children:[Object(N.jsx)("span",{style:{color:"green"},children:"Replaced"})," ",Object(N.jsxs)(Xd,{ellipsis:{rows:2,expandable:!0,symbol:"more"},style:{color:"rgba(0, 0, 0, 0.45)"},children:[Object(N.jsx)("span",{style:{fontWeight:"bold",color:"rgba(0, 0, 0, .8)"},children:e.headerType}),":",e.headerValue]})]},e.id);case zd:return Object(N.jsxs)(Fd.a.Item,{dot:Object(N.jsx)(x.f,{className:"fix-icon-is-up timeline-clock-icon"}),color:"green",children:[Object(N.jsx)("span",{style:{color:"green"},children:"Added"})," ",e.data.jsScripts.map((function(e){return Object(N.jsx)("span",{onClick:function(){return _("javascript",e.value)},style:{color:"rgba(0, 0, 0, 0.45)",display:"block",marginTop:".4rem",cursor:"pointer",textDecoration:"underline"},children:"js code"},e.id)})),e.data.cssScripts.map((function(e){return Object(N.jsx)("span",{onClick:function(){return _("css",e.value)},style:{color:"rgba(0, 0, 0, 0.45)",display:"block",marginTop:".4rem",cursor:"pointer",textDecoration:"underline"},children:"css code"},e.id)})),e.data.libraries.map((function(e){return Object(N.jsx)("span",{style:{color:"rgba(0, 0, 0, 0.45)",display:"block",marginTop:".4rem"},children:e},e)}))]},e.id);case Hd:return Object(N.jsxs)(Fd.a.Item,{dot:Object(N.jsx)(x.a,{className:"fix-icon-is-up timeline-clock-icon"}),color:"red",children:[Object(N.jsx)("span",{style:{color:"red"},children:"Request Blocked"})," ",Object(N.jsx)(Xd,{ellipsis:{rows:2,expandable:!0,symbol:"more"},style:{color:"rgba(0, 0, 0, 0.45)"},children:e.newURL})]},e.id);case qd:return Object(N.jsxs)(Fd.a.Item,{dot:Object(N.jsx)(x.e,{className:"fix-icon-is-up timeline-clock-icon"}),color:"blue",children:[Object(N.jsx)("span",{style:{color:"blue"},children:"Added "})," ",Object(N.jsxs)(Xd,{ellipsis:{rows:2,expandable:!0,symbol:"more"},style:{color:"rgba(0, 0, 0, 0.45)"},children:["delay of ",e.delay," ms"]})]},e.id);case Wd:return Object(N.jsxs)(Fd.a.Item,{dot:Object(N.jsx)(x.g,{className:"fix-icon-is-up timeline-clock-icon"}),color:"green",children:[Object(N.jsx)("span",{style:{color:"green"},children:"Modified Response"}),Object(N.jsx)("p",{className:"show-response",onClick:g,style:{textDecoration:"underline",cursor:"pointer"},children:"Show Response"})]},e.id);case Kd:return Object(N.jsxs)(Fd.a.Item,{dot:"Added"===e.operation?Object(N.jsx)(x.z,{className:"fix-icon-is-up timeline-clock-icon"}):"Removed"===e.operation?Object(N.jsx)(x.x,{className:"fix-icon-is-up timeline-clock-icon"}):"Modified"===e.operation?Object(N.jsx)(x.K,{className:"fix-icon-is-up timeline-clock-icon"}):null,color:"Request"===e.target?"blue":"Response"===e.target?"green":"grey",children:["Request"===e.target?Object(N.jsxs)("span",{style:{color:"blue"},children:[String(e.operation).toUpperCase()," Request Header-",e.header,"Added"===e.operation?":".concat(e.newVal):"Modified"===e.operation?"to ".concat(e.newVal):""]}):"Response"===e.target?Object(N.jsxs)("span",{style:{color:"green"},children:[String(e.operation).toUpperCase()," Response Header-",e.header,"Added"===e.operation?":".concat(e.newVal):"Modified"===e.operation?" to ".concat(e.newVal):""]}):Object(N.jsx)("span",{style:{color:"black"},children:"Sent request with modified headers"})," ",Object(N.jsx)(Xd,{ellipsis:{rows:2,expandable:!0,symbol:"more"},style:{color:"rgba(0, 0, 0, 0.45)"},children:e.newURL})]},e.id);default:return null}};return Object(N.jsx)(yo.a,{children:Object(N.jsxs)(Vd,{header:"Simulate this Rule",children:[Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(Hc.a,{children:[Object(N.jsx)(Hc.a.Item,{label:"Request URL",children:Object(N.jsx)(nn.a,{type:"text",value:O,onChange:function(e){return j(e.target.value)},placeholder:"Enter URL to test"})}),Object(N.jsx)(Hc.a.Item,{wrapperCol:{offset:8,span:16},children:Object(N.jsx)(Ct.a,{type:"secondary",onClick:I,children:"Simulate"})}),L()]})})}),Object(N.jsx)(Bd,{mode:f.mode,body:f.body,isOpen:p,toggle:g})]},"1")})},Zd=function(e){return e.mode===W.RULE_EDITOR_CONFIG.MODES.CREATE?Object(N.jsx)(Rt.a,{align:"middle",justify:"center",style:{height:"100%"},children:Object(N.jsxs)(xt.a,{children:[Object(N.jsx)(Rt.a,{align:"middle",justify:"center",children:Object(N.jsx)(xt.a,{children:Object(N.jsx)(Zs.a,{style:{color:"#888888",fontSize:"40px"}})})}),Object(N.jsx)(Rt.a,{align:"middle",justify:"center",style:{marginTop:"5%"},children:Object(N.jsx)(xt.a,{children:Object(N.jsx)("span",{style:{color:"#888888"},children:"Save the Rule to start using simulator"})})})]})}):Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Jd,{})})},$d=n(495),eO=n.n($d),tO=function(e){var t,n=Ml(e.location,null),a=n.MODE,r=n.RULE_TYPE_TO_CREATE,s=Object(c.useState)(1e3),i=Object(u.a)(s,2),o=(i[0],i[1]),l=Object(c.useState)(!1),d=Object(u.a)(l,2),O=d[0],j=d[1],E=e.location,b=null===(t=E.pathname.split("/rules/editor")[1])||void 0===t?void 0:t.startsWith("/edit"),p=Object(c.useContext)(J).state,h=qe(p),T=et(p),m=ct(p);Object(c.useEffect)((function(){m===S.CONSTANTS.APP_MODES.EXTENSION&&Ls(m).getRecord(W.RQ_SETTINGS).then((function(e){j(!e||e.isExtensionEnabled)}))}),[m]);var f=h.filter((function(e){return!e.MKTRuleID&&e.creationDate})),A=ht(T),R=mt(W.FEATURES.RULES,A),x=!T.loggedIn&&f.length<5||T.loggedIn&&f.length<R||b,C=function(){if(m&&m===S.CONSTANTS.APP_MODES.EXTENSION)switch(r.split("_")[0]){case S.CONSTANTS.RULE_TYPES.REDIRECT:case S.CONSTANTS.RULE_TYPES.REPLACE:case S.CONSTANTS.RULE_TYPES.QUERYPARAM:case S.CONSTANTS.RULE_TYPES.CANCEL:case S.CONSTANTS.RULE_TYPES.HEADERS:return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"gap-case-1",style:{width:"100%"},children:[Object(N.jsx)(At.a,{className:"primary-card",style:{boxShadow:"none",borderBottom:"2px solid #ddd",borderRadius:"0"},children:Object(N.jsx)(bd,{location:E})}),Object(N.jsx)(At.a,{style:{marginTop:"1rem",boxShadow:"none"},children:Object(N.jsx)(Zd,{mode:a})})]})});case S.CONSTANTS.RULE_TYPES.RESPONSE:case S.CONSTANTS.RULE_TYPES.DELAY:case S.CONSTANTS.RULE_TYPES.USERAGENT:case S.CONSTANTS.RULE_TYPES.SCRIPT:return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"gap-case-2",style:{width:"100%"},children:[Object(N.jsx)(At.a,{className:"primary-card",style:{boxShadow:"none",borderBottom:"2px solid #ddd",borderRadius:"0"},children:Object(N.jsx)(bd,{location:E})}),Object(N.jsx)(At.a,{style:{marginTop:"1rem",boxShadow:"none"},children:Object(N.jsx)(Zd,{mode:a})})]})})}return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(At.a,{className:"primary-card",children:Object(N.jsx)(bd,{location:E})})})};Object(c.useEffect)((function(){eO.a.getItem("ruleEditorSplitPaneWidth").then((function(e){e&&Object(pe.isNumber)(e)&&o(e)})).catch((function(e){console.log("Using default pane width")}))}),[]);var g=function(){return T.loggedIn?Object(N.jsx)(At.a,{className:"primary-card",children:Object(N.jsx)(kd,{heading:"Limit Reached",content:"We are limited to 10 rules for the free plan. Please upgrade to create more rules."})}):Object(N.jsx)(At.a,{className:"primary-card",children:Object(N.jsx)(Gd,{heading:"Please login to create more rules.",content:"",cbUrl:E.pathname})})};return function(){switch(m){case S.CONSTANTS.APP_MODES.DESKTOP:return x?C():g();case S.CONSTANTS.APP_MODES.EXTENSION:return Ss()?x?O?C():Object(N.jsx)(Do,{}):g():Object(N.jsx)(At.a,{className:"primary-card",children:Object(N.jsx)(Lo,{heading:"Get Started",content:"Please install Requestly Browser Extension to setup rules to modify network requests."})})}}()},nO=n(155),aO=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(0),i=Object(u.a)(r,2),o=i[0],l=i[1],d=Object(c.useState)(0),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useContext)(J).state,p=ct(b),h=function(){Ts().then((function(e){a(e.storageType),l(e.numItems),E(e.bytesUsed)}))},T=function(e){e!==n&&("sync"===e&&(o>80||j>8e4)?alert("Unable to change storage type. Too much data to be stored in Sync Storage."):Ns(e).then((function(e){h(),Fe.info("StorageType changed successfully!")})))};return Object(c.useEffect)((function(){p===S.CONSTANTS.APP_MODES.EXTENSION&&h()}),[p]),p===S.CONSTANTS.APP_MODES.DESKTOP?Object(N.jsx)(To,{customErrorMessage:"All Requeslty rules get saved to your system as of now. We'll soon introduce a feature to move them to cloud and sync across devices."}):n?Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(At.a,{className:"primary-card",title:"Change where your browser stores the Rules",children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(oe.a,{style:{background:"transparent"},children:Object(N.jsxs)(Rt.a,{style:{paddingBottom:"1rem",alignItems:"center"},children:[Object(N.jsx)(xt.a,{span:2,align:"center",children:"Select Storage"}),Object(N.jsx)(xt.a,{span:11,children:Object(N.jsx)(kc.a,{className:"card-stats mb-4 mb-lg-0",style:{border:"sync"===n?"1px solid "+W.THEME_COLORS.PRIMARY_COLOR:"",cursor:"not-allowed",backgroundColor:"#dddddd99",opacity:.6},onClick:function(){Fe.info("We've disabled sync storage for the moment!")},children:Object(N.jsxs)(je.a,{children:[Object(N.jsxs)(Rt.a,{children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsxs)(cr.a,{className:"text-uppercase text-muted ",children:[Object(N.jsx)("strong",{children:"Sync Storage"}),"sync"===n?Object(N.jsx)(x.c,{style:{color:W.THEME_COLORS.PRIMARY_COLOR,marginLeft:"2%"}}):null]}),Object(N.jsx)("span",{children:"Sync data between multiple devices when user is logged in browser profile."})]}),Object(N.jsx)(xt.a,{className:"col-auto",align:"right",children:Object(N.jsx)(nO.d,{size:"2rem"})})]}),Object(N.jsx)("p",{className:"mt-3  text-muted text-sm",children:Object(N.jsx)("span",{className:"text-nowrap",children:"Prefer when you have less than 75 rules."})})]})})}),Object(N.jsx)(xt.a,{span:11,children:Object(N.jsx)(kc.a,{className:"card-stats mb-4 mb-lg-0 cursor-pointer",style:{border:"local"===n?"1px solid "+W.THEME_COLORS.PRIMARY_COLOR:""},onClick:function(){return T("local")},children:Object(N.jsxs)(je.a,{children:[Object(N.jsxs)(Rt.a,{span:24,children:[Object(N.jsxs)(xt.a,{children:[Object(N.jsxs)(cr.a,{className:"text-uppercase text-muted ",children:["Local Storage"," ","local"===n?Object(N.jsx)(x.c,{style:{color:W.THEME_COLORS.PRIMARY_COLOR}}):null]}),Object(N.jsx)("span",{className:"margin-top-one",children:"Store data locally to current browser. It has more capacity than Sync Storage."})]}),Object(N.jsx)(xt.a,{className:"col-auto",align:"right",children:Object(N.jsx)(nO.e,{size:"2rem"})})]}),Object(N.jsx)("p",{className:"mt-3  text-muted text-sm",children:Object(N.jsx)("span",{className:"text-nowrap",children:"Prefer when you have more than 75 rules."})})]})})})]})})})})})})}):Object(N.jsx)(Lo,{heading:"Requestly Extension Settings",content:"Please install Requestly Browser Extension first."})},rO=function(e){Object(ar.a)(n,e);var t=Object(rr.a)(n);function n(){return Object(tr.a)(this,n),t.apply(this,arguments)}return Object(nr.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(aO,{})})}}]),n}(s.a.Component),cO=function(e,t){var n=function(e,t){return sc(e).concat(t)}(e,t),a=Wn.setValue(n,null),r=ic(t),c=Wn.setValue(r,null);return Promise.all([a,c])},sO=function(e,t){e(function(e){return{type:d.UPDATE_SELECTED_SHARED_LISTS,payload:e}}(t))},iO=function(e){var t=e.sharedListIdsToDeleteArray,n=e.userId,a=e.isOpen,r=e.toggle,i=Object(c.useContext)(J).dispatch,o=Object(c.useState)(!1),l=Object(u.a)(o,2),d=l[0],O=l[1],j=Object(c.useState)(!1),E=Object(u.a)(j,2),b=E[0],S=E[1],p=function(e){var t=e.showConfirmationBtn;return Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,align:"center",children:Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(Ct.a,{color:"secondary","data-dismiss":"modal",type:"button",onClick:r,children:"Close"}),t?Object(N.jsx)(Ct.a,{type:"primary","data-dismiss":"modal",onClick:function(){return S(!0)},children:"Yes"}):null]})})})},h=function(){return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(xt.a,{align:"center",span:24,children:[Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(Ko.a,{})}),Object(N.jsx)("h5",{children:"Please select a list before deleting"})]})}),Object(N.jsx)("br",{}),p({showConfirmationBtn:!1})]})},T=Object(c.useCallback)((function(e){var a=[];return t.forEach((function(e){a.push(cO(n,e))})),Promise.all(a)}),[i,t,n]);return Object(c.useEffect)((function(){b&&!d&&T().then((function(){O(!0),sO(i,{}),function(e){e(vt("sharedLists"))}(i),r()}))}),[b,d,T,r,i]),Object(N.jsx)(tn.a,{className:"modal-dialog-centered ",visible:a,onCancel:r,footer:null,title:"Delete List",children:b?d?Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("div",{className:"modal-body ",children:Object(N.jsx)(xt.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:Object(N.jsx)("b",{children:"Successfully deleted lists"})})}),p({showConfirmationBtn:!1})]}):Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,align:"center",children:Object(N.jsx)(Nt.b,{children:Object(N.jsx)(Sa.a,{})})})}):ce()(t)?h():Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(xt.a,{span:24,align:"center",children:[Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(x.L,{})}),Object(N.jsx)("b",{children:"Are you sure to delete the selected lists?"}),Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Total Lists Selected: "}),t.length," ",Object(N.jsx)("br",{})]})]})}),p({showConfirmationBtn:!0})]})})},oO=Xt.a.Link,lO=function(e){var t=e.sharedLists,n=Object(c.useContext)(J).state,a=et(n),r=Object(c.useState)(""),s=Object(u.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)([]),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(ae.g)(),b=Object(c.useState)(!1),p=Object(u.a)(b,2),h=p[0],T=p[1];ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.VIEWED,"SharedList Table Viewed");var m=Object.values(t),f=[{title:"Name",dataIndex:"listName",width:"20%",textWrap:"word-break",ellipsis:!0,render:function(e,t){return Object(N.jsx)(oO,{onClick:function(e){return Ae(E,t.shareId,t.listName)},children:e})}},{title:"Public URL",dataIndex:"size",width:"50%",textWrap:"word-break",ellipsis:!0,render:function(e,t){var n=S.CONSTANTS.getSharedListURL(t.shareId,t.listName);return Object(N.jsx)("span",{children:Object(N.jsx)("span",{style:{marginRight:"1%",cursor:"pointer"},children:Object(N.jsx)(Fr.CopyToClipboard,{text:n,onCopy:function(){return function(e){ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.COPIED,"SharedList url copied from index page"),o(e)}(n)},children:Object(N.jsx)(kr.a,{title:i===n?"Copied!":"Copy To Clipboard",children:n})})})})}},{title:"Created on",align:"center",dataIndex:"creationDate",valueType:"date",render:function(e,t){var n=t.creationDate;return ec()(n).format("LL")}},{title:"Actions",align:"right",render:function(e,t){return Object(N.jsx)(Zr.a,{children:function(e){var n=e.isHovering;return Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(Nu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(kr.a,{title:"View List Content",children:Object(N.jsx)(Nl.a,{onClick:function(){return e=t.shareId,n=t.listName,void Ae(E,e,n);var e,n}})})}),Object(N.jsx)(Nu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(kr.a,{title:"Delete List",children:Object(N.jsx)(Jr.a,{onClick:function(){return e=t.shareId,j([e]),T(!0),void ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.WORKFLOW_STARTED,"SharedList Delete Requested from Index Page");var e}})})})]})}})}}];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(At.a,{className:"primary-card",title:null,children:Object(N.jsx)(Oa.a,{rowKey:"shareId",dataSource:m,options:!1,pagination:!1,search:!1,dateFormatter:!1,headerTitle:Object(N.jsxs)(N.Fragment,{children:["Manage Shared Lists"," ","bronze"===ht(a)?"(".concat(Object.entries(t).length,"/").concat(function(){var e=ht(a);return mt(W.FEATURES.SHARED_LISTS,e)}()," Lists Created)"):null,"bronze"===ht(a)?Object(N.jsx)(oO,{onClick:function(e){e.preventDefault(),ge(E),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.REMOVE_LIMIT_CLICKED,"remove.limit.clicked@shared.lists.page",Object.entries(t).length)},style:{marginLeft:"1rem"},children:"Remove Limits"}):null]}),columns:f})}),h?Object(N.jsx)(iO,{isOpen:h,toggle:function(){T(!h)},sharedListIdsToDeleteArray:O,userId:a.details.profile.uid}):null]})},uO=function(){var e=Object(ae.g)();return Object(N.jsx)(At.a,{className:"primary-card",children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,style:{textAlign:"center"},children:Object(N.jsxs)(oe.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3",children:"Share Rules with other users"}),Object(N.jsx)("p",{className:"lead",children:"To create a Shared List, go to Rules page, select the required Rules & click Share Rules button"}),Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){return me(e)},children:"Go to Rules"}),Object(N.jsx)(Ct.a,{color:"secondary",onClick:function(){return window.open(W.LINKS.REQUESTLY_DOCS_SHARING_RULES,"_blank")},children:"Documentation"})]})]})})})})},dO=S.CONSTANTS.GA_EVENTS,OO=function(){var e=Object(c.useContext)(J).state,t=et(e),n=function(e){return nt(e).sharedLists}(e),a=Object(c.useState)(!0),r=Object(u.a)(a,2),s=r[0],i=r[1],o=Object(c.useState)({}),l=Object(u.a)(o,2),d=l[0],O=l[1],j=Object(c.useCallback)((function(e){ml(e.details.profile.uid).then((function(e){O(e),i(!1),e&&ta(dO.ATTR.NUM_SHARED_LISTS,Object.keys(e).length),e||ta(dO.ATTR.NUM_SHARED_LISTS,0)}))}),[]);return ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.WORKFLOW_STARTED,"SharedList index page opened"),Object(c.useLayoutEffect)((function(){t.loggedIn&&t.details.profile&&(ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.ALREADY_LOGIN,"Already login on SharedList index page"),j(t))}),[t,j,n]),s?Object(N.jsx)(vr,{customLoadingMessage:"Loading Shared Lists"}):ce()(d)?Object(N.jsx)(uO,{}):Object(N.jsx)(lO,{sharedLists:d})},jO=function(e){Object(ar.a)(n,e);var t=Object(rr.a)(n);function n(){return Object(tr.a)(this,n),t.apply(this,arguments)}return Object(nr.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Bt,{component:OO})})}}]),n}(s.a.Component),EO=function(e){var t=e.rules,n=e.groups,a=Object(ae.g)(),r=Object(c.useContext)(J).state,s=ct(r),i=qe(r),o=Object(c.useState)(!1),l=Object(u.a)(o,2),d=l[0],O=l[1],j=Object(c.useState)(!1),E=Object(u.a)(j,2),b=E[0],p=E[1],h=et(r),T=function(e){if(Ss()){O(!0),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.IMPORTED,"SharedList Import Started");var r=t||[],c=n||[];$o([].concat(Object(gt.a)(r),Object(gt.a)(c)),h,i).then((function(e){Qo(s,e.data).then((function(){Fe.info("Successfully imported rules"),me(a)}))}))}else p(!0)},m=function(){return p(!b)},f=function(){return Object(N.jsx)(tn.a,{visible:b,onCancel:m,footer:null,children:Object(N.jsx)(Lo,{heading:"Browser Extension Required",content:"Please install Requestly Browser Extension to import shared list."})})};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(f,{}),Object(N.jsx)(At.a,{className:"primary-card",title:null,children:Object(N.jsx)(vd,{options:{disableSelection:!0,disableEditing:!0,disableActions:!0,disableFavourites:!0,disableStatus:!0},rules:t,groups:n,headerTitle:"Shared List - Content",toolBarRender:function(){return[Object(N.jsx)(Ct.a,{type:"primary",icon:Object(N.jsx)(gl.a,{}),onClick:T,loading:d,children:"Import to My Rules"})]}})})]})},bO=W.PATHS,SO=function(){var e=Object(c.useContext)(J),t=e.state,n=e.dispatch,a=at(t),r=ct(t),i=Object(c.useState)([]),o=Object(u.a)(i,2),l=o[0],d=o[1],O=Object(c.useState)([]),j=Object(u.a)(O,2),E=j[0],b=j[1],p=Object(c.useCallback)(n,[n]),h=window.location.pathname.split("/")[bO.SHARED_LISTS.VIEWER.ABSOLUTE.split("/").length+1-1].split("-")[0];Object(c.useEffect)((function(){var e=Ls(r).getRecords(S.CONSTANTS.OBJECT_TYPES.GROUP),t=Ls(r).getRecords(S.CONSTANTS.OBJECT_TYPES.RULE);Promise.all([e,t]).then((function(e){var t=e[0],n=e[1];p(yt(n,t))}))}),[p,a,r]);var T=Object(c.useCallback)((function(){(function(e){var t=ic(e);return Wn.getValue(t)})(h).then((function(e){d(e.rules),b(e.groups)}))}),[h]);return ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.VIEWED,"SharedList Index Page Viewed"),Object(c.useLayoutEffect)((function(){T()}),[T]),Object(N.jsx)(s.a.Fragment,{children:ce()(l)?null:Object(N.jsx)(EO,{rules:l,groups:E})})},pO=function(e){Object(ar.a)(n,e);var t=Object(rr.a)(n);function n(){return Object(tr.a)(this,n),t.apply(this,arguments)}return Object(nr.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(SO,{})})}}]),n}(s.a.Component),hO=n(391),TO=function(e){var t=e.isOpen,n=e.toggleModal,a=e.userId,r=e.teamId,s=e.isCurrentlyAdmin,i=e.callbackOnSuccess,o=Object(c.useState)(!1),l=Object(u.a)(o,2),d=l[0],O=l[1];return Object(N.jsxs)(tn.a,{style:{marginTop:"200px"},visible:t,onCancel:n,footer:null,children:[Object(N.jsx)("div",{children:Object(N.jsx)("h2",{children:"Change Role"})}),Object(N.jsx)("div",{children:s?Object(N.jsxs)("h3",{children:["Remove admin access from this user? ",Object(N.jsx)("br",{}),"This user would no longer be able to add or remove members from this team"]}):Object(N.jsxs)("h3",{children:["Grant admin access to this user? ",Object(N.jsx)("br",{}),"This user would be able to add or remove members from this team"]})}),Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse",marginTop:"20px"},children:[Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){return O(!0),void Ee.functions().httpsCallable("updateTeamUserRole")({teamId:r,userId:a,role:s?"user":"admin"}).then((function(e){Fe.info("Successfully changed the role"),i&&i(),O(!1),n()})).catch((function(e){Fe.error(e.message),O(!1),n()}))},disabled:d,children:d?Object(N.jsxs)("span",{children:[Object(N.jsx)(x.H,{style:{marginRight:"5px"},className:"icon-spin"}),Object(N.jsx)("span",{children:s?"Revoking admin access":"Granting admin access"})]}):s?"Remove admin access":"Grant admin access"}),Object(N.jsx)(Ct.a,{style:{marginRight:"10px"},type:"secondary",onClick:n,disabled:d,children:"Close"})]})]})},mO=function(e){var t=e.isOpen,n=e.toggleModal,a=e.userId,r=e.teamId,s=(e.isCurrentlyAdmin,e.callbackOnSuccess),i=Object(c.useState)(!1),o=Object(u.a)(i,2),l=o[0],d=o[1];return Object(N.jsxs)(tn.a,{style:{marginTop:"200px"},visible:t,onCancel:n,footer:null,children:[Object(N.jsx)("div",{children:Object(N.jsx)("h2",{children:"Remove Member"})}),Object(N.jsxs)("div",{children:[Object(N.jsx)("h3",{children:"Do you really want to remove this user from the team?"}),Object(N.jsx)("h3",{children:"They would no longer be able use your team's subscription"})]}),Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse",marginTop:"20px"},children:[Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){return d(!0),void Ee.functions().httpsCallable("updateTeamUserRole")({teamId:r,userId:a,role:"remove"}).then((function(e){Fe.info("Member removed"),s&&s(),d(!1),n()})).catch((function(e){Fe.error(e.message),d(!1),n()}))},disabled:l,children:l?Object(N.jsxs)("span",{children:[Object(N.jsx)(x.H,{style:{marginRight:"5px"},className:"icon-spin"}),Object(N.jsx)("span",{children:"Removing user"})]}):"Yes, remove"}),Object(N.jsx)(Ct.a,{style:{marginRight:"10px"},type:"secondary",onClick:n,disabled:l,children:"No"})]})]})},fO=function(e){var t=e.isOpen,n=e.toggleModal;return Object(N.jsxs)(tn.a,{style:{marginTop:"200px"},visible:t,onCancel:n,footer:null,children:[Object(N.jsx)("div",{children:Object(N.jsx)("h2",{children:"To Remove Team Member"})}),Object(N.jsx)("div",{children:Object(N.jsxs)("h3",{children:["Please write to us at"," ",Object(N.jsx)("a",{href:"mailto:".concat(S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),children:S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})," ","and we'll revert you within 4-5 hours."]})})]})},AO=function(e){var t=e.teamId,n=e.refresh,a=Object(ae.g)(),r=Object(c.useRef)(!0),i=Object(c.useContext)(J).state,o=et(i),l=Object(c.useState)([]),d=Object(u.a)(l,2),O=d[0],E=d[1],b=Object(c.useState)([]),p=Object(u.a)(b,2),h=p[0],T=p[1],m=Object(c.useState)({isActive:!1,userId:!1,isCurrentlyAdmin:!1}),f=Object(u.a)(m,2),A=f[0],R=f[1],C=Object(c.useState)({isActive:!1,userId:!1}),g=Object(u.a)(C,2),_=g[0],I=g[1],L=Object(c.useState)(!1),y=Object(u.a)(L,2),v=y[0],U=y[1],P=Object(c.useState)(!0),D=Object(u.a)(P,2),w=D[0],M=D[1],k=Object(c.useState)(!1),G=Object(u.a)(k,2),F=G[0],B=G[1],V=Ee.functions().httpsCallable("getTeamUsers"),Y=Ee.functions().httpsCallable("getTeamSubscriptionInfo"),H=Object(c.useCallback)(V,[]),K=Object(c.useCallback)(Y,[]),W=[{title:!1,dataIndex:"img",key:"img",align:"center",render:function(e){return Object(N.jsx)("span",{style:{zIndex:"unset"},children:Object(N.jsx)("img",{alt:e.displayName,style:{borderRadius:"50%",width:"12%"},src:e.photoUrl})})}},{title:"Member",dataIndex:"member",align:"center",render:function(e){return Object(N.jsx)("span",{style:{width:"100px"},children:e.displayName.concat(o.details.profile.uid===e.id?" (You) ":"")})}},{title:"Role",dataIndex:"role",align:"center",render:function(e){return Object(N.jsx)("span",{style:{width:"300px"},children:e.isOwner?Object(N.jsxs)("span",{children:[Object(N.jsx)(la.a,{status:"success"})," Owner"]}):e.isAdmin?Object(N.jsxs)("span",{children:[Object(N.jsx)(la.a,{status:"success"})," Admin"]}):Object(N.jsx)("span",{children:"Member"})})}},{title:"Actions",dataIndex:"actions",align:"right",render:function(e){return Object(N.jsx)("span",{style:{width:"300px"},children:e.isOwner?"-":Object(N.jsxs)("span",{style:{fontSize:"1.3em"},children:[Object(N.jsxs)("span",{className:"custom-tooltip",style:{marginRight:"20px",cursor:"pointer"},children:[Object(N.jsx)(x.l,{onClick:function(){R(Object(j.a)(Object(j.a)({},A),{},{isActive:!0,userId:e.id,isCurrentlyAdmin:e.isAdmin}))}}),Object(N.jsx)("span",{className:"custom-tooltiptext",children:"Change Role"})]}),Object(N.jsxs)("span",{className:"custom-tooltip",style:{cursor:"pointer"},children:[Object(N.jsx)(x.L,{onClick:function(){F?I(Object(j.a)(Object(j.a)({},_),{},{isActive:!0,userId:e.id})):U(!0)}}),Object(N.jsx)("span",{className:"custom-tooltiptext",children:"Remove"})]})]})})}}],q=function(){H({teamId:t}).then((function(e){if(!r.current)return null;var t=e.data;if(!t.success)throw new Error(t.message);E(t.users)})).catch((function(e){if(!r.current)return null;Fe.error(e.message),Le(a)}))},Q=Object(c.useCallback)(q,[t,a]),z=Object(c.useCallback)((function(){K({teamId:t}).then((function(e){var t=e.data;M(t.subscriptionStatus===S.CONSTANTS.SUBSCRIPTION_STATUS.ACTIVE)})).catch((function(e){return new Error(e)}))}),[K,t]),X=function(){E([]),r.current=!0,q()},Z=Object(c.useCallback)(X,[]);return Object(c.useEffect)((function(){return Q(),function(){r.current=!1}}),[Q]),Object(c.useEffect)((function(){Z()}),[Z,n]),Object(c.useEffect)((function(){T([]),O.map((function(e,t){return T((function(n){return[].concat(Object(gt.a)(n),[{key:t+1,img:e,member:e,role:e,actions:e}])}))}))}),[O]),Object(c.useEffect)((function(){if(o.details.isLoggedIn){z();var e="requestly-extention@gmail.com"===o.details.profile.email;B(e||!w)}}),[o,z,t,w]),Object(N.jsxs)(s.a.Fragment,{children:[Object(pe.isEmpty)(O)?Object(N.jsx)(Se,{customLoadingMessage:"Finding your teammates"}):Object(N.jsx)(hO.a,{columns:W,dataSource:h,pagination:!1}),Object(N.jsx)(TO,{isOpen:A.isActive,toggleModal:function(){R(Object(j.a)(Object(j.a)({},A),{},{isActive:!A.isActive}))},userId:A.userId,teamId:t,isCurrentlyAdmin:A.isCurrentlyAdmin,callbackOnSuccess:function(){return X()}}),Object(N.jsx)(mO,{isOpen:_.isActive,toggleModal:function(){I(Object(j.a)(Object(j.a)({},_),{},{isActive:!_.isActive}))},userId:_.userId,teamId:t,callbackOnSuccess:function(){return X()}}),Object(N.jsx)(fO,{isOpen:v,toggleModal:function(){U((function(e){return!e}))}})]})},RO=function(e){var t=e.isOpen,n=e.toggleModal,a=e.teamId,r=e.email,s=e.isAdmin,i=Object(c.useState)(!1),o=Object(u.a)(i,2),l=o[0],d=o[1];return Object(N.jsxs)(tn.a,{className:"modal-dialog-centered modal-danger",contentClassName:"bg-gradient-danger bg-gradient-blue",visible:t,onCancel:n,footer:null,title:"Invite email to your team",children:[Object(N.jsx)("div",{className:"modal-body",children:Object(N.jsx)(je.a,{children:Object(N.jsxs)("div",{children:["Oops! ",r," does not seem to have a Requestly account yet. Do you want to send them a magic invite link via email? They will be automatically added to this team upon signup using that link."]})})}),Object(N.jsx)("br",{}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,align:"right",children:Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(Ct.a,{className:"text-white ml-auto",color:"link","data-dismiss":"modal",type:"button",onClick:n,disabled:l,children:"No, I'll add them later"}),Object(N.jsx)(Ct.a,{className:"btn-white",color:"default",onClick:function(){return d(!0),void Ee.functions().httpsCallable("inviteEmailToTeam")({teamId:a,email:r,isAdmin:s}).then((function(e){e.data.success?Fe.info("We've sent them an invite"):Fe.error("Opps! Couldn`t send the invite"),d(!1),n()})).catch((function(e){console.log(e.message),Fe.error("Opps! Couldn`t send the invite"),d(!1),n()}))},loading:l,type:"primary",children:"Yes, please send"})]})})})]})},xO=S.CONSTANTS.GA_EVENTS,NO=function(e){var t=e.isOpen,n=e.toggleModal,a=e.teamId,r=e.callback,s=Object(c.useState)(""),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(!1),S=Object(u.a)(b,2),p=S[0],h=S[1],T=Object(c.useState)(!1),m=Object(u.a)(T,2),f=m[0],A=m[1];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(tn.a,{style:{marginTop:"200px"},visible:t,onCancel:n,footer:null,title:"Add Team Member",children:[Object(N.jsx)("div",{children:Object(N.jsxs)(je.a,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsx)(nn.a,{placeholder:"Email Address",type:"email",value:o,onChange:function(e){l(e.target.value)},addonBefore:Object(N.jsx)(Ti.a,{})})})}),Object(N.jsx)(Rt.a,{style:{marginTop:"4%",marginBottom:"4%"},children:Object(N.jsx)(xt.a,{span:24,align:"right",children:Object(N.jsx)(Vu.a,{checked:j,onChange:function(e){E(!j),ea(xO.CATEGORIES.TEAMS,xO.ACTIONS.WORKFLOW_STARTED,"Check for Admin access to Team else made admin")},children:"Grant Admin Access"})})})]})}),Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse",gap:8},children:[Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){return function(){if(!Ma()(o))return Fe.warn("Please enter a valid email"),void ea(xO.CATEGORIES.TEAMS,xO.ACTIONS.ERROR,"Email entered is not Valid");var e=Ee.functions().httpsCallable("addUserToTeam");A(!0),e({teamId:a,email:o,isAdmin:j}).then((function(e){A(!1),r&&r(),n(),ea(xO.CATEGORIES.TEAMS,xO.ACTIONS.FORM_SUBMITTED,"Successfully added member in team")})).catch((function(e){A(!1),"user-not-found"===e.message?(h(!0),ea(xO.CATEGORIES.TEAMS,xO.ACTIONS.ERROR,"Add member User Not found error")):"user-already-exists"===e.message?(Fe.warn("User already has access to the team"),n(),ea(xO.CATEGORIES.TEAMS,xO.ACTIONS.ERROR,"User already has access to the team")):(Fe.warn("Trouble adding user"),ea(xO.CATEGORIES.TEAMS,xO.ACTIONS.ERROR,"Trouble adding user"))}))}()},disabled:f,children:f?Object(N.jsxs)("span",{children:[Object(N.jsx)(x.H,{className:"icon-spin"})," Adding Member"]}):Object(N.jsx)("span",{children:"Add Member"})}),Object(N.jsx)(Ct.a,{"data-dismiss":"modal",type:"secondary",onClick:n,disabled:f,children:"Close"})]})]}),p?Object(N.jsx)(RO,{isOpen:p,toggleModal:function(){h(!p),n()},email:o,teamId:a,isAdmin:j}):null]})},CO=S.CONSTANTS.GA_EVENTS,gO=function(e){var t=e.teamId,n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(!1),o=Object(u.a)(i,2),l=o[0],d=o[1];return Object(N.jsxs)("div",{style:{marginTop:"30px"},children:[Object(N.jsxs)(Rt.a,{children:[Object(N.jsx)(xt.a,{children:Object(N.jsx)("h3",{children:"Members"})}),Object(N.jsx)(xt.a,{style:{margin:"5px 20px 0px auto"},children:Object(N.jsxs)(Ct.a,{type:"primary",onClick:function(){s(!0),ea(CO.CATEGORIES.TEAMS,CO.ACTIONS.CLICKED,"Add Member in Team button clicked")},children:[Object(N.jsx)(da.a,{})," Add Member"]})})]}),Object(N.jsx)("div",{style:{marginTop:"20px"},children:Object(N.jsx)(AO,{teamId:t,refresh:l})}),r?Object(N.jsx)(NO,{isOpen:r,toggleModal:function(){s(!r)},teamId:t,callback:function(){d(!l)}}):null]})},_O=S.CONSTANTS.GA_EVENTS,IO=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsxs)("div",{style:{background:"transparent",margin:"auto",textAlign:"center"},children:[Object(N.jsx)("h3",{children:"One subscription for all your team members. Subscribe to one of the plans to get started."}),Object(N.jsx)("br",{}),Object(N.jsxs)("p",{children:[Object(N.jsx)(Ct.a,{type:"primary",icon:Object(N.jsx)(mc.a,{}),onClick:function(){a(!0),ea(_O.CATEGORIES.TEAMS,_O.ACTIONS.CLICKED,"Clicked View Plans button on Team Info page redirected@mini pricing table")},children:"Get Started"}),Object(N.jsx)(Ct.a,{style:{marginLeft:"10px"},type:"secondary",onClick:function(){window.open(W.PATHS.PRICING.ABSOLUTE),ea(_O.CATEGORIES.TEAMS,_O.ACTIONS.CLICKED,"Clicked Learn More button on Team Info page redirected@Pricing table")},children:"Learn More"})]})]})}),n?Object(N.jsx)(mi,{isVisible:n,toggleModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!n;a(e)}}):null]})},LO=n(991),yO=function(e){var t=e.teamId,n=Object(c.useRef)(!0),a=Object(c.useState)({}),r=Object(u.a)(a,2),i=r[0],o=r[1],l=Object(c.useState)(!1),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useCallback)((function(){j(!0),Ee.functions().httpsCallable("getTeamSubscriptionInfo")({teamId:t}).then((function(e){if(!n.current)return null;o(e.data),j(!1)})).catch((function(e){if(!n.current)return null;Fe.error("Oops! An error occured. You might not have permission."),j(!1)}))}),[t]);return Object(c.useEffect)((function(){return E(),function(){n.current=!1}}),[E]),Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:O?Object(N.jsx)(Se,{customLoadingMessage:"Fetching subscription"}):Object(N.jsx)(kc.a,{title:"Billing",extra:i.subscriptionStatus?Object(N.jsx)(xt.a,{children:Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){return Pe({mode:"team",teamId:t})},icon:Object(N.jsx)(LO.a,{}),children:"Update Payment Method"})}):null,children:i.subscriptionStatus?Object(N.jsx)(ri,{mode:"team",teamId:t}):Object(N.jsx)(IO,{teamId:t})})})})})},vO=n(333),UO=n(992),PO=S.CONSTANTS.GA_EVENTS,DO=function(e){var t=e.teamId,n=Object(ae.g)(),a=Object(c.useRef)(!0);t||Me(n);var r=Object(c.useState)(""),s=Object(u.a)(r,2),i=s[0],o=s[1],l=Object(c.useState)(""),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useState)(""),b=Object(u.a)(E,2),S=b[0],p=b[1],h=Object(c.useState)(""),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useState)(""),R=Object(u.a)(A,2),x=R[0],C=R[1],g=Object(c.useState)(!1),_=Object(u.a)(g,2),I=_[0],L=_[1],y=Object(c.useCallback)((function(){L(!0),Ee.functions().httpsCallable("getTeamInfo")({teamId:t}).then((function(e){if(!a.current)return null;var t=e.data;if(!t.success)throw new Error(t.message);var n=t.data;o(n.name),j(new Date(1e3*n.creationTime._seconds).toDateString()),p(n.subscriptionStatus),C(new Date(1e3*n.subscriptionCurrentPeriodStart).toDateString()),f(new Date(1e3*n.subscriptionCurrentPeriodEnd).toDateString()),L(!1)})).catch((function(e){if(!a.current)return null;e&&(Fe.error("This link has been expired. Please retry."),ea(PO.CATEGORIES.PAGE_VISITS,PO.ACTIONS.ROUTE_VIEWED,"Redirected to 404 from team info page"),Me(n))}))}),[n,t]);return Object(c.useEffect)((function(){return y(),function(){a.current=!1}}),[y,t]),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{children:Object(N.jsxs)(Rt.a,{children:[Object(N.jsx)(xt.a,{span:12,children:Object(N.jsx)("span",{children:"Team Details"})}),"active"===S?Object(N.jsx)(xt.a,{align:"right",span:12,children:Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){Ue({mode:"team",planType:"enterprise",teamId:t}),ea(PO.CATEGORIES.TEAMS,PO.ACTIONS.CLICKED,"Change Plan button clicked redirected to update subscription")},icon:Object(N.jsx)(vO.a,{}),children:"Change Plan"})}):null,"canceled"===S||"incomplete_expired"===S?Object(N.jsx)(xt.a,{align:"right",span:12,children:Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){Ue({mode:"team",planType:"enterprise",teamId:t,isRenewal:!0}),ea(PO.CATEGORIES.TEAMS,PO.ACTIONS.CLICKED,"Renew Subscription button clicked redirected to update subscription")},icon:Object(N.jsx)(UO.a,{}),children:"Renew Subscription"})}):null]})}),I?Object(N.jsx)("div",{children:Object(N.jsx)(Se,{customLoadingMessage:"Loading Team Info"})}):Object(N.jsx)("div",{style:{marginTop:"1%"},children:Object(N.jsxs)(Ta.b,{title:null,bordered:!0,column:2,children:[Object(N.jsx)(Ta.b.Item,{label:"Team Name",children:i}),Object(N.jsx)(Ta.b.Item,{label:"Created on",children:O}),!S||Object(pe.isEmpty)(S)?null:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Ta.b.Item,{label:"Current Period",children:"".concat(x," ~ ").concat(m)}),Object(N.jsx)(Ta.b.Item,{label:"Subscription Status",children:ga(S)})]})]})})]})},wO=function(e){var t=e.teamId;return Object(N.jsxs)(kc.a,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{children:Object(N.jsx)("h1",{children:"Manage Team"})})}),Object(N.jsxs)("div",{children:[Object(N.jsx)(DO,{teamId:t}),Object(N.jsx)(gO,{teamId:t}),Object(N.jsx)(yO,{teamId:t}),Object(N.jsxs)("div",{style:{fontSize:"0.8125rem",textAlign:"center",marginTop:"40px"},children:["Any questions? Reach our payment support team at"," ",Object(N.jsx)("a",{href:"mailto:".concat(S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),children:S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})]})]})]})},MO=function(e){var t=e.match.params.teamId;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Bt,{component:wO,teamId:t})})},kO=S.CONSTANTS.GA_EVENTS,GO=function(){var e=Object(c.useContext)(J).state,t=et(e),n=Object(c.useState)({}),a=Object(u.a)(n,2),r=a[0],i=a[1],o=Object(c.useState)(""),d=Object(u.a)(o,2),O=d[0],j=d[1],E=Object(c.useState)(!1),b=Object(u.a)(E,2),S=b[0],p=b[1],h=Object(c.useState)(!0),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useState)(!1),R=Object(u.a)(A,2),C=R[0],g=R[1],_=Object(c.useState)(!0),I=Object(u.a)(_,2),L=I[0],y=I[1],v=Object(c.useState)(!1),U=Object(u.a)(v,2),P=U[0],D=U[1],w=Object(c.useState)(!1),M=Object(u.a)(w,2),k=M[0],G=M[1],F=Object(c.useState)(!1),B=Object(u.a)(F,2),V=B[0],Y=B[1],H=Object(c.useState)(!1),K=Object(u.a)(H,2),q=K[0],Q=K[1],z=Object(c.useState)(!1),X=Object(u.a)(z,2),Z=X[0],$=X[1],ee=function(e){return e?Object(N.jsxs)("span",{style:{color:"green"},children:["  ",Object(N.jsx)(x.b,{})]}):""},te=function(e,t){j(t),Hn(["customProfile",r.uid],{position:e}),ea(kO.CATEGORIES.UNLOCK,kO.ACTIONS.CLICKED,e),ta(kO.ATTR.PROFILE,e)},ne=function(e,t){switch(e.preventDefault(),ea(kO.CATEGORIES.UNLOCK,kO.ACTIONS.CLICKED,t),t){case"twitter_follow_step":window.open("https://twitter.com/requestlyIO","_blank"),setTimeout((function(){p(!0)}),3e3);break;case"tweet_step":window.open(" https://twitter.com/intent/tweet?url=https%3A%2F%2Frequestly.io%2F&via=requestlyIO&text=Check%20out%20Requestly%20chrome%20extension%20which%20lets%20you%20Setup%20redirects%2C%20modify%20headers%2C%20switch%20hosts%2C%20insert%20user%20scripts%20and%20much%20more%21","_blank"),setTimeout((function(){f(!0)}),3e3);break;case"linkedin_step":window.open("https://www.linkedin.com/company/14623447/","_blank"),setTimeout((function(){D(!0)}),3e3);break;case"reddit_step":window.open("https://www.reddit.com/r/requestly/","_blank"),setTimeout((function(){G(!0)}),3e3);break;case"rate_us_chrome_store_step":window.open("https://chrome.google.com/webstore/detail/requestly-redirect-url-mo/mdnleldcmiljblolnjhpnblkcekpdkpa","_blank"),setTimeout((function(){g(!0)}),6e3);break;case"watch_and_star_us_on_github_step":window.open("https://github.com/requestly/customer-support/subscription","_blank"),setTimeout((function(){y(!0)}),6e3)}},ae=function(){O&&S&&m&&C&&L&&P&&k?On(r.email)?($(!0),Hn(["unlock",r.uid],{status:"pending",lastUpdated:(new Date).toISOString().split("T")[0]},(function(){Ee.functions().httpsCallable("unlockPremium")({userId:r.uid,email:r.email,userName:r.displayName,position:O}).then((function(){window.location.reload(),$(!1)}))}))):Fe.warn("Please login with company email to unlock Requestly Premium"):Fe.warn("Please complete all the steps before continuing")};return Object(c.useLayoutEffect)((function(){t.details.isLoggedIn&&(i(t.details.profile),Yn(["unlock",t.details.profile.uid]).then((function(e){(e=e||{}).status&&"unlocked"===e.status?(Q(!0),Y(!1)):"pending"===e.status?(Y(!0),Q(!1)):(Q(!1),Y(!1))})).catch((function(){Q(!1),Y(!1)})))}),[t]),Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(ue.a,{className:" mt--7 sm-margin-top-negative-3",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)("div",{className:"col",children:Object(N.jsxs)(Oe.a,{className:"shadow",children:[Object(N.jsx)(Yt.a,{className:"border-0 has-thin-border-bottom",style:{position:"sticky",top:"0",zIndex:"1"},children:Object(N.jsx)(de.a,{className:"align-items-center",children:Object(N.jsxs)(ie.a,{className:"text-center text-sm-center text-xl-left text-lg-left text-md-left margin-bottom-1-when-xs margin-bottom-1-when-sm",children:[Object(N.jsx)("h2",{className:"mb-0",children:"Unlock 30 days of Requestly Premium"}),Object(N.jsx)("h4",{className:"text-muted mb-0",children:"Requestly Premium can be unlocked with company email accounts only"})]})})}),Object(N.jsx)(je.a,{children:V?Object(N.jsx)("article",{className:"message is-link",children:Object(N.jsxs)("div",{className:"message-body has-text-centered",children:["Thank you for expressing your interest to unlock Requestly Premium."," ",Object(N.jsx)("br",{}),"We have received your request and will activate your premium in 2-3 business days."]})}):q?Object(N.jsxs)(oe.a,{style:{background:"transparent"},className:"text-center",children:["You have successfully unlocked Requestly Premium.",Object(N.jsx)("br",{})," If you love Requestly Premium, you can get our premium plan"," ",Object(N.jsx)(l.b,{to:W.PATHS.PRICING.ABSOLUTE,children:"here"}),Object(N.jsx)("br",{})," We offer discounts on bulk purchase (Enterprise Plan).",Object(N.jsx)("br",{})," Please get in touch at contact@requestly.io for the same.",Object(N.jsx)("div",{className:"has-text-centered",style:{paddingTop:"1rem",paddingBottom:"0.25rem"},children:Object(N.jsx)(l.b,{to:W.PATHS.PRICING.ABSOLUTE,className:"button is-primary",children:"Upgrade"})})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Yc.a,{color:"secondary",className:"has-transparent-bgcolor has-no-border",children:Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{children:"Follow us on LinkedIn"}),Object(N.jsxs)(ie.a,{children:[P?"Complete":"Pending",ee(P)]}),Object(N.jsx)(ie.a,{children:Object(N.jsxs)("span",{onClick:function(e){return ne(e,"linkedin_step")},className:"cursor-pointer",children:[Object(N.jsx)(x.v,{}),"\xa0\xa0 Follow Us"]})})]})}),Object(N.jsx)(Yc.a,{color:"secondary",className:"has-transparent-bgcolor has-no-border",children:Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{children:"How do you best identify yourself"}),Object(N.jsxs)(ie.a,{children:[O?"Complete":"Pending",ee(O)]}),Object(N.jsx)(ie.a,{children:en(O,te)})]})}),Object(N.jsx)(Yc.a,{color:"secondary",className:"has-transparent-bgcolor has-no-border",children:Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{children:"Follow us on Twitter"}),Object(N.jsxs)(ie.a,{children:[S?"Complete":"Pending",ee(S)]}),Object(N.jsx)(ie.a,{children:Object(N.jsxs)("span",{onClick:function(e){return ne(e,"twitter_follow_step")},className:"cursor-pointer",children:[Object(N.jsx)(x.M,{}),"\xa0\xa0 Follow"]})})]})}),Object(N.jsx)(Yc.a,{color:"secondary",className:"has-transparent-bgcolor has-no-border",children:Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{children:"Rate us on Chrome Store"}),Object(N.jsxs)(ie.a,{children:[C?"Complete":"Pending",ee(C)]}),Object(N.jsx)(ie.a,{onClick:function(e){return ne(e,"rate_us_chrome_store_step")},className:"cursor-pointer",children:Object(N.jsxs)("span",{className:"button is-success",children:[Object(N.jsx)(x.d,{}),"\xa0\xa0 Rate Us"]})})]})}),Object(N.jsx)(Yc.a,{color:"secondary",className:"has-transparent-bgcolor has-no-border",children:Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{children:"Join our subreddit"}),Object(N.jsxs)(ie.a,{children:[k?"Complete":"Pending",ee(k)]}),Object(N.jsx)(ie.a,{children:Object(N.jsxs)("span",{onClick:function(e){return ne(e,"reddit_step")},className:"cursor-pointer",children:[Object(N.jsx)(x.C,{}),"\xa0\xa0 Join Us"]})})]})}),Object(N.jsx)("div",{className:"columns",children:Object(N.jsx)("div",{className:"column has-text-centered text-center",children:Object(N.jsx)(le.a,{disabled:!(S&&m&&C&&r&&L),className:"btn-icon btn-3",color:"primary",type:"button",onClick:ae,children:Z?Object(N.jsx)(x.H,{className:"icon-spin"}):Object(N.jsx)("span",{children:"Unlock Premium"})})})})]})})]})})})})})},FO=function(e){Object(ar.a)(n,e);var t=Object(rr.a)(n);function n(){return Object(tr.a)(this,n),t.apply(this,arguments)}return Object(nr.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Bt,{component:GO})})}}]),n}(s.a.Component),BO=S.CONSTANTS.GA_EVENTS,VO=W.PATHS,YO=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),i=Object(u.a)(r,2),o=i[0],l=i[1],d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useContext)(J).state,S=et(b);return Object(c.useEffect)((function(){var e,t=Or();t.oobCode&&!j&&S.loggedIn&&(E(!0),a(t.continueUrl),(e=t.oobCode,Ee.auth().applyActionCode(e)).then((function(e){l(!0),fn(S.details.profile.uid,!0),ea(BO.CATEGORIES.USER,BO.ACTIONS.EMAIL_VERIFICATION_SUCCESSFUL,"".concat(BO.CATEGORIES.USER,"_").concat(BO.ACTIONS.EMAIL_VERIFICATION_SUCCESSFUL))})).catch((function(e){console.log(e),l(!1),ea(BO.CATEGORIES.USER,BO.ACTIONS.EMAIL_VERIFICATION_FAILED,"".concat(BO.CATEGORIES.USER,"_").concat(BO.ACTIONS.EMAIL_VERIFICATION_FAILED))})))}),[S.loggedIn,S.details,j,o]),Object(N.jsx)(s.a.Fragment,{children:S.loggedIn?Object(N.jsx)(ue.a,{className:" mt--7 sm-margin-top-negative-3",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(Oe.a,{className:"shadow",children:Object(N.jsx)(je.a,{children:Object(N.jsx)(oe.a,{style:{background:"transparent"},className:"text-center",children:o&&n?Object(N.jsxs)("div",{children:[Object(N.jsx)("h5",{className:"title is-6",children:"Your Email has been Verified."}),Object(N.jsx)(Pr,{delay:3,path:VO.RULES.RELATIVE,message:"Redirecting you to home"})]}):Object(N.jsxs)("div",{children:[Object(N.jsx)("h5",{className:"title is-6",children:"Oops! Looks like the email verification link is invalid or expired."}),Object(N.jsx)(le.a,{className:"btn-icon btn-3",color:"primary",type:"button",onClick:Rn,children:"Resend Verification email"})]})})})})})})}):Object(N.jsx)(kt,{})})},HO=function(e){Object(ar.a)(n,e);var t=Object(rr.a)(n);function n(){return Object(tr.a)(this,n),t.apply(this,arguments)}return Object(nr.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(YO,{})})}}]),n}(s.a.Component),KO=function(){var e=Object(c.useState)(Tn(window.localStorage.getItem("RQEmailForSignIn"))?window.localStorage.getItem("RQEmailForSignIn"):null),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(u.a)(r,2),i=s[0],o=s[1],l=Object(c.useContext)(J).state,d=et(l);return Object(c.useEffect)((function(){setTimeout((function(){document.getElementById("SignInViaEmailLinkLoginBtn").click()}),300)}),[]),Object(N.jsx)(ue.a,{className:" mt--7 sm-margin-top-negative-3",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(Oe.a,{className:"shadow",children:Object(N.jsx)(je.a,{children:Object(N.jsx)(oe.a,{style:{background:"transparent"},className:"text-center",children:Object(N.jsx)(de.a,{className:"justify-content-md-center",children:Object(N.jsx)(ie.a,{lg:"3",children:Object(N.jsxs)(va.a,{children:[Object(N.jsxs)(ya.a,{children:[Object(N.jsx)("label",{htmlFor:"SignInViaEmailLinkInputField",children:"Confirm email address"}),Object(N.jsx)(qt.a,{id:"SignInViaEmailLinkInputField",placeholder:"name@example.com",type:"email",value:n||"",onChange:function(e){a(e.target.value)}})]}),Object(N.jsx)(ya.a,{children:n&&i?Object(N.jsxs)(le.a,{color:"primary",type:"button",disabled:!0,children:[Object(N.jsx)(x.H,{className:"icon-spin mr-2"}),"Login"]}):Object(N.jsx)(le.a,{color:"primary",type:"button",onClick:function(e){o(!0),e.preventDefault(),d.loggedIn&&Ja(),Or().oobCode&&Tn(n)?wn(n).then((function(e){if(!e)throw new Error("Failed");o(!1)})).catch((function(e){Fe.error("URL seems invalid. Please contact support"),o(!1),a(null)})):(Fe.error("Please recheck the email entered, or this URL is invalid."),o(!1))},id:"SignInViaEmailLinkLoginBtn",children:"Login"})})]})})})})})})})})})},WO=function(e){Object(ar.a)(n,e);var t=Object(rr.a)(n);function n(){return Object(tr.a)(this,n),t.apply(this,arguments)}return Object(nr.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(KO,{})})}}]),n}(s.a.Component),qO=function(e){var t=e.type,n=e.message,a=e.dismissible,r=e.onDismiss;return Object(N.jsxs)("div",{className:"alert fade show alert-"+t+(a?" alert-dismissible":""),role:"alert",children:[n,a&&Object(N.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:r,children:Object(N.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})},QO=n(496),zO=n.n(QO),XO=function(){var e=Object(ae.g)(),t=Object(Rr.useStripe)(),n=Object(Rr.useElements)(),a=Object(c.useRef)(!0),r=new URLSearchParams(window.location.search),i=r.get("m"),o=r.get("t"),l=Object(c.useContext)(J).state,d=et(l),O=Object(c.useState)(!1),j=Object(u.a)(O,2),E=j[0],b=j[1],p=Object(c.useState)(!1),h=Object(u.a)(p,2),T=h[0],m=h[1],f=Object(c.useState)(null),A=Object(u.a)(f,2),R=A[0],x=A[1],C=Object(c.useState)(null),g=Object(u.a)(C,2),_=g[0],I=g[1],L=Object(c.useState)(!1),y=Object(u.a)(L,2),v=y[0],U=y[1],P=Object(c.useState)(!0),D=Object(u.a)(P,2),w=D[0],M=D[1];("individual"!==i&&"team"!==i||"team"===i&&"string"!==typeof o)&&Me(e);var k=Object(c.useCallback)((function(){Ee.functions().httpsCallable("getTeamInfo")({teamId:o}).then((function(e){if(!a.current)return null;var t=e.data;if(!t.success)throw new Error("Unable to find team");var n=t.data.owner;n&&d&&d.details&&d.details.profile?(U(d.details.profile.uid===n),M(!1)):(U(!1),M(!1))})).catch((function(e){if(!a.current)return null;e&&(U(!1),M(!1))}))}),[o,d]),G=function(){var a=Object(ne.a)(te.a.mark((function a(r){var c,s,l,u,d,O,j;return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.preventDefault(),b(!0),I(null),m(!1),c=!1,s="",x(null),t&&n){a.next=9;break}return a.abrupt("return");case 9:return l=n.getElement(Rr.CardElement),a.next=12,t.createPaymentMethod({type:"card",card:l});case 12:u=a.sent,d=u.error,O=u.paymentMethod,d?(x(d.message),c=!0):s=O.id,j="individual"===i?"updateIndividualPaymentMethod":"updateTeamPaymentMethod",c?b(!1):Ee.functions().httpsCallable(j)({teamId:o||!1,paymentMethodId:s}).then((function(t){if(!t.data.success)throw new Error("Unable to update. Please contact us");m(!0),b(!1),Fe.info("The payment method has been successfully updated."),"individual"===i?ye(e,!0,!0):Ie(e,o)})).catch((function(e){b(!1),I(e.message)}));case 18:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(c.useEffect)((function(){return"team"===i?k():"individual"===i&&(U(!0),M(!1)),function(){a.current=!1}}),[i,k]),Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)("div",{className:"card-deck mb-3",children:Object(N.jsx)("div",{className:"card has-no-box-shadow",children:Object(N.jsxs)("div",{className:"card-body",children:[T&&Object(N.jsx)(qO,{type:"success",message:"The payment method has been successfully updated.",dismissible:!0,onDismiss:function(){return m(!1)}}),null!==_&&Object(N.jsx)(qO,{type:"danger",message:_,dismissible:!0,onDismiss:function(){return I(null)}}),w?Object(N.jsx)(Se,{}):v?Object(N.jsx)("div",{className:"row justify-content-md-center",children:Object(N.jsxs)("div",{className:"col col-sm-12 col-md-8 col-lg-8 col-xl-6",children:[Object(N.jsx)("div",{className:"card-deck",children:Object(N.jsxs)("div",{className:"card mb-4",children:[Object(N.jsx)("div",{className:"card-header text-center",children:"Credit or debit card"}),Object(N.jsx)("div",{className:"card-body",children:Object(N.jsx)("div",{className:"row justify-content-md-center",children:Object(N.jsxs)("div",{className:"col col-12",children:[null!==R&&Object(N.jsx)(qO,{type:"danger",message:R,dismissible:!0,onDismiss:function(){return x(null)}}),Object(N.jsx)(Rr.CardElement,{})]})})})]})}),Object(N.jsx)(Ct.a,{type:"primary",loading:!!E,onClick:G,icon:Object(N.jsx)(mo.a,{}),children:"Save"})]})}):Object(N.jsxs)(zO.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("p",{children:"Only the team owner can update the payment method."}),Object(N.jsxs)("p",{children:["Need help? Contact us at"," ",Object(N.jsx)("a",{href:"mailto:"+S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL,children:S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})]})]})]})})})})},JO=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){n||a(Object(xr.a)(S.CONFIG.stripeConfig.publishableKey))}),[n]),Object(N.jsx)(At.a,{className:"primary-card",title:"Update Payment Method",children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:4,offset:10,align:"center",children:!1!==n?Object(N.jsx)(Rr.Elements,{stripe:n,children:Object(N.jsx)(XO,{})}):null})})})},ZO=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Bt,{component:JO})})},$O=function(){return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(At.a,{className:"primary-card",title:null,children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{align:"center",children:Object(N.jsx)(Oe.a,{className:"shadow",children:Object(N.jsx)(je.a,{children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{lg:"12",md:"12",className:"text-center",children:Object(N.jsx)(oe.a,{style:{background:"transparent"},className:"text-center",children:Object(N.jsxs)("p",{className:"lead",children:["For subscription updates, cancellations, or refunds, please write to us at"," ",Object(N.jsx)("a",{href:"mailto:".concat(S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),children:S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})," ","and we'll revert you within 4-5 hours."]})})})})})})})})})})},ej=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Bt,{component:$O})})},tj=function(e){return Object(N.jsx)(tn.a,{className:"modal-dialog-centered ",visible:e.isOpen,onCancel:e.toggle,footer:Object(N.jsx)(Ct.a,{color:"primary",type:"button",onClick:e.action,children:"Continue"}),children:Object(N.jsx)("div",{className:"modal-body one-padding-top zero-padding-bottom",children:Object(N.jsx)(Rt.a,{className:"one-padding-bottom  my-auto",children:Object(N.jsx)(xt.a,{className:"my-auto",children:Object(N.jsx)("p",{children:"This requires existing instance of browser to be closed. Please save your work and click Continue to relaunch it."})})})})})},nj=n(993),aj=kc.a.Meta,rj=function(){var e=Object(c.useContext)(J),t=e.state,n=e.dispatch,a=st(t),r=Object(c.useState)({}),i=Object(u.a)(r,2),o=i[0],d=i[1],O=Object(c.useState)(!1),E=Object(u.a)(O,2),b=E[0],S=E[1],p=Object(c.useState)(!1),h=Object(u.a)(p,2),T=h[0],m=h[1],f=a.appsList,A=a.availableAppsScanned,R=a.isBackgroundProcessActive,x=a.isProxyServerRunning,C=a.proxyPort,g=Object.values(f),_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d(Object(j.a)(Object(j.a)({},o),{},{appId:!0})),window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("activate-app",{id:e,proxyPort:C,options:Object(j.a)({},t)}).then((function(t){if(d(Object(j.a)(Object(j.a)({},o),{},{appId:!1})),t.success){Fe.success("Connected ".concat(f[e].name));var a=Object(j.a)({},f);a[e].isActive=!0,n(wt({appsListObject:a})),ca("Connected ".concat(f[e].name))}else t.metadata&&t.metadata.closeConfirmRequired?(m(e),S(!0)):(Fe.error("Unable to activate ".concat(f[e].name,". Issue reported.")),ca("Unable to activate ".concat(f[e].name)))})).catch((function(e){return console.log(e)}))},I=function(e,t,a){return a?t?Object(N.jsx)(Ct.a,{danger:!0,type:"link",icon:Object(N.jsx)(nj.a,{}),className:"btn btn-danger btn-icon btn-3  has-no-box-shadow",onClick:function(){return function(e){d(Object(j.a)(Object(j.a)({},o),{},{appId:!0})),window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("deactivate-app",{id:e,proxyPort:C}).then((function(t){if(d(Object(j.a)(Object(j.a)({},o),{},{appId:!1})),t.success){Fe.info("Disconnected ".concat(f[e].name));var a=Object(j.a)({},f);a[e].isActive=!1,n(wt({appsListObject:a})),ca("Disconnected ".concat(f[e].name))}else Fe.error("Unable to deactivate ".concat(f[e].name,". Issue reported."))})).catch((function(e){return console.log(e)}))}(e)},children:"Close"}):Object(N.jsx)(Ct.a,{type:"secondary",icon:Object(N.jsx)(qs.a,{}),onClick:function(){return _(e)},loading:o[e],children:"Open"}):Object(N.jsx)("span",{className:"text-primary cursor-disabled",children:"Couldn't find it on your system"})};return Object(c.useEffect)((function(){if(window.RQ&&window.RQ.DESKTOP&&R&&x&&!A){var e=[];g.forEach((function(t){t.comingSoon||e.push(t.id)})),window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("are-apps-activatable",e).then((function(e){var t=Object(j.a)({},f);Object.entries(e).forEach((function(e){return t[e[0]].isAvailable=e[1]})),n(wt({appsListObject:t,availableAppsScanned:!0}))})).catch((function(e){return console.error(e.message)}))}}),[x,R,A,g,f,n]),A?Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,align:"center",children:Object(N.jsxs)("p",{className:"text-center lead",children:["Connect your system apps to Requestly. After connecting the required app, click ",Object(N.jsx)(l.b,{to:W.PATHS.RULES.RELATIVE,children:"here"})," ","to setup Rules."]})})}),Object(N.jsx)("br",{}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,align:"center",children:Object(N.jsx)(Nt.b,{align:"center",wrap:!0,children:g.sort((function(e,t){return e.comingSoon===t.comingSoon?0:e.comingSoon?1:-1})).sort((function(e,t){return e.isAvailable===t.isAvailable?0:e.isAvailable?-1:1})).map((function(e){return Object(N.jsx)(kc.a,{style:{width:300},actions:[Object(N.jsx)("p",{children:e.comingSoon?(t=e.name,Object(N.jsxs)("span",{className:"text-primary cursor-disabled",children:["Support for ",t," is coming soon"]})):I(e.id,e.isActive,e.isAvailable)})],children:Object(N.jsx)(aj,{avatar:Object(N.jsx)(fr.a,{src:window.location.origin+"/assets/img/thirdPartyAppIcons/"+e.icon}),title:e.name,description:e.description})},e.id);var t}))})})}),Object(N.jsx)("br",{}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,align:"center",children:Object(N.jsxs)(Xt.a.Title,{level:5,children:["Couldn't find required app? To manually set proxy and install certificate"," ",Object(N.jsx)(l.b,{to:W.PATHS.DESKTOP.MANUAL_SETUP.RELATIVE,children:Object(N.jsx)(Ct.a,{type:"primary",children:"Click Here"})})," "]})})}),b?Object(N.jsx)(tj,{isOpen:b,toggle:function(){b?(m(!1),S(!1)):S(!0)},action:function(){T&&(S(!1),_(T,{closeConfirmed:!0}))}}):null]}):Object(N.jsx)(Rt.a,{children:Object(N.jsx)(Se,{customLoadingMessage:"Searching system apps"})})},cj=function(){var e=Object(ae.g)(),t=Object(c.useContext)(J).state,n=ct(t),a=st(t).isBackgroundProcessActive;return n===S.CONSTANTS.APP_MODES.EXTENSION&&me(e),a?Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(At.a,{className:"primary-card",children:Object(N.jsx)(rj,{})})}):Object(N.jsx)(Se,{customLoadingMessage:"Loading background process"})},sj=function(){return Object(N.jsx)(cj,{})},ij=(n(912),n(325)),oj=n(227),lj=n(170),uj=n(94),dj=function(e){return Object(N.jsxs)(Nt.b,{style:{backgroundColor:"whitesmoke",width:"100%"},children:[Object(N.jsx)("div",{style:{display:"flex",marginLeft:"4px"},children:Object(N.jsx)(Oi.a,{onClick:e.handleClosePane,style:{alignSelf:"center",margin:"0"}})}),Object(N.jsx)(la.a,{count:e.method,style:{backgroundColor:"grey"}}),Object(N.jsx)(la.a,{overflowCount:699,count:e.statusCode,style:{backgroundColor:"#87d068"}}),Object(N.jsx)("span",{style:{fontSize:"0.9rem",wordBreak:"break-all"},children:e.url})]})},Oj=function(e){var t=Object.entries(e.data).filter((function(e){return"headers"!==e[0]})),n=e.data.headers;return Object(N.jsxs)(lj.a,{children:[Object(N.jsx)(lj.a.Controls,{children:Object(N.jsxs)(lj.a.TabList,{children:[Object(N.jsx)(lj.a.Tab,{id:e.title,children:Object(N.jsxs)("span",{style:{backgroundColor:"whitesmoke",fontWeight:"bold",color:"black",fontSize:"0.9rem"},children:[e.title+" Details"," "]})}),Object(N.jsx)(lj.a.Tab,{id:"Headers",children:"Headers"})]})}),Object(N.jsxs)(lj.a.Panels,{children:[Object(N.jsx)(lj.a.Panel,{children:Object(N.jsx)("div",{style:{maxHeight:"600px"},children:Object(N.jsxs)(uj.a,{children:[Object(N.jsx)(uj.a.Head,{children:Object(N.jsxs)(uj.a.Row,{children:[Object(N.jsx)(uj.a.HeadCell,{children:"Property"}),Object(N.jsx)(uj.a.HeadCell,{children:"Value"})]})}),Object(N.jsx)(uj.a.Body,{children:t.map((function(e,t){var n=Object(u.a)(e,2),a=n[0],r=n[1];return Object(N.jsxs)(uj.a.Row,{id:t,children:[Object(N.jsx)(uj.a.Cell,{style:{textTransform:"capitalize"},children:a}),Object(N.jsx)(uj.a.Cell,{children:r})]},t)}))})]})})}),Object(N.jsx)(lj.a.Panel,{children:Object(N.jsx)("div",{style:{maxHeight:"600px"},children:Object(N.jsxs)(uj.a,{children:[Object(N.jsx)(uj.a.Head,{children:Object(N.jsxs)(uj.a.Row,{children:[Object(N.jsx)(uj.a.HeadCell,{children:"Key"}),Object(N.jsx)(uj.a.HeadCell,{children:"Value"})]})}),Object(N.jsx)(uj.a.Body,{children:Object.entries(n).map((function(e,t){var n=Object(u.a)(e,2),a=n[0],r=n[1];return Object(N.jsxs)(uj.a.Row,{id:t,children:[Object(N.jsx)(uj.a.Cell,{children:a}),Object(N.jsx)(uj.a.Cell,{children:r})]},t)}))})]})})})]})]})},jj=function(e){var t=e.selectedRequestData,n=e.handleClosePane,a=e.visibility;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ij.a,{title:Object(N.jsx)(dj,{url:t.url,method:t.request.method,statusCode:t.response.statusCode,handleClosePane:n}),placement:"right",onClose:n,visible:a,width:"50%",destroyOnClose:!0,extra:!1,closable:!1,children:Object(N.jsxs)("div",{className:"previewData",children:[Object(N.jsx)("div",{style:{width:"50%"},children:Object(N.jsx)(Oj,{data:t.request,title:"Request"})}),Object(N.jsx)(oj.a,{type:"vertical",style:{height:"auto"}}),Object(N.jsx)("div",{style:{width:"50%"},children:Object(N.jsx)(Oj,{data:t.response,title:"Response"})})]})})})},Ej=function(){return Object(N.jsx)("div",{children:Object(N.jsx)("center",{children:Object(N.jsx)("h2",{style:{margin:"2rem"},children:"Couldn`t find any URL matching the given keyword."})})})},bj=function(e){var t=e.handleOnSearchChange,n=e.groupByParameter,a=e.handleOnGroupParameterChange;return Object(N.jsx)(Rt.a,{align:"middle",style:{marginBottom:6,marginTop:6,padding:3},children:Object(N.jsxs)(Nt.b,{direction:"horizontal",children:[Object(N.jsx)(xt.a,{children:Object(N.jsx)(Xt.a.Text,{strong:!0,children:"Group by:"})}),Object(N.jsx)(xt.a,{children:Object(N.jsxs)(ii.a.Group,{onChange:a,value:n,children:[Object(N.jsx)(ii.a,{value:"app",children:"App Name"}),Object(N.jsx)(ii.a,{value:"domain",children:"Domain"}),Object(N.jsx)(ii.a,{value:"none",children:"None"})]})}),Object(N.jsx)(xt.a,{children:Object(N.jsx)(nn.a.Search,{placeholder:"Input Search Keyword",onChange:t,style:{width:300}})})]})})},Sj=n(500),pj=n.n(Sj),hj=function(e){var t=pj()(e).browser;return"Electron"===t.name?e.split(")")[2].split("/")[0]:t.name?t.name:e.split("/")[0]},Tj=[{title:"Time",dataIndex:"timestamp",defaultSortOrder:"descend",align:"center",width:100,responsive:["xs","sm"]},{title:"URL",dataIndex:"url",width:620,ellipsis:!0,responsive:["xs","sm"]},{title:"Method",dataIndex:["request","method"],sorter:function(e,t){return e.request.method.length-t.request.method.length},align:"center",sortDirections:["ascend","descend"],responsive:["xl"]},{title:"Content-Type",dataIndex:["response","contentType"],align:"center",responsive:["xxl"]}],mj=function(e){var t=e.requestsLog,n=e.handleRowClick;return Object(N.jsx)(Oa.a,{columns:Tj,dataSource:t,rowKey:function(e){return e.id},showSorterTooltip:!1,sticky:!0,size:"small",pagination:!1,scroll:{y:600},onRow:function(e){return{onClick:function(){return n(e)}}},locale:{emptyText:"No Traffic Intercepted"},search:!1,options:!1,style:{cursor:"pointer"}})},fj=[{title:"Domain Name",dataIndex:"domain",key:"domain",render:function(e){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(fr.a,{size:"small",src:"https://www.google.com/s2/favicons?domain=".concat(e)}),Object(N.jsxs)("span",{children:[" ",e]})]})}}],Aj=function(e){var t=e.domain,n=e.domainLogs,a=e.handleRowClick;return Object(N.jsx)(mj,{requestsLog:n[t],handleRowClick:a})},Rj=function(e){var t=e.domainArray,n=e.domainLogs,a=e.handleRowClick;return Object(N.jsx)(Oa.a,{columns:fj,dataSource:t,rowKey:function(e){return e.domain},pagination:!1,scroll:{y:600},expandable:{expandedRowRender:function(e){return Object(N.jsx)(Aj,{domain:e.domain,domainLogs:n,handleRowClick:a})},expandRowByClick:!0},locale:{emptyText:"No Traffic Intercepted"},search:!1,options:!1,style:{cursor:"pointer"}})},xj={chrome:"chrome.com",firefox:"firefox.com",edge:"edge.com",github:"github.com",git:"git-scm.com",code:"code.visualstudio.com",vscode:"code.visualstudio.com","code-insiders":"code.visualstudio.com","visual-studio-code":"code.visualstudio.com","android Studio":"android.com",slack:"slack.com",docker:"docker.com",postman:"postman.com",outlook:"outlook.com",notion:"notion.com","google drive":"drive.google.com",insomnia:"insomnia.rest",intellij:"jetbrains.com",pycharm:"jetbrains.com",goland:"jetbrains.com",datagrip:"jetbrains.com"},Nj=xj,Cj=[{title:"App Name",dataIndex:"appName",key:"appName",render:function(e){e=e.trim();var t=Nj[e.split(" ")[0].toLowerCase()],n="https://www.google.com/s2/favicons?domain=".concat(t);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(fr.a,{size:"small",src:n}),Object(N.jsxs)("span",{children:[" ",e]})]})}}],gj=function(e){var t=e.appName,n=e.appLogs,a=e.handleRowClick;return Object(N.jsx)(mj,{requestsLog:n[t],handleRowClick:a})},_j=function(e){var t=e.appArray,n=e.appLogs,a=e.handleRowClick;return Object(N.jsx)(Oa.a,{columns:Cj,dataSource:t,rowKey:function(e){return e.appName},pagination:!1,scroll:{y:600},expandable:{expandedRowRender:function(e){return Object(N.jsx)(gj,{appName:e.appName,appLogs:n,handleRowClick:a})},expandRowByClick:!0},locale:{emptyText:"No Traffic Intercepted"},options:!1,search:!1,style:{cursor:"pointer"}})},Ij=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),i=Object(u.a)(r,2),o=i[0],l=i[1],d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)({}),p=Object(u.a)(b,2),h=p[0],T=p[1],m=Object(c.useState)(!1),f=Object(u.a)(m,2),A=f[0],R=f[1],x=Object(c.useState)(""),C=Object(u.a)(x,2),g=C[0],_=C[1],I=Object(c.useState)("none"),L=Object(u.a)(I,2),y=L[0],v=L[1],U=Object(c.useState)([]),P=Object(u.a)(U,2),D=P[0],w=P[1],M=Object(c.useState)({}),k=Object(u.a)(M,2),G=k[0],F=k[1],B=Object(c.useState)([]),V=Object(u.a)(B,2),Y=V[0],H=V[1],K=Object(c.useState)({}),W=Object(u.a)(K,2),q=W[0],Q=W[1],z=function(e){T(e),E(!0),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.DESKTOP_APP,S.CONSTANTS.GA_EVENTS.ACTIONS.TRAFFIC_TABLE_MODIFIED,"Traffic Table Modified")},X=[];if(h.timestamp){X=[{property:"Time",value:h.timestamp},{property:"Method",value:h.request.method},{property:"Status Code",value:h.response.statusCode},{property:"Path",value:h.request.path},{property:"Host",value:h.request.host},{property:"Port",value:h.request.port},{property:"REQUEST HEADERS",value:""}];for(var J=0,Z=Object.entries(h.request.headers);J<Z.length;J++){var $=Object(u.a)(Z[J],2),ee={property:$[0],value:$[1]};X.push(ee)}X.push({property:"RESPONSE HEADERS",value:""});for(var te=0,ne=Object.entries(h.response.headers);te<ne.length;te++){var ae=Object(u.a)(ne[te],2),re={property:ae[0],value:ae[1]};X.push(re)}}return Object(c.useEffect)((function(){return window.RQ&&window.RQ.DESKTOP&&(window.RQ.DESKTOP.SERVICES.IPC.invokeEventInMain("get-current-network-logs").then((function(e){return a(e)})),window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("enable-request-logger").then((function(){window.RQ.DESKTOP.SERVICES.IPC.registerEvent("log-network-request",(function(e){a(e)}))}))),function(){window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("disable-request-logger").then((function(){window.RQ.DESKTOP.SERVICES.IPC.unregisterEvent("log-network-request")}))}}),[]),Object(c.useEffect)((function(){if("domain"===y){var e=function(e){var t=new Set,n={};e.forEach((function(e){var a=e.request.host;t.add(a),a in n||(n[a]=[]),n[a].push(e)}));var a=[];return t.forEach((function(e){a.push({domain:e})})),{domainArray:a,domainLogs:n}}(g?o:n),t=e.domainArray,a=e.domainLogs;w(t),F(a)}else if("app"===y){var r=function(e){var t=new Set,n={};e.forEach((function(e){var a=e.request.headers["user-agent"];if(a){var r=hj(a);t.add(r),r in n||(n[r]=[]),n[r].push(e)}}));var a=[];return t.forEach((function(e){a.push({appName:e})})),{appArray:a,appLogs:n}}(g?o:n),c=r.appArray,s=r.appLogs;H(c),Q(s)}ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.DESKTOP_APP,S.CONSTANTS.GA_EVENTS.ACTIONS.TRAFFIC_TABLE_VIEWED,"Traffic Table Viewed")}),[n,g,o,y]),Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(bj,{handleOnSearchChange:function(e){var t=e.target.value;_(t);var a=new RegExp(t,"i"),r=n.filter((function(e){return e.url.match(a)}));0===r.length?R(!0):(R(!1),l(r)),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.DESKTOP_APP,S.CONSTANTS.GA_EVENTS.ACTIONS.TRAFFIC_TABLE_MODIFIED,"Traffic Table Modified")},handleOnGroupParameterChange:function(e){v(e.target.value),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.DESKTOP_APP,S.CONSTANTS.GA_EVENTS.ACTIONS.TRAFFIC_TABLE_MODIFIED,"Traffic Table Modified")},groupByParameter:y}),A?Object(N.jsx)(Ej,{}):"domain"===y?Object(N.jsx)(Rj,{domainArray:D,domainLogs:G,handleRowClick:z}):"app"===y?Object(N.jsx)(_j,{appArray:Y,appLogs:q,handleRowClick:z}):Object(N.jsx)(mj,{requestsLog:g?o:n,handleRowClick:z}),j?Object(N.jsx)(jj,{handleClosePane:function(){E(!1)},selectedRequestData:h,visibility:j}):null]})},Lj=function(){return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsxs)(Rt.a,{children:[Object(N.jsx)(xt.a,{span:24,align:"left",children:Object(N.jsx)("h1",{children:"Traffic Table"})}),Object(N.jsx)(xt.a,{span:24,align:"center",children:Object(N.jsx)(oi.a,{message:"To optimize performance, logger works only when this screen is open & only 150 most recent logs are shown.",type:"info",showIcon:!0,closable:!0})})]}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,children:Object(N.jsx)(Ij,{})})})]})},yj=function(){return Object(N.jsx)(At.a,{className:"primary-card",children:Object(N.jsx)(Lj,{})})},vj=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(yj,{})})},Uj=Xt.a.Title,Pj=function(){var e=Object(c.useContext)(J).state,t=st(e),n=t.isBackgroundProcessActive,a=t.isProxyServerRunning,r=t.proxyPort;return ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.DESKTOP_APP,S.CONSTANTS.GA_EVENTS.ACTIONS.MANUAL_SETUP_MAC,"Manual Setup Mac"),n&&a?Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{lg:"12",style:{textAlign:"center",width:"100%"},children:Object(N.jsx)(Uj,{level:2,children:"Setting up system proxy"})})}),Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(xt.a,{children:[Object(N.jsx)(Uj,{level:5,children:"Requestly requires your applications to send their network traffic through the its local proxy server before going to their destination."}),Object(N.jsx)("p",{children:"The proxy server you set globally will be used by Safari, Google Chrome, and other applications that respect your system proxy settings. Some applications, including Mozilla Firefox, can have their own custom proxy settings independent from your system settings."})]})}),Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(xt.a,{children:[Object(N.jsxs)(Uj,{level:5,children:["Set your proxy settings to host 127.0.0.1 and port ",r," ","(http://127.0.0.1:",r,")"]}),Object(N.jsx)("p",{children:"Make sure to set HTTPS proxy, if you want to intercept secure traffic."})]})}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{children:Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){return js()},children:"Save Certificate"})})})]}):Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{children:Object(N.jsx)(kc.a,{className:"shadow",children:Object(N.jsx)(je.a,{children:Object(N.jsx)(oe.a,{style:{background:"transparent"},className:"text-center",children:Object(N.jsx)("p",{children:"Proxy server is not running. Please restart the app or report to us if issue persists."})})})})})})})},Dj=function(){return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(At.a,{className:"primary-card",children:Object(N.jsx)(Pj,{})})})},wj=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Dj,{})})},Mj=W.PATHS,kj=W.AUTH,Gj=[{path:Mj.RULE_EDITOR.RELATIVE,name:"Rule Editor",icon:"ni ni-ui-04 text-blue",component:tO},{path:Mj.ONBOARDING.RELATIVE,name:"Onboarding Status",icon:"ni ni-bullet-list-67",component:function(){return Object(N.jsx)(ae.a,{to:Mj.RULES.MY_RULES.ABSOLUTE})}},{path:Mj.RULES.MY_RULES.ABSOLUTE,name:"Rules",icon:"fas fa-exchange-alt",component:Md},{path:Mj.RULES.RELATIVE,name:"Rules",icon:"fas fa-exchange-alt",component:function(){return Object(N.jsx)(ae.a,{to:Mj.RULES.MY_RULES.ABSOLUTE})}},{path:Mj.MARKETPLACE.RELATIVE,name:"Market",icon:"fas fa-store-alt",component:Hs},{path:Mj.FILES.VIEWER.RELATIVE,name:"File Viewer",icon:"ni ni-folder-17",component:wc},{path:Mj.FILES.MY_FILES.ABSOLUTE,name:"Files",icon:"fas fa-folder-open",component:Oc},{path:Mj.FILES.RELATIVE,name:"Mock APIs",icon:"fas fa-server",component:function(){return Object(N.jsx)(ae.a,{to:Mj.FILES.MY_FILES.ABSOLUTE})}},{path:Mj.MOCK_SERVER.VIEWER.RELATIVE,name:"Mock Server",icon:"ni ni-folder-17",component:wc},{path:Mj.MOCK_SERVER.MY_MOCKS.ABSOLUTE,name:"My Mocks",icon:"fas fa-folder-open",component:Oc},{path:Mj.MOCK_SERVER.RELATIVE,name:"Mock Server",icon:"fas fa-server",component:function(){return Object(N.jsx)(ae.a,{to:Mj.MOCK_SERVER.MY_MOCKS.ABSOLUTE})}},{path:Mj.SHARED_LISTS.VIEWER.RELATIVE,name:"Shared Lists Viewer",icon:"ni ni-curved-next",component:pO},{path:Mj.SHARED_LISTS.MY_LISTS.ABSOLUTE,name:"Sharing",icon:"fas fa-share-alt",component:jO},{path:Mj.SHARED_LISTS.RELATIVE,name:"Sharing",icon:"fas fa-share-alt",component:function(){return Object(N.jsx)(ae.a,{to:Mj.SHARED_LISTS.MY_LISTS.ABSOLUTE})}},{name:"Unlock Premium",icon:"ni ni-lock-circle-open text-red",component:FO,showLinkInSidebar:!1},{path:Mj.REFERRAL.RELATIVE,name:"Refer Your Friends",icon:"ni ni-notification-70 text-green",component:function(){return Object(N.jsx)(ae.a,{to:Mj.ACCOUNT.MY_REFERRALS.ABSOLUTE})}},{path:Mj.BACKUP.RELATIVE,name:"Data Backup",icon:"ni ni-archive-2 text-purple",component:function(){return Object(N.jsx)(ae.a,{to:Mj.ACCOUNT.MY_BACKUPS.ABSOLUTE})}},{name:"Request an Upgrade",icon:"fas fa-file-signature text-blue",component:_o,showLinkInSidebar:!1},{path:Mj.PRICING.RELATIVE,name:"Pricing",icon:"ni ni-lock-circle-open text-red",component:Fi},{path:Mj.LICENSE.MANAGE.RELATIVE,name:"Manage License",icon:"ni ni-lock-circle-open text-red",component:ns},{path:Mj.LICENSE.RELATIVE,name:"License",icon:"ni ni-lock-circle-open text-red",component:$c},{path:Mj.SETTINGS.REMOTE_RULES.RELATIVE,name:"Settings",icon:"ni ni-lock-circle-open text-red",component:Ro},{path:Mj.SETTINGS.STORAGE_SETTINGS.RELATIVE,name:"Storage Settings",icon:"ni ni-lock-circle-open text-red",component:rO},{path:Mj.SETTINGS.RELATIVE,name:"Settings",icon:"ni ni-lock-circle-open text-red",component:function(){return Object(N.jsx)(ae.a,{to:Mj.SETTINGS.STORAGE_SETTINGS.ABSOLUTE})}},{path:Mj.GOODBYE.RELATIVE,name:"Goodbye",icon:"ni ni-lock-circle-open text-red",component:Vc},{path:Mj.ACCOUNT.TEAM.RELATIVE+"/:teamId",name:"Manage Team",icon:"ni ni-lock-circle-open text-red",component:MO},{path:Mj.ACCOUNT.MY_TEAMS.RELATIVE,icon:"ni ni-lock-circle-open text-red",component:Ws},{path:Mj.ACCOUNT.PERSONAL_SUBSCRIPTION.RELATIVE,icon:"ni ni-lock-circle-open text-red",component:si},{path:Mj.ACCOUNT.UPDATE_SUBSCRIPTION.RELATIVE,icon:"ni ni-lock-circle-open text-red",component:ej},{path:Mj.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US.RELATIVE,icon:"ni ni-lock-circle-open text-red",component:ej},{path:Mj.ACCOUNT.UPDATE_PAYMENT_METHOD.RELATIVE,icon:"ni ni-lock-circle-open text-red",component:ZO},{path:Mj.ACCOUNT.REFRESH_SUBSCRIPTION.RELATIVE,icon:"ni ni-lock-circle-open text-red",component:ho},{path:Mj.ACCOUNT.CHECKOUT.RELATIVE,name:"< Back to Account Settings",icon:"ni ni-lock-circle-open text-red",component:yr},{path:Mj.ACCOUNT.MY_ACCOUNT.RELATIVE,name:"Manage Account",icon:"ni ni-lock-circle-open text-red",component:er},{path:Mj.ACCOUNT.MY_BACKUPS.RELATIVE,name:"My Backups",icon:"ni ni-lock-circle-open text-red",component:So},{path:Mj.ACCOUNT.MY_REFERRALS.RELATIVE,name:"My Referrals",icon:"ni ni-lock-circle-open text-red",component:Xi},{path:Mj.ACCOUNT.RELATIVE,name:"Manage Account",icon:"ni ni-lock-circle-open text-red",component:function(){return Object(N.jsx)(ae.a,{to:Mj.ACCOUNT.MY_ACCOUNT.ABSOLUTE})}},{path:Mj.AUTH.SIGN_IN.RELATIVE,name:"Sign In",icon:"ni ni-lock-circle-open text-red",component:pr,props:{authMode:kj.ACTION_LABELS.LOG_IN}},{path:Mj.AUTH.DEKSTOP_SIGN_IN.RELATIVE,name:"Sign In",icon:"ni ni-lock-circle-open text-red",component:Tr},{path:Mj.AUTH.SIGN_UP.RELATIVE,name:"Sign Up",icon:"ni ni-lock-circle-open text-red",component:pr,props:{authMode:kj.ACTION_LABELS.SIGN_UP}},{path:Mj.AUTH.FORGOT_PASSWORD.RELATIVE,name:"Forgot Password",icon:"ni ni-lock-circle-open text-red",component:pr,props:{authMode:kj.ACTION_LABELS.REQUEST_RESET_PASSWORD}},{path:Mj.AUTH.EMAIL_ACTION.RELATIVE,name:"Email Action",icon:"ni ni-lock-circle-open text-red",component:Mr},{path:Mj.AUTH.RESET_PASSWORD.RELATIVE,name:"Reset Password",icon:"ni ni-lock-circle-open text-red",component:pr,props:{authMode:kj.ACTION_LABELS.DO_RESET_PASSWORD}},{path:Mj.AUTH.VERIFY_EMAIL.RELATIVE,name:"Verify E-mail",icon:"ni ni-lock-circle-open text-red",component:HO},{path:Mj.AUTH.EMAIL_LINK_SIGNIN.RELATIVE,name:"Sign in via email link",icon:"ni ni-lock-circle-open text-red",component:WO},{path:Mj.PAYMENT_SUCCESS.ABSOLUTE,name:"Payment Successful",icon:"ni ni-lock-circle-open text-red",component:Js},{path:Mj.PAYMENT_SUCCESS.RELATIVE,name:"Payment Successful",icon:"ni ni-lock-circle-open text-red",component:Js},{path:Mj.PAYMENT_FAIL.ABSOLUTE,name:"Payment Failed",icon:"ni ni-lock-circle-open text-red",component:Xs},{path:Mj.PAYMENT_FAIL.RELATIVE,name:"Payment Failed",icon:"ni ni-lock-circle-open text-red",component:Xs},{path:Mj.PAGE404.RELATIVE,name:"404",icon:"ni ni-lock-circle-open text-red",component:ei},{path:Mj.PAGE403.RELATIVE,name:"403",icon:"ni ni-lock-circle-open text-red",component:ni,layout:Mj.LANDING,showLinkInSidebar:!1},{path:Mj.ACCEPT_TEAM_INVITE.RELATIVE,name:"Join a Team",icon:"ni ni-lock-circle-open text-red",component:Vt},{path:Mj.ACCOUNT.SUPPORT.RELATIVE,name:"Requestly Support",icon:"ni ni-support-16 text-red",component:function(){return window.location.href=W.LINKS.CONTACT_US_PAGE,null}},{path:Mj.APP_MODE.RELATIVE,name:"App Mode",icon:"ni ni-support-16 text-red",component:lr},{path:Mj.DESKTOP.MANUAL_SETUP.RELATIVE,name:"Manual Setup",icon:"ni ni-support-16 text-red",component:wj},{path:Mj.DESKTOP.MY_APPS.ABSOLUTE,name:"Manage Proxy Apps",icon:"ni ni-support-16 text-red",component:sj},{path:Mj.DESKTOP.INTERCEPT_TRAFFIC.ABSOLUTE,name:"Intercept Traffic",icon:"ni ni-support-16 text-red",component:vj},{path:Mj.DESKTOP.RELATIVE,name:"Manage Proxy Apps",icon:"ni ni-support-16 text-red",component:function(){return Object(N.jsx)(ae.a,{to:Mj.DESKTOP.MY_APPS.ABSOLUTE})}},{path:Mj.FEEDBACK.RELATIVE,name:"Requestly Feedback",icon:"ni ni-support-16 text-red",component:Vc}],Fj=function(e){var t=e.toggle,n=e.isOpen;return Object(N.jsx)(tn.a,{className:"modal-dialog-centered ",visible:n,onCancel:t,footer:null,children:Object(N.jsx)("div",{className:"modal-body ",children:Object(N.jsx)(Se,{customLoadingMessage:"Loading"})})})},Bj=function(e){var t=e.isOpen,n=e.toggle,a=e.authMode,r=e.src,s=e.callback,i=Object(c.useContext)(J).state,o=et(i),l=Object(c.useState)(a||W.AUTH.ACTION_LABELS.LOG_IN),d=Object(u.a)(l,2),O=d[0],j=d[1];return Object(c.useLayoutEffect)((function(){o.loggedIn&&n()}),[o.loggedIn,n]),Object(N.jsx)(tn.a,{size:"small",visible:t,onCancel:function(){return n()},footer:null,style:{width:"300px",margin:"0 auto"},bodyStyle:{padding:"0",borderRadius:"0.45rem"},width:"400px",children:Object(N.jsx)(Er,{authMode:O,src:r,callbacks:{onSignInSuccess:s,onRequestPasswordResetSuccess:n},setAuthMode:j})})},Vj=function(e){var t=e.toggle,n=e.isOpen,a=e.disabled,r=void 0!==a&&a;return Object(N.jsx)(tn.a,{visible:n,onCancel:t,footer:null,children:r?Object(N.jsx)(Do,{}):Object(N.jsx)(Lo,{heading:"Browser Extension Required",content:"Please install Requestly Browser Extension to use Marketplace Rules."})})},Yj=W.PATHS,Hj=function(e){var t=Object(c.useContext)(J),n=t.state,a=t.dispatch,r=rt(n),s=function(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){t.current=e})),t.current}({location:e.location});Object(c.useEffect)((function(){var t,n;s&&s.location!==e.location&&(document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,document.getElementById("dashboardMainContent").scrollTop=0),s&&s.location===e.location||(n=e.location.pathname,t=n.split("/").slice(0,3).join("/"),ea($n.CATEGORIES.PAGE_VISITS,"visit ".concat(t),"".concat($n.CATEGORIES.PAGE_VISITS,"_").concat(t)))}),[e.location,s]);var i;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{id:"dashboardMainContent",children:Object(N.jsxs)(ae.d,{children:[(i=Gj,i.map((function(e,t){var n=e.props||{};return Object(N.jsx)(ae.b,{path:"/".concat(e.path).replace(/\/\//g,"/"),render:function(t){return Object(N.jsx)(e.component,Object(j.a)(Object(j.a)({},t),n))}},t)}))),Object(N.jsx)(ae.a,{exact:!0,from:Yj.ROOT,to:Yj.RULES.ABSOLUTE}),Object(N.jsx)(ae.a,{exact:!0,from:Yj.INDEX_HTML,to:Yj.RULES.ABSOLUTE}),Object(N.jsx)(ae.a,{from:Yj.EXTENSION_INSTALLED,to:Yj.RULES.ABSOLUTE}),Object(N.jsx)(ae.a,{from:Yj.ANY,to:Yj.PAGE404.ABSOLUTE})]})}),r.loadingModal.isActive?Object(N.jsx)(Fj,{isOpen:r.loadingModal.isActive,toggle:function(){a(Dt("loadingModal"))}}):null,r.authModal.isActive?Object(N.jsx)(Bj,Object(j.a)({isOpen:r.authModal.isActive,toggle:function(){a(Dt("authModal"))}},r.authModal.props)):null,r.extensionModal.isActive?Object(N.jsx)(Vj,Object(j.a)({isOpen:r.extensionModal.isActive,toggle:function(){a(Dt("extensionModal"))}},r.extensionModal.props)):null]})},Kj=n(507),Wj=n(997),qj=n(998),Qj=n(999),zj=n(1e3),Xj=n(995),Jj=n(1001),Zj=n(1002),$j=n(1003),eE=n(1004),tE=n(1005),nE=n(1006),aE=function(){setTimeout((function(){try{var e=document.getElementsByTagName("alert-dismiss");Array.prototype.slice.call(e).forEach((function(e){"CLOUDFLARE-APP"===e.parentElement.nodeName&&e.click()}))}catch(t){console.log("Couldn't hide CF top banner but now worries. Everything is still awesome! \ud83d\ude03")}}),2e3)},rE=function(){var e=Object(c.useContext)(J),t=e.state,n=e.dispatch,a=ct(t),r=st(t);return Object(c.useEffect)((function(){a===S.CONSTANTS.APP_MODES.DESKTOP&&(aE(),r.isBackgroundProcessActive||Os().then((function(e){n(wt({isBackgroundProcessActive:!!e})),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.DESKTOP_APP,S.CONSTANTS.GA_EVENTS.ACTIONS.BG_PROCESS,"BG Process Started"),!0===e&&window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("start-proxy-server").then((function(e){var t=e.success,a=e.port;n(wt({isProxyServerRunning:!!t,proxyPort:a})),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.DESKTOP_APP,S.CONSTANTS.GA_EVENTS.ACTIONS.PROXY_SERVER,"PROXY SERVER Started")}))})))}),[a,r,n]),Object(N.jsx)(s.a.Fragment,{})},cE=function(){var e=document.getElementById("ipl-progress-indicator");e&&(e.classList.add("available"),setTimeout((function(){e.outerHTML=""}),1e3)),document.body.style.pointerEvents="unset"};setTimeout(cE,8e3);var sE=cE,iE=n.p+"static/media/rq_logo.8e5025c3.svg",oE=parseInt(163809.332275)%1e4,lE=Xt.a.Text,uE=function(){var e=Object(ae.g)();return Object(N.jsx)("footer",{className:"ant-layout-footer",style:{padding:"0px"},children:Object(N.jsxs)("div",{className:"ant-pro-global-footer",children:[Object(N.jsx)(oj.a,{}),Object(N.jsxs)(Rt.a,{children:[Object(N.jsx)(xt.a,{span:12,align:"left",children:Object(N.jsxs)(lE,{type:"secondary",children:["\xa9 2014 - 2021"," ",Object(N.jsx)("a",{className:"font-weight-bold ml-1",href:"https://requestly.io",rel:"noopener noreferrer",target:"_blank",children:"Requestly"})]})}),Object(N.jsx)(xt.a,{xl:"6",align:"right",span:12,children:Object(N.jsxs)("div",{className:"ant-pro-global-footer-links",children:[Object(N.jsx)(lE,{onClick:function(){return window.open(W.LINKS.CONTACT_US_PAGE,"_blank")},children:"Support"}),Object(N.jsx)(lE,{onClick:function(){return function(e,t){t.newTab?window.open(Te.REQUESTLY_PRIVACY_POLICY,"_blank"):e.push(Te.REQUESTLY_PRIVACY_POLICY)}(e,{newTab:!0})},children:"Privacy"}),Object(N.jsx)(lE,{onClick:function(){return function(e,t){t.newTab?window.open(Te.GDPR.DELETE_ACCOUNT,"_blank"):e.push(Te.GDPR.DELETE_ACCOUNT)}(e,{newTab:!0})},children:"Delete Account"}),Object(N.jsx)(lE,{onClick:function(){return function(e,t){t.newTab?window.open(Te.GDPR.SIGN_DPA,"_blank"):e.push(Te.GDPR.SIGN_DPA)}(e,{newTab:!0})},children:"Data Processing Addendum"}),Object(N.jsx)(lE,{onClick:function(){return function(e,t){var n=t.newTab;(void 0===n||n)&&window.open("https://discord.gg/SumMHwuaZv","_blank")}(0,{newTab:!0})},children:"Discord"})]})})]}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(xt.a,{span:24,align:"right",children:Object(N.jsx)("div",{className:"ant-pro-global-footer-links",children:Object(N.jsx)(lE,{type:"secondary",style:{marginRight:"40px"},children:"Build ".concat(oE," ").concat("11/28/2021")})})})})]})})},dE=n(505),OE=n(521),jE=n(996),EE=n(7),bE=n.n(EE),SE=n(501),pE=n.n(SE),hE=["overlayClassName"],TE=function(e){var t=e.overlayClassName,n=Object(He.a)(e,hE);return Object(N.jsx)(zt.a,Object(j.a)({overlayClassName:bE()(pE.a.container,t)},n))},mE=n(157),fE=n.n(mE),AE=n(502),RE=function(e){var t=e.menu,n=Object(ae.g)(),a=Object(c.useContext)(J),r=a.dispatch,i=a.state,o=et(i),l=Object(c.useState)(!1),d=Object(u.a)(l,2),O=d[0],j=d[1],E=function(){r(Dt("authModal",!0,{redirectURL:window.location.href}))},b=Object(c.useCallback)((function(e){switch(e.key){case"license":!function(e){e.push(he.LICENSE.ABSOLUTE)}(n);break;case"storage":!function(e){e.push(he.SETTINGS.ABSOLUTE)}(n);break;case"remote_rules":!function(e){e.push(he.SETTINGS.REMOTE_RULES.ABSOLUTE)}(n);break;case"account":_e(n);break;case"logout":j(!0),Ja().then((function(){return j(!1)})).catch((function(){return j(!1)}))}}),[n]),S=Object(N.jsx)("span",{className:"".concat(fE.a.action," ").concat(fE.a.account),children:Object(N.jsx)(ba.a,{size:"small",style:{marginLeft:8,marginRight:8}})});if(O)return S;var p=Object(N.jsxs)(Qt.a,{className:fE.a.menu,selectedKeys:[],onClick:b,children:[t&&Object(N.jsxs)(Qt.a.Item,{children:[Object(N.jsx)(x.t,{style:{marginRight:"8%"}}),"License"]},"license"),t&&Object(N.jsxs)(Qt.a.Item,{children:[Object(N.jsx)(nO.c,{style:{marginRight:"8%"}}),"Storage"]},"storage"),t&&Object(N.jsxs)(Qt.a.Item,{children:[Object(N.jsx)(x.h,{style:{marginRight:"8%"}}),"Remote Rules"]},"remote_rules"),t&&Object(N.jsxs)(Qt.a.Item,{children:[Object(N.jsx)(x.O,{style:{marginRight:"8%"}}),"Account"]},"account"),t&&Object(N.jsx)(Qt.a.Divider,{}),Object(N.jsxs)(Qt.a.Item,{children:[Object(N.jsx)(Be.b,{style:{marginRight:"8%"}}),"Logout"]},"logout")]}),h=!0;return Object.values(W.PATHS.AUTH).forEach((function(e){window.location.pathname===e.ABSOLUTE&&(h=!1)})),h?Object(N.jsx)(s.a.Fragment,{children:o.loggedIn&&o.details&&o.details.profile&&o.details.profile.displayName&&o.details.profile.photoURL?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"User",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"http://www.gravatar.com/avatar/?d=identicon";return Object(N.jsx)(TE,{overlay:p,children:Object(N.jsxs)("span",{className:"".concat(fE.a.action," ").concat(fE.a.account),children:[Object(N.jsx)(fr.a,{size:"small",className:fE.a.avatar,src:t,alt:"avatar",style:{marginRight:"8px",marginLeft:"8px",cursor:"pointer"}}),Object(N.jsx)("span",{className:"".concat(fE.a.name," anticon"),style:{cursor:"pointer",marginRight:"8px"},children:e})]})})}(o.details.profile.displayName,o.details.profile.photoURL):Object(N.jsx)(AE.Button,{className:"".concat(fE.a.action," ").concat(fE.a.account),onClick:E,type:"text",children:"Sign in"})}):null},xE=n(245),NE=n.n(xE),CE=n(994),gE=n(108),_E=n(137),IE=n.n(_E),LE=Xt.a.Text,yE=function(e){var t=e.list,n=void 0===t?[]:t,a=e.onClick;e.onClear,e.title,e.onViewMore,e.emptyText,e.showClear,e.clearText,e.viewMoreText,e.showViewMore;return n&&0!==n.length?Object(N.jsx)("div",{children:Object(N.jsx)(wi.b,{className:IE.a.list,dataSource:n,renderItem:function(e,t){var n=bE()(IE.a.item,Object(O.a)({},IE.a.read,e.read)),r=e.avatar?"string"===typeof e.avatar?Object(N.jsx)(fr.a,{className:IE.a.avatar,src:e.avatar}):Object(N.jsx)("span",{className:IE.a.iconElement,children:e.avatar}):null;return Object(N.jsx)(wi.b.Item,{className:n,onClick:function(){null===a||void 0===a||a(e)},actions:Object(N.jsx)("h1",{children:"Test Action"}),children:Object(N.jsx)(wi.b.Item.Meta,{className:IE.a.meta,avatar:r,title:Object(N.jsxs)("div",{className:IE.a.title,children:[e.title,Object(N.jsx)("div",{className:IE.a.extra,children:e.extra})]}),description:Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:IE.a.description,children:e.description}),Object(N.jsx)("div",{className:IE.a.datetime,children:e.datetime})]})})},e.key||t)}})}):Object(N.jsx)("div",{className:IE.a.notFound,children:Object(N.jsx)(LE,{type:"secondary",children:"You have no notifications."})})},vE=n(503),UE=n.n(vE),PE=["overlayClassName"],DE=function(e){var t=e.overlayClassName,n=Object(He.a)(e,PE);return Object(N.jsx)(zt.a,Object(j.a)({overlayClassName:bE()(UE.a.container,t)},n))},wE=n(193),ME=n.n(wE),kE=gE.a.TabPane,GE=function(e){var t=e.className,n=e.count,a=e.bell,r=bE()(t,ME.a.noticeButton),c=function(){var t=e.children,n=e.loading,a=e.onClear,r=e.onTabChange,c=e.onItemClick,i=e.onViewMore,o=e.clearText,l=e.viewMoreText;if(!t)return null;var u=[];return s.a.Children.forEach(t,(function(e){if(e){var t=e.props,n=t.list,r=t.title,s=t.count,d=t.tabKey,O=t.showClear,j=t.showViewMore,E=n&&n.length?n.length:0,b=s||0===s?s:E,S=b>0?"".concat(r," (").concat(b,")"):r;u.push(Object(N.jsx)(kE,{tab:S,children:Object(N.jsx)(yE,{clearText:o,viewMoreText:l,list:n,tabKey:d,onClear:function(){return a&&a(r,d)},onClick:function(t){return c&&c(t,e.props)},onViewMore:function(t){return i&&i(e.props,t)},showClear:O,showViewMore:j,title:r})},d))}})),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ba.a,{spinning:n,delay:300,children:Object(N.jsx)("div",{className:"notifications",children:Object(N.jsx)(gE.a,{className:ME.a.tabs,onChange:r,children:u})})})})}(),i=a||Object(N.jsx)(CE.a,{className:ME.a.icon}),o=Object(N.jsx)("span",{style:{cursor:"pointer"},className:bE()(r,{opened:!1}),children:Object(N.jsx)(la.a,{count:n,style:{boxShadow:"none"},className:ME.a.badge,children:i})});return c?Object(N.jsx)(DE,{placement:"bottomRight",overlay:c,overlayClassName:ME.a.popover,trigger:["click"],children:o}):o};GE.defaultProps={emptyImage:"https://gw.alipayobjects.com/zos/rmsportal/wAhyIChODzsoKIOBHcBk.svg"},GE.Tab=yE;var FE=GE,BE=function(){var e=Object(c.useContext)(J).state,t=et(e),n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(!0),o=Object(u.a)(i,2),l=o[0],d=o[1],O=Object(c.useState)(!1),E=Object(u.a)(O,2),b=E[0],S=E[1];Object(c.useEffect)((function(){var e,n=t.details.profile||t.details;t.loggedIn&&!r&&(s(!0),(e=n.uid,e?Wn.getValue(["customProfile",e,"signup"]).then(function(){var t=Object(ne.a)(te.a.mark((function t(n){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=6;break}return t.next=3,fn(e,!0);case 3:return t.abrupt("return",!0);case 6:return t.abrupt("return",n.emailVerified);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.log(e)})):new Promise.resolve(!1)).then((function(e){d(e)})).catch((function(e){return console.log(e)})))}),[t.loggedIn,t.details,r,d]);var p=[];if(!l){p.push({type:"notification",id:"verify-email",status:"urgent",title:"Verify your Email",avatar:Object(N.jsx)(Ti.a,{style:{background:"white"}}),description:Object(N.jsxs)("span",{children:[Object(N.jsx)("p",{children:"Please check your email for the verification link."}),Object(N.jsx)(Ct.a,{size:"small",icon:Object(N.jsx)(Xj.a,{}),onClick:function(){S(!0),Rn().finally((function(){return S(!1)}))},loading:b,children:"Resend Email"})]})})}var h=function(e){if(!e||0===e.length||!Array.isArray(e))return{};var t=e.map((function(e){var t=Object(j.a)({},e);if(t.datetime&&(t.datetime=ec()(e.datetime).fromNow()),t.id&&(t.key=t.id),t.extra&&t.status){var n={todo:"",processing:"blue",urgent:"red",doing:"gold"}[t.status];t.extra=Object(N.jsx)(Us.a,{color:n,style:{marginRight:0},children:t.extra})}return t}));return Object(pe.groupBy)(t,"type")}(p),T=function(e){var t={};return Object.keys(e).forEach((function(n){var a=e[n];t[n]||(t[n]=0),Array.isArray(a)&&(t[n]=a.filter((function(e){return!e.read})).length)})),t}(h||{});return Object(N.jsx)(FE,{className:ME.a.action,count:p.length&&p.length>=1?p.length:null,loading:!1,clearText:"Clear",viewMoreText:"See more",onViewMore:function(){return Ge.b.info("Click on view more")},clearClose:!0,children:Object(N.jsx)(FE.Tab,{tabKey:"notification",count:T.notification,list:h.notification,title:"Notifications",emptyText:"You have viewed all notifications",showViewMore:!0})})},VE=n(181),YE=function(){var e=Object(c.useContext)(J).state,t=ct(e),n=st(e),a=n.isBackgroundProcessActive,r=n.isProxyServerRunning,i=n.proxyPort;return t!==S.CONSTANTS.APP_MODES.DESKTOP?null:Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(VE.a,{content:a?r?Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{children:"Proxy server is running at"}),Object(N.jsx)("p",{children:"http://127.0.0.1:".concat(i)})]}):"Proxy server is not running.":"Waiting for proxy server to start.",title:null,children:Object(N.jsx)(la.a,{status:a&&r?"success":"warning",text:a?r?Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("span",{children:"Port: "}),Object(N.jsx)("span",{children:i})]}):"Not running":"Waiting.."})})})},HE=n(504),KE=function(){var e=Object(ae.g)(),t=Object(c.useContext)(J),n=t.dispatch,a=t.state,r=et(a),s=Object(c.useState)(!1),i=Object(u.a)(s,2),o=i[0],l=i[1],d=Ot(r.details.planDetails),O=ht(r),E=Object(c.useState)(!1),b=Object(u.a)(E,2),S=b[0],p=b[1],h=Object(c.useState)(!1),T=Object(u.a)(h,2),m=T[0],f=T[1],A=Object(c.useState)(0),R=Object(u.a)(A,2),x=R[0],C=R[1],g=function(){d||(C(0),f(W.FEATURES.BACKUP_RULES),p(!0))},_=function(){var e=Object(ne.a)(te.a.mark((function e(t){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.loggedIn&&r.details&&r.details.profile){e.next=3;break}return n(Dt("authModal",!0,{redirectURL:window.location.href})),e.abrupt("return");case 3:if(a=function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),Object(j.a)({},r).details.isBackupEnabled=!r.details.isBackupEnabled,e.next=5,ro(r.details.profile.uid,t);case 5:l(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),!d){e.next=9;break}return a(),e.abrupt("return");case 9:return g(),e.abrupt("return");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){return Object(N.jsxs)("div",{style:{maxWidth:"350px"},children:[Object(N.jsx)("p",{children:"Securely backup your Rules to Requestly servers so that you don't ever lose them while switching devices."}),Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){return _(!0)},loading:o,icon:Object(N.jsx)(mc.a,{}),children:"Turn on backups"}),r.loggedIn&&r.details&&r.details.profile?Object(N.jsx)(Ct.a,{type:"secondary",children:"View previous backups"}):null]})]})},L=function(){return Object(N.jsxs)("div",{style:{maxWidth:"300px"},children:[Object(N.jsx)("p",{children:"Securely backup your Rules to Requestly servers so that you don't ever lose them while switching devices."}),Object(N.jsxs)(Nt.b,{children:[Object(N.jsx)(Ct.a,{type:"primary",onClick:function(){return _(!1)},loading:o,children:"Turn off backups"}),r.loggedIn&&r.details&&r.details.profile?Object(N.jsx)(Ct.a,{onClick:function(){return function(e,t){t?window.location.href=he.ACCOUNT.MY_BACKUPS.ABSOLUTE:e.push(he.ACCOUNT.MY_BACKUPS.ABSOLUTE)}(e)},type:"secondary",children:"Existing Backups"}):null]})]})},y=function(){return r.loggedIn&&r.details&&r.details.profile?(r.details.profile||r.details||r.loggedIn)&&d||(r.details.profile||r.details||r.loggedIn)&&!d?r.details.isBackupEnabled?L():I():void 0:I()},v=function(){return r.loggedIn&&r.details&&r.details.profile?(r.details.profile||r.details||r.loggedIn)&&d?r.details.isBackupEnabled?Object(N.jsx)(VE.a,{content:y(),title:"Backups are enabled.",children:Object(N.jsx)("span",{className:"backup-success-bg",style:{cursor:"pointer",marginRight:"12px"},children:Object(N.jsx)(HE.a,{})})}):Object(N.jsx)(VE.a,{content:y(),title:"Working locally",children:Object(N.jsx)("span",{className:"backup-error-bg",style:{cursor:"pointer",marginRight:"12px"},children:Object(N.jsx)(nO.b,{})})}):(r.details.profile||r.details||r.loggedIn)&&!d?r.details.isBackupEnabled?Object(N.jsx)(VE.a,{content:y(),children:Object(N.jsx)(nO.a,{className:"fix-icon-is-up",onClick:g,style:{cursor:"pointer",marginLeft:"12px",marginRight:"12px"}})}):Object(N.jsx)(VE.a,{content:y(),title:"Working locally",children:Object(N.jsx)("span",{className:"backup-error-bg",style:{cursor:"pointer",marginRight:"12px"},children:Object(N.jsx)(nO.b,{})})}):Object(N.jsx)(N.Fragment,{}):Object(N.jsx)(VE.a,{content:y(),title:"Working locally",children:Object(N.jsx)("span",{className:"backup-error-bg",style:{cursor:"pointer",marginRight:"12px"},children:Object(N.jsx)(nO.b,{})})})};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(v,{}),S&&m?Object(N.jsx)(Vr,{isOpen:S,toggle:function(){p(!S)},featureName:m,featureLimit:x,userPlanName:O,mode:0===x||!1===x?W.LIMIT_REACHED_MODAL.MODES.CHECK_IF_ENABLED:W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT}):null]})},WE=function(){var e=Object(c.useContext)(J).state,t=ct(e),n=NE.a.right,a=Object(c.useState)("light"),r=Object(u.a)(a,2),s=r[0],i=r[1];return n="".concat(NE.a.right,"  ").concat(NE.a.dark),Object(c.useEffect)((function(){i(localStorage.getItem("theme")?localStorage.getItem("theme"):"light"),"light"===s&&(document.body.classList.remove("dark"),document.body.classList.add("light")),"dark"===s&&(document.body.classList.remove("light"),document.body.classList.add("dark"))}),[s]),Object(N.jsxs)(Nt.b,{className:n,children:[Object(N.jsx)(Ds.a,{checkedChildren:"\ud83c\udf19",unCheckedChildren:"\ud83c\udf1e",checked:"light"!==s,onClick:function(){"dark"===localStorage.getItem("theme")?(localStorage.setItem("theme","light"),i("light"),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.EXTENSION,S.CONSTANTS.GA_EVENTS.ACTIONS.DARK_MODE_DISABLED,"Dark Mode Disabled")):(localStorage.setItem("theme","dark"),i("dark"),ea(S.CONSTANTS.GA_EVENTS.CATEGORIES.EXTENSION,S.CONSTANTS.GA_EVENTS.ACTIONS.DARK_MODE_ENABLED,"Dark Mode Enabled"))}}),Object(N.jsx)(YE,{}),t===S.CONSTANTS.APP_MODES.DESKTOP?null:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{className:NE.a.action,onClick:function(){window.open("http://docs.requestly.io/")},style:{cursor:"pointer",marginLeft:"12px",marginRight:"12px"},children:Object(N.jsx)(OE.a,{})}),Object(N.jsx)("span",{className:NE.a.action,onClick:function(){window.open("https://github.com/requestly/customer-support/")},style:{cursor:"pointer",marginLeft:"12px",marginRight:"12px"},children:Object(N.jsx)(jE.a,{})})]}),Object(N.jsx)(KE,{}),Object(N.jsx)(BE,{})," ",Object(N.jsx)(RE,{menu:!0})]})},qE=(Xt.a.Link,n(476),n(477),n(15)),QE=n(506),zE=n.n(QE),XE=W.PATHS,JE=!1,ZE=function(){JE||(console.log("Stop! \ud83d\uded1 You have discovered a secret discount coupon. Use code SECRETDISCOUNT to avail 30% off on Requestly Premium"),JE=!0)},$E=Object(ae.i)((function(e){var t=e.history,n=e.location,a=Object(c.useContext)(J),r=a.state,i=a.dispatch,o=ct(r),O=et(r),E=Object(c.useState)(!1),b=Object(u.a)(E,2),p=b[0],h=b[1],T=Object(c.useState)(!1),m=Object(u.a)(T,2),f=m[0],A=m[1],R=Object(c.useState)(!1),C=Object(u.a)(R,2),g=C[0],_=C[1],I=Object(c.useState)(!1),L=Object(u.a)(I,2),y=L[0],v=L[1],U=Object(c.useState)(!1),P=Object(u.a)(U,2),D=(P[0],P[1],function(){var e=[{path:XE.RULES.ABSOLUTE,name:"HTTP Rules",icon:Object(N.jsx)(Wj.a,{}),routes:[{name:"My Rules",path:XE.RULES.MY_RULES.ABSOLUTE,icon:Object(N.jsx)(qj.a,{})},{name:"Marketplace",path:XE.MARKETPLACE.ABSOLUTE,icon:Object(N.jsx)(Qj.a,{})},{name:"Create New Rule",path:"/",collapsed:!1,icon:Object(N.jsx)(da.a,{}),children:[{name:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.B,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Redirect a URL"]}),collapsed:!1,path:XE.RULE_EDITOR.CREATE_RULE.REDIRECT_RULE.ABSOLUTE},{name:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.a,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Block a URL"]}),collapsed:!1,path:XE.RULE_EDITOR.CREATE_RULE.CANCEL_RULE.ABSOLUTE},{name:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.n,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Replace URL Substring"]}),collapsed:!1,path:XE.RULE_EDITOR.CREATE_RULE.REPLACE_RULE.ABSOLUTE},{name:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.s,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Modify HTTP Headers"]}),collapsed:!1,path:XE.RULE_EDITOR.CREATE_RULE.HEADERS_RULE.ABSOLUTE},{name:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.A,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Modify Query Params"]}),collapsed:!1,path:XE.RULE_EDITOR.CREATE_RULE.QUERY_PARAMS_RULE.ABSOLUTE},{name:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.f,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Insert JS/CSS"]}),collapsed:!1,path:XE.RULE_EDITOR.CREATE_RULE.SCRIPT_RULE.ABSOLUTE},{name:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.g,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Modify HTTP Response"]}),collapsed:!1,path:XE.RULE_EDITOR.CREATE_RULE.RESPONSE_RULE.ABSOLUTE},{name:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.y,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Change UserAgent Header"]}),collapsed:!1,path:XE.RULE_EDITOR.CREATE_RULE.USER_AGENT_RULE.ABSOLUTE},{name:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.E,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Delay a Request"]}),collapsed:!1,path:XE.RULE_EDITOR.CREATE_RULE.DELAY_RULE.ABSOLUTE}]}]},{path:XE.MOCK_SERVER.ABSOLUTE,name:"My Mock Server",icon:Object(N.jsx)(zj.a,{}),routes:[{name:"My Mocks",path:XE.MOCK_SERVER.MY_MOCKS.ABSOLUTE,icon:Object(N.jsx)(qj.a,{})},{name:"Create New Mock",path:XE.MOCK_SERVER.VIEWER.CREATE.ABSOLUTE,icon:Object(N.jsx)(Xj.a,{})}]},{path:XE.SHARED_LISTS.ABSOLUTE,name:"Shared Lists",icon:Object(N.jsx)(Rl.a,{}),routes:[{name:"My Lists",path:XE.SHARED_LISTS.MY_LISTS.ABSOLUTE,icon:Object(N.jsx)(qj.a,{})}]},{path:XE.SETTINGS.ABSOLUTE,name:"Settings",icon:Object(N.jsx)(Xc.a,{}),routes:[{name:"Storage Settings",path:XE.SETTINGS.STORAGE_SETTINGS.ABSOLUTE,icon:Object(N.jsx)(Jj.a,{})},{name:"Remote Rules",path:XE.SETTINGS.REMOTE_RULES.ABSOLUTE,icon:Object(N.jsx)(Jj.a,{})}]},{path:XE.ACCOUNT.ABSOLUTE,name:"Account",icon:Object(N.jsx)(Kc.a,{}),routes:[{name:"Account Settings",path:XE.ACCOUNT.MY_ACCOUNT.ABSOLUTE,icon:Object(N.jsx)(Zj.a,{})},{name:"Backups",path:XE.ACCOUNT.MY_BACKUPS.ABSOLUTE,icon:Object(N.jsx)($j.a,{})},{name:"Referrals",path:XE.ACCOUNT.MY_REFERRALS.ABSOLUTE,icon:Object(N.jsx)(eE.a,{})}]}];return o&&o===S.CONSTANTS.APP_MODES.DESKTOP&&e.unshift({path:XE.DESKTOP.ABSOLUTE,name:"Source",icon:Object(N.jsx)(tE.a,{}),routes:[{name:"Connected Apps",path:XE.DESKTOP.MY_APPS.ABSOLUTE,icon:Object(N.jsx)(nE.a,{})},{name:"Intercept Traffic",path:XE.DESKTOP.INTERCEPT_TRAFFIC.ABSOLUTE,icon:Object(N.jsx)(hi.a,{})}]}),e});if(Object(c.useEffect)((function(){p||(h(!0),se.a.auth().onAuthStateChanged(function(){var e=Object(ne.a)(te.a.mark((function e(t){var n,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=15;break}if(o===S.CONSTANTS.APP_MODES.EXTENSION||Ss()){e.next=7;break}return e.next=4,Ls(o).getAllRecords();case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=[];case 8:n=e.t0,a=Object.values(n).filter((function(e){return void 0===e.MKTRuleID&&e.creationDate})).length,Yn(["userSubscriptions",t.uid,"planDetails"]).then(function(){var e=Object(ne.a)(te.a.mark((function e(n){var r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Ot(n),!e.t0){e.next=5;break}return e.next=4,Mn(t.uid);case 4:e.t0=e.sent;case 5:r=e.t0,!1,i(_t(!0,{profile:Fn(t),isLoggedIn:!0,planDetails:n,isBackupEnabled:r})),Ot(n)&&co(o).then((function(e){(!e||io(e))&&a&&r?oo(o).then((function(e){console.log({newTimestamp:e}),e&&i(It(e))})):i(It(e))})),f||(A(!0),sE());case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Unable to fetch user plan",e.message),i(_t(!1,!1)),f||(A(!0),sE())})),window.top===window.self&&Xn(t),e.next=17;break;case 15:i(_t(!1,!1)),f||(A(!0),sE());case 17:window.top===window.self&&Jn(t);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[i,o,p,f,O]),Object(c.useLayoutEffect)((function(){window.RQ&&window.RQ.MODE&&i(function(e){return{type:d.UPDATE_APP_MODE,payload:{appMode:e}}}(window.RQ.MODE))}),[i]),Object(c.useLayoutEffect)((function(){O.details&&O.details.isLoggedIn&&O.details.planDetails?(_(pt(O.details.planDetails)),v(dt(O))):(v(!1),_(!1))}),[O]),!ce()(window.location.hash)){var w=window.location.hash.split("/"),M=w[0],k=w[1];switch(M){case XE.HASH.SHARED_LISTS:window.location.assign(XE.SHARED_LISTS.VIEWER.ABSOLUTE+"/"+k);break;case XE.HASH.RULE_EDITOR:window.location.replace(XE.RULE_EDITOR.EDIT_RULE.ABSOLUTE+"/"+k)}}return Object(N.jsx)(qE.b,{locale:zE.a,children:Object(N.jsx)("div",{id:"requestly-dashboard-layout",style:{height:"100vh"},children:Object(N.jsx)(Kj.a,{contentStyle:Nn(n.pathname)?{margin:"0px"}:{},siderWidth:250,footerRender:(!o||o!==S.CONSTANTS.APP_MODES.DESKTOP)&&(n.pathname.includes(W.PATHS.RULES.MY_RULES.ABSOLUTE)?function(){return Object(N.jsx)(uE,{})}:null),menuFooterRender:function(e){return y?g?function(e){return ZE(),Object(N.jsxs)("span",{style:{lineHeight:"48rpx",display:"flex",height:48,color:"#0a48b3",alignItems:"center",cursor:"pointer",fontWeight:400},onClick:function(){return e.push(W.PATHS.PRICING.ABSOLUTE)},children:[Object(N.jsx)(x.F,{style:{width:16,height:16,margin:"0 16px",marginRight:10}}),"Renew Premium"]})}(t):function(e){return aE(),Object(N.jsxs)("span",{style:{lineHeight:"48rpx",display:"flex",height:48,color:"limegreen",alignItems:"center",cursor:"pointer",fontWeight:400},onClick:function(){return e.push(W.PATHS.ACCOUNT.ABSOLUTE)},children:[Object(N.jsx)(dE.a,{style:{width:16,height:16,margin:"0 16px",marginRight:10}}),"Requestly Premium"]})}(t):function(e){return ZE(),Object(N.jsxs)("span",{className:"upgrade",style:{lineHeight:"48rpx",display:"flex",height:48,alignItems:"center",cursor:"pointer",fontWeight:400,color:"#0a48b3"},onClick:function(){return ge(e)},children:[Object(N.jsx)(x.F,{style:{width:16,height:16,margin:"0 16px",marginRight:10}}),"Upgrade to Premium"]})}(t)},onMenuHeaderClick:function(){return me(t)},menuItemRender:function(e,t){return Object(N.jsx)(l.b,{to:{pathname:e.path,state:{prevPath:n.pathname}},children:t})},rightContentRender:function(){return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(WE,{})})},collapsedButtonRender:!1,navTheme:"light",headerTheme:"light",primaryColor:"#0a48b3",layout:"mix",contentWidth:"Fluid",fixedHeader:!0,fixSiderbar:!0,splitMenus:!0,title:!1,logo:iE,route:Nn(n.pathname)?[]:{path:"/",routes:D()},menuHeaderRender:!1,menu:{defaultOpenAll:!0,ignoreFlatMenu:!0},children:Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(rE,{}),Object(N.jsxs)(ae.d,{children:[Object(N.jsx)(ae.b,{path:XE.DASHBOARD,render:function(e){return Object(N.jsx)(Hj,Object(j.a)({},e))}}),Object(N.jsx)(ae.a,{from:XE.EXTENSION_INSTALLED,to:XE.RULES.ABSOLUTE}),Object(N.jsx)(ae.a,{from:XE.GOODBYE.RELATIVE,to:XE.FEEDBACK.ABSOLUTE}),Object(N.jsx)(ae.a,{from:XE.LEGACY.FILES_LIBRARY.ABSOLUTE+"/:id",to:XE.FILES.VIEWER.ABSOLUTE+"/:id"}),Object(N.jsx)(ae.a,{from:XE.LEGACY.PRICING.ABSOLUTE,to:XE.PRICING.ABSOLUTE}),Object(N.jsx)(ae.a,{from:XE.LEGACY.LICENSE.MANAGE.ABSOLUTE,to:XE.LICENSE.MANAGE.ABSOLUTE}),Object(N.jsx)(ae.a,{from:XE.LEGACY.LICENSE.ABSOLUTE,to:XE.LICENSE.ABSOLUTE}),Object(N.jsx)(ae.a,{from:XE.LEGACY.SETTINGS.REMOTE_RULES.ABSOLUTE,to:XE.SETTINGS.REMOTE_RULES.ABSOLUTE}),Object(N.jsx)(ae.a,{from:XE.LEGACY.SETTINGS.ABSOLUTE,to:XE.SETTINGS.ABSOLUTE}),Object(N.jsx)(ae.a,{from:XE.LEGACY.UNLOCK_PREMIUM.ABSOLUTE,to:XE.UNLOCK_PREMIUM.ABSOLUTE}),Object(N.jsx)(ae.a,{from:XE.LEGACY.GOODBYE.ABSOLUTE,to:XE.GOODBYE.ABSOLUTE}),Object(N.jsx)(ae.a,{exact:!0,from:XE.ROOT,to:XE.RULES.ABSOLUTE})]})]})})})})})),eb=$E;n(934),n(935),n(936);o.a.render(Object(N.jsx)($,{children:Object(N.jsx)(l.a,{children:Object(N.jsx)(eb,{})})}),document.getElementById("root"))}},[[937,1,2]]]);
