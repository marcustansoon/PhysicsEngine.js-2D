'[{"id":"Users","title":"Number of Users","bronze":{"title":"Single User","enabled":true},"silver":{"title":"Unlimited Users","enabled":false},"gold":{"title":"Single User","enabled":true},"enterprise":{"title":"Minimum 20 Users","enabled":true}},{"id":"rules","title":"Rules","bronze":{"title":"10 Rules","limit":50,"enabled":true},"silver":{"title":"25 Rules (Max 10 Active)","limit":25,"enabled":true},"gold":{"title":"Unlimited Rules","limit":10000,"enabled":true},"enterprise":{"title":"Unlimited Rules","limit":10000,"enabled":true}},{"id":"active_rules","title":"Active Rules","bronze":{"title":"3 Active Rules","limit":50,"enabled":true},"silver":{"title":"10 Active Rules","limit":50,"enabled":true},"gold":{"title":"Unlimited Active Rules","limit":10000,"enabled":true},"enterprise":{"title":"Unlimited Active Rules","limit":10000,"enabled":true}},{"id":"favourite_rules","title":"Favourite Rules","bronze":{"title":"3 Favourite Rules","limit":3,"enabled":true},"silver":{"title":"10 Favourite Rules","limit":10,"enabled":true},"gold":{"title":"Unlimited Favourite Rules","limit":10000,"enabled":true},"enterprise":{"title":"Unlimited Favourite Rules","limit":10000,"enabled":true}},{"id":"files","title":"Files","bronze":{"title":"5 Files","limit":50,"enabled":true},"silver":{"title":"10 Files","limit":10,"enabled":true},"gold":{"title":"Unlimited Files","limit":1000,"enabled":true},"enterprise":{"title":"Unlimited Files","limit":1000,"enabled":true}},{"id":"groups","title":"Groups","bronze":{"title":"Unlimited Groups","enabled":true},"silver":{"title":"Unlimited Groups","enabled":true},"gold":{"title":"Unlimited Groups","enabled":true},"enterprise":{"title":"Unlimited Groups","enabled":true}},{"id":"shared_lists","title":"Shared Lists","bronze":{"title":"10 Shared Lists","limit":50,"enabled":true},"silver":{"title":"10 Shared Lists","limit":10,"enabled":true},"gold":{"title":"Unlimited Shared Lists","limit":1000,"enabled":true},"enterprise":{"title":"Unlimited Shared Lists","limit":1000,"enabled":true}},{"id":"rule_pairs","title":"Rule Pairs","bronze":{"title":"3 Rule Pairs","limit":50,"enabled":true},"silver":{"title":"10 Rule Pairs","limit":10,"enabled":true},"gold":{"title":"Unlimited Rule Pairs","limit":10000,"enabled":true},"enterprise":{"title":"Unlimited Rule Pairs","limit":10000,"enabled":true}},{"id":"RESPONSE_BODY_CHARACTER_LIMIT","title":"AJAX Response Char Limit","showInComparisonTable":false,"bronze":{"title":"Upto 6,000 Characters AJAX Response","limit":6000,"enabled":true},"silver":{"title":"Upto 6,000 Characters AJAX Response","limit":6000,"enabled":true},"gold":{"title":"Upto 6,000 Characters AJAX Response","limit":6000,"enabled":true},"enterprise":{"title":"Upto 6,000 Characters AJAX Response","limit":6000,"enabled":true}},{"id":"export_import","title":"Export & Import Rules","bronze":{"title":"Export Rules","enabled":true},"silver":{"title":"Import & Export Rules","enabled":true},"gold":{"title":"Import & Export Rules","enabled":true},"enterprise":{"title":"Import & Export Rules","enabled":true}},{"id":"Customer Support","title":"Priority Support","bronze":{"title":"Support","enabled":false},"silver":{"title":"Priority Support","enabled":false},"gold":{"title":"Priority Support (Email & Chat)","enabled":true},"enterprise":{"title":"Priority Support (Chat & Call)","enabled":true}}]''[{"id":"Users","title":"Number of Users","bronze":{"title":"Limited access","enabled":true,"icon":"frown"},"silver":{"title":"Unlimited Users","enabled":true,"icon":"uncheck"},"gold":{"title":"Best for Indie Dev","enabled":true,"icon":"check"},"enterprise":{"title":"Best for Team/Company","enabled":true,"icon":"check"}},{"id":"rules","title":"Rules","bronze":{"title":"10 Rules","limit":10,"enabled":true,"icon":"frown"},"silver":{"title":"25 Rules (Max 10 Active)","limit":25,"enabled":true,"icon":"check"},"gold":{"title":"Unlimited Rules","limit":10000,"enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Rules","limit":10000,"enabled":true,"icon":"check"}},{"id":"active_rules","title":"Active Rules","bronze":{"title":"3 Active Rules","limit":3,"enabled":true,"icon":"frown"},"silver":{"title":"10 Active Rules","limit":10,"enabled":true,"icon":"check"},"gold":{"title":"Unlimited Active Rules","limit":10000,"enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Active Rules","limit":10000,"enabled":true,"icon":"check"}},{"id":"favourite_rules","title":"Favourite Rules","bronze":{"title":"3 Favourite Rules","limit":3,"enabled":true,"icon":"frown"},"silver":{"title":"10 Favourite Rules","limit":10,"enabled":true,"icon":"check"},"gold":{"title":"Unlimited Favourite Rules","limit":10000,"enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Favourite Rules","limit":10000,"enabled":true,"icon":"check"}},{"id":"files","title":"Files","bronze":{"title":"5 Files","limit":5,"enabled":true,"icon":"frown"},"silver":{"title":"10 Files","limit":10,"enabled":true,"icon":"check"},"gold":{"title":"Unlimited Files","limit":1000,"enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Files","limit":1000,"enabled":true,"icon":"check"}},{"id":"groups","title":"Groups","bronze":{"title":"Limited Groups","enabled":true,"icon":"frown"},"silver":{"title":"Limited Groups","enabled":true,"icon":"frown"},"gold":{"title":"Unlimited Groups","enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Groups","enabled":true,"icon":"check"}},{"id":"shared_lists","title":"Shared Lists","bronze":{"title":"10 Shared Lists","limit":10,"enabled":true,"icon":"frown"},"silver":{"title":"10 Shared Lists","limit":10,"enabled":true,"icon":"check"},"gold":{"title":"Unlimited Shared Lists","limit":1000,"enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Shared Lists","limit":1000,"enabled":true,"icon":"check"}},{"id":"rule_pairs","title":"Rule Pairs","bronze":{"title":"3 Rule Pairs","limit":3,"enabled":true,"icon":"frown"},"silver":{"title":"10 Rule Pairs","limit":10,"enabled":true,"icon":"check"},"gold":{"title":"Unlimited Rule Pairs","limit":10000,"enabled":true,"icon":"check"},"enterprise":{"title":"Unlimited Rule Pairs","limit":10000,"enabled":true,"icon":"check"}},{"id":"RESPONSE_BODY_CHARACTER_LIMIT","title":"AJAX Response Char Limit","showInComparisonTable":false,"bronze":{"title":"Upto 6,000 Characters AJAX Response","limit":6000,"enabled":true,"icon":"check"},"silver":{"title":"Upto 6,000 Characters AJAX Response","limit":6000,"enabled":true,"icon":"check"},"gold":{"title":"Upto 6,000 Characters AJAX Response","limit":6000,"enabled":true,"icon":"check"},"enterprise":{"title":"Upto 6,000 Characters AJAX Response","limit":6000,"enabled":true,"icon":"check"}},{"id":"export_import","title":"Export & Import Rules","bronze":{"title":"Import & Export Rules","enabled":false,"icon":"frown"},"silver":{"title":"Import & Export Rules","enabled":false,"icon":"frown"},"gold":{"title":"Import & Export Rules","enabled":true,"icon":"check"},"enterprise":{"title":"Import & Export Rules","enabled":true,"icon":"check"}},{"id":"Customer Support","title":"Priority Support","bronze":{"title":"Support","enabled":false,"icon":"frown"},"silver":{"title":"Priority Support","enabled":false,"icon":"frown"},"gold":{"title":"Priority Support (Slack)","enabled":true,"icon":"check"},"enterprise":{"title":"Priority Support (Slack)","enabled":true,"icon":"check"}}]')},393:function(e,t){if("undefined"===typeof n)var n=!0;var a={browser:"chrome",storageType:"sync",contextMenuContexts:["browser_action"],collectExtUsageStats:!0,env:"prod",WEB_URL:"https://app.requestly.io",firebaseConfig:{apiKey:"AIzaSyC2WOxTtgKH554wCezEJ4plxnMNXaUSFXY",authDomain:"app.requestly.io",databaseURL:"https://requestly.firebaseio.com",projectId:"project-7820168409702389920",storageBucket:"project-7820168409702389920.appspot.com",messagingSenderId:"911299702852"},logLevel:"info",stripeConfig:{publishableKey:"pk_live_FgVCiLBLJBaVSLulhPWptlDg",productIds:{enterprisePlan:{INR:{monthly:"price_1Hs62NIVcpOtHqujisdpsA53",quarterly:"price_1Hs62NIVcpOtHqujbIhUiCNO","half-yearly":"price_1Hs62NIVcpOtHqujk2TCvkba",annual:"price_1Hs62OIVcpOtHqujuSmvQ0LR"},USD:{monthly:"price_1Hs62NIVcpOtHqujNdJXy1U2",quarterly:"price_1Hs62NIVcpOtHqujA6BhjyBc","half-yearly":"price_1Hs62NIVcpOtHqujrfFCxb4I",annual:"price_1Hs62NIVcpOtHqujafhBiwBk"},default:"price_1Hs62NIVcpOtHqujNdJXy1U2"}}},version:"21.7.22"};n?e.exports=a:window&&(window.RQ=window.RQ||{},window.RQ.configs=a)},394:function(e,t,n){if("undefined"===typeof a)var a=!0;var r,c={};r=a?n(393):window.RQ.configs,c.APP_MODES={DESKTOP:"DESKTOP",EXTENSION:"EXTENSION",WORDPRESS:"WORDPRESS",CLOUDFLARE:"CLOUDFLARE"},c.COMPANY_INFO={SUPPORT_EMAIL:"contact@requestly.io"},c.VERSION=3,c.ONBOARDING_DAYS_TO_EXPIRE=7,c.ONBOARDING_TASKS=5,c.FILE_PICKER_URL="/library/filepicker",c.VERSIONS={REPLACE_RULE:2},c.ENV=r.env,c.PUBLIC_NAMESPACE="__REQUESTLY__",c.RULES_PAGE_URL=r.WEB_URL+"/rules/",c.RULES_PAGE_URL_PATTERN=c.RULES_PAGE_URL+"*",c.PRICING_PAGE_URL=r.WEB_URL+"/pricing/",c.GOODBYE_PAGE_URL=r.WEB_URL+"/goodbye/",c.DELAY_API_URL=r.WEB_URL+"/delay/",c.MOCK_URL=r.WEB_URL+"/mock/",c.BLACK_LIST_DOMAINS=["requestly.in","requestly.io","rq.in","rq.io","__rq"],c.STRING_CONSTANTS={SLASH:"/"},c.LIMITS={NUMBER_SHARED_LISTS:10},c.DEFAULTS={APP_INIT_TIMEOUT:5e3},c.OBJECT_TYPES={GROUP:"group",RULE:"rule"},c.RULE_TYPES={REDIRECT:"Redirect",CANCEL:"Cancel",REPLACE:"Replace",HEADERS:"Headers",USERAGENT:"UserAgent",SCRIPT:"Script",QUERYPARAM:"QueryParam",RESPONSE:"Response",DELAY:"Delay"},c.DELAY_REQUEST_CONSTANTS={DELAY_PARAM_NAME:"delay",DELAY_PARAM_VALUE:"true",MIN_DELAY_VALUE:1,MAX_DELAY_VALUE_NON_XHR:1e4,MAX_DELAY_VALUE_XHR:5e3,DELAY_TYPE:{CLIENT_SIDE:"clientSideDelay",SERVER_SIDE:"serverSideDelay"},REQUEST_TYPE:{XHR:"xmlhttprequest"},METHOD_TYPE:{GET:"GET"}},c.OBJECT_FORMAT_KEYS={CREATION_DATE:"creationDate",NAME:"name",ID:"id",RULE_TYPE:"ruleType",STATUS:"status",OBJECT_TYPE:"objectType",GROUP_ID:"groupId",IS_FAVOURITE:"isFavourite"},c.HEADER_NAMES={USER_AGENT:"User-Agent"},c.GROUP_STATUS={ACTIVE:"Active",INACTIVE:"Inactive"},c.RULE_STATUS={ACTIVE:"Active",INACTIVE:"Inactive"},c.RULE_KEYS={URL:"Url",HOST:"host",PATH:"path",HEADER:"Header",OVERWRITE:"Overwrite",IGNORE:"Ignore",PARAM:"param",VALUE:"value"},c.PATH_FROM_PAIR={RULE_KEYS:"source.key",RULE_OPERATORS:"source.operator",SCRIPT_LIBRARIES:"libraries",SOURCE_PAGE_URL_OPERATOR:"source.filters.pageUrl.operator",SOURCE_PAGE_URL_VALUE:"source.filters.pageUrl.value",SOURCE_RESOURCE_TYPE:"source.filters.resourceType",SOURCE_REQUEST_METHOD:"source.filters.requestMethod"},c.HEADER_SUGGESTIONS={Request:[{label:"authorization",value:"authorization"},{label:"cache-control",value:"cache-control"},{label:"cookie",value:"cookie"},{label:"connection",value:"connection"},{label:"origin",value:"origin"},{label:"user-agent",value:"user-agent"}],Response:[{label:"age",value:"age"},{label:"access-control-allow-origin",value:"access-control-allow-origin"},{label:"access-control-allow-credentials",value:"access-control-allow-credentials"},{label:"expires",value:"expires"},{label:"server",value:"server"},{label:"x-frame-options",value:"x-frame-options"}]},c.URL_COMPONENTS={PROTOCOL:"Protocol",URL:"Url",HOST:"host",PATH:"path",QUERY:"query",HASH:"hash"},c.RULE_OPERATORS={EQUALS:"Equals",CONTAINS:"Contains",MATCHES:"Matches",WILDCARD_MATCHES:"Wildcard_Matches"},c.RULE_SOURCE_FILTER_TYPES={PAGE_URL:"pageUrl",RESOURCE_TYPE:"resourceType",REQUEST_METHOD:"requestMethod"},c.MODIFICATION_TYPES={ADD:"Add",REMOVE:"Remove",REMOVE_ALL:"Remove All",MODIFY:"Modify",REPLACE:"Replace"},c.NEED_HELP_QUERY_TYPES={FEEDBACK:"Feedback",BUG:"Bug",QUESTION:"Question",FEATURE_REQUEST:"FeatureRequest"},c.CLIENT_MESSAGES={GET_SCRIPT_RULES:"getScriptRules",GET_USER_AGENT_RULE_PAIRS:"getUserAgentRulePairs",OVERRIDE_RESPONSE:"overrideResponse",NOTIFY_RULES_APPLIED:"notifyRulesApplied"},c.EXTENSION_MESSAGES={FOCUS_TAB:"focusTab",GET_FULL_LOGS:"getFullLogs",CLEAR_LOGS_FOR_TAB:"clearLogsForTab",CLEAR_LOGS_FOR_DOMAIN:"clearLogsForDomain",GET_FAVOURITE_RULES:"getFavouriteRules",GET_FLAGS:"getFlags"},c.HEADERS_TARGET={REQUEST:"Request",RESPONSE:"Response"},c.REQUEST_TYPES={MAIN_FRAME:"mainFrame",PAGE_REQUEST:"pageRequest"},c.SCRIPT_TYPES={URL:"url",CODE:"code"},c.SCRIPT_CODE_TYPES={JS:"js",CSS:"css"},c.SCRIPT_LOAD_TIME={BEFORE_PAGE_LOAD:"beforePageLoad",AFTER_PAGE_LOAD:"afterPageLoad"},c.SCRIPT_LIBRARIES={JQUERY:{name:"jQuery",src:"https://code.jquery.com/jquery-2.2.4.js"},UNDERSCORE:{name:"Underscore",src:"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"}},c.RESPONSE_BODY_TYPES={STATIC:"static",CODE:"code"},c.RESPONSE_CODES={NOT_FOUND:404},c.STORAGE_KEYS={REQUESTLY_SETTINGS:"rq_settings",USER_INFO:"user_info",LATEST_NOTIFICATION_READ_BY_USER:"latestNotificationReadId"},c.MESSAGES={DELETE_ITEMS_NO_SELECTION_WARNING:"Please select one or more rules to delete.",DELETE_ITEMS:"Are you sure you want to delete the selected items?",DELETE_GROUP_WITH_RULES_WARNING:"There are some rules contained in this group. Please delete or ungroup them before deleting the group.",DELETE_GROUP:"Are you sure you want to delete the group?",UNGROUP_ITEMS_NO_SELECTION_WARNING:"Please select one or more rules to ungroup.",UNGROUP_ITEMS:"Are you sure you want to ungroup the selected items?",SIGN_IN_TO_VIEW_SHARED_LISTS:"Please login to view your Shared Lists.",SIGN_IN_TO_CREATE_SHARED_LISTS:"Please login to share the selected rules",SIGN_IN_TO_SUBMIT_QUERY:"Please login to contact our support team.",ERROR_AUTHENTICATION:"Received some error in authentication. Please try again later!!",SHARED_LISTS_LIMIT_REACHED:"You can not create more than"+c.LIMITS.NUMBER_SHARED_LISTS+"shared lists",ERROR_TAB_FOCUS:"The tab cannot be focused, as it might have been closed.",DEACTIVATE_REQUESTLY_MENU_OPTION:"Deactivate Requestly"},c.RESOURCES={EXTENSION_ICON:"/resources/images/48x48.png",EXTENSION_ICON_GREYSCALE:"/resources/images/48x48_greyscale.png",EXTENSION_ICON_GREEN:"/resources/images/48x48_green.png"},c.GA_EVENTS={CATEGORIES:{RULES:"rules",RULE:"rule",GROUP:"group",USER:"user",SHARED_LIST:"shared list",RULE_LOGS:"rule logs",EXTENSION:"extension",IN_APP_NOTIFICATION:"InAppNotification",NEED_HELP_FEATURE:"need help feature",PRICING:"pricing",LICENSE:"license",LIBRARY:"library",UNLOCK:"unlock",REMOTE_RULES:"remoteRules",SPONSOR_SIDERAIL:"sponsor_siderail",LOGIN:"login",SIGNUP:"signup",REFERRAL:"referral",PAGE_VISITS:"page visits",REQUEST_UPGRADE:"request upgrade",MARKETPLACE:"marketplace",CHECKOUT:"checkout page",TEAMS:"teams page",ONBOARDING:"onboarding page",RULE_PAIRS:"rule pairs"},ACTIONS:{MODIFIED:"modified",CREATED:"created",DELETED:"deleted",ACTIVATED:"activated",DEACTIVATED:"deactivated",IMPORTED:"imported",EXPORTED:"exported",LIMIT_REACHED:"limit reached",AUTHENTICATED:"authenticated",VIEWED:"viewed",CLICKED:"clicked",COPIED:"copied",MARKED_FAVOURITE:"marked favourite",UNMARKED_FAVOURITE:"unmarked favourite",WORKFLOW_STARTED:"workflow started",ALREADY_LOGIN:"already login",LOGIN_REQUESTED:"login requested",LOGIN_DONE:"login done",LOGIN_REJECTED:"login rejected",FORM_SUBMITTED:"form submitted",FORM_REJECTED:"form rejected",INVALID_SUBMIT:"invalid submit",GROUPED:"grouped",UNGROUPED:"ungrouped",SHARED:"shared",ERROR:"error occured",TASK_COMPLETED:"task completed",BACKUP_CREATED:"backup created",BACKUP_USED:"backup used",CARD_ERROR:"card error",CARD_ACCEPTED:"card accepted",CARD_ENTERED:"card num and cv entered",CURRENCY_CHANGE:"currency_changed",DURATION_CHANGE:"duration_changed",APPLIED_SUCCESSFULLY:"applied_successfully",APPLIED_UNSUCCESSFULLY:"applied_unsuccessfully",REVOKED:"revoked",BOUGHT:"bought",UPDATED:"updated",REQUEST_ADMIN:"enterprise_plan_requested",UNINSTALLED:"uninstalled",UNINSTALL_RESPONSE:"uninstall_response",ROUTE_VIEWED:"route_viewed",EMAIL_LOGIN_PERFORMED:"email_login_performed",EMAIL_SIGNUP_PERFORMED:"email_signup_performed",GMAIL_LOGIN_PERFORMED:"gmail_login_performed",GMAIL_SIGNUP_PERFORMED:"gmail_signup_performed",MICROSOFT_LOGIN_PERFORMED:"microsoft_login_performed",APPLE_LOGIN_PERFORMED:"apple_login_performed",REFERRAL_APPLIED:"referral_applied",REFERRAL_FAILED:"referral_failed",EMAIL_VERIFICATION_RESEND:"resend_email_verification",EMAIL_VERIFICATION_SUCCESSFUL:"email_verification_successful",EMAIL_VERIFICATION_FAILED:"email_verification_failed"},ATTR:{PAYMENT_MODE:"payment_mode",PLANNAME:"planname",PLAN_DURATION:"plan_duration",PLAN_ID:"plan_id",PLAN_START_DATE:"plan_startDate",PLAN_END_DATE:"plan_endDate",COUPON:"coupon",COUPON_VALUE:"coupon_value",LICENSE:"licensekey",COMPANY:"company",PROFILE:"profile",REMOTE_RULES_ENDPOINT:"remoteRulesEndpoint",REMOTE_RULES_FREQUENCY:"remoteRulesFrequency",NUM_RULES:"NUM_RULES",NUM_ACTIVE_RULES:"NUM_ACTIVE_RULES",NUM_GROUPS:"NUM_GROUPS",NUM_ACTIVE_GROUPS:"NUM_ACTIVE_GROUPS",NUM_SHARED_LISTS:"NUM_SHARED_LISTS",SIGNUP_DATE:"SIGNUP_DATE"},VALUES:{PAYPAL:"paypal"},GA_CUSTOM_DIMENSIONS:{USER_ID:"dimension1"},GA_CUSTOM_METRICS:{num_rules:"metric1"}},c.USER={AUTHORIZED:"authorized-user",UNAUTHORIZED:"unauthorized-user"},c.FIREBASE_NODES={USERS:"users",PUBLIC:"public",SHARED_LISTS:"sharedLists",FEEDBACK:"feedback",FILES:"files"},c.DATASTORE={ACTIONS:{CHECK_USER_AUTH:"check:userAuthenticated",AUTHENTICATE:"authenticate",FETCH_USER_DETAILS:"fetchUserDetails",GETVALUE:"getValue",SETVALUE:"setValue"}},c.MESSAGE_HANDLER={ACTIONS:{SUBMIT_EVENT:"submitEvent",SUBMIT_ATTR:"submitAttr"},MESSAGE_TYPES:{EVENT:"event",ATTRIBUTE:"attribute"},SINKS:{CUSTOMERLY:"customerly"}},c.getSharedListURL=function(e,t){var n=t.replace(new RegExp(" +|/+","g"),"-").replace(/-+/g,"-");return c.RULES_PAGE_URL+"#sharedList/"+e+"-"+n},c.getSharedListTimestamp=function(e){return e.split("-")[0]},c.fireAjax=function(e,t){return new Promise((function(n,a){var r=new XMLHttpRequest;r.open("GET",e,t),r.onreadystatechange=function(){4===this.readyState&&(this.status>=200&&this.status<400?n(JSON.parse(this.responseText)):a())},r.send()}))},a?e.exports=c:Object.assign(window.RQ,c)},498:function(e,t,n){},500:function(e,t,n){},554:function(e,t){if("undefined"===typeof n)var n=!0;var a={enabled:!1,ns:"Requestly: ",log:function(e){this.enabled&&console.log.apply(console,[this.ns].concat(Array.prototype.slice.call(arguments)))},error:function(e){this.enabled&&console.error.apply(console,[this.ns].concat(Array.prototype.slice.call(arguments)))}};n?e.exports=a:(window.RQ=window.RQ||{},window.RQ.components=window.RQ.components||{},window.RQ.components.logger=a)},555:function(e,t,n){(function(t){var a=n(556),r=n(560),c=n(561);e.exports=function(){var e={976:function(e,t,n){if(void 0===a)var a=!0;var r,c={};r=a?n(531):window.RQ.configs,c.APP_MODES={DESKTOP:"DESKTOP",EXTENSION:"EXTENSION",WORDPRESS:"WORDPRESS",CLOUDFLARE:"CLOUDFLARE"},c.COMPANY_INFO={SUPPORT_EMAIL:"contact@requestly.io"},c.VERSION=3,c.ONBOARDING_DAYS_TO_EXPIRE=7,c.ONBOARDING_TASKS=5,c.FILE_PICKER_URL="/library/filepicker",c.VERSIONS={REPLACE_RULE:2},c.ENV=r.env,c.PUBLIC_NAMESPACE="__REQUESTLY__",c.RULES_PAGE_URL=r.WEB_URL+"/rules/",c.RULES_PAGE_URL_PATTERN=c.RULES_PAGE_URL+"*",c.PRICING_PAGE_URL=r.WEB_URL+"/pricing/",c.GOODBYE_PAGE_URL=r.WEB_URL+"/goodbye/",c.DELAY_API_URL=r.WEB_URL+"/delay/",c.MOCK_URL=r.WEB_URL+"/mock/",c.BLACK_LIST_DOMAINS=["requestly.in","requestly.io","rq.in","rq.io","__rq"],c.STRING_CONSTANTS={SLASH:"/"},c.LIMITS={NUMBER_SHARED_LISTS:10},c.DEFAULTS={APP_INIT_TIMEOUT:5e3},c.OBJECT_TYPES={GROUP:"group",RULE:"rule"},c.RULE_TYPES={REDIRECT:"Redirect",CANCEL:"Cancel",REPLACE:"Replace",HEADERS:"Headers",USERAGENT:"UserAgent",SCRIPT:"Script",QUERYPARAM:"QueryParam",RESPONSE:"Response",DELAY:"Delay"},c.DELAY_REQUEST_CONSTANTS={DELAY_PARAM_NAME:"delay",DELAY_PARAM_VALUE:"true",MIN_DELAY_VALUE:1,MAX_DELAY_VALUE_NON_XHR:1e4,MAX_DELAY_VALUE_XHR:5e3,DELAY_TYPE:{CLIENT_SIDE:"clientSideDelay",SERVER_SIDE:"serverSideDelay"},REQUEST_TYPE:{XHR:"xmlhttprequest"},METHOD_TYPE:{GET:"GET"}},c.OBJECT_FORMAT_KEYS={CREATION_DATE:"creationDate",NAME:"name",ID:"id",RULE_TYPE:"ruleType",STATUS:"status",OBJECT_TYPE:"objectType",GROUP_ID:"groupId",IS_FAVOURITE:"isFavourite"},c.HEADER_NAMES={USER_AGENT:"User-Agent"},c.GROUP_STATUS={ACTIVE:"Active",INACTIVE:"Inactive"},c.RULE_STATUS={ACTIVE:"Active",INACTIVE:"Inactive"},c.RULE_KEYS={URL:"Url",HOST:"host",PATH:"path",HEADER:"Header",OVERWRITE:"Overwrite",IGNORE:"Ignore",PARAM:"param",VALUE:"value"},c.PATH_FROM_PAIR={RULE_KEYS:"source.key",RULE_OPERATORS:"source.operator",SCRIPT_LIBRARIES:"libraries",SOURCE_PAGE_URL_OPERATOR:"source.filters.pageUrl.operator",SOURCE_PAGE_URL_VALUE:"source.filters.pageUrl.value",SOURCE_RESOURCE_TYPE:"source.filters.resourceType",SOURCE_REQUEST_METHOD:"source.filters.requestMethod"},c.HEADER_SUGGESTIONS={Request:[{label:"authorization",value:"authorization"},{label:"cache-control",value:"cache-control"},{label:"cookie",value:"cookie"},{label:"connection",value:"connection"},{label:"origin",value:"origin"},{label:"user-agent",value:"user-agent"}],Response:[{label:"age",value:"age"},{label:"access-control-allow-origin",value:"access-control-allow-origin"},{label:"access-control-allow-credentials",value:"access-control-allow-credentials"},{label:"expires",value:"expires"},{label:"server",value:"server"},{label:"x-frame-options",value:"x-frame-options"}]},c.URL_COMPONENTS={PROTOCOL:"Protocol",URL:"Url",HOST:"host",PATH:"path",QUERY:"query",HASH:"hash"},c.RULE_OPERATORS={EQUALS:"Equals",CONTAINS:"Contains",MATCHES:"Matches",WILDCARD_MATCHES:"Wildcard_Matches"},c.RULE_SOURCE_FILTER_TYPES={PAGE_URL:"pageUrl",RESOURCE_TYPE:"resourceType",REQUEST_METHOD:"requestMethod"},c.MODIFICATION_TYPES={ADD:"Add",REMOVE:"Remove",REMOVE_ALL:"Remove All",MODIFY:"Modify",REPLACE:"Replace"},c.NEED_HELP_QUERY_TYPES={FEEDBACK:"Feedback",BUG:"Bug",QUESTION:"Question",FEATURE_REQUEST:"FeatureRequest"},c.CLIENT_MESSAGES={GET_SCRIPT_RULES:"getScriptRules",GET_USER_AGENT_RULE_PAIRS:"getUserAgentRulePairs",OVERRIDE_RESPONSE:"overrideResponse",NOTIFY_RULES_APPLIED:"notifyRulesApplied"},c.EXTENSION_MESSAGES={FOCUS_TAB:"focusTab",GET_FULL_LOGS:"getFullLogs",CLEAR_LOGS_FOR_TAB:"clearLogsForTab",CLEAR_LOGS_FOR_DOMAIN:"clearLogsForDomain",GET_FAVOURITE_RULES:"getFavouriteRules",GET_FLAGS:"getFlags"},c.HEADERS_TARGET={REQUEST:"Request",RESPONSE:"Response"},c.REQUEST_TYPES={MAIN_FRAME:"mainFrame",PAGE_REQUEST:"pageRequest"},c.SCRIPT_TYPES={URL:"url",CODE:"code"},c.SCRIPT_CODE_TYPES={JS:"js",CSS:"css"},c.SCRIPT_LOAD_TIME={BEFORE_PAGE_LOAD:"beforePageLoad",AFTER_PAGE_LOAD:"afterPageLoad"},c.SCRIPT_LIBRARIES={JQUERY:{name:"jQuery",src:"https://code.jquery.com/jquery-2.2.4.js"},UNDERSCORE:{name:"Underscore",src:"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"}},c.RESPONSE_BODY_TYPES={STATIC:"static",CODE:"code"},c.RESPONSE_CODES={NOT_FOUND:404},c.STORAGE_KEYS={REQUESTLY_SETTINGS:"rq_settings",USER_INFO:"user_info",LATEST_NOTIFICATION_READ_BY_USER:"latestNotificationReadId"},c.MESSAGES={DELETE_ITEMS_NO_SELECTION_WARNING:"Please select one or more rules to delete.",DELETE_ITEMS:"Are you sure you want to delete the selected items?",DELETE_GROUP_WITH_RULES_WARNING:"There are some rules contained in this group. Please delete or ungroup them before deleting the group.",DELETE_GROUP:"Are you sure you want to delete the group?",UNGROUP_ITEMS_NO_SELECTION_WARNING:"Please select one or more rules to ungroup.",UNGROUP_ITEMS:"Are you sure you want to ungroup the selected items?",SIGN_IN_TO_VIEW_SHARED_LISTS:"Please login to view your Shared Lists.",SIGN_IN_TO_CREATE_SHARED_LISTS:"Please login to share the selected rules",SIGN_IN_TO_SUBMIT_QUERY:"Please login to contact our support team.",ERROR_AUTHENTICATION:"Received some error in authentication. Please try again later!!",SHARED_LISTS_LIMIT_REACHED:"You can not create more than"+c.LIMITS.NUMBER_SHARED_LISTS+"shared lists",ERROR_TAB_FOCUS:"The tab cannot be focused, as it might have been closed.",DEACTIVATE_REQUESTLY_MENU_OPTION:"Deactivate Requestly"},c.RESOURCES={EXTENSION_ICON:"/resources/images/48x48.png",EXTENSION_ICON_GREYSCALE:"/resources/images/48x48_greyscale.png",EXTENSION_ICON_GREEN:"/resources/images/48x48_green.png"},c.GA_EVENTS={CATEGORIES:{RULES:"rules",RULE:"rule",GROUP:"group",USER:"user",SHARED_LIST:"shared list",RULE_LOGS:"rule logs",EXTENSION:"extension",IN_APP_NOTIFICATION:"InAppNotification",NEED_HELP_FEATURE:"need help feature",PRICING:"pricing",LICENSE:"license",LIBRARY:"library",UNLOCK:"unlock",REMOTE_RULES:"remoteRules",SPONSOR_SIDERAIL:"sponsor_siderail",LOGIN:"login",SIGNUP:"signup",REFERRAL:"referral",PAGE_VISITS:"page visits",REQUEST_UPGRADE:"request upgrade",MARKETPLACE:"marketplace",CHECKOUT:"checkout page",TEAMS:"teams page",ONBOARDING:"onboarding page",RULE_PAIRS:"rule pairs"},ACTIONS:{MODIFIED:"modified",CREATED:"created",DELETED:"deleted",ACTIVATED:"activated",DEACTIVATED:"deactivated",IMPORTED:"imported",EXPORTED:"exported",LIMIT_REACHED:"limit reached",AUTHENTICATED:"authenticated",VIEWED:"viewed",CLICKED:"clicked",COPIED:"copied",MARKED_FAVOURITE:"marked favourite",UNMARKED_FAVOURITE:"unmarked favourite",WORKFLOW_STARTED:"workflow started",ALREADY_LOGIN:"already login",LOGIN_REQUESTED:"login requested",LOGIN_DONE:"login done",LOGIN_REJECTED:"login rejected",FORM_SUBMITTED:"form submitted",FORM_REJECTED:"form rejected",INVALID_SUBMIT:"invalid submit",GROUPED:"grouped",UNGROUPED:"ungrouped",SHARED:"shared",ERROR:"error occured",TASK_COMPLETED:"task completed",BACKUP_CREATED:"backup created",BACKUP_USED:"backup used",CARD_ERROR:"card error",CARD_ACCEPTED:"card accepted",CARD_ENTERED:"card num and cv entered",CURRENCY_CHANGE:"currency_changed",DURATION_CHANGE:"duration_changed",APPLIED_SUCCESSFULLY:"applied_successfully",APPLIED_UNSUCCESSFULLY:"applied_unsuccessfully",REVOKED:"revoked",BOUGHT:"bought",UPDATED:"updated",REQUEST_ADMIN:"enterprise_plan_requested",UNINSTALLED:"uninstalled",UNINSTALL_RESPONSE:"uninstall_response",ROUTE_VIEWED:"route_viewed",EMAIL_LOGIN_PERFORMED:"email_login_performed",EMAIL_SIGNUP_PERFORMED:"email_signup_performed",GMAIL_LOGIN_PERFORMED:"gmail_login_performed",GMAIL_SIGNUP_PERFORMED:"gmail_signup_performed",MICROSOFT_LOGIN_PERFORMED:"microsoft_login_performed",APPLE_LOGIN_PERFORMED:"apple_login_performed",REFERRAL_APPLIED:"referral_applied",REFERRAL_FAILED:"referral_failed",EMAIL_VERIFICATION_RESEND:"resend_email_verification",EMAIL_VERIFICATION_SUCCESSFUL:"email_verification_successful",EMAIL_VERIFICATION_FAILED:"email_verification_failed"},ATTR:{PAYMENT_MODE:"payment_mode",PLANNAME:"planname",PLAN_DURATION:"plan_duration",PLAN_ID:"plan_id",PLAN_START_DATE:"plan_startDate",PLAN_END_DATE:"plan_endDate",COUPON:"coupon",COUPON_VALUE:"coupon_value",LICENSE:"licensekey",COMPANY:"company",PROFILE:"profile",REMOTE_RULES_ENDPOINT:"remoteRulesEndpoint",REMOTE_RULES_FREQUENCY:"remoteRulesFrequency",NUM_RULES:"NUM_RULES",NUM_ACTIVE_RULES:"NUM_ACTIVE_RULES",NUM_GROUPS:"NUM_GROUPS",NUM_ACTIVE_GROUPS:"NUM_ACTIVE_GROUPS",NUM_SHARED_LISTS:"NUM_SHARED_LISTS",SIGNUP_DATE:"SIGNUP_DATE"},VALUES:{PAYPAL:"paypal"},GA_CUSTOM_DIMENSIONS:{USER_ID:"dimension1"},GA_CUSTOM_METRICS:{num_rules:"metric1"}},c.USER={AUTHORIZED:"authorized-user",UNAUTHORIZED:"unauthorized-user"},c.FIREBASE_NODES={USERS:"users",PUBLIC:"public",SHARED_LISTS:"sharedLists",FEEDBACK:"feedback",FILES:"files"},c.DATASTORE={ACTIONS:{CHECK_USER_AUTH:"check:userAuthenticated",AUTHENTICATE:"authenticate",FETCH_USER_DETAILS:"fetchUserDetails",GETVALUE:"getValue",SETVALUE:"setValue"}},c.MESSAGE_HANDLER={ACTIONS:{SUBMIT_EVENT:"submitEvent",SUBMIT_ATTR:"submitAttr"},MESSAGE_TYPES:{EVENT:"event",ATTRIBUTE:"attribute"},SINKS:{CUSTOMERLY:"customerly"}},c.getSharedListURL=function(e,t){var n=t.replace(new RegExp(" +|/+","g"),"-").replace(/-+/g,"-");return c.RULES_PAGE_URL+"#sharedList/"+e+"-"+n},c.getSharedListTimestamp=function(e){return e.split("-")[0]},c.fireAjax=function(e,t){return new Promise((function(n,a){var r=new XMLHttpRequest;r.open("GET",e,t),r.onreadystatechange=function(){4===this.readyState&&(this.status>=200&&this.status<400?n(JSON.parse(this.responseText)):a())},r.send()}))},a?e.exports=c:Object.assign(window.RQ,c)},531:function(e){if(void 0===t)var t=!0;var n={browser:"chrome",storageType:"sync",contextMenuContexts:["browser_action"],collectExtUsageStats:!0,env:"prod",WEB_URL:"https://app.requestly.io",firebaseConfig:{apiKey:"AIzaSyC2WOxTtgKH554wCezEJ4plxnMNXaUSFXY",authDomain:"app.requestly.io",databaseURL:"https://requestly.firebaseio.com",projectId:"project-7820168409702389920",storageBucket:"project-7820168409702389920.appspot.com",messagingSenderId:"911299702852"},logLevel:"info",stripeConfig:{publishableKey:"pk_live_FgVCiLBLJBaVSLulhPWptlDg",productIds:{enterprisePlan:{INR:{monthly:"price_1Hs62NIVcpOtHqujisdpsA53",quarterly:"price_1Hs62NIVcpOtHqujbIhUiCNO","half-yearly":"price_1Hs62NIVcpOtHqujk2TCvkba",annual:"price_1Hs62OIVcpOtHqujuSmvQ0LR"},USD:{monthly:"price_1Hs62NIVcpOtHqujNdJXy1U2",quarterly:"price_1Hs62NIVcpOtHqujA6BhjyBc","half-yearly":"price_1Hs62NIVcpOtHqujrfFCxb4I",annual:"price_1Hs62NIVcpOtHqujafhBiwBk"},default:"price_1Hs62NIVcpOtHqujNdJXy1U2"}}},version:"21.7.22"};t?e.exports=n:window&&(window.RQ=window.RQ||{},window.RQ.configs=n)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var c=t[a]={exports:{}};return e[a](c,c.exports,n),c.exports}n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};return function(){"use strict";n.r(s),n.d(s,{getInstance:function(){return x}});var e=n(976),t="^/(.+)/(|i|g|ig|gi)$";function i(e){var n;return function(e){return-1!==e.search(new RegExp(t))}(e)?(n=e.match(new RegExp(t)),new RegExp(n[1],n[2])):null}function l(t,n){var a=new URL(t);switch(n){case e.URL_COMPONENTS.URL:return t;case e.URL_COMPONENTS.PROTOCOL:return a.protocol;case e.URL_COMPONENTS.HOST:return a.host;case e.URL_COMPONENTS.PATH:return a.pathname;case e.URL_COMPONENTS.QUERY:return a.search;case e.URL_COMPONENTS.HASH:return a.hash}console.error("Invalid source key",t,n)}function o(e){var t={};return e&&"?"!==e?("?"===e[0]&&(e=e.substr(1)),e.split("&").forEach((function(e){var n=e.split("=")[0],a=e.split("=")[1];t[n]=t[n]||[],t[n].push(a)})),t):t}function u(e){var t=[];for(var n in e)(e[n]||[]).forEach((function(e){void 0===e?t.push(n):t.push(n+"="+e)}));return t.join("&")}function d(e){return e.split("#")[0].split("?")[0]}var O=n(976),j=function(){function e(){r(this,e)}return c(e,null,[{key:"populateMatchesInString",value:function(e,t){return t.forEach((function(t,n){0!==n&&(t=t||"",e=e.replace(new RegExp("[$]"+n,"g"),t))})),e}},{key:"checkRegexMatch",value:function(t,n,a){var r,c=i(t);return c&&-1!==n.search(c)?(r=c.exec(n)||[],e.populateMatchesInString(a,r)):null}},{key:"checkWildCardMatch",value:function(t,n,a){var r,c,s,i,l=[];for(n="|"+n+"|",r=(t="|"+t+"|").split("*"),c=0;c<r.length;c++){if(s=r[c],-1===(i=n.indexOf(s)))return null;0===i?l.push(""):l.push(n.substr(0,i)),n=n.slice(i+s.length)}return e.populateMatchesInString(a,l)}},{key:"matchUrlWithRuleSource",value:function(t,n,a){for(var r=t.operator,c=l(n,t.key),s=t.value,i=O.BLACK_LIST_DOMAINS||[],o=0;o<i.length;o++)if(-1!==n.indexOf(i[o]))return null;return e.matchUrlCriteria(c,r,s,a)}},{key:"matchUrlCriteria",value:function(t,n,a,r){var c=r||"";switch(n){case O.RULE_OPERATORS.EQUALS:if(a===t)return c;break;case O.RULE_OPERATORS.CONTAINS:if(-1!==t.indexOf(a))return c;break;case O.RULE_OPERATORS.MATCHES:return e.checkRegexMatch(a,t,c);case O.RULE_OPERATORS.WILDCARD_MATCHES:return e.checkWildCardMatch(a,t,c)}return null}},{key:"matchUrlWithRulePair",value:function(t,n,a){var r=void 0!==t.destination?t.destination:null,c=null;return e.matchRequestWithRuleSourceFilters(t.source.filters,a)&&(c=e.matchUrlWithRuleSource(t.source,n,r)),c}},{key:"matchUrlWithRulePairs",value:function(e,t,n){var a,r=t,c=null;for(a=0;a<e.length;a++)null!==(c=this.matchUrlWithRulePair(e[a],r,n))&&(r=c);return r!==t?r:null}},{key:"matchRequestWithRuleSourceFilters",value:function(t,n){if(!t||!n)return!0;for(var a in t){var r=t[a]||[];switch(a){case O.RULE_SOURCE_FILTER_TYPES.PAGE_URL:if(!r.every((function(t){return e.matchPageUrlFilter(t,n)})))return!1;break;case O.RULE_SOURCE_FILTER_TYPES.REQUEST_METHOD:if(!r.some((function(e){return n.method===e})))return!1;break;case O.RULE_SOURCE_FILTER_TYPES.RESOURCE_TYPE:if(!r.some((function(e){return n.type===e})))return!1}}return!0}},{key:"matchPageUrlFilter",value:function(t,n){var a=n.pageUrl;return null!==e.matchUrlCriteria(a,t.operator,t.value)}},{key:"matchValueForPredefinedFunctions",value:function(e,t){if(!e)return e;for(var n in t)e=t[n].eval(e);return e}},{key:"getHeaderModification",value:function(e,t){var n;return e===O.RULE_TYPES.USERAGENT?{source:t.source,target:O.HEADERS_TARGET.REQUEST,type:O.MODIFICATION_TYPES.REPLACE,header:O.HEADER_NAMES.USER_AGENT,value:t.userAgent}:((n=t).source=n.source||{},n)}},{key:"addHeader",value:function(e,t){e.push({name:t.name,value:t.value})}},{key:"removeHeader",value:function(e,t){for(var n=e.length-1;n>=0;n--){var a=e[n];a.name&&a.name.toLowerCase()===t.toLowerCase()&&e.splice(n,1)}}},{key:"modifyHeaderIfExists",value:function(e,t){for(var n=e.length-1;n>=0;n--){var a=e[n];if(a.name&&a.name.toLowerCase()===t.name.toLowerCase()){a.value=t.value;break}}}},{key:"replaceHeader",value:function(e,t){this.removeHeader(e,t.name),this.addHeader(e,t)}}]),e}(),E=j,b={BLOCK:"block",REDIRECT:"redirect",ADD_DELAY:"add_delay"},S=n(976),p=n(976),h=function(){function t(){r(this,t)}return c(t,null,[{key:"process",value:function(e){for(var t=e.rule,n=e.requestURL,a=e.details,r=n,c=t.pairs,s=null,i=r,l=0;l<c.length;l++)s=c[l],E.matchRequestWithRuleSourceFilters(s.source.filters,a)&&null!==E.matchUrlWithRuleSource(s.source,r)&&(i=this.applyQueryParamModifications(s.modifications,i));return i!==r?{action:"redirect",url:i}:null}},{key:"applyQueryParamModifications",value:function(e,n){var a=n;return e.forEach((function(e){a=t.applyQueryParamModification(e,a)})),a}},{key:"applyQueryParamModification",value:function(t,n){var a=n,r=d(n),c=l(n,p.URL_COMPONENTS.HASH),s=l(n,p.URL_COMPONENTS.QUERY),i=o(s),O=t.param,j=t.value;switch(t.type){case p.MODIFICATION_TYPES.ADD:a=function(t,n,a,r){var c=t,s=d(t),i=l(t,e.URL_COMPONENTS.HASH),O=l(t,e.URL_COMPONENTS.QUERY),j=o(O);return j[n]=r?[]:j[n]||[],j[n].push(a),c=(O=u(j))?s+"?"+O:s,c+=i}(a,O,j,"Overwrite"===t.actionWhenParamExists),"Ignore"===t.actionWhenParamExists&&(a=n);break;case p.MODIFICATION_TYPES.REMOVE:O in i&&(delete i[O],a=(s=u(i))?r+"?"+s:r,a+=c);break;case p.MODIFICATION_TYPES.REMOVE_ALL:a=r+c}return a}}]),t}(),T=h,m=n(976),f=n(976),R=n(976),A=n(976);function x(e){return function(){function e(){r(this,e)}return c(e,null,[{key:"getRuleProcessorInstance",value:function(e){switch(e.toLowerCase()){case A.RULE_TYPES.REDIRECT.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){var t=e.rule,n=e.requestURL,a=e.details,r=E.matchUrlWithRulePairs(t.pairs,n,a);return r&&r!==n?{action:b.REDIRECT,url:r}:null}}]),e}();case A.RULE_TYPES.REPLACE.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){for(var t,n=e.rule,a=e.requestURL,r=e.details,c=n.pairs,s=null,l=null,o=a,u=0;u<c.length;u++)(s=c[u]).from=s.from||"",s.source&&!E.matchRequestWithRuleSourceFilters(s.source.filters,r)||s.source&&s.source.value&&null===E.matchUrlWithRuleSource(s.source,o)||(t=null!==(l=i(s.from)),l=l||s.from,(t&&o.match(l)||-1!==o.indexOf(l))&&(o=o.replace(l,s.to)));return o!==a?{action:"redirect",url:o}:null}}]),e}();case A.RULE_TYPES.HEADERS.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){for(var t=e.rule,n=e.requestURL,r=e.details,c=e.originalHeaders,s=e.typeOfHeaders,i=!1,l=t.pairs||[],o=a(c),u=0;u<l.length;u++){var d=l[u],O=d;if(O.target&&O.header&&null!==E.matchUrlWithRulePair(d,n,r)&&(i=!0,!s||O.target===s)){var j=O.value;switch(O.type){case S.MODIFICATION_TYPES.ADD:E.addHeader(o,{name:O.header,value:j});break;case S.MODIFICATION_TYPES.REMOVE:E.removeHeader(o,O.header);break;case S.MODIFICATION_TYPES.MODIFY:E.modifyHeaderIfExists(o,{name:O.header,value:j});break;case S.MODIFICATION_TYPES.REPLACE:E.replaceHeader(o,{name:O.header,value:j})}}}return i?{action:"modify_headers",newHeaders:o}:null}}]),e}();case A.RULE_TYPES.CANCEL.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){var t=e.rule,n=e.requestURL,a=e.details,r=n,c=E.matchUrlWithRulePairs(t.pairs,r,a);return"string"==typeof c&&0===c.length?{action:b.BLOCK}:null}}]),e}();case A.RULE_TYPES.QUERYPARAM.toLowerCase():return T;case A.RULE_TYPES.SCRIPT.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){var t=e.rule,n=e.requestURL,a=t.pairs[0];if(null===E.matchUrlWithRulePair(a,n))return null;var r=[],c=[];return a.libraries&&a.libraries.forEach((function(e){r.includes(e)||r.push(e)})),{action:"insert",data:{cssScripts:(c=c.concat(a.scripts||[])).filter((function(e){return e.codeType===m.SCRIPT_CODE_TYPES.CSS})),jsScripts:c.filter((function(e){return!e.codeType||e.codeType===m.SCRIPT_CODE_TYPES.JS})),libraries:r}}}}]),e}();case A.RULE_TYPES.USERAGENT.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){var t=e.rule,n=e.requestURL,r=e.originalRequestHeaders,c=e.details,s=!1,i=a(r),l=t.ruleType,o=t.pairs||[],u=null;c&&c.pageDomain&&(u=c.pageDomain);for(var d=0;d<o.length;d++){var O=o[d],j=E.getHeaderModification(l,O);(!j.source.value||null!==E.matchUrlWithRuleSource(j.source,n)||l===f.RULE_TYPES.USERAGENT&&j.source.requestType===f.REQUEST_TYPES.MAIN_FRAME&&u&&null!==E.matchUrlWithRuleSource(j.source,u))&&(s=!0,E.replaceHeader(i,{name:j.header,value:j.value}))}return s?{action:"modify_user_agent",newRequestHeaders:i}:null}}]),e}();case A.RULE_TYPES.DELAY.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){for(var t=e.rule,n=e.requestURL,a=e.details,r=t.pairs,c=null,s=n,i=null,l=null,o=0;o<r.length;o++)if(c=r[o],E.matchRequestWithRuleSourceFilters(c.source.filters,a)&&null!==E.matchUrlWithRuleSource(c.source,n)&&(!c.source||!c.source.value||null!==E.matchUrlWithRuleSource(c.source,s)))return i=c.delay,l=c.delayType||R.DELAY_REQUEST_CONSTANTS.DELAY_TYPE.CLIENT_SIDE,{action:b.ADD_DELAY,delay:i,delayType:l};return null}}]),e}();case A.RULE_TYPES.RESPONSE.toLowerCase():return function(){function e(){r(this,e)}return c(e,null,[{key:"process",value:function(e){var t=e.rule,n=e.requestURL,a=t.pairs[0];return null===E.matchUrlWithRulePair(a,n)?null:a.response&&a.response.type&&"static"!==!a.response.type&&a.response.value?{action:"modify_response",response:a.response.value}:null}}]),e}();default:return null}}}]),e}().getRuleProcessorInstance(e)}}(),s}()}).call(this,n(98))},563:function(e){e.exports=JSON.parse('{"fresh-chrome":{"id":"fresh-chrome","name":"Google Chrome","description":"New Profile","icon":"chrome.png","isActive":false,"comingSoon":false,"isAvailable":false},"existing-chrome":{"id":"existing-chrome","name":"Google Chrome","description":"Existing Profile","icon":"chrome.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-chrome-beta":{"id":"fresh-chrome-beta","name":"Chrome Beta","description":"New Profile","icon":"chrome-beta.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-chrome-dev":{"id":"fresh-chrome-dev","name":"Chrome Dev","description":"New Profile","icon":"chrome-dev.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-chrome-canary":{"id":"fresh-chrome-canary","name":"Chrome Canary","description":"New Profile","icon":"chrome-canary.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-chromium":{"id":"fresh-chromium","name":"Chromium","description":"New Profile","icon":"chromium.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-chromium-dev":{"id":"fresh-chromium-dev","name":"Chromium Dev","description":"New Profile","icon":"chromium.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-edge":{"id":"fresh-edge","name":"Microsoft Edge ","description":"New Profile","icon":"edge.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-edge-beta":{"id":"fresh-edge-beta","name":"Edge Beta","description":"New Profile","icon":"edge-beta.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-edge-dev":{"id":"fresh-edge-dev","name":"Edge Developer","description":"New Profile","icon":"edge-dev.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-edge-canary":{"id":"fresh-edge-canary","name":"Edge Canary","description":"New Profile","icon":"edge-can.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-brave":{"id":"fresh-brave","name":"Brave","description":"New Profile","icon":"brave.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-opera":{"id":"fresh-opera","name":"Opera","description":"New Profile","icon":"opera.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-firefox":{"id":"fresh-firefox","name":"Mozilla Firefox","description":"New Profile","icon":"firefox.png","isActive":false,"comingSoon":false,"isAvailable":false},"fresh-safari":{"id":"fresh-safari","name":"Safari","description":"New Profile","icon":"safari.png","isActive":false,"comingSoon":false,"isAvailable":false},"electron":{"id":"electron","name":"Any Electron App","description":"Spotify, VS Code, more","icon":"electron.png","isActive":false,"comingSoon":true,"isAvailable":false},"fresh-terminal":{"id":"fresh-terminal","name":"Terminal","description":"New Window","icon":"terminal.png","isActive":false,"comingSoon":true,"isAvailable":false},"existing-terminal":{"id":"existing-terminal","name":"Terminal","description":"Existing Window","icon":"terminal.png","isActive":false,"comingSoon":true,"isAvailable":false},"system-wide":{"id":"system-wide","name":"Everywhere","description":"System Wide","icon":"pc.png","isActive":false,"comingSoon":true,"isAvailable":false},"android":{"id":"android","name":"Android","description":"External Device","icon":"android.png","isActive":false,"comingSoon":true,"isAvailable":false},"ios":{"id":"ios","name":"iOS","description":"External Device","icon":"ios.png","isActive":false,"comingSoon":true,"isAvailable":false},"raspberry-pi":{"id":"raspberry-pi","name":"Raspberry Pi","description":"External Device","icon":"raspberry-pi.png","isActive":false,"comingSoon":true,"isAvailable":false}}')},6:function(e,t,n){var a=n(393),r=n(394),c=n(554),s=n(555);e.exports={CONFIG:a,CONSTANTS:r,COMPONENTS:{LOGGER:c},RULE_PROCESSOR:s}},910:function(e,t,n){},932:function(e,t,n){},933:function(e,t,n){},934:function(e,t,n){},935:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getAppVersion",(function(){return $c})),n.d(a,"isAppInstalled",(function(){return es})),n.d(a,"getStorageSuperObject",(function(){return ts})),n.d(a,"getStorageObject",(function(){return ns})),n.d(a,"saveStorageObject",(function(){return as})),n.d(a,"removeStorageObject",(function(){return rs})),n.d(a,"clearStorage",(function(){return cs})),n.d(a,"startBackgroundProcess",(function(){return ss})),n.d(a,"saveRootCert",(function(){return is}));var r={};n.r(r),n.d(r,"getExtensionVersion",(function(){return os})),n.d(r,"isExtensionInstalled",(function(){return us})),n.d(r,"getStorageType",(function(){return Os})),n.d(r,"getStorageInfo",(function(){return js})),n.d(r,"getStorageSuperObject",(function(){return Es})),n.d(r,"getStorageObject",(function(){return bs})),n.d(r,"saveStorageObject",(function(){return Ss})),n.d(r,"removeStorageObject",(function(){return ps})),n.d(r,"clearStorage",(function(){return hs})),n.d(r,"setStorageType",(function(){return Ts})),n.d(r,"getRemoteRulesSettings",(function(){return ms})),n.d(r,"setRemoteRulesSettings",(function(){return fs}));var c=n(1),s=n.n(c),i=n(52),l=n.n(i),o=n(57),u=n(9),d={UPDATE_USER_INFO:"update-user-info",UPDATE_APP_MODE:"update-app-mode",UPDATE_SEARCH:"update-search",TOGGLE_ACTIVE_MODAL:"toggle-active-modal",UPDATE_BACKUP_INFO:"update-backup-info",UPDATE_GROUPS:"update-groups",UPDATE_RULES_AND_GROUPS:"update-rules-and-groups",UPDATE_REFRESH_PENDING_STATUS:"update-refresh-pending-status",TOGGLE_SELECTED_RULE:"toggle-selected-rule-2",SET_SELECTED_RULES:"set-selected-rules",SET_SELECT_ALL_RULES_OF_A_GROUP:"set-select-all-rules-of-a-group",CLEAR_SELECTED_RULES:"clear-selected-rules",UPDATE_RULES_TO_POPULATE:"update-rules-to-populate",UPDATE_GROUPWISE_RULES_TO_POPULATE:"update-groupwise-rules-to-populate",UPDATE_CURRENTLY_SELECTED_RULE_DATA:"update-currently-selected-rule-data",UPDATE_CURRENTLY_SELECTED_RULE_CONFIG:"update-currently-selected-rule-config",CLEAR_CURRENTLY_SELECTED_RULE_AND_CONFIG:"clear-currently-selected-rule-and-config",SELECT_ALL_RULES:"select-all-rules",UPDATE_SELECTED_SHARED_LISTS:"update-selected-shared-lists",UPDATE_MARKETPLACE_RULES:"update-marketplace-rules",TOGGLE_MARKETPLACE_RULES:"toggle-marketplace-rules",UPDATE_DESKTOP_SPECIFIC_DETAILS:"update-desktop-specific-details"},O=n(73),j=n(13),E={SHARED_LISTS:"shared_lists",RULES:"rules",ACTIVE_RULES:"active_rules",RULE_PAIRS:"rule_pairs",GROUPS:"groups",FILES:"files",EXPORT_IMPORT:"export_import",BACKUP_RULES:"backup_rules",ADS:"ads",LOGS:"logs",FAV_RULES:"favourite_rules",RESPONSE_BODY_CHARACTER_LIMIT:"RESPONSE_BODY_CHARACTER_LIMIT"},b=E,S=n(6),p={REQUESTLY_DOCS:"https://docs.requestly.io/",REQUESTLY_DOCS_USING_RULES:"https://docs.requestly.io/using-rules/",REQUESTLY_DOCS_SHARING_RULES:"https://docs.requestly.io/managing-rules/sharing",REQUESTLY_DOCS_FILES_SERVICE:"https://docs.requestly.io/library/introduction-to-library",REQUESTLY_DOCS_PREMIUM_SUBSCRIPTION:"https://docs.requestly.io/premium-subscription",REQUESTLY_DOCS_TEAM_SUBSCRIPTION:"https://docs.requestly.io/premium-subscription#for-teams",REQUESTLY_DOCS_BACKUP_DATA:"https://docs.requestly.io/managing-rules/backup-and-restore",REQUESTLY_BLOG:"https://requestly.io/blog/",REQUESTLY_DESKTOP_APP:"https://requestly.io/desktop",REQUESTLY_PRIVACY_POLICY:"https://requestly.io/privacy",REQUESTLY_TERMS_AND_CONDITIONS:"https://requestly.io/terms/",CONTACT_US:"mailto:"+S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL,CONTACT_US_PAGE:"https://requestly.io/contact-us/",REQUESTLY_GITHUB_ISSUES:"https://github.com/requestly/customer-support/issues",FEEDBACK:"https://feedback.requestly.io/",CHROME_EXTENSION:"https://chrome.google.com/webstore/detail/requestly/mdnleldcmiljblolnjhpnblkcekpdkpa",FIREFOX_EXTENSION:"https://app.requestly.in/firefox/builds/requestly-latest.xpi",GDPR:{EXPORT_DATA:"https://requestly.gdprpage.com/subject",DELETE_ACCOUNT:"https://requestly.gdprpage.com/subject",SIGN_DPA:"https://requestly.gdprpage.com/dpa"}},h={MODES:{}};h.MODES.CREATE="create",h.MODES.EDIT="edit",h.MODES.SHARED_LIST_RULE_VIEW="shared-list-rule-view";var T=h,m=function(e,t){return e.concat(t).replace(/\/\//g,"/")},f={ABSOLUTE:{},ROOT:"/",INDEX_HTML:"/index.html",ANY:"*"};f.DASHBOARD=f.ROOT,f.LANDING="/en-us",f.OVERVIEW={},f.OVERVIEW.RELATIVE="/overview",f.OVERVIEW.ABSOLUTE=m(f.DASHBOARD,f.OVERVIEW.RELATIVE),f.ONBOARDING={},f.ONBOARDING.RELATIVE="/onboarding",f.ONBOARDING.ABSOLUTE=m(f.DASHBOARD,f.ONBOARDING.RELATIVE),f.RULES={},f.RULES.RELATIVE="/rules",f.RULES.ABSOLUTE=m(f.DASHBOARD,f.RULES.RELATIVE),f.RULES.MY_RULES={},f.RULES.MY_RULES.RELATIVE="/my-rules",f.RULES.MY_RULES.ABSOLUTE=m(f.RULES.ABSOLUTE,f.RULES.MY_RULES.RELATIVE),f.RULE_EDITOR={},f.RULE_EDITOR.STUB="/rules/editor",f.RULE_EDITOR.RELATIVE=f.RULE_EDITOR.STUB,f.RULE_EDITOR.ABSOLUTE=m(f.DASHBOARD,f.RULE_EDITOR.STUB),f.RULE_EDITOR.CREATE_RULE={},f.RULE_EDITOR.CREATE_RULE.RELATIVE=f.RULE_EDITOR.RELATIVE+"/"+T.MODES.CREATE,f.RULE_EDITOR.CREATE_RULE.ABSOLUTE=f.RULE_EDITOR.ABSOLUTE+"/"+T.MODES.CREATE,f.RULE_EDITOR.CREATE_RULE.REDIRECT_RULE={},f.RULE_EDITOR.CREATE_RULE.REDIRECT_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+S.CONSTANTS.RULE_TYPES.REDIRECT,f.RULE_EDITOR.CREATE_RULE.REDIRECT_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+S.CONSTANTS.RULE_TYPES.REDIRECT,f.RULE_EDITOR.CREATE_RULE.CANCEL_RULE={},f.RULE_EDITOR.CREATE_RULE.CANCEL_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+S.CONSTANTS.RULE_TYPES.CANCEL,f.RULE_EDITOR.CREATE_RULE.CANCEL_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+S.CONSTANTS.RULE_TYPES.CANCEL,f.RULE_EDITOR.CREATE_RULE.REPLACE_RULE={},f.RULE_EDITOR.CREATE_RULE.REPLACE_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+S.CONSTANTS.RULE_TYPES.REPLACE,f.RULE_EDITOR.CREATE_RULE.REPLACE_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+S.CONSTANTS.RULE_TYPES.REPLACE,f.RULE_EDITOR.CREATE_RULE.HEADERS_RULE={},f.RULE_EDITOR.CREATE_RULE.HEADERS_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+S.CONSTANTS.RULE_TYPES.HEADERS,f.RULE_EDITOR.CREATE_RULE.HEADERS_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+S.CONSTANTS.RULE_TYPES.HEADERS,f.RULE_EDITOR.CREATE_RULE.QUERY_PARAMS_RULE={},f.RULE_EDITOR.CREATE_RULE.QUERY_PARAMS_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+S.CONSTANTS.RULE_TYPES.QUERYPARAM,f.RULE_EDITOR.CREATE_RULE.QUERY_PARAMS_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+S.CONSTANTS.RULE_TYPES.QUERYPARAM,f.RULE_EDITOR.CREATE_RULE.SCRIPT_RULE={},f.RULE_EDITOR.CREATE_RULE.SCRIPT_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+S.CONSTANTS.RULE_TYPES.SCRIPT,f.RULE_EDITOR.CREATE_RULE.SCRIPT_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+S.CONSTANTS.RULE_TYPES.SCRIPT,f.RULE_EDITOR.CREATE_RULE.RESPONSE_RULE={},f.RULE_EDITOR.CREATE_RULE.RESPONSE_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+S.CONSTANTS.RULE_TYPES.RESPONSE,f.RULE_EDITOR.CREATE_RULE.RESPONSE_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+S.CONSTANTS.RULE_TYPES.RESPONSE,f.RULE_EDITOR.CREATE_RULE.USER_AGENT_RULE={},f.RULE_EDITOR.CREATE_RULE.USER_AGENT_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+S.CONSTANTS.RULE_TYPES.USERAGENT,f.RULE_EDITOR.CREATE_RULE.USER_AGENT_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+S.CONSTANTS.RULE_TYPES.USERAGENT,f.RULE_EDITOR.CREATE_RULE.DELAY_RULE={},f.RULE_EDITOR.CREATE_RULE.DELAY_RULE.RELATIVE=f.RULE_EDITOR.CREATE_RULE.RELATIVE+"/"+S.CONSTANTS.RULE_TYPES.DELAY,f.RULE_EDITOR.CREATE_RULE.DELAY_RULE.ABSOLUTE=f.RULE_EDITOR.CREATE_RULE.ABSOLUTE+"/"+S.CONSTANTS.RULE_TYPES.DELAY,f.RULE_EDITOR.EDIT_RULE={},f.RULE_EDITOR.EDIT_RULE.RELATIVE=f.RULE_EDITOR.RELATIVE+"/"+T.MODES.EDIT,f.RULE_EDITOR.EDIT_RULE.ABSOLUTE=f.RULE_EDITOR.ABSOLUTE+"/"+T.MODES.EDIT,f.MOCK_SERVER={},f.MOCK_SERVER.RELATIVE="/mock-server",f.MOCK_SERVER.ABSOLUTE=m(f.DASHBOARD,f.MOCK_SERVER.RELATIVE),f.MOCK_SERVER.MY_MOCKS={},f.MOCK_SERVER.MY_MOCKS.STUB="/my-mocks",f.MOCK_SERVER.MY_MOCKS.RELATIVE=f.MOCK_SERVER.RELATIVE+f.MOCK_SERVER.MY_MOCKS.STUB,f.MOCK_SERVER.MY_MOCKS.ABSOLUTE=f.MOCK_SERVER.ABSOLUTE+f.MOCK_SERVER.MY_MOCKS.STUB,f.MOCK_SERVER.VIEWER={},f.MOCK_SERVER.VIEWER.STUB="/viewer",f.MOCK_SERVER.VIEWER.RELATIVE=f.MOCK_SERVER.RELATIVE+f.MOCK_SERVER.VIEWER.STUB,f.MOCK_SERVER.VIEWER.ABSOLUTE=f.MOCK_SERVER.ABSOLUTE+f.MOCK_SERVER.VIEWER.STUB,f.MOCK_SERVER.VIEWER.CREATE={},f.MOCK_SERVER.VIEWER.CREATE.STUB="/create",f.MOCK_SERVER.VIEWER.CREATE.RELATIVE=f.MOCK_SERVER.VIEWER.RELATIVE+f.MOCK_SERVER.VIEWER.CREATE.STUB,f.MOCK_SERVER.VIEWER.CREATE.ABSOLUTE=f.MOCK_SERVER.VIEWER.ABSOLUTE+f.MOCK_SERVER.VIEWER.CREATE.STUB,f.FILES={},f.FILES.RELATIVE="/files",f.FILES.ABSOLUTE=m(f.DASHBOARD,f.FILES.RELATIVE),f.FILES.MY_FILES={},f.FILES.MY_FILES.STUB="/my-files",f.FILES.MY_FILES.RELATIVE=f.FILES.RELATIVE+f.FILES.MY_FILES.STUB,f.FILES.MY_FILES.ABSOLUTE=f.FILES.ABSOLUTE+f.FILES.MY_FILES.STUB,f.FILES.VIEWER={},f.FILES.VIEWER.STUB="/viewer",f.FILES.VIEWER.RELATIVE=f.FILES.RELATIVE+f.FILES.VIEWER.STUB,f.FILES.VIEWER.ABSOLUTE=f.FILES.ABSOLUTE+f.FILES.VIEWER.STUB,f.FILES.VIEWER.CREATE={},f.FILES.VIEWER.CREATE.STUB="/create",f.FILES.VIEWER.CREATE.RELATIVE=f.FILES.VIEWER.RELATIVE+f.FILES.VIEWER.CREATE.STUB,f.FILES.VIEWER.CREATE.ABSOLUTE=f.FILES.VIEWER.ABSOLUTE+f.FILES.VIEWER.CREATE.STUB,f.MARKETPLACE={},f.MARKETPLACE.RELATIVE="/marketplace",f.MARKETPLACE.ABSOLUTE=m(f.DASHBOARD,f.MARKETPLACE.RELATIVE),f.SHARED_LISTS={},f.SHARED_LISTS.RELATIVE="/shared-lists",f.SHARED_LISTS.ABSOLUTE=m(f.DASHBOARD,f.SHARED_LISTS.RELATIVE),f.SHARED_LISTS.MY_LISTS={},f.SHARED_LISTS.MY_LISTS.STUB="/my-lists",f.SHARED_LISTS.MY_LISTS.RELATIVE=f.SHARED_LISTS.RELATIVE+f.SHARED_LISTS.MY_LISTS.STUB,f.SHARED_LISTS.MY_LISTS.ABSOLUTE=f.SHARED_LISTS.ABSOLUTE+f.SHARED_LISTS.MY_LISTS.STUB,f.SHARED_LISTS.VIEWER={},f.SHARED_LISTS.VIEWER.STUB="/viewer",f.SHARED_LISTS.VIEWER.RELATIVE=f.SHARED_LISTS.RELATIVE+f.SHARED_LISTS.VIEWER.STUB,f.SHARED_LISTS.VIEWER.ABSOLUTE=f.SHARED_LISTS.ABSOLUTE+f.SHARED_LISTS.VIEWER.STUB,f.UNLOCK_PREMIUM={},f.UNLOCK_PREMIUM.RELATIVE="/unlock-premium",f.UNLOCK_PREMIUM.ABSOLUTE=m(f.DASHBOARD,f.UNLOCK_PREMIUM.RELATIVE),f.REFERRAL={},f.REFERRAL.RELATIVE="/referral",f.REFERRAL.ABSOLUTE=m(f.DASHBOARD,f.REFERRAL.RELATIVE),f.BACKUP={},f.BACKUP.RELATIVE="/backup",f.BACKUP.ABSOLUTE=m(f.DASHBOARD,f.BACKUP.RELATIVE),f.REQUEST_UPGRADE={},f.REQUEST_UPGRADE.RELATIVE="/request-upgrade",f.REQUEST_UPGRADE.ABSOLUTE=m(f.DASHBOARD,f.REQUEST_UPGRADE.RELATIVE),f.PRICING={},f.PRICING.RELATIVE="/pricing",f.PRICING.ABSOLUTE=m(f.DASHBOARD,f.PRICING.RELATIVE),f.LICENSE={},f.LICENSE.RELATIVE="/license",f.LICENSE.ABSOLUTE=m(f.DASHBOARD,f.LICENSE.RELATIVE),f.LICENSE.MANAGE={},f.LICENSE.MANAGE.STUB="/manage",f.LICENSE.MANAGE.RELATIVE=f.LICENSE.RELATIVE+f.LICENSE.MANAGE.STUB,f.LICENSE.MANAGE.ABSOLUTE=f.LICENSE.ABSOLUTE+f.LICENSE.MANAGE.STUB,f.SETTINGS={},f.SETTINGS.RELATIVE="/settings",f.SETTINGS.ABSOLUTE=m(f.DASHBOARD,f.SETTINGS.RELATIVE),f.SETTINGS.REMOTE_RULES={},f.SETTINGS.REMOTE_RULES.STUB="/remote-rules",f.SETTINGS.REMOTE_RULES.RELATIVE=f.SETTINGS.RELATIVE+f.SETTINGS.REMOTE_RULES.STUB,f.SETTINGS.REMOTE_RULES.ABSOLUTE=f.SETTINGS.ABSOLUTE+f.SETTINGS.REMOTE_RULES.STUB,f.SETTINGS.STORAGE_SETTINGS={},f.SETTINGS.STORAGE_SETTINGS.STUB="/storage-settings",f.SETTINGS.STORAGE_SETTINGS.RELATIVE=f.SETTINGS.RELATIVE+f.SETTINGS.STORAGE_SETTINGS.STUB,f.SETTINGS.STORAGE_SETTINGS.ABSOLUTE=f.SETTINGS.ABSOLUTE+f.SETTINGS.STORAGE_SETTINGS.STUB,f.ACCEPT_TEAM_INVITE={},f.ACCEPT_TEAM_INVITE.RELATIVE="/accept-team-invite",f.ACCEPT_TEAM_INVITE.ABSOLUTE=m(f.DASHBOARD,f.ACCEPT_TEAM_INVITE.RELATIVE),f.ACCOUNT={},f.ACCOUNT.RELATIVE="/account",f.ACCOUNT.ABSOLUTE=m(f.DASHBOARD,f.ACCOUNT.RELATIVE),f.ACCOUNT.MY_ACCOUNT={},f.ACCOUNT.MY_ACCOUNT.STUB="/my-account",f.ACCOUNT.MY_ACCOUNT.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.MY_ACCOUNT.STUB,f.ACCOUNT.MY_ACCOUNT.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.MY_ACCOUNT.STUB,f.ACCOUNT.MY_BACKUPS={},f.ACCOUNT.MY_BACKUPS.STUB="/my-backups",f.ACCOUNT.MY_BACKUPS.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.MY_BACKUPS.STUB,f.ACCOUNT.MY_BACKUPS.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.MY_BACKUPS.STUB,f.ACCOUNT.MY_REFERRALS={},f.ACCOUNT.MY_REFERRALS.STUB="/my-referrals",f.ACCOUNT.MY_REFERRALS.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.MY_REFERRALS.STUB,f.ACCOUNT.MY_REFERRALS.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.MY_REFERRALS.STUB,f.ACCOUNT.TEAM={},f.ACCOUNT.TEAM.STUB="/team",f.ACCOUNT.TEAM.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.TEAM.STUB,f.ACCOUNT.TEAM.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.TEAM.STUB,f.ACCOUNT.MY_TEAMS={},f.ACCOUNT.MY_TEAMS.STUB="/my-teams",f.ACCOUNT.MY_TEAMS.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.MY_TEAMS.STUB,f.ACCOUNT.MY_TEAMS.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.MY_TEAMS.STUB,f.ACCOUNT.PERSONAL_SUBSCRIPTION={},f.ACCOUNT.PERSONAL_SUBSCRIPTION.STUB="/personal-subscription",f.ACCOUNT.PERSONAL_SUBSCRIPTION.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.PERSONAL_SUBSCRIPTION.STUB,f.ACCOUNT.PERSONAL_SUBSCRIPTION.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.PERSONAL_SUBSCRIPTION.STUB,f.ACCOUNT.UPDATE_SUBSCRIPTION={},f.ACCOUNT.UPDATE_SUBSCRIPTION.STUB="/update-subscription",f.ACCOUNT.UPDATE_SUBSCRIPTION.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.UPDATE_SUBSCRIPTION.STUB,f.ACCOUNT.UPDATE_SUBSCRIPTION.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.UPDATE_SUBSCRIPTION.STUB,f.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US={},f.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US.STUB="/update-subscription-contact-us",f.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US.STUB,f.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US.STUB,f.ACCOUNT.UPDATE_PAYMENT_METHOD={},f.ACCOUNT.UPDATE_PAYMENT_METHOD.STUB="/update-payment-method",f.ACCOUNT.UPDATE_PAYMENT_METHOD.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.UPDATE_PAYMENT_METHOD.STUB,f.ACCOUNT.UPDATE_PAYMENT_METHOD.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.UPDATE_PAYMENT_METHOD.STUB,f.ACCOUNT.REFRESH_SUBSCRIPTION={},f.ACCOUNT.REFRESH_SUBSCRIPTION.STUB="/refresh-subscription",f.ACCOUNT.REFRESH_SUBSCRIPTION.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.REFRESH_SUBSCRIPTION.STUB,f.ACCOUNT.REFRESH_SUBSCRIPTION.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.REFRESH_SUBSCRIPTION.STUB,f.ACCOUNT.CHECKOUT={},f.ACCOUNT.CHECKOUT.STUB="/checkout",f.ACCOUNT.CHECKOUT.RELATIVE=f.ACCOUNT.RELATIVE+f.ACCOUNT.CHECKOUT.STUB,f.ACCOUNT.CHECKOUT.ABSOLUTE=f.ACCOUNT.ABSOLUTE+f.ACCOUNT.CHECKOUT.STUB,f.GOODBYE={},f.GOODBYE.RELATIVE="/goodbye",f.GOODBYE.ABSOLUTE=m(f.DASHBOARD,f.GOODBYE.RELATIVE),f.FEEDBACK={},f.FEEDBACK.RELATIVE="/feedback",f.FEEDBACK.ABSOLUTE=m(f.DASHBOARD,f.FEEDBACK.RELATIVE),f.ACCOUNT.SUPPORT={},f.ACCOUNT.SUPPORT.RELATIVE="/support",f.ACCOUNT.SUPPORT.ABSOLUTE=m(f.DASHBOARD,f.ACCOUNT.SUPPORT.RELATIVE),f.AUTH={},f.AUTH.SIGN_IN={},f.AUTH.SIGN_IN.RELATIVE="/signin",f.AUTH.SIGN_IN.ABSOLUTE=m(f.DASHBOARD,f.AUTH.SIGN_IN.RELATIVE),f.AUTH.DEKSTOP_SIGN_IN={},f.AUTH.DEKSTOP_SIGN_IN.RELATIVE="/desktop-sign-in",f.AUTH.DEKSTOP_SIGN_IN.ABSOLUTE=m(f.DASHBOARD,f.AUTH.DEKSTOP_SIGN_IN.RELATIVE),f.AUTH.SIGN_UP={},f.AUTH.SIGN_UP.RELATIVE="/signup",f.AUTH.SIGN_UP.ABSOLUTE=m(f.DASHBOARD,f.AUTH.SIGN_UP.RELATIVE),f.AUTH.FORGOT_PASSWORD={},f.AUTH.FORGOT_PASSWORD.RELATIVE="/forgot",f.AUTH.FORGOT_PASSWORD.ABSOLUTE=m(f.DASHBOARD,f.AUTH.FORGOT_PASSWORD.RELATIVE),f.AUTH.EMAIL_ACTION={},f.AUTH.EMAIL_ACTION.RELATIVE="/emailAction",f.AUTH.EMAIL_ACTION.ABSOLUTE=m(f.DASHBOARD,f.AUTH.EMAIL_ACTION.RELATIVE),f.AUTH.RESET_PASSWORD={},f.AUTH.RESET_PASSWORD.RELATIVE="/resetPassword",f.AUTH.RESET_PASSWORD.ABSOLUTE=m(f.DASHBOARD,f.AUTH.RESET_PASSWORD.RELATIVE),f.AUTH.VERIFY_EMAIL={},f.AUTH.VERIFY_EMAIL.RELATIVE="/verifyEmail",f.AUTH.VERIFY_EMAIL.ABSOLUTE=m(f.DASHBOARD,f.AUTH.VERIFY_EMAIL.RELATIVE),f.AUTH.EMAIL_LINK_SIGNIN={},f.AUTH.EMAIL_LINK_SIGNIN.RELATIVE="/emailLinkSignIn",f.AUTH.EMAIL_LINK_SIGNIN.ABSOLUTE=m(f.DASHBOARD,f.AUTH.EMAIL_LINK_SIGNIN.RELATIVE),f.LEGACY={},f.HASH={},f.HASH.SHARED_LISTS="#sharedList",f.HASH.RULE_EDITOR="#edit",f.LEGACY.FILES_LIBRARY={},f.LEGACY.FILES_LIBRARY.ABSOLUTE="/library",f.LEGACY.PRICING={},f.LEGACY.PRICING.ABSOLUTE="/pricing",f.LEGACY.LICENSE={},f.LEGACY.LICENSE.ABSOLUTE="/license",f.LEGACY.LICENSE.MANAGE={},f.LEGACY.LICENSE.MANAGE.ABSOLUTE=f.LEGACY.LICENSE.ABSOLUTE+"/manage",f.LEGACY.SETTINGS={},f.LEGACY.SETTINGS.ABSOLUTE="/settings",f.LEGACY.SETTINGS.REMOTE_RULES={},f.LEGACY.SETTINGS.REMOTE_RULES.ABSOLUTE=f.LEGACY.SETTINGS.ABSOLUTE+"/remote-rules",f.LEGACY.UNLOCK_PREMIUM={},f.LEGACY.UNLOCK_PREMIUM.ABSOLUTE="/unlock",f.LEGACY.GOODBYE={},f.LEGACY.GOODBYE.ABSOLUTE="/goodbye",f.PAYMENT_SUCCESS={},f.PAYMENT_SUCCESS.RELATIVE="/paymentSuccess",f.PAYMENT_SUCCESS.ABSOLUTE=m(f.LANDING,f.PAYMENT_SUCCESS.RELATIVE),f.PAYMENT_FAIL={},f.PAYMENT_FAIL.RELATIVE="/paymentFail",f.PAYMENT_FAIL.ABSOLUTE=m(f.LANDING,f.PAYMENT_FAIL.RELATIVE),f.APP_MODE={},f.APP_MODE.RELATIVE="/app-mode",f.APP_MODE.ABSOLUTE=m(f.DASHBOARD,f.APP_MODE.RELATIVE),f.DESKTOP={},f.DESKTOP.RELATIVE="/desktop",f.DESKTOP.ABSOLUTE=m(f.DASHBOARD,f.DESKTOP.RELATIVE),f.DESKTOP.MANUAL_SETUP={},f.DESKTOP.MANUAL_SETUP.STUB="/manual-setup",f.DESKTOP.MANUAL_SETUP.RELATIVE=f.DESKTOP.RELATIVE+f.DESKTOP.MANUAL_SETUP.STUB,f.DESKTOP.MANUAL_SETUP.ABSOLUTE=m(f.DESKTOP.ABSOLUTE,f.DESKTOP.MANUAL_SETUP.STUB),f.DESKTOP.MY_APPS={},f.DESKTOP.MY_APPS.STUB="/my-apps",f.DESKTOP.MY_APPS.RELATIVE=f.DESKTOP.RELATIVE+f.DESKTOP.MY_APPS.STUB,f.DESKTOP.MY_APPS.ABSOLUTE=m(f.DESKTOP.ABSOLUTE,f.DESKTOP.MY_APPS.STUB),f.DESKTOP.INTERCEPT_TRAFFIC={},f.DESKTOP.INTERCEPT_TRAFFIC.STUB="/intercept-traffic",f.DESKTOP.INTERCEPT_TRAFFIC.RELATIVE=f.DESKTOP.RELATIVE+f.DESKTOP.INTERCEPT_TRAFFIC.STUB,f.DESKTOP.INTERCEPT_TRAFFIC.ABSOLUTE=m(f.DESKTOP.ABSOLUTE,f.DESKTOP.INTERCEPT_TRAFFIC.STUB),f.PAGE404={},f.PAGE404.RELATIVE="/404",f.PAGE404.ABSOLUTE=f.PAGE404.RELATIVE,f.PAGE403={},f.PAGE403.RELATIVE="/403",f.PAGE403.ABSOLUTE=m(f.LANDING,f.PAGE403.RELATIVE),f.EXTENSION_INSTALLED="/extension-installed";var R=f,A={COLUMN_WIDTHS:[10,50,25,15]},x=n(21),N=n(2),C=function(){return{filters:{},key:S.CONSTANTS.RULE_KEYS.URL,operator:S.CONSTANTS.RULE_OPERATORS.CONTAINS,value:""}},I={Redirect:{ID:1,TYPE:S.CONSTANTS.RULE_TYPES.REDIRECT,NAME:"Redirect Request",DESCRIPTION:"Redirect a request URL",ICON:function(){return Object(N.jsx)(x.A,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#5b9027",SECONDARY_COLOR:"#4E7C22",TOOL_TIP_PLACEMENT:"top",PAIR_CONFIG:{TITLE:"Source Destination Pairs"},EMPTY_PAIR_FORMAT:{destination:"",source:C()},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!0,ALLOW_APPLY_RULE_TO_ALL_URLS:!1,ALLOW_REQUEST_SOURCE_FILTERS:!0},Cancel:{ID:2,TYPE:S.CONSTANTS.RULE_TYPES.CANCEL,NAME:"Cancel Request",DESCRIPTION:"Block URLs by specifying keywords or entire URL",ICON:function(){return Object(N.jsx)(x.b,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#d32a0e",SECONDARY_COLOR:"#BB250C",TOOL_TIP_PLACEMENT:"top",PAIR_CONFIG:{TITLE:"Enter Keywords or URLs or Domains to be blocked"},EMPTY_PAIR_FORMAT:{source:C()},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!0,ALLOW_APPLY_RULE_TO_ALL_URLS:!1,ALLOW_REQUEST_SOURCE_FILTERS:!0},Replace:{ID:3,TYPE:S.CONSTANTS.RULE_TYPES.REPLACE,NAME:"Replace String",DESCRIPTION:"Replace parts of URL like hostname, query value",ICON:function(){return Object(N.jsx)(x.o,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#2aa5e7",SECONDARY_COLOR:"#199ADE",TOOL_TIP_PLACEMENT:"top",PAIR_CONFIG:{TITLE:"Enter the part of URL that needs to be replaced"},EMPTY_PAIR_FORMAT:{from:"",to:"",source:C()},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!1,ALLOW_APPLY_RULE_TO_ALL_URLS:!0,ALLOW_REQUEST_SOURCE_FILTERS:!0},Headers:{ID:4,TYPE:S.CONSTANTS.RULE_TYPES.HEADERS,NAME:"Modify Headers",DESCRIPTION:"Modify HTTP headers in request and response",ICON:function(){return Object(N.jsx)(x.t,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#dd9d12",SECONDARY_COLOR:"#C58C10",TOOL_TIP_PLACEMENT:"top",PAIR_CONFIG:{TITLE:"Headers Modification Rules"},EMPTY_PAIR_FORMAT:{header:"",value:"",type:"Add",target:"Request",source:C()},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!1,ALLOW_APPLY_RULE_TO_ALL_URLS:!0,ALLOW_REQUEST_SOURCE_FILTERS:!0},QueryParam:{ID:5,TYPE:S.CONSTANTS.RULE_TYPES.QUERYPARAM,NAME:"Query Param",DESCRIPTION:"Add or Remove Query Parameters",ICON:function(){return Object(N.jsx)(x.z,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#AA66CC",SECONDARY_COLOR:"#9F53C6",TOOL_TIP_PLACEMENT:"bottom",PAIR_CONFIG:{TITLE:"Query Parameter Modifications"},EMPTY_PAIR_FORMAT:{modifications:[],source:C()},EMPTY_MODIFICATION_FORMAT:{actionWhenParamExists:S.CONSTANTS.RULE_KEYS.OVERWRITE,param:"",type:"Add",value:""},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!0,ALLOW_APPLY_RULE_TO_ALL_URLS:!0,ALLOW_REQUEST_SOURCE_FILTERS:!0},Script:{ID:6,TYPE:S.CONSTANTS.RULE_TYPES.SCRIPT,NAME:"Insert Scripts",DESCRIPTION:"Add custom JS / CSS to any website",ICON:function(){return Object(N.jsx)(x.f,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#444340",SECONDARY_COLOR:"#373634",TOOL_TIP_PLACEMENT:"bottom",PAIR_CONFIG:{TITLE:"Insert Scripts"},EMPTY_PAIR_FORMAT:{libraries:[],source:C(),scripts:[]},EMPTY_SCRIPT_FORMAT:{codeType:"js",fileName:"",loadTime:"afterPageLoad",type:"url",value:""},ALLOW_ADD_PAIR:!1,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!1,ALLOW_APPLY_RULE_TO_ALL_URLS:!0,ALLOW_REQUEST_SOURCE_FILTERS:!1,CUSTOM_SCRIPT_CHARACTER_LIMIT:2500},Response:{ID:7,TYPE:S.CONSTANTS.RULE_TYPES.RESPONSE,NAME:"Modify Response",DESCRIPTION:"Modify AJAX response",ICON:function(){return Object(N.jsx)(x.g,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#880e4f",SECONDARY_COLOR:"#710C42",TOOL_TIP_PLACEMENT:"bottom",PAIR_CONFIG:{TITLE:"Modify response of an AJAX request"},EMPTY_PAIR_FORMAT:{source:C(),response:{type:"static",value:""}},ALLOW_ADD_PAIR:!1,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!1,ALLOW_APPLY_RULE_TO_ALL_URLS:!1,ALLOW_REQUEST_SOURCE_FILTERS:!0,RESPONSE_BODY_CHARACTER_LIMIT:1500,RESPONSE_BODY_JAVASCRIPT_DEFAULT_VALUE:"function modifyResponse(args) {\n  const {method, url, response, responseType, requestHeaders, requestData} = args;\n  // Change response below depending upon request attributes received in args\n  \n  return response;\n}"},UserAgent:{ID:8,TYPE:S.CONSTANTS.RULE_TYPES.USERAGENT,NAME:"User-Agent",DESCRIPTION:"Emulate for different devices by varying user-agent",ICON:function(){return Object(N.jsx)(x.I,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#2bbbad",SECONDARY_COLOR:"#26A69A",TOOL_TIP_PLACEMENT:"bottom",PAIR_CONFIG:{TITLE:"Rule Conditions"},EMPTY_PAIR_FORMAT:{source:C(),env:"",envType:""},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!0,ALLOW_APPLY_RULE_TO_ALL_URLS:!0,ALLOW_REQUEST_SOURCE_FILTERS:!0},Delay:{ID:9,TYPE:S.CONSTANTS.RULE_TYPES.DELAY,NAME:"Delay Network Requests",DESCRIPTION:"Delay a request URL",ICON:function(){return Object(N.jsx)(x.D,{className:"fix-icon-is-up"})},PRIMARY_COLOR:"#68ce35",SECONDARY_COLOR:"#5ab52d",TOOL_TIP_PLACEMENT:"bottom",PAIR_CONFIG:{TITLE:"Enter Request URL Pattern"},EMPTY_PAIR_FORMAT:{source:C(),delay:"100"},ALLOW_ADD_PAIR:!0,SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW:!0,ALLOW_APPLY_RULE_TO_ALL_URLS:!1,ALLOW_REQUEST_SOURCE_FILTERS:!0}},g={GROUP_RULES:"group_rules",GROUP_DETAILS:"group_details",UNGROUPED_GROUP_ID:"",UNGROUPED_GROUP_NAME:"Ungrouped",COLUMN_WIDTHS:[6,6,8,30,11,20,19]},_={COLUMN_WIDTHS:[8,22,35,20,15]},L={COLUMN_WIDTHS:[27,50,13,10],MODES:{REGULAR:"regular",FILE_PICKER:"filePicker"}},y={PRIMARY_COLOR:"#0a48b3",BTN_BGCOLOR_PRIMARY:"#f8f9fa",BTN_FONT_COLOR_PRIMARY:"#393f49",BTN_FONT_COLOR_HOVER:"#FFFFFF",BTN_COLOR_IN_ROW:"#465e74",ICON_COLOR_ON_HOVER:"#525f7f"},U={ACTION_LABELS:{}};U.ACTION_LABELS.LOG_IN="LOG IN",U.ACTION_LABELS.SIGN_UP="SIGN UP",U.ACTION_LABELS.REQUEST_RESET_PASSWORD="REQUEST RESET PASSWORD",U.ACTION_LABELS.DO_RESET_PASSWORD="DO RESET PASSWORD";var v=U,P=[{label:"Albania",value:"AL"},{label:"Algeria",value:"DZ"},{label:"Argentina",value:"AR"},{label:"Australia",value:"AU"},{label:"Austria",value:"AT"},{label:"Bahamas",value:"BS"},{label:"Bangladesh",value:"BD"},{label:"Belgium",value:"BE"},{label:"Benin",value:"BJ"},{label:"Bhutan",value:"BT"},{label:"Bolivia",value:"BO"},{label:"Brazil",value:"BR"},{label:"Bulgaria",value:"BG"},{label:"Cambodia",value:"KH"},{label:"Cameroon",value:"CM"},{label:"Canada",value:"CA"},{label:"Chile",value:"CL"},{label:"China",value:"CN"},{label:"Colombia",value:"CO"},{label:"Costa Rica",value:"CR"},{label:"Cuba",value:"CU"},{label:"Cyprus",value:"CY"},{label:"Czechia",value:"CZ"},{label:"Denmark",value:"DK"},{label:"Dominica",value:"DM"},{label:"Dominican Republic ",value:"DO"},{label:"Egypt",value:"EG"},{label:"Ethiopia",value:"ET"},{label:"Fiji",value:"FJ"},{label:"Finland",value:"FI"},{label:"France",value:"FR"},{label:"Georgia",value:"GE"},{label:"Germany",value:"DE"},{label:"Ghana",value:"GH"},{label:"Greece",value:"GR"},{label:"Greenland",value:"GL"},{label:"Hong Kong",value:"HK"},{label:"Hungary",value:"HU"},{label:"Iceland",value:"IS"},{label:"India",value:"IN"},{label:"Indonesia",value:"ID"},{label:"Iran",value:"IR"},{label:"Iraq",value:"IQ"},{label:"Ireland",value:"IE"},{label:"Israel",value:"IL"},{label:"Italy",value:"IT"},{label:"Jamaica",value:"JM"},{label:"Japan",value:"JP"},{label:"Kazakhstan",value:"KZ"},{label:"Kenya",value:"KE"},{label:"Korea",value:"KP"},{label:"Kuwait",value:"KW"},{label:"Kyrgyzstan",value:"KG"},{label:"Latvia",value:"LV"},{label:"Lebanon",value:"LB"},{label:"Lesotho",value:"LS"},{label:"Liberia",value:"LR"},{label:"Libya",value:"LY"},{label:"Lithuania",value:"LT"},{label:"Luxembourg",value:"LU"},{label:"Malaysia",value:"MY"},{label:"Maldives",value:"MV"},{label:"Mali",value:"ML"},{label:"Malta",value:"MT"},{label:"Marshall Islands ",value:"MH"},{label:"Martinique",value:"MQ"},{label:"Mauritania",value:"MR"},{label:"Mauritius",value:"MU"},{label:"Mayotte",value:"YT"},{label:"Mexico",value:"MX"},{label:"Monaco",value:"MC"},{label:"Mongolia",value:"MN"},{label:"Montenegro",value:"ME"},{label:"Montserrat",value:"MS"},{label:"Morocco",value:"MA"},{label:"Mozambique",value:"MZ"},{label:"Myanmar",value:"MM"},{label:"Namibia",value:"NA"},{label:"Nauru",value:"NR"},{label:"Nepal",value:"NP"},{label:"Netherlands ",value:"NL"},{label:"New Caledonia",value:"NC"},{label:"New Zealand",value:"NZ"},{label:"Nicaragua",value:"NI"},{label:"Niger ",value:"NE"},{label:"Nigeria",value:"NG"},{label:"Niue",value:"NU"},{label:"Norfolk Island",value:"NF"},{label:"Northern Mariana Islands ",value:"MP"},{label:"Norway",value:"NO"},{label:"Oman",value:"OM"},{label:"Pakistan",value:"PK"},{label:"Palau",value:"PW"},{label:"Palestine, State of",value:"PS"},{label:"Panama",value:"PA"},{label:"Papua New Guinea",value:"PG"},{label:"Paraguay",value:"PY"},{label:"Peru",value:"PE"},{label:"Philippines ",value:"PH"},{label:"Pitcairn",value:"PN"},{label:"Poland",value:"PL"},{label:"Portugal",value:"PT"},{label:"Puerto Rico",value:"PR"},{label:"Qatar",value:"QA"},{label:"Republic of North Macedonia",value:"MK"},{label:"Romania",value:"RO"},{label:"Russian Federation ",value:"RU"},{label:"Rwanda",value:"RW"},{label:"R\xe9union",value:"RE"},{label:"Saint Barth\xe9lemy",value:"BL"},{label:"Saint Helena, Ascension and Tristan da Cunha",value:"SH"},{label:"Saint Kitts and Nevis",value:"KN"},{label:"Saint Lucia",value:"LC"},{label:"Saint Martin (French part)",value:"MF"},{label:"Saint Pierre and Miquelon",value:"PM"},{label:"Saint Vincent and the Grenadines",value:"VC"},{label:"Samoa",value:"WS"},{label:"San Marino",value:"SM"},{label:"Sao Tome and Principe",value:"ST"},{label:"Saudi Arabia",value:"SA"},{label:"Senegal",value:"SN"},{label:"Serbia",value:"RS"},{label:"Seychelles",value:"SC"},{label:"Sierra Leone",value:"SL"},{label:"Singapore",value:"SG"},{label:"Sint Maarten (Dutch part)",value:"SX"},{label:"Slovakia",value:"SK"},{label:"Slovenia",value:"SI"},{label:"Solomon Islands",value:"SB"},{label:"Somalia",value:"SO"},{label:"South Africa",value:"ZA"},{label:"South Georgia and the South Sandwich Islands",value:"GS"},{label:"South Sudan",value:"SS"},{label:"Spain",value:"ES"},{label:"Sri Lanka",value:"LK"},{label:"Sudan ",value:"SD"},{label:"Suriname",value:"SR"},{label:"Svalbard and Jan Mayen",value:"SJ"},{label:"Sweden",value:"SE"},{label:"Switzerland",value:"CH"},{label:"Syrian Arab Republic",value:"SY"},{label:"Taiwan (Province of China)",value:"TW"},{label:"Tajikistan",value:"TJ"},{label:"Tanzania",value:"TZ"},{label:"Thailand",value:"TH"},{label:"Timor-Leste",value:"TL"},{label:"Togo",value:"TG"},{label:"Tokelau",value:"TK"},{label:"Tonga",value:"TO"},{label:"Trinidad and Tobago",value:"TT"},{label:"Tunisia",value:"TN"},{label:"Turkey",value:"TR"},{label:"Turkmenistan",value:"TM"},{label:"Turks and Caicos Islands ",value:"TC"},{label:"Tuvalu",value:"TV"},{label:"Uganda",value:"UG"},{label:"Ukraine",value:"UA"},{label:"United Arab Emirates ",value:"AE"},{label:"United Kingdom",value:"GB"},{label:"United States",value:"US"},{label:"Uruguay",value:"UY"},{label:"Uzbekistan",value:"UZ"},{label:"Vanuatu",value:"VU"},{label:"Venezuela (Bolivarian Republic of)",value:"VE"},{label:"Viet Nam",value:"VN"},{label:"Virgin Islands (British)",value:"VG"},{label:"Virgin Islands (U.S.)",value:"VI"},{label:"Wallis and Futuna",value:"WF"},{label:"Western Sahara",value:"EH"},{label:"Yemen",value:"YE"},{label:"Zambia",value:"ZM"},{label:"Zimbabwe",value:"ZW"}],D={PLAN_NAMES:{}};D.PLAN_NAMES.BRONZE="bronze",D.PLAN_NAMES.SILVER="silver",D.PLAN_NAMES.GOLD="gold",D.PLAN_NAMES.ENTERPRISE="enterprise",D.COUNTRY_CODES=P;var w=D,M={MODES:{CHECK_LIMIT:"check_limit",CHECK_IF_ENABLED:"check_if_enabled"}},k=M,G={PERSONAL:[]};G.PERSONAL.push("gmail.com"),G.PERSONAL.push("hotmail.com"),G.PERSONAL.push("yahoo.com"),G.PERSONAL.push("outlook.com"),G.PERSONAL.push("googlemail.com"),G.PERSONAL.push("protonmail.com"),G.PERSONAL.push("yandex.mail"),G.PERSONAL.push("yandex.ru"),G.PERSONAL.push("mail.ru"),G.PERSONAL.push("bk.ru"),G.PERSONAL.push("qq.com"),G.DESTROYABLE=[],G.DESTROYABLE.push("mailinator.com"),G.DESTROYABLE.push("yopmail.com"),G.DESTROYABLE.push("eoopy.com"),G.DESTROYABLE.push("ttirv.com");var F=G,B={};B.reactSelectCustomStyles={option:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{border:"none"})},control:function(e){return Object(j.a)(Object(j.a)({},e),{},{border:"0",marginTop:"3%",boxShadow:"0 1px 3px rgb(50 50 93 / 15%), 0 1px 0 rgb(0 0 0 / 2%)",fontSize:"0.875rem"})}};var V=B,H={DISMISS_PROXY_INFO_BANNER:"DISMISS_PROXY_INFO_BANNER"},Y=H,K={};K.FEATURES=b,K.PRICING=w,K.MIGRATED_TO_NEW_UI="migrated-to-new-ui",K.STORAGE_MIGRATED_TO_LOCAL="storage-migrated-to-local",K.LAST_BACKUP_TIMESTAMP="last-backup-timestamp",K.LINKS=p,K.STYLES=V,K.RULE_EDITOR_CONFIG=T,K.PATHS=R,K.RULE_TYPES_CONFIG=I,K.RULES_LIST_TABLE_CONSTANTS=g,K.SHARED_LISTS_TABLE_CONSTANTS=_,K.MARKETPLACE_TABLE_CONSTANTS=A,K.FILES_TABLE_CONSTANTS=L,K.THEME_COLORS=y,K.AUTH=v,K.LIMIT_REACHED_MODAL=k,K.NOTIFICATION_DURATION=2e3,K.DELAY_COMPATIBILITY_VERSION="21.6.04",K.MOCK_RESPONSE_BODY_CHARACTER_LIMIT=8e5,K.BETA="beta",K.LOCAL="local",K.PROD="prod",K.EMAIL_DOMAINS=F,K.COOKIES=Y;var W=K,q=W.RULES_LIST_TABLE_CONSTANTS,Q={UPDATE_USER_INFO:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{user:{loggedIn:t.payload.loggedIn,details:t.payload.details}})},UPDATE_APP_MODE:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{appMode:t.payload.appMode?t.payload.appMode:e.appMode})},UPDATE_SEARCH:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{search:Object(j.a)(Object(j.a)({},e.search),{},Object(O.a)({},t.payload.searchType,t.payload.value))})},TOGGLE_ACTIVE_MODAL:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{activeModals:Object(j.a)(Object(j.a)({},e.activeModals),{},Object(O.a)({},t.payload.modalName,{isActive:"undefined"!==typeof t.payload.newValue?t.payload.newValue:!e.activeModals[t.payload.modalName].isActive,props:t.payload.newProps||e.activeModals[t.payload.modalName].props}))})},UPDATE_BACKUP_INFO:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{lastBackupTimeStamp:t.payload})})},UPDATE_GROUPS:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{allRules:Object(j.a)(Object(j.a)({},e.rules.allRules),{},{groups:t.payload})})})},UPDATE_RULES_AND_GROUPS:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{allRules:{rules:t.payload.rules,groups:t.payload.groups}})})},UPDATE_RULES_TO_POPULATE:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{rulesToPopulate:t.payload})})},UPDATE_GROUPWISE_RULES_TO_POPULATE:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{groupwiseRulesToPopulate:t.payload})})},TOGGLE_SELECTED_RULE:function(e,t){var n=e.rules.selectedRules[t.payload.ruleId];return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{selectedRules:Object(j.a)(Object(j.a)({},e.rules.selectedRules),{},Object(O.a)({},t.payload.ruleId,!n))})})},SET_SELECTED_RULES:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{selectedRules:t.payload})})},SET_SELECT_ALL_RULES_OF_A_GROUP:function(e,t){var n=t.payload.groupId,a=e.rules.groupwiseRulesToPopulate[n][q.GROUP_RULES],r={};return a.forEach((function(e){r[e.id]=t.payload.newValue})),Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{selectedRules:Object(j.a)(Object(j.a)({},e.rules.selectedRules),r)})})},CLEAR_SELECTED_RULES:function(e){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{selectedRules:{}})})},UPDATE_CURRENTLY_SELECTED_RULE_DATA:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{currentlySelectedRule:Object(j.a)(Object(j.a)({},e.rules.currentlySelectedRule),{},{data:t.payload})})})},UPDATE_CURRENTLY_SELECTED_RULE_CONFIG:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{currentlySelectedRule:Object(j.a)(Object(j.a)({},e.rules.currentlySelectedRule),{},{config:t.payload})})})},CLEAR_CURRENTLY_SELECTED_RULE_AND_CONFIG:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{currentlySelectedRule:{config:!1,data:!1}})})},UPDATE_REFRESH_PENDING_STATUS:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{pendingRefresh:Object(j.a)(Object(j.a)({},e.pendingRefresh),{},Object(O.a)({},t.payload.type,t.payload.newValue?t.payload.newValue:!e.pendingRefresh[t.payload.type]))})},SELECT_ALL_RULES:function(e,t){var n=t.payload.newValue,a={};return e.rules.rulesToPopulate.forEach((function(e){a[e.id]=n})),Object(j.a)(Object(j.a)({},e),{},{rules:Object(j.a)(Object(j.a)({},e.rules),{},{selectedRules:a})})},UPDATE_SELECTED_SHARED_LISTS:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{sharedLists:Object(j.a)(Object(j.a)({},e.sharedLists),{},{selectedLists:t.payload})})},UPDATE_MARKETPLACE_RULES:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{marketplace:Object(j.a)(Object(j.a)({},e.marketplace),{},{ruleStatus:Object(j.a)(Object(j.a)({},e.marketplace.ruleStatus),t.payload)})})},TOGGLE_MARKETPLACE_RULES:function(e,t){var n=e.marketplace.ruleStatus[t.payload];return Object(j.a)(Object(j.a)({},e),{},{marketplace:Object(j.a)(Object(j.a)({},e.marketplace),{},{ruleStatus:Object(j.a)(Object(j.a)({},e.marketplace.ruleStatus),{},Object(O.a)({},t.payload,n===S.CONSTANTS.RULE_STATUS.ACTIVE?S.CONSTANTS.RULE_STATUS.INACTIVE:S.CONSTANTS.RULE_STATUS.ACTIVE))})})},UPDATE_DESKTOP_SPECIFIC_DETAILS:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{desktopSpecificDetails:Object(j.a)(Object(j.a)({},e.desktopSpecificDetails),t.payload)})}},z=n(563),J={user:{loggedIn:!1,details:!1},appMode:S.CONSTANTS.APP_MODES.EXTENSION,rules:{allRules:{rules:[],groups:[]},currentlySelectedRule:{data:!1,config:!1},rulesToPopulate:[],groupwiseRulesToPopulate:{},selectedRules:{},lastBackupTimeStamp:""},search:{rules:"",files:"",sharedLists:"",marketplace:""},pendingRefresh:{rules:!1,sharedLists:!1},sharedLists:{selectedLists:!1},activeModals:{loadingModal:{isActive:!1,props:{}},authModal:{isActive:!1,props:{}},renameGroupModal:{isActive:!1,props:{}}},marketplace:{ruleStatus:{}},desktopSpecificDetails:{isBackgroundProcessActive:!1,isProxyServerRunning:!1,proxyPort:8080,appsList:z,availableAppsScanned:!1}},X=Object(c.createContext)(J),Z=X.Provider,$=function(e){var t=e.children,n=Object(c.useReducer)((function(e,t){switch(t.type){case d.UPDATE_USER_INFO:return Q.UPDATE_USER_INFO(e,t);case d.UPDATE_APP_MODE:return Q.UPDATE_APP_MODE(e,t);case d.UPDATE_SEARCH:return Q.UPDATE_SEARCH(e,t);case d.TOGGLE_ACTIVE_MODAL:return Q.TOGGLE_ACTIVE_MODAL(e,t);case d.UPDATE_SELECTED_SHARED_LISTS:return Q.UPDATE_SELECTED_SHARED_LISTS(e,t);case d.UPDATE_BACKUP_INFO:return Q.UPDATE_BACKUP_INFO(e,t);case d.UPDATE_GROUPS:return Q.UPDATE_GROUPS(e,t);case d.UPDATE_RULES_AND_GROUPS:return Q.UPDATE_RULES_AND_GROUPS(e,t);case d.UPDATE_RULES_TO_POPULATE:return Q.UPDATE_RULES_TO_POPULATE(e,t);case d.UPDATE_GROUPWISE_RULES_TO_POPULATE:return Q.UPDATE_GROUPWISE_RULES_TO_POPULATE(e,t);case d.UPDATE_REFRESH_PENDING_STATUS:return Q.UPDATE_REFRESH_PENDING_STATUS(e,t);case d.TOGGLE_SELECTED_RULE:return Q.TOGGLE_SELECTED_RULE(e,t);case d.SET_SELECTED_RULES:return Q.SET_SELECTED_RULES(e,t);case d.SET_SELECT_ALL_RULES_OF_A_GROUP:return Q.SET_SELECT_ALL_RULES_OF_A_GROUP(e,t);case d.CLEAR_SELECTED_RULES:return Q.CLEAR_SELECTED_RULES(e);case d.UPDATE_CURRENTLY_SELECTED_RULE_DATA:return Q.UPDATE_CURRENTLY_SELECTED_RULE_DATA(e,t);case d.UPDATE_CURRENTLY_SELECTED_RULE_CONFIG:return Q.UPDATE_CURRENTLY_SELECTED_RULE_CONFIG(e,t);case d.CLEAR_CURRENTLY_SELECTED_RULE_AND_CONFIG:return Q.CLEAR_CURRENTLY_SELECTED_RULE_AND_CONFIG(e,t);case d.SELECT_ALL_RULES:return Q.SELECT_ALL_RULES(e,t);case d.UPDATE_MARKETPLACE_RULES:return Q.UPDATE_MARKETPLACE_RULES(e,t);case d.TOGGLE_MARKETPLACE_RULES:return Q.TOGGLE_MARKETPLACE_RULES(e,t);case d.UPDATE_DESKTOP_SPECIFIC_DETAILS:return Q.UPDATE_DESKTOP_SPECIFIC_DETAILS(e,t);default:throw new Error}}),J),a=Object(u.a)(n,2),r=a[0],s=a[1];return Object(N.jsx)(Z,{value:{state:r,dispatch:s},children:t})},ee=n(15),te=n.n(ee),ne=n(36),ae=n(32),re=n(33),ce=n.n(re),se=n(258),ie=n(943),le=n(944),oe=n(945),ue=n(946),de=n(947),Oe=n(948),je=n(949),Ee=(n(564),n(566),n(936),n(937),n(938),se.a),be=n(323),Se=function(e){return Object(N.jsx)(ie.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:Object(N.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:Object(N.jsx)(be.a,{})})})},pe=n(88),he=W.PATHS,Te=W.LINKS,me=function(e,t){t?window.location.href=he.RULES.ABSOLUTE:e.push(he.RULES.ABSOLUTE)},fe=function(e,t){e.push("".concat(he.RULE_EDITOR.EDIT_RULE.ABSOLUTE,"/").concat(t))},Re=function(e,t,n){var a=n.replace(new RegExp(" +|/+","g"),"-").replace(/-+/g,"-");e.push("".concat(he.SHARED_LISTS.VIEWER.ABSOLUTE,"/").concat(t,"-").concat(a))},Ae=function(e){e.push(he.MOCK_SERVER.ABSOLUTE)},xe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.push({pathname:he.MOCK_SERVER.VIEWER.ABSOLUTE+"/".concat(t),state:n?{mockUrl:n}:null})},Ne=function(e){e.push(he.MOCK_SERVER.VIEWER.CREATE.ABSOLUTE)},Ce=function(e){e.push(he.AUTH.FORGOT_PASSWORD.ABSOLUTE)},Ie=function(e){e.push(he.PRICING.ABSOLUTE)},ge=function(e,t){t?window.location.href=he.ACCOUNT.ABSOLUTE:e.push(he.ACCOUNT.ABSOLUTE)},_e=function(e,t,n,a){var r=new URL(window.location.href);r.pathname=he.ACCOUNT.TEAM.ABSOLUTE+"/".concat(t),a&&r.searchParams.set("autoRefresh","true"),n?window.location=r.href:e.push(r.pathname+r.search)},Le=function(e,t){t?window.location.href=he.ACCOUNT.MY_TEAMS.ABSOLUTE:e.push(he.ACCOUNT.MY_TEAMS.ABSOLUTE)},ye=function(e,t,n){var a=new URL(window.location.href);a.pathname=he.ACCOUNT.PERSONAL_SUBSCRIPTION.ABSOLUTE,n&&a.searchParams.set("autoRefresh","true"),t?window.location=a.href:e.push(a.pathname+a.search)},Ue=function(e){var t=e.mode,n=e.teamId,a=e.planType,r=e.days,c=new URL(window.location.href);c.pathname=he.ACCOUNT.CHECKOUT.ABSOLUTE,c.searchParams.set("m",t),"team"===t&&c.searchParams.set("t",n),c.searchParams.set("p",a),c.searchParams.set("d",r),window.location=c.href},ve=function(e){var t=e.mode,n=e.teamId,a=e.planType,r=e.isRenewal,c=new URL(window.location.href);c.pathname=he.ACCOUNT.UPDATE_SUBSCRIPTION.ABSOLUTE,c.searchParams.set("m",t),"team"===t&&c.searchParams.set("t",n),c.searchParams.set("p",a),r&&c.searchParams.set("r",!0),window.location=c.href},Pe=function(e){var t=e.mode,n=e.teamId,a=new URL(window.location.href);a.pathname=he.ACCOUNT.UPDATE_PAYMENT_METHOD.ABSOLUTE,a.searchParams.set("m",t),"team"===t&&a.searchParams.set("t",n),window.location=a.href},De=function(e,t){t?window.location.href=he.ONBOARDING.ABSOLUTE:e.push(he.ONBOARDING.ABSOLUTE)},we=function(e,t){t?window.location.href=he.PAGE404.ABSOLUTE:e.push(he.PAGE404.ABSOLUTE)},Me=function(e,t){t?window.location.href=he.PAGE403.ABSOLUTE:e.push(he.PAGE403.ABSOLUTE)},ke=n(241),Ge={};ke.b.config({maxCount:2}),Ge.success=function(e){ke.b.success(e)},Ge.info=function(e){ke.b.info(e)},Ge.error=function(e){ke.b.error(e)},Ge.warn=function(e){ke.b.warn(e)};var Fe=n(175),Be=function(e){if(!e||Object(pe.isEmpty)(e)||"string"!==typeof e)throw new Error("Cant parse the invite code");return e.replace(/\//g,"").replace(/\\/g,"")},Ve=function(){var e=Object(ae.g)(),t=Object(c.useRef)(!0),n=new URLSearchParams(window.location.search).get("code"),a=Object(c.useState)(!0),r=Object(u.a)(a,2),i=r[0],l=r[1],o=Object(c.useState)(!0),d=Object(u.a)(o,2),O=d[0],j=d[1],E=Object(c.useState)(!1),b=Object(u.a)(E,2),S=b[0],p=b[1],h=Object(c.useState)(""),T=Object(u.a)(h,2),m=T[0],f=T[1],R=Object(c.useCallback)((function(){l(!0),Ee.functions().httpsCallable("getTeamInvite")({inviteCode:Be(n)}).then((function(e){if(!t.current)return null;var n=e.data;n.success?(j(!0),f(n.teamName)):j(!1),l(!1)})).catch((function(e){if(!t.current)return null;console.log(e.message),j(!1),l(!1)}))}),[n]),A=function(){p(!0),Ee.functions().httpsCallable("acceptTeamInvite")({inviteCode:Be(n)}).then((function(n){if(!t.current)return null;var a=n.data;p(!1),a.success?(Ge.info("You have been added to the team"),ge(e,!0)):Ge.warn(a.message)})).catch((function(e){if(!t.current)return null;Ge.warn(e.message)}))};return Object(c.useEffect)((function(){return!n||Object(pe.isEmpty)(n)?(j(!1),l(!1)):R(),function(){t.current=!1}}),[n,R]),Object(N.jsx)(ue.a,{className:" mt--7",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(Oe.a,{className:" shadow",children:Object(N.jsx)(je.a,{children:Object(N.jsx)(de.a,{children:i?Object(N.jsx)(Se,{customLoadingMessage:"Verifying invite"}):O?!m||Object(pe.isEmpty)(m)?Object(N.jsx)(N.Fragment,{}):Object(N.jsx)(ie.a,{children:Object(N.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsxs)("h4",{children:["You have been invited to join the team:"," ",Object(N.jsx)("span",{style:{textTransform:"capitalize"},children:m})," "]}),S?Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("br",{}),Object(N.jsxs)("h5",{children:[Object(N.jsx)(x.p,{color:"orange"})," This process may take a few seconds. Do not close this page."]})]}):null,Object(N.jsx)("br",{}),Object(N.jsxs)(oe.a,{className:"btn-icon btn-3",color:"primary",type:"button",disabled:S,onClick:A,children:[Object(N.jsx)("span",{className:"btn-inner--icon",children:Object(N.jsx)("b",{children:S?Object(N.jsx)(Fe.a,{className:"icon-spin"}):Object(N.jsx)(x.N,{})})}),Object(N.jsx)("span",{className:"btn-inner--text",children:S?"Accepting":"Accept Invite"})]}),Object(N.jsxs)(oe.a,{className:"btn-icon btn-3",color:"primary",outline:!0,type:"button",disabled:S,onClick:function(){return ge(e)},children:[Object(N.jsx)("span",{className:"btn-inner--icon",children:Object(N.jsx)("b",{children:Object(N.jsx)(x.O,{})})}),Object(N.jsx)("span",{className:"btn-inner--text",children:"Ignore Invite"})]})]})}):Object(N.jsx)(ie.a,{children:Object(N.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h4",{children:"This invite has either been expired or is not meant for you. Please ask the team owner to add you directly."}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsxs)("h4",{children:["Click"," ",Object(N.jsx)("span",{className:"cursor-pointer",onClick:function(){return ge(e)},children:"here"})," ","to go back to account settings."]})]})})})})})})})})},He=n(239),Ye=function(e){return e.rules},Ke=function(e){return Ye(e).allRules},We=function(e){return Ke(e).rules},qe=function(e){var t=function(e){return We(e).filter((function(e){return"MKTRuleID"in e}))}(e);return t.filter((function(e,t,n){return n.findIndex((function(t){return t.MKTRuleID===e.MKTRuleID}))===t}))},Qe=function(e){return Ke(e).groups},ze=function(e){return Ye(e).groupwiseRulesToPopulate},Je=function(e){return Ye(e).selectedRules},Xe=function(e){return Ye(e).currentlySelectedRule},Ze=function(e){return Xe(e).data},$e=function(e){return e.user},et=function(e){return e.search},tt=function(e){return e.pendingRefresh},nt=function(e){return tt(e).rules},at=function(e){return e.activeModals},rt=function(e){return e.appMode},ct=function(e){return e.desktopSpecificDetails},st=n(146),it=n(299),lt=st,ot=it,ut=function(e){return!!(e&&e.loggedIn&&e.details.planDetails)&&("referral"===e.details.planDetails.type?Ot(e.details.planDetails.planId)&&!St(e.details.planDetails):"active"===e.details.planDetails.status&&Ot(e.details.planDetails.planId)&&!St(e.details.planDetails))},dt=function(e){return e&&Ot(e.planId)&&!St(e)&&("active"===e.status||"referral"===e.type)},Ot=function(e){if(!e)return!1;var t=e.split("_")[0];return t===W.PRICING.PLAN_NAMES.SILVER||t===W.PRICING.PLAN_NAMES.GOLD||t===W.PRICING.PLAN_NAMES.ENTERPRISE},jt=function(e){return!!e&&e.split("_")[0]===W.PRICING.PLAN_NAMES.ENTERPRISE},Et=function(e){if(!e)return" ";var t=e.split("_")[0];return t===W.PRICING.PLAN_NAMES.BRONZE?"Free":t===W.PRICING.PLAN_NAMES.SILVER||t===W.PRICING.PLAN_NAMES.GOLD?"Personal":t===W.PRICING.PLAN_NAMES.ENTERPRISE?"For Your Organization":" "},bt=function(e){if(!e||!e.subscription)return null;var t=e.subscription.endDate;return e.subscription.current_period_end&&(t=new Date(1e3*e.subscription.current_period_end).toISOString().split("T")[0]),t},St=function(e){return!(!e||!e.subscription)&&bt(e)<(new Date).toISOString().split("T")[0]},pt=function(e){var t=e.details?e.details.planDetails:null;if(!t||!t.planId||!t.subscription||!lt)return W.PRICING.PLAN_NAMES.BRONZE;if(!ut(e))return W.PRICING.PLAN_NAMES.BRONZE;if(St(t))return W.PRICING.PLAN_NAMES.BRONZE;var n=t.planId;if(["silver_1m","silver_6m","silver_12m"].indexOf(n)>=0)return W.PRICING.PLAN_NAMES.SILVER;if("gold_6m"===n)return W.PRICING.PLAN_NAMES.GOLD;for(var a in lt){var r=lt[a];for(var c in r)if("object"===typeof r[c]&&r[c].planId===n)return r.name.toLowerCase()}return W.PRICING.PLAN_NAMES.BRONZE},ht=function(e,t){var n=mt(e);if(n)return n[t].enabled;switch(e){case W.FEATURES.LOGS:return t===W.PRICING.PLAN_NAMES.GOLD;case W.FEATURES.ADS:return t===W.PRICING.PLAN_NAMES.BRONZE;default:return!1}},Tt=function(e,t){var n=mt(e);if(n)return n[t].limit;switch(e){case W.FEATURES.RULES:return 10;case W.FEATURES.ACTIVE_RULES:case W.FEATURES.FAV_RULES:case W.FEATURES.RULE_PAIRS:return 3;case W.FEATURES.SHARED_LISTS:return 10;case W.FEATURES.RESPONSE_BODY_CHARACTER_LIMIT:return 1500;default:return 3}},mt=function(e){return ot.filter((function(t){return t.id===e}))[0]},ft=n(37),Rt=n(122),At=n(78),xt=n(61),Nt=n(72),Ct=n(75),It=function(e,t){return{type:d.UPDATE_USER_INFO,payload:{loggedIn:e,details:t}}},gt=function(e){return{type:d.UPDATE_BACKUP_INFO,payload:e}},_t=function(e){return{type:d.UPDATE_GROUPS,payload:e}},Lt=function(e,t){return{type:d.UPDATE_RULES_AND_GROUPS,payload:{rules:Object(Ct.a)(e),groups:Object(Ct.a)(t)}}},yt=function(e,t){return{type:d.UPDATE_REFRESH_PENDING_STATUS,payload:{type:e,newValue:t}}},Ut=function(e){return{type:d.UPDATE_CURRENTLY_SELECTED_RULE_DATA,payload:e}},vt=function(){return{type:d.CLEAR_CURRENTLY_SELECTED_RULE_AND_CONFIG}},Pt=function(e,t,n){return{type:d.TOGGLE_ACTIVE_MODAL,payload:{modalName:e,newValue:t,newProps:n}}},Dt=function(e){return{type:d.UPDATE_DESKTOP_SPECIFIC_DETAILS,payload:e}},wt=W.AUTH.ACTION_LABELS,Mt=function(e){var t=e.src,n=Object(c.useContext)(X).dispatch,a=function(e){n(Pt("authModal",!0,{redirectURL:window.location.href,authMode:wt.LOG_IN,src:t}))},r=Object(c.useCallback)(a,[n,t]);return Object(c.useEffect)((function(){r()}),[r]),Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(ft.a,{className:"primary-card",children:Object(N.jsx)(Rt.a,{style:{textAlign:"center"},align:"center",children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3",children:"You need to login first!"}),Object(N.jsxs)("p",{className:"lead",children:["Please make sure you're logged in to your account before accessing this page"," "]}),Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(Nt.a,{type:"primary",onClick:a,children:"Login"}),Object(N.jsx)(Nt.a,{type:"primary",onClick:function(e){n(Pt("authModal",!0,{redirectURL:window.location.href,authMode:wt.SIGN_UP,src:t}))},children:"Sign up"})]})]})})})})})},kt=function(e){var t=e.message,n=Object(ae.g)();return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(ft.a,{className:"primary-card",children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,align:"center",children:Object(N.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3",children:"Unlock Requestly Premium"}),Object(N.jsx)("p",{className:"lead",children:t||null}),Object(N.jsxs)("p",{className:"lead",children:["Try Requestly Premium for ",Object(N.jsx)("strong",{children:"free"})," by"," ",Object(N.jsxs)(o.b,{to:W.PATHS.REFERRAL.RELATIVE,children:["Referring your friends"," ",Object(N.jsx)("span",{"aria-label":"congratulations",role:"img",children:"\ud83c\udf89"})]})]}),Object(N.jsx)("p",{className:"lead",children:Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){return Ie(n)},children:"Get Requestly Premium"})})]})})})})})},Gt=["component","premiumRequired","premiumMessage","routeSrc"],Ft=function(e){var t=e.component,n=e.premiumRequired,a=e.premiumMessage,r=e.routeSrc,i=Object(He.a)(e,Gt),l=Object(c.useContext)(X).state,o=$e(l),d=Object(c.useState)(!1),O=Object(u.a)(d,2),E=O[0],b=O[1];return Object(c.useEffect)((function(){E||b(ut(o))}),[o,E]),Object(N.jsx)(s.a.Fragment,{children:o.loggedIn?n&&!E?Object(N.jsx)(kt,{message:a}):Object(N.jsx)(t,Object(j.a)({},i)):Object(N.jsx)(Mt,{src:r})})},Bt=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ft,{component:Ve})})},Vt=n(953),Ht=n(957),Yt=n(958),Kt=n(484),Wt=n(955),qt=n(76),Qt=n(147),zt=n(505),Jt=n(184),Xt=function(e){switch(e){case"marketer":return"Marketer";case"developer":return"Developer";case"designer":return"Designer";case"consultant":return"Consultant";case"support":return"Customer Support";case"eng_manager":return"Engineering Manager";case"prod_manager":return"Product Manager";case"tester":return"Tester";case"gamer":return"Video Gamer";case"goanimator":return"Goanimator";case"student":return"Student";case"other":return"Other";default:return"Developer"}},Zt=function(e){var t=e.onChangeHandler;return Object(N.jsxs)(qt.a,{children:[Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("marketer",Xt("marketer"))},children:Xt("marketer")})},0),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("developer",Xt("developer"))},children:Xt("developer")})},1),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("designer",Xt("designer"))},children:Xt("designer")})},2),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("consultant",Xt("consultant"))},children:Xt("consultant")})},3),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("support",Xt("support"))},children:Xt("support")})},4),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("eng_manager",Xt("eng_manager"))},children:Xt("eng_manager")})},5),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("prod_manager",Xt("prod_manager"))},children:Xt("prod_manager")})},6),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("tester",Xt("tester"))},children:Xt("tester")})},7),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("gamer",Xt("gamer"))},children:Xt("gamer")})},8),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("goanimator",Xt("goanimator"))},children:Xt("goanimator")})},9),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("student",Xt("student"))},children:Xt("student")})},10),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(){return t("other",Xt("other"))},children:Xt("other")})},11)]})},$t=function(e,t){return Object(N.jsx)(Qt.a,{trigger:["click"],overlay:Object(N.jsx)(Zt,{onChangeHandler:t}),style:{background:"transparent",border:"none",boxShadow:"none"},children:Object(N.jsxs)(zt.a.Text,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"capitalize",cursor:"pointer"},children:[ce()(e)?"Choose":e," ",Object(N.jsx)(Jt.a,{})]})})},en=n(506),tn=n(101),nn=(n(475),n(476)),an=n.n(nn),rn=n(965),cn=function(){return(new Date).getTime()},sn=function(){return Math.random().toString(36).substr(2,5)},ln=function(e){return e.replace("_"," ").match(/([A-Z]?[^A-Z]*)/g).slice(0,-1).map((function(e){return e.toLowerCase()})).join(" ")},on=function(e){try{new URL(e)}catch(t){return!1}return!0},un=function(e){return e.split("@")[1]},dn=function(e){var t=un(e);return!!t&&!(W.EMAIL_DOMAINS.PERSONAL.includes(t)||W.EMAIL_DOMAINS.DESTROYABLE.includes(t))},On=function(e){return new Blob([e]).size},jn=function(){var e=(new Date).getHours();return e<12?"Good Morning":e>=12&&e<=17?"Good Afternoon":"Good Evening"},En=function(e){var t=W.PRICING.COUNTRY_CODES.find((function(t){return t.value===e}));return t?t.label:null},bn=function(e){switch(e){case S.CONSTANTS.APP_MODES.EXTENSION:return"Browser Extension";case S.CONSTANTS.APP_MODES.DESKTOP:return"Desktop App";case S.CONSTANTS.APP_MODES.CLOUDFLARE:return"Cloudflare App";case S.CONSTANTS.APP_MODES.WORDPRESS:return"Wordpress Plugin";default:return ln(e)}},Sn=function(e){switch(e){case S.CONSTANTS.APP_MODES.EXTENSION:return"Extension";case S.CONSTANTS.APP_MODES.DESKTOP:return"Desktop App";case S.CONSTANTS.APP_MODES.CLOUDFLARE:return"Cloudflare";case S.CONSTANTS.APP_MODES.WORDPRESS:return"Wordpress";default:return ln(e)}},pn=function(e){return e&&"string"===typeof e&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)},hn=S.CONSTANTS.GA_EVENTS,Tn=function(){var e=Object(ne.a)(te.a.mark((function e(t,n){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kn.updateValueAsPromise(["customProfile",t,"signup"],{emailVerified:n}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),mn=function(e,t){t||(t=new Date);var n=t.toLocaleDateString("en-CA");return Wn(hn.ATTR.SIGNUP_DATE,n),kn.setValue(["customProfile",e,"signup"],{signup_date:n})},fn=function(){return Kn(hn.CATEGORIES.USER,hn.ACTIONS.EMAIL_VERIFICATION_RESEND,"verification sent from - ".concat(window.location.pathname)),function(){var e=Ee.auth().currentUser;return e?e.sendEmailVerification({url:window.location.href,handleCodeInApp:!0}):Promise.reject({status:!1,errorCode:"Could not send Email"})}(window.location.href).then((function(){Ge.info("Check your inbox for verification link")})).catch((function(e){e.message&&Ge.error(e.message)}))},Rn=W.PATHS,An=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.pathname;return e.includes(W.PATHS.PRICING.RELATIVE)},xn=S.CONSTANTS.GA_EVENTS,Nn=S.COMPONENTS.LOGGER;function Cn(e){var t=new Ee.auth.GoogleAuthProvider;return t.addScope("profile"),t.addScope("email"),Ee.auth().signInWithPopup(t).then((function(t){qn(xn.ACTIONS.GMAIL_LOGIN_PERFORMED),mn(t.user.uid),Tn(t.user.uid,!0);var n=Un(t.user);return Ee.database().ref(yn(n.uid)).update(n),e&&e.call(null,!0),n}))}var In=function(){return new Promise(function(){var e=Object(ne.a)(te.a.mark((function e(t,n){var a,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Object(rn.a)(),(r=Ee.database().ref("ot-auth-codes/".concat(a))).on("value",function(){var e=Object(ne.a)(te.a.mark((function e(n){var a,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.val()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Ee.auth().signInWithCustomToken(a);case 5:return c=e.sent,e.next=8,r.remove();case 8:t(c.user);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),window.open((n=a)?"".concat(Rn.AUTH.DEKSTOP_SIGN_IN.ABSOLUTE,"?ot-auth-code=").concat(n):Rn.AUTH.DEKSTOP_SIGN_IN.ABSOLUTE,"_blank");case 4:case"end":return e.stop()}var n}),e)})));return function(t,n){return e.apply(this,arguments)}}())},gn=function(){var e=Object(ne.a)(te.a.mark((function e(t,n){var a,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ee.auth().signInWithEmailLink(t,window.location.href);case 3:return a=e.sent,r=Un(a.user),Ee.database().ref(yn(r.uid)).update(r),n&&n.call(null,!0),e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}();function _n(e){return Ln.apply(this,arguments)}function Ln(){return(Ln=Object(ne.a)(te.a.mark((function e(t){var n,a,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ee.database().ref("users/".concat(t,"/profile")),a=!1,e.next=4,n.get();case 4:if(void 0!==(r=e.sent.toJSON()).isBackupEnabled){e.next=11;break}return e.next=8,n.update({isBackupEnabled:!0});case 8:a=!0,e.next=12;break;case 11:a=r.isBackupEnabled;case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yn(e){return"users/"+e+"/profile"}function Un(e){var t=Object.assign({},e.providerData[0]);return t.uid=e.uid,t.photoURL||(t.photoURL="https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y"),t.displayName||(t.displayName="User"),t}function vn(e){return Ee.database().ref(e.join("/"))}function Pn(e,t){vn(e).once("value",(function(e){return t.call(null,e.val())}),(function(){return t.call(null,null)}))}function Dn(e){return new Promise((function(t,n){return Pn(e,t)}))}function wn(e,t,n){vn(e).update(t,n)}function Mn(e,t){return new Promise((function(n){return wn(e,t,n)}))}var kn={isUserAuthenticated:function(e){!function(e){var t=Ee.auth().currentUser;t?e.call(null,Un(t)):e.call(null,null)}(e)},authenticate:function(){return Cn()},getValue:function(e){return new Promise((function(t,n){try{Pn(e,t)}catch(a){n(a)}}))},setValue:function(e,t){return function(e,t){return vn(e).set(t)}(e,t)},updateValueAsPromise:function(e,t){return Mn(e,t)},updateValue:function(e,t){return wn(e,t)}},Gn=S.CONSTANTS.GA_EVENTS;function Fn(e){if(e.attr&&e.value){var t=e.attr.toLowerCase(),n=e.value;if(kn.isUserAuthenticated((function(e){e&&e.uid&&function(e,t,n){var a=e.uid,r={};r[t]=n,Ee.database().ref("/customProfile/".concat(a,"/attributes")).update(r)}(e,t,n)})),window.HelpCrunch&&window.helpCrunchSettings&&window.helpCrunchSettings.email&&window.helpCrunchSettings.user_id){var a={};a[t]=n,window.HelpCrunch("updateUserData",a)}if(window.sib&&window.sendinblue&&window.sib.email_id){var r=window.sib.email_id,c={};c[t]=n,window.sendinblue.identify(r,c)}Gn.GA_CUSTOM_METRICS[t]&&window.ga("set",Gn.GA_CUSTOM_METRICS[t],n),window.fcWidget&&window.fcWidget.user.setProperties(Object(O.a)({},t,n))}}function Bn(e){if(e&&e.uid&&e.providerData&&e.providerData.length>0){var t=e.providerData[0];return{name:t.displayName,email:t.email,uid:e.uid}}}function Vn(e){var t=Bn(e);!function(){window.sib={equeue:[],client_key:"ajzj60vxaywpk24xe054qsh1"},window.sib.email_id=e?t.email:"N/A",window.sib.custom_welcome_message=e?"Hello, how can we help you?":"Please sign in to your account or enter your email here first for better support.",window.sib.custom_offline_message="We are currently offline. In order to answer you, please indicate your email in your messages.",window.sendinblue={};for(var n=["track","identify","trackLink","page"],a=0;a<n.length;a++)!function(e){window.sendinblue[e]=function(){var t=Array.prototype.slice.call(arguments);(window.sib[e]||function(){var n={};n[e]=t,window.sib.equeue.push(n)})(t[0],t[1],t[2])}}(n[a]);var r=document.createElement("script");a=document.getElementsByTagName("script")[0],r.type="text/javascript",r.id="sendinblue-js",r.async=!0,r.src="https://sibautomation.com/sa.js?key="+window.sib.client_key,a.parentNode.insertBefore(r,a),window.sendinblue.page()}()}var Hn,Yn=S.CONSTANTS.GA_EVENTS,Kn=function(e,t,n,a){var r;(r={eventCategory:e,eventAction:t,eventLabel:n?n.replace(".","_").replace("@","_at_"):null,eventValue:a}).eventValue&&"number"==typeof r.eventValue?window.ga("send",{hitType:"event",eventCategory:r.eventCategory,eventAction:r.eventAction,eventLabel:r.eventLabel,eventValue:Math.ceil(r.eventValue)}):window.ga("send",{hitType:"event",eventCategory:r.eventCategory,eventAction:r.eventAction,eventLabel:r.eventLabel}),window.HelpCrunch&&window.helpCrunchSettings&&window.helpCrunchSettings.email&&window.helpCrunchSettings.user_id&&window.HelpCrunch("trackEvent",r.eventLabel),window.sib&&window.sendinblue&&window.sib.email_id&&window.sendinblue.track(r.eventLabel,{eventCategory:r.eventCategory},{eventAction:r.eventAction}),window.fcWidget&&window.fcWidget.track(r.eventAction,{category:r.eventCategory,label:r.eventLabel})},Wn=function(e,t){Fn({attr:e,value:String(t).replace(".","_")})},qn=function(e){Kn(Yn.CATEGORIES.LOGIN,e,Yn.CATEGORIES.LOGIN+"_"+e)},Qn=function(e){var t=e.split("@")[1],n=function(e){var t=un(e);return t?W.EMAIL_DOMAINS.PERSONAL.includes(t)?"PERSONAL":W.EMAIL_DOMAINS.DESTROYABLE.includes(t)?"DESTROYABLE":dn(e)?"BUSINESS":"UNDEFINED":"UNDEFINED"}(e);Kn(Yn.CATEGORIES.SIGNUP,"SignUp with ".concat(n," email"),"".concat(n," email - @").concat(t))},zn=S.CONSTANTS.GA_EVENTS,Jn=function(e){var t=e.isOpen,n=e.handleToggleModal,a=Object(ae.g)(),r=Object(c.useState)(""),s=Object(u.a)(r,2),i=s[0],l=s[1],o=Object(c.useState)(!1),d=Object(u.a)(o,2),O=d[0],j=d[1];return Object(N.jsxs)(en.a,{style:{marginTop:"200px"},visible:t,onCancel:n,footer:null,children:[Object(N.jsx)("div",{children:Object(N.jsx)("h3",{children:"Create New Team"})}),Object(N.jsx)("div",{children:Object(N.jsxs)(Rt.a,{style:{paddingTop:"10px",alignItems:"center"},children:[Object(N.jsx)(At.a,{children:Object(N.jsx)("h4",{children:"Name your team"})}),Object(N.jsx)(At.a,{style:{fontSize:"0.9em"},align:"right",children:Object(N.jsx)(tn.a,{type:"text",placeholder:"Team name",style:{textTransform:"capitalize",marginLeft:"100px"},value:i,onChange:function(e){l(e.target.value),Kn(zn.CATEGORIES.TEAMS,zn.ACTIONS.WORKFLOW_STARTED,"Name for New Team entered by user")}})})]})}),Object(N.jsxs)("div",{style:{marginTop:"20px",display:"flex",flexDirection:"row-reverse"},children:[Object(N.jsx)(Nt.a,{type:"primary",style:{marginLeft:"10px"},disabled:ce()(i)||O,onClick:function(e){e&&e.preventDefault(),j(!0),Ee.functions().httpsCallable("createTeam")({teamName:i}).then((function(e){Ge.info("Team Created");var t=e.data.teamId;j(!1),_e(a,t),Kn(zn.CATEGORIES.TEAMS,zn.ACTIONS.CREATED,"New Team Created Redirected to New Team Page",{teamName:i})})).catch((function(e){Ge.error("Unable to Create Team"),Kn(zn.CATEGORIES.TEAMS,zn.ACTIONS.ERROR,"Error in creating New Team",{error:e.message}),j(!1)}))},children:O?Object(N.jsx)(x.G,{className:"icon-spin"}):Object(N.jsx)("span",{children:"Create Team"})}),Object(N.jsx)(Nt.a,{type:"secondary","data-dismiss":"modal",onClick:n,children:"Close"})]})]})},Xn=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ft.a,{className:"primary-card",title:"My Teams",children:Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(At.a,{span:24,align:"center",children:[Object(N.jsx)("p",{children:"You can create or join multiple teams. Each team is billed separately and subscription is shared with all members."}),Object(N.jsx)("br",{}),Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){return a(!0)},children:"Create your first team"}),Object(N.jsx)(Nt.a,{onClick:function(e){return window.open(W.LINKS.REQUESTLY_DOCS_TEAM_SUBSCRIPTION,"_blank")},children:"Know More"})]})]})})}),Object(N.jsx)(Jn,{isOpen:n,handleToggleModal:function(){a(!n)}})]})},Zn=n(137),$n=n(510),ea=n(509),ta=n(107),na=S.CONSTANTS.GA_EVENTS,aa=function(e){var t=e.teams,n=void 0===t?[]:t,a=Object(ae.g)(),r=Object(c.useState)(!1),s=Object(u.a)(r,2),i=s[0],l=s[1],o=[{title:"Team",dataIndex:"name",render:function(e,t){return Object(N.jsx)("span",{onClick:function(){_e(a,t.id),Kn(na.CATEGORIES.TEAMS,na.ACTIONS.ROUTE_VIEWED,"Redirected to Selected Team Page by user",{teamId:t.id})},style:{cursor:"pointer"},children:e})}},{title:"Members",dataIndex:"accessCount"},{title:"Admins",dataIndex:"adminCount"},{title:"Subscription",render:function(e,t){return function(e,t){switch(e){case"active":return Object(N.jsxs)("span",{style:{width:"300px"},onClick:function(){return _e(a,t)},children:[Object(N.jsx)(Zn.a,{status:"success"})," Active"]});case"incomplete":return Object(N.jsxs)(Nt.a,{className:"btn-icon btn-3",color:"primary",size:"sm",type:"button",onClick:function(){return _e(a,t)},children:[Object(N.jsx)("span",{children:Object(N.jsx)(x.x,{})}),Object(N.jsx)("span",{children:"Pay now"})]});default:return Object(N.jsxs)("span",{style:{width:"300px"},children:[Object(N.jsx)(Zn.a,{status:"error"})," Inactive"]})}}(t.subscriptionStatus,t.id)}},{title:"Actions",align:"right",render:function(e,t){return Object(N.jsx)("span",{style:{width:"300px",cursor:"pointer"},onClick:function(){_e(a,t.id),Kn(na.CATEGORIES.TEAMS,na.ACTIONS.ROUTE_VIEWED,"Redirected to Selected Team Page by user",{teamId:t.id})},children:Object(N.jsx)($n.a,{})})}}];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ta.a,{rowKey:"id",pagination:!1,options:!1,search:!1,dateFormatter:!1,columns:o,dataSource:function(){var e=[];return n&&Object.keys(n).forEach((function(t){e.push(Object(j.a)({id:t},n[t]))})),e}(),headerTitle:"My Teams",toolBarRender:function(){return[Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){l(!0),Kn(na.CATEGORIES.TEAMS,na.ACTIONS.CLICKED,"Create New Team Btn Clicked")},icon:Object(N.jsx)(ea.a,{}),children:"Create New Team"})]}}),Object(N.jsx)(Jn,{isOpen:i,handleToggleModal:function(){l(!i)}})]})},ra=n(120),ca=n(127),sa=function(){var e=Object(N.jsx)(ca.a,{style:{fontSize:24},spin:!0}),t=Object(c.useState)(!0),n=Object(u.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)([]),i=Object(u.a)(s,2),l=i[0],o=i[1],d=Object(c.useRef)(!0),O=Object(c.useCallback)((function(){r(!0),Ee.functions().httpsCallable("getUserTeams")().then((function(e){if(!d.current)return null;var t=e.data;if(!t.success)throw new Error("Unable to find team");o(t.data),r(!1)})).catch((function(e){if(!d.current)return null;console.log(e),Ge.error("You dont have permission to view this team.")}))}),[]);return Object(c.useEffect)((function(){return O(),function(){d.current=!1}}),[O]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("div",{children:l.length>0?Object(N.jsx)(aa,{teams:l}):Object(N.jsx)(N.Fragment,{children:a?Object(N.jsx)(ra.a,{style:{marginTop:"40px"},indicator:e,tip:"Loading Teams"}):Object(N.jsx)(Xn,{})})})})},ia=function(e){var t=e.customHeading,n=e.hideShadow,a=Object(ae.g)();return Object(N.jsx)(de.a,{className:"my-4",children:Object(N.jsx)(ie.a,{children:Object(N.jsxs)(Oe.a,{className:n?"has-no-border has-no-box-shadow":"shadow",children:[Object(N.jsx)(Vt.a,{className:"bg-white border-0",children:Object(N.jsx)(de.a,{className:"align-items-center",children:Object(N.jsx)(ie.a,{children:Object(N.jsx)("h3",{className:"mb-0",children:t||"My Subscription"})})})}),Object(N.jsx)(je.a,{children:Object(N.jsxs)("div",{style:{textAlign:"center"},className:"mb-4",children:[Object(N.jsx)("p",{children:"Get the most out of Requestly. Upgrade to one of our premium plans."}),Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){return Ie(a)},children:"View Plans"}),Object(N.jsx)(Nt.a,{type:"secondary",onClick:function(e){return window.open(W.LINKS.REQUESTLY_DOCS_PREMIUM_SUBSCRIPTION,"_blank")},children:"Know More"})]})]})})]})})})},la=n(966),oa=st,ua="USD",da=function(e){switch(parseInt(e)){case 30:return"monthly";case 90:return"quarterly";case 180:return"half-yearly";case 365:return"annual";default:return!1}},Oa=function(e){switch(parseInt(e)){case 30:return"month";case 365:return"year";default:return"month"}},ja=function(e){switch(e){case"monthly":return 30;case"quarterly":return 90;case"half-yearly":return 180;case"annual":return 365;default:return 30}},Ea={IN:"INR",MX:"MXN",GB:"GBP",EU:"EUR",US:"USD",CA:"CAD"},ba=function(e,t){var n;switch(n=!t&&e?Sa(e):t){case"INR":return"\u20b9";case"MXN":return"Mex$";case"USD":return"$";case"GBP":return"\xa3";case"EUR":return"\u20ac";case"CAD":return"C$";default:return n}},Sa=function(e){return Ea[e]||ua},pa=function(e,t){var n=oa.find((function(t){return t.id===e}));return n||we(null,!0),(n[t]||we(null,!0)).planId||we(null,!0)},ha=function(e){switch(e){case"active":return"Active";case"incomplete":case"unpaid":return"Payment pending";case"incomplete_expired":return"Payment Unsuccessful";case"trialing":return"Active Trial Period";case"past_due":return"Past due";case"canceled":return"Cancelled";default:return"Contact us"}},Ta=function(e){switch(e){case"team":return"Team Subscription";case"unlock":return"Unlocked Subscription";case"license":return"Enterprise Plan";case"paypal":return"Paypal Subscription";case"individual":return"Personal Subscription";default:return"Premium Plan"}},ma=function(e){var t=e.customHeading,n=e.hideShadow,a=e.hideManagePersonalSubscriptionButtion,r=e.subscriptionDetails,c=Object(ae.g)(),i=r.validFrom,l=r.validTill,o=r.status,u=r.type;return r?Object(N.jsx)(de.a,{className:"my-4",children:Object(N.jsx)(ie.a,{children:Object(N.jsxs)(Oe.a,{className:n?"has-no-border has-no-box-shadow":"shadow",children:[Object(N.jsx)(Vt.a,{className:"bg-white border-0",children:Object(N.jsx)(de.a,{className:"align-items-center",children:Object(N.jsx)(ie.a,{className:"text-center text-sm-center text-xl-left text-lg-left text-md-left margin-bottom-1-when-xs margin-bottom-1-when-sm",children:Object(N.jsxs)("h3",{className:"mb-0",children:[t||"Current Subscription"," ",a?null:Object(N.jsx)("span",{style:{textAlign:"center"},children:Object(N.jsx)(Nt.a,{type:"link",size:"small",onClick:function(){return ye(c)},children:"(Manage Personal Subscription)"})})]})})})}),Object(N.jsx)("br",{}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsxs)(la.b,{title:!1,bordered:!0,size:"small",column:2,children:[Object(N.jsx)(la.b.Item,{label:"Status",children:Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(Zn.a,{status:o&&"active"===o?"success":"error",text:ha(o)}),"canceled"===o||"incomplete_expired"===o?Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(Nt.a,{size:"small",type:"link",onClick:function(e){e.preventDefault(),"individual"===u?Ue({mode:u,planType:"gold",days:365}):"team"===u?Le(c):Ie(c)},children:"Renew"})}):null]})}),Object(N.jsx)(la.b.Item,{label:"Type",children:Ta(u)}),Object(N.jsx)(la.b.Item,{label:"Valid From",children:new Date(i).toDateString()}),Object(N.jsx)(la.b.Item,{label:"Valid Till",children:new Date(l).toDateString()})]})})})]})})}):Object(N.jsx)(s.a.Fragment,{})},fa=function(e){var t=e.hideShadow,n=e.customHeading,a=e.hideManagePersonalSubscriptionButtion,r=e.hideIfSubscriptionIsPersonal,i=e.hideIfNoSubscription,l=Object(c.useContext)(X).state,o=$e(l),d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(!1),S=Object(u.a)(b,2),p=S[0],h=S[1],T=Object(c.useState)(!1),m=Object(u.a)(T,2),f=m[0],R=m[1],A=Object(c.useState)(!1),x=Object(u.a)(A,2),C=x[0],I=x[1],g=Object(c.useState)(!1),_=Object(u.a)(g,2),L=_[0],y=_[1];return Object(c.useEffect)((function(){o.details&&o.details.planDetails&&o.details.planDetails.status?(E(o.details.planDetails.status),h(o.details.planDetails.type),R(o.details.planDetails.subscription.startDate),I(o.details.planDetails.subscription.endDate)):y(!0)}),[o]),o?r&&o&&o.details&&o.details.planDetails&&"individual"===o.details.planDetails.type||i&&L?Object(N.jsx)(s.a.Fragment,{}):Object(N.jsx)("div",{className:"profile-card profile-card-shadow",style:{marginTop:"2rem"},children:j&&p&&f&&C&&!L?Object(N.jsx)(ma,{customHeading:n,hideShadow:t,hideManagePersonalSubscriptionButtion:a,subscriptionDetails:{validFrom:f,validTill:C,status:j,type:p}}):Object(N.jsx)(ia,{customHeading:n,hideShadow:t})}):Object(N.jsx)(s.a.Fragment,{})},Ra=n(954),Aa=n(956),xa=n(161),Na=function(e){var t=Ee.auth().currentUser;if(t){var n={};Dn(["userSubscriptions",t.uid,"planDetails"]).then((function(e){n={profile:Un(t),isLoggedIn:!0,planDetails:e}})).then(Object(ne.a)(te.a.mark((function a(){var r;return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Dn(["users",t.uid,"profile","isBackupEnabled"]);case 2:r=a.sent,n.isBackupEnabled=!!r,e(It(!0,n));case 5:case"end":return a.stop()}}),a)})))).catch((function(t){console.error("Unable to fetch user plan",t.message),e(It(!1,!1))}))}else e(It(!1,!1))},Ca=function(e){var t=e.customHeading,n=e.shadow,a=e.hideBillingAddress,r=(e.hideIndiaInCountryList,Object(c.useContext)(X)),i=r.dispatch,l=r.state,o=$e(l),d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(""),S=Object(u.a)(b,2),p=S[0],h=S[1],T=Object(c.useState)(""),m=Object(u.a)(T,2),f=m[0],R=m[1],A=Object(c.useState)(""),x=Object(u.a)(A,2),C=x[0],I=x[1],g=Object(c.useState)(""),_=Object(u.a)(g,2),L=_[0],y=_[1],U=Object(c.useState)(""),v=Object(u.a)(U,2),P=v[0],D=v[1],w=Object(c.useState)(""),M=Object(u.a)(w,2),k=M[0],G=M[1],F=Object(c.useState)(""),B=Object(u.a)(F,2),V=B[0],H=B[1],Y=function(){(function(e,t){var n=t.CompanyName,a=t.FullName,r=t.Address,c={};if(n&&(c.companyName=n),a&&(c.displayName=a),r){var s=r.AddrLine1,i=r.AddrLine2,l=r.AddrCity,o=r.AddrState,u=r.AddrCountry,d=r.AddrZIP;c.address={},s&&(c.address.line1=s),i&&(c.address.line2=i),l&&(c.address.city=l),o&&(c.address.state=o),u&&(c.address.country=u),d&&(c.address.postal_code=d)}return kn.updateValueAsPromise(["users",e,"profile"],c)})(o.details.profile.uid,{FullName:p,Address:{AddrLine1:f,AddrLine2:C,AddrCity:L,AddrState:P,AddrCountry:k,AddrZIP:V}}).then((function(){E(!1),Na(i),Ge.info("Profile saved")}))};return Object(c.useEffect)((function(){kn.getValue(["users",o.details.profile.uid]).then((function(e){if(e){var t=e.profile;t&&(t.displayName&&h(t.displayName),t.address&&(t.address.line1&&R(t.address.line1),t.address.line2&&I(t.address.line2),t.address.city&&y(t.address.city),t.address.state&&D(t.address.state),t.address.postal_code&&H(t.address.postal_code),t.address.country&&G(t.address.country)))}}))}),[o]),Object(N.jsxs)(Oe.a,{className:"profile-card ".concat(n?"profile-card-shadow":""),children:[Object(N.jsx)(Vt.a,{className:"bg-white border-0",children:Object(N.jsx)(de.a,{className:"align-items-center",children:Object(N.jsx)(ie.a,{xs:"8",children:Object(N.jsx)("h3",{className:"mb-0",children:t||"My account"})})})}),Object(N.jsx)(je.a,{children:Object(N.jsxs)(Aa.a,{className:"profile-card-form",children:[Object(N.jsx)("h6",{className:"heading-small text-muted mb-4",children:"Basic information"}),Object(N.jsx)("div",{className:"pl-lg-4",children:Object(N.jsxs)(de.a,{className:"profile-card-form-info",children:[Object(N.jsxs)(Ra.a,{className:"profile-card-form-field",children:[Object(N.jsx)("label",{className:"form-control-label",htmlFor:"input-username",children:"Name"}),Object(N.jsx)(Wt.a,{className:"form-control-alternative",value:p,id:"input-username",placeholder:"Full Name",type:"text",onChange:function(e){E(!0),h(e.target.value)},style:{textTransform:"capitalize"}})]}),Object(N.jsxs)(Ra.a,{className:"profile-card-form-field",children:[Object(N.jsx)("label",{className:"form-control-label",htmlFor:"input-email",children:"Email address"}),Object(N.jsx)(Wt.a,{className:"form-control-alternative",id:"input-email",placeholder:"Email address",type:"email",disabled:"disabled",defaultValue:o.details.profile.email,style:{textTransform:"lowercase"}})]})]})}),a?Object(N.jsx)(s.a.Fragment,{}):Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("h6",{className:"heading-small text-muted mb-4",children:"Billing address"}),Object(N.jsxs)("div",{className:"pl-lg-4",children:[Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{md:"4",children:Object(N.jsxs)(Ra.a,{children:[Object(N.jsx)("label",{className:"form-control-label",htmlFor:"input-address-line1",children:"Line 1"}),Object(N.jsx)(Wt.a,{className:"form-control-alternative",id:"input-address-line1",placeholder:"Street",type:"text",value:f,onChange:function(e){E(!0),R(e.target.value)}})]})}),Object(N.jsx)(ie.a,{md:"4",children:Object(N.jsxs)(Ra.a,{children:[Object(N.jsx)("label",{className:"form-control-label",htmlFor:"input-address-line2",children:"Line 2"}),Object(N.jsx)(Wt.a,{className:"form-control-alternative",id:"input-address-line2",placeholder:"Appartment",type:"text",value:C,onChange:function(e){E(!0),I(e.target.value)}})]})}),Object(N.jsx)(ie.a,{md:"4",children:Object(N.jsxs)(Ra.a,{children:[Object(N.jsx)("label",{className:"form-control-label",htmlFor:"input-address-city",children:"City"}),Object(N.jsx)(Wt.a,{className:"form-control-alternative",id:"input-address-city",placeholder:"City",type:"text",value:L,onChange:function(e){E(!0),y(e.target.value)}})]})})]}),Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{lg:"4",children:Object(N.jsxs)(Ra.a,{children:[Object(N.jsx)("label",{className:"form-control-label",htmlFor:"input-state",children:"State"}),Object(N.jsx)(Wt.a,{className:"form-control-alternative",id:"input-state",placeholder:"State",type:"text",value:P,onChange:function(e){E(!0),D(e.target.value)}})]})}),Object(N.jsx)(ie.a,{lg:"4",children:Object(N.jsxs)(Ra.a,{children:[Object(N.jsx)("label",{className:"form-control-label",htmlFor:"input-country",children:"Country"}),Object(N.jsx)(xa.a,{styles:W.STYLES.reactSelectCustomStyles,id:"input-country",className:"form-control-alternative",classNamePrefix:"form-control-alternative",placeholder:"eg. United States",options:W.PRICING.COUNTRY_CODES,value:Object(pe.isEmpty)(k)?null:{value:k,label:En(k)},onChange:function(e){E(!0),G(e.value)}})]})}),Object(N.jsx)(ie.a,{lg:"4",children:Object(N.jsxs)(Ra.a,{children:[Object(N.jsx)("label",{className:"form-control-label",htmlFor:"input-zip-code",children:"ZIP/Postal Code"}),Object(N.jsx)(Wt.a,{className:"form-control-alternative",id:"input-zip-code",placeholder:"eg. V6B 3K9",type:"text",value:V,onChange:function(e){E(!0),H(e.target.value)}})]})})]})]})]}),j?Object(N.jsx)(de.a,{className:"align-items-center",children:Object(N.jsx)(ie.a,{className:"text-center",xs:"12",children:Object(N.jsx)(oe.a,{color:j?"primary":"secondary",onClick:Y,size:"sm",disabled:!j,children:"Save"})})}):Object(N.jsx)(s.a.Fragment,{})]})})]})},Ia=n(264),ga=n.n(Ia),_a="forgot-password",La="sign-in",ya="sign-up",Ua=function(e){Ge.error(e,{hideProgressBar:!0,autoClose:6e3})},va=function(e){Ge.warn(e,{hideProgressBar:!0})},Pa=function(e){Ge.info(e,{hideProgressBar:!0,autoClose:5e3})},Da=function(e,t){switch(e){case La:return function(e){switch(e){case"auth/invalid-email":return"Please enter a valid email";case"auth/user-not-found":return"This email is not registered. Please sign up.";case"auth/wrong-password":return"Invalid email or password. Please try again or use Forgot Password.";case"auth/user-disabled":return"Sorry but your account is disabled. Please write us at "+S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL;default:return"Sorry, we couldn\u2019t log you in. Please write us at "+S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL}}(t);case ya:return function(e){switch(e){case"no-name":return"Please enter your name.";case"no-email":case"auth/invalid-email":return"Please enter a valid email address.";case"no-password":return"Please enter a password to create.";case"auth/email-already-in-use":return"The email you entered is already in use. Try signing in.";case"auth/weak-password":return"Please choose a stronger password";case"auth/operation-not-allowed":return"Sorry but your account is disabled. Please write us at "+S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL;default:return"Sorry, we couldn\u2019t sign you up. Please write us at "+S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL}}(t);case _a:return function(e){switch(e){case"auth/user-not-found":return"Unable to find an account with this email address. Please try again.";case"auth/invalid-email":return"This email seems invalid. Please recheck.";default:return"Unable to request new password this time. Please write us at "+S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL}}(t);default:return"An unexpected has occurred. Please write us at "+S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL}},wa=function(e,t,n,a,r,c,s){switch(e&&e.preventDefault(),r){case W.FEATURES.SHARED_LISTS:Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REQUESTED,"Email Login requested on SharedList index page");break;case W.FEATURES.RULES:Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REQUESTED,"Email Login requested on rules index page")}return ce()(t)||!ga()(t)?(va("Please enter a valid email"),null):ce()(n)?(va("Opps! You forgot to enter password"),null):(a&&a(!0),void function(e,t){return Ee.auth().signInWithEmailAndPassword(e,t).then((function(e){return Nn.log("Profile Logged In Successfully"),qn(xn.ACTIONS.EMAIL_LOGIN_PERFORMED),Promise.resolve({status:!0,msg:"Profile Logged In Successfully",result:e})})).catch((function(e){var t=e.code,n=e.message;return Promise.reject({status:!1,msg:n,errorCode:t})}))}(t,n).then((function(e){var t=e.result;if(t.user.uid){switch(Pa("".concat(jn(),", ").concat(t.user.displayName.split(" ")[0])),r){case W.FEATURES.SHARED_LISTS:Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_DONE,"Email Login done on SharedList index page");break;case W.FEATURES.RULES:Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_DONE,"Email Login done on Rules index page")}c&&c()}else Ua("Sorry we couldn't log you in. Can you please retry?"),a&&a(!1),s&&s()})).catch((function(e){var t=e.errorCode;if(Ua(Da(La,t)),r)switch(r){case W.FEATURES.SHARED_LISTS:Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REJECTED,"Email Login rejected on SharedList index page");break;case W.FEATURES.RULES:Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REJECTED,"Email Login rejected on Rules index page")}a&&a(!1),s&&s()})))},Ma=function(e,t,n,a,r){switch(e&&e(!0),t){case W.FEATURES.SHARED_LISTS:Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REQUESTED,"Apple Login requested on SharedList index page");break;case W.FEATURES.RULES:Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REQUESTED,"Apple Login requested on rules index page")}(function(e){var t=new Ee.auth.OAuthProvider("apple.com");return Ee.auth().signInWithPopup(t).then((function(t){qn(xn.ACTIONS.APPLE_LOGIN_PERFORMED),mn(t.user.uid),Tn(t.user.uid,!0);var n=Un(t.user);return Ee.database().ref(yn(n.uid)).update(n),e&&e.call(null,!0),n}))})().then((function(c){if(c&&c.uid){switch(Pa("".concat(jn(),", ").concat(c.displayName.split(" ")[0])),t){case W.FEATURES.SHARED_LISTS:Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_DONE,"Apple Login done on SharedList index page");break;case W.FEATURES.RULES:Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_DONE,"Apple Login done on Rules index page")}a===W.AUTH.ACTION_LABELS.SIGN_UP&&De(r),n&&n()}else if(Ua("Sorry, the email or password you have entered isn't right. Can you please try again?"),e&&e(!1),t)switch(t){case W.FEATURES.SHARED_LISTS:Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REJECTED,"Apple login rejected on SharedList index page");break;case W.FEATURES.RULES:Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REJECTED,"Apple login rejected on Rules index page")}})).catch((function(){e&&e(!1)}))},ka=function(e,t,n,a,r,c,s){e.preventDefault(),c(!0),function(e,t,n,a){return!e||ce()(e)?Promise.reject({status:!1,errorCode:"no-name"}):!t||ce()(t)?Promise.reject({status:!1,errorCode:"no-email"}):!n||ce()(n)?Promise.reject({status:!1,errorCode:"no-password"}):Ee.auth().createUserWithEmailAndPassword(t,n).then((function(n){return n.user.sendEmailVerification({url:window.location.href,handleCodeInApp:!0}).then((function(){mn(n.user.uid),Tn(n.user.uid,!1)})),n.user.updateProfile({displayName:e,photoURL:"https://www.gravatar.com/avatar/".concat(an()(t))}).then((function(){var e=Un(n.user);return Ee.database().ref(yn(e.uid)).update(e).then((function(){return Nn.log("Profile Created Successfully"),Qn(e.email),a&&Ee.functions().httpsCallable("applyRefCode")({code:a,uid:e.uid,email:e.email}).then((function(e){return e&&e.data&&e.data.reward?(Kn(xn.CATEGORIES.REFERRAL,xn.ACTIONS.REFERRAL_APPLIED,"".concat(xn.CATEGORIES.REFERRAL,"_").concat(e.data.reward.type)),{success:!0,msg:"Referral Code applied successfully!",result:e.data}):(Kn(xn.CATEGORIES.REFERRAL,xn.ACTIONS.REFERRAL_FAILED,"".concat(xn.CATEGORIES.REFERRAL,"_").concat(xn.ACTIONS.REFERRAL_FAILED)),{success:!1,msg:"Invalid Referral Code",result:e.data})})).catch(console.error),Promise.resolve({status:!0,msg:"SignUp Successfull"})})).catch((function(){return Promise.reject({status:!1,errorCode:""})}))})).catch((function(){return Promise.reject({status:!1,errorCode:""})}))})).catch((function(e){var t=e.code;return Promise.reject({status:!1,errorCode:t})}))}(t,n,a,r).then((function(e){var t=e.status,r=e.errorCode;t?(Pa("Check your email for link to verify email"),wa(null,n,a),De(s)):(Ua(Da(ya,r)),c(!1))})).catch((function(e){var t=e.errorCode;Ua(Da(ya,t)),c(!1)}))},Ga=function(e,t,n,a){if(e.preventDefault(),ce()(t)||!ga()(t))return va("Please enter a valid email"),null;n(!0),function(e){return Ee.auth().sendPasswordResetEmail(e).then((function(e){return Nn.log("Password reset email sent"),Promise.resolve({status:!0,msg:"Password reset email sent"})})).catch((function(e){var t=e.code;return Promise.reject({status:!1,errorCode:t})}))}(t).then((function(e){var t=e.status,r=e.msg;t?(Pa(r),n(!1),a&&a()):(Ua(r),n(!1))})).catch((function(e){var t=e.errorCode;Ua(Da(_a,t)),n(!1)}))},Fa=function(e,t,n,a,r){var c=function(e){e?(a(!1),t&&(r&&r(),Pa("Password reset successful. Logging you in."),wa(null,t,n))):(Ua("Please try again with a stronger password or request a new reset link."),a(!1))};(function(e,t){return t?Ee.auth().confirmPasswordReset(e,t).then((function(e){return Nn.log("Password reset successfull"),Promise.resolve({status:!0,msg:"Password Reset Successful"})})).catch((function(e){var t=e.message;return Nn.log("Error Reseting Password"),Promise.reject({status:!1,msg:t})})):Promise.reject({status:!1,msg:"Password is Required"})})(e,n).then((function(e){var t=e.status;e.msg;c(t)}),(function(e){var t=e.status;e.msg;c(t)})).catch((function(){c(!1)}))},Ba=function(e,t,n,a,r){if(e.preventDefault(),ce()(t))return va("Please set a new password"),null;n(!0);var c,s=function(){var e=new URLSearchParams(window.location.search);return e.has("oobCode")?e.get("oobCode"):null}(),i=function(e,c){e?Fa(s,c,t,n,r):(Ua("This Link has been expired. Please create a new reset request."),n(!1),Ce(a))};(c=s,c?Ee.auth().verifyPasswordResetCode(c).then((function(e){return Promise.resolve({status:!0,email:e})})).catch((function(){return Nn.log("Invalid OOB Code"),Promise.reject({status:!1,msg:""})})):Promise.reject({status:!1,msg:""})).then((function(e){var t=e.status,n=(e.msg,e.email);i(t,n)}),(function(e){var t=e.status;e.msg;i(t,null)})).catch((function(){i(!1,null)}))},Va=function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",Ee.auth().signOut());case 4:return e.prev=4,e.t0=e.catch(0),e.abrupt("return",console.log(e.t0));case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(){return e.apply(this,arguments)}}(),Ha=function(){var e=Object(ae.g)(),t=Object(c.useContext)(X),n=t.dispatch,a=t.state,r=$e(a),i=Object(c.useState)(!1),l=Object(u.a)(i,2),o=l[0],d=l[1],O=Object(c.useState)(""),j=Object(u.a)(O,2),E=j[0],b=j[1],S=Object(c.useState)(""),p=Object(u.a)(S,2),h=p[0],T=p[1],m=r.details.profile.photoURL?r.details.profile.photoURL:"https://www.gravatar.com/avatar/00000000000000000000000000000000?d=mp&f=y",f=r.details.profile.displayName?r.details.profile.displayName:"User";if("URLSearchParams"in window){var R=new URL(m),A=R.searchParams;A.set("s","180"),R.search=A.toString(),m=R.toString()}return Object(c.useEffect)((function(){r.details&&kn.getValue(["customProfile",r.details.profile.uid]).then((function(e){if(e){var t=e.position,n=e.companyName;t&&b(Xt(t)),n&&T(n)}}))}),[r.details.profile.uid,r]),Object(N.jsx)(s.a.Fragment,{children:Object(N.jsxs)(ft.a,{className:"primary-card",children:[Object(N.jsxs)(de.a,{className:"profile-container",children:[Object(N.jsxs)(ie.a,{className:"profile-container-left profile-container-child",xl:"8",children:[Object(N.jsx)(Ca,{shadow:!0,hideBillingAddress:!0}),Object(N.jsx)(fa,{})]}),Object(N.jsx)(ie.a,{className:"profile-container-right profile-container-child mb-5 mb-xl-0",xl:"4",children:Object(N.jsxs)(Oe.a,{className:"profile-card profile-card-shadow",children:[Object(N.jsx)(de.a,{className:"justify-content-center",children:Object(N.jsx)(ie.a,{className:"order-lg-2",lg:"3",children:Object(N.jsx)("div",{className:"card-profile-image",children:Object(N.jsx)("a",{href:"https://gravatar.com",target:"_blank",rel:"noopener noreferrer",children:Object(N.jsx)("img",{alt:"...",className:"rounded-circle",src:m})})})})}),Object(N.jsx)(Vt.a,{className:"profile-card-header border-0 pt-1 pt-md-1 pb-0 pb-md-1"}),Object(N.jsxs)(je.a,{className:"profile-card-body pt-0 pt-md-1",style:{fontSize:"14px"},children:[Object(N.jsx)(de.a,{children:Object(N.jsx)("div",{className:"col",children:Object(N.jsx)("div",{className:"card-profile-stats d-flex justify-content-center mt-md-5"})})}),Object(N.jsxs)("div",{className:"text-center",children:[Object(N.jsx)("h3",{children:f}),Object(N.jsxs)("div",{className:"h5 mt-4",children:[Object(N.jsx)("i",{className:"ni business_briefcase-24 mr-2"}),$t(E,(function(e,t){b(t),kn.updateValueAsPromise(["customProfile",r.details.profile.uid],{position:e}).then((function(){Na(n)}))}))]}),Object(N.jsx)("div",{style:{margin:"1rem 0"},children:Object(N.jsxs)(Ht.a,{className:"input-group mb-4",children:[Object(N.jsx)(Yt.a,{addonType:"prepend",children:Object(N.jsx)(Kt.a,{children:Object(N.jsx)("i",{className:"ni ni-building"})})}),Object(N.jsx)(Wt.a,{className:"form-control-alternative",type:"text",placeholder:"Company name",id:"companyName",value:h,onChange:function(e){d(!0),T(e.target.value)},style:{textTransform:"capitalize"}})]})}),Object(N.jsx)("div",{className:"my-4",children:Object(N.jsx)(Nt.a,{type:o?"primary":"secondary",onClick:function(){kn.updateValueAsPromise(["customProfile",r.details.profile.uid],{companyName:h}).then((function(){Ge.info("Profile saved"),d(!1)}))},size:"small",disabled:!o,children:"Save profile"})}),Object(N.jsx)("hr",{className:"my-4"}),Object(N.jsxs)("div",{style:{textAlign:"left"},children:[Object(N.jsx)(de.a,{className:"my-2",children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(Nt.a,{type:"secondary",size:"small",onClick:function(){Va().then((function(){Ce(e)}))},children:"Reset Password"})})}),Object(N.jsx)(de.a,{className:"my-2",children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(Nt.a,{type:"secondary",size:"small",onClick:function(){return window.open(W.LINKS.GDPR.EXPORT_DATA,"_blank")},children:"Request Data Download"})})}),Object(N.jsx)(de.a,{className:"my-2",children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(Nt.a,{type:"secondary",size:"small",onClick:function(){return window.open(W.LINKS.GDPR.DELETE_ACCOUNT,"_blank")},children:"Request Account Deletion"})})}),Object(N.jsx)(de.a,{className:"my-2",children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(Nt.a,{type:"secondary",size:"small",onClick:function(){!function(e,t){t?window.location.href=he.ACCOUNT.REFRESH_SUBSCRIPTION.ABSOLUTE:e.push(he.ACCOUNT.REFRESH_SUBSCRIPTION.ABSOLUTE)}(e)},children:"Refresh Subscription"})})})]})]})]})]})})]}),Object(N.jsx)(de.a,{className:"profile-team",children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(je.a,{className:"profile-team-body",children:Object(N.jsx)(sa,{})})})})]})})},Ya=function(){return Object(N.jsx)(Ft,{component:Ha})},Ka=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ya,{})})},Wa=n(58),qa=n(59),Qa=n(65),za=n(64),Ja=n(959),Xa=n(485),Za=(Hn={},Object(O.a)(Hn,S.CONSTANTS.APP_MODES.EXTENSION,{appMode:S.CONSTANTS.APP_MODES.EXTENSION,fullName:bn(S.CONSTANTS.APP_MODES.EXTENSION),shortName:Sn(S.CONSTANTS.APP_MODES.EXTENSION),Icon:function(){return Object(N.jsx)(x.e,{size:"1.5em"})},iconBackgroundColor:"red",description:"Requestly browser extension available for Chrome & Firefox",actionLabel:"Add to Chrome",actionLink:W.LINKS.CHROME_EXTENSION}),Object(O.a)(Hn,S.CONSTANTS.APP_MODES.DESKTOP,{appMode:S.CONSTANTS.APP_MODES.DESKTOP,fullName:bn(S.CONSTANTS.APP_MODES.DESKTOP),shortName:Sn(S.CONSTANTS.APP_MODES.DESKTOP),Icon:function(){return Object(N.jsx)(x.j,{size:"1.5em"})},iconBackgroundColor:"green",description:"Run Requestly on top of your favourite apps \u2013 Spotify, Slack, Postman, VSCode",actionLabel:"Download for MacOS, Windows & Linux",actionLink:W.LINKS.REQUESTLY_DESKTOP_APP}),Object(O.a)(Hn,S.CONSTANTS.APP_MODES.WORDPRESS,{appMode:S.CONSTANTS.APP_MODES.WORDPRESS,fullName:bn(S.CONSTANTS.APP_MODES.WORDPRESS),shortName:Sn(S.CONSTANTS.APP_MODES.WORDPRESS),Icon:function(){return Object(N.jsx)(x.P,{size:"1.7em"})},iconBackgroundColor:"teal",description:"Use Requestly in Wordpress to create redirects and mocks",actionLabel:"COMING SOON"}),Object(O.a)(Hn,S.CONSTANTS.APP_MODES.CLOUDFLARE,{appMode:S.CONSTANTS.APP_MODES.CLOUDFLARE,fullName:bn(S.CONSTANTS.APP_MODES.CLOUDFLARE),shortName:Sn(S.CONSTANTS.APP_MODES.CLOUDFLARE),Icon:function(){return Object(N.jsx)(Xa.a,{size:"1.7em"})},iconBackgroundColor:"orange",description:"Use Requestly in Cloudflare to modify requests even before it reaches your web server",actionLabel:"COMING SOON"}),Hn),$a=function(){var e=Object(c.useContext)(X).state,t=rt(e);return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(ue.a,{className:" mt--7 sm-margin-top-negative-3",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(Oe.a,{className:"shadow",children:Object(N.jsx)(je.a,{children:Object(N.jsxs)(le.a,{style:{background:"transparent"},children:[Object(N.jsx)(de.a,{className:"mb-4 ",children:Object(N.jsx)(ie.a,{className:"text-center",children:Object(N.jsx)("h2",{children:"Requestly is available as"})})}),Object(N.jsx)(de.a,{children:Object.keys(Za).map((function(e){return Object(N.jsx)(ie.a,{md:"6 mb-6",children:Object(N.jsx)(Oe.a,{className:"card-stats mb-4 mb-lg-0 reduce-opacity-on-hover ".concat(Za[e].actionLink?"cursor-pointer":"cursor-disabled"," "),onClick:function(){return Za[e].actionLink?window.open(Za[e].actionLink,"_blank"):null},children:Object(N.jsxs)(je.a,{children:[Object(N.jsxs)(de.a,{children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsxs)(Ja.a,{className:"text-uppercase text-muted ",children:[bn(e),t===e?Object(N.jsx)("span",{className:"badge badge-pill badge-sm badge-success ml-2",children:"Current"}):null]}),Object(N.jsx)("span",{children:Za[e].description})]}),Object(N.jsx)(ie.a,{className:"col-auto",children:Object(N.jsx)("div",{className:"icon icon-shape text-white rounded-circle shadow bg-gradient-".concat(Za[e].iconBackgroundColor),style:{fontSize:"1.5em"},children:s.a.createElement(Za[e].Icon)})})]}),Object(N.jsx)("p",{className:"mt-3  text-muted text-sm",children:e===t?Object(N.jsxs)("span",{className:"text-nowrap",children:["You are currently using Requestly"," ",bn(e)]}):Object(N.jsxs)("span",{className:"text-nowrap",children:[Za[e].actionLabel,Za[e].actionLink?Object(N.jsx)(x.q,{className:"ml-2 fix-icon-is-down"}):null]})})]})})},e)}))})]})})})})})})})},er=function(e){Object(Qa.a)(n,e);var t=Object(za.a)(n);function n(){return Object(Wa.a)(this,n),t.apply(this,arguments)}return Object(qa.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)($a,{})})}}]),n}(s.a.Component),tr=n.p+"static/media/google.eae9aa93.svg",nr=n.p+"static/media/apple.348e84b8.svg";function ar(){var e={};return new URLSearchParams(window.location.search).forEach((function(t,n){e[n]=t})),e}var rr=W.AUTH.ACTION_LABELS,cr=function(e){var t=e.setAuthMode,n=e.authMode,a=e.src,r=e.callbacks,s=Object(ae.g)(),i=r||{},l=i.onSignInSuccess,o=i.onRequestPasswordResetSuccess,d=Object(c.useContext)(X).state,O=rt(d),j=Object(c.useState)(!1),E=Object(u.a)(j,2),b=E[0],p=E[1],h=Object(c.useState)(""),T=Object(u.a)(h,2),m=T[0],f=T[1],R=Object(c.useState)(""),A=Object(u.a)(R,2),C=A[0],I=A[1],g=Object(c.useState)(""),_=Object(u.a)(g,2),L=_[0],y=_[1],U=Object(c.useState)(),v=Object(u.a)(U,2),P=v[0],D=v[1];Object(c.useEffect)((function(){var e=ar();P||"string"==typeof P||(e.rcode?D(e.rcode):D(""))}),[P]);var w=function(){switch(n){default:case rr.LOG_IN:return"or Sign in with";case rr.SIGN_UP:return"or Sign up using"}};return Object(N.jsx)(Oe.a,{style:{maxWidth:"400px",margin:"0 auto"},className:"bg-secondary shadow border-0 auth-modal",children:Object(N.jsxs)(je.a,{className:"px-lg-5 py-lg-5 lg-padding-top-one",children:[Object(N.jsx)("div",{className:"auth-modal-title",children:Object(N.jsx)("small",{className:"text-dark",children:function(){switch(n){default:case rr.LOG_IN:return"Sign in with Work Email";case rr.SIGN_UP:return Object(N.jsxs)("div",{children:["Sign up with Work Email & get"," ",Object(N.jsx)("span",{className:"text-primary",children:"1\xa0month\xa0premium for free"})]});case rr.REQUEST_RESET_PASSWORD:return"Enter the email address associated with your account. We will email you a link to reset your password.";case rr.DO_RESET_PASSWORD:return"Enter the new password you want to create. This password will be used when you sign in next time."}}()})}),Object(N.jsxs)(Aa.a,{role:"form",children:[n===rr.SIGN_UP?Object(N.jsx)(Ra.a,{className:"mb-3",children:Object(N.jsxs)(Ht.a,{className:"input-group",children:[Object(N.jsx)("div",{className:"input-group-icon",children:Object(N.jsx)(x.L,{size:20})}),Object(N.jsx)(Wt.a,{required:!0,placeholder:"John Doe",type:"text",onChange:function(e){return f(e.target.value)},value:m})]})}):null,n===rr.DO_RESET_PASSWORD?null:Object(N.jsx)(Ra.a,{className:"mb-3",children:Object(N.jsxs)(Ht.a,{className:"input-group",children:[Object(N.jsx)("div",{className:"input-group-icon",children:Object(N.jsx)(x.n,{size:20})}),Object(N.jsx)(Wt.a,{required:!0,placeholder:"example@microsoft.com",type:"email",onChange:function(e){return I(e.target.value)},value:C})]})}),function(){switch(n){case rr.LOG_IN:case rr.SIGN_UP:case rr.DO_RESET_PASSWORD:return Object(N.jsx)(Ra.a,{children:Object(N.jsxs)(Ht.a,{className:"input-group",children:[Object(N.jsx)("div",{className:"input-group-icon",children:Object(N.jsx)(x.x,{size:20})}),Object(N.jsx)(Wt.a,{required:!0,placeholder:"Password",type:"password",onChange:function(e){return y(e.target.value)},value:L})]})});default:return null}}(),P?Object(N.jsxs)("div",{className:"text-center text-muted mb-4 text-green",children:[Object(N.jsx)("small",{children:"Yay! Referral Code applied successfully!"})," ",Object(N.jsx)("br",{}),Object(N.jsxs)("small",{children:[Object(N.jsx)("b",{children:"Sign up with work email"})," to get Free Requestly Premium"]})]}):null,Object(N.jsx)("div",{className:"text-center",children:function(){if(b)return Object(N.jsx)(oe.a,{className:"auth-modal-btn primary",color:"primary",type:"button",children:Object(N.jsx)(x.G,{className:"icon-spin"})});switch(n){default:case rr.LOG_IN:return Object(N.jsx)(oe.a,{id:"auth-form-submit-btn",className:"my-4 auth-modal-btn primary",color:"primary",type:"submit",onClick:function(e){return wa(e,C,L,p,a,l,(function(){return y("")}))},children:"Sign in"});case rr.SIGN_UP:return Object(N.jsx)(oe.a,{id:"auth-form-submit-btn",className:"auth-modal-btn primary",color:"primary",type:"submit",onClick:function(e){return ka(e,m,C,L,P,p,s)},children:"Sign up"});case rr.REQUEST_RESET_PASSWORD:return Object(N.jsx)(oe.a,{id:"auth-form-submit-btn",className:"auth-modal-btn primary",color:"primary",type:"submit",onClick:function(e){return Ga(e,C,p,o)},children:"Send reset link"});case rr.DO_RESET_PASSWORD:return Object(N.jsx)(oe.a,{id:"auth-form-submit-btn",className:"my-4",color:"primary",type:"submit",onClick:function(e){return Ba(e,L,p,s,(function(){return t(rr.LOG_IN)}))},children:"Set new password"})}}()}),function(){switch(n){case rr.LOG_IN:case rr.SIGN_UP:return Object(N.jsxs)(Vt.a,{className:"auth-modal-social-auth",children:[Object(N.jsx)("div",{className:"auth-modal-social-auth-title",children:Object(N.jsx)("small",{className:"text-dark",children:w()})}),Object(N.jsxs)("div",{className:"text-center",style:{display:"flex",flexDirection:"column",width:"60%",margin:"0 auto"},children:[Object(N.jsxs)(oe.a,{className:"btn-neutral w-75 my-2 btn-icon auth-modal-btn",color:"default",onClick:function(){return function(e,t,n,a,r,c){switch(e&&e(!0),t){case W.FEATURES.SHARED_LISTS:Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REQUESTED,"Google Login requested on SharedList index page");break;case W.FEATURES.RULES:Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REQUESTED,"Google Login requested on rules index page")}(a&&a===S.CONSTANTS.APP_MODES.DESKTOP?In:Cn)().then((function(a){if(a&&a.uid){switch(Pa("".concat(jn(),", ").concat(a.displayName.split(" ")[0])),t){case W.FEATURES.SHARED_LISTS:Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_DONE,"Google Login done on SharedList index page");break;case W.FEATURES.RULES:Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_DONE,"Google Login done on Rules index page")}r===W.AUTH.ACTION_LABELS.SIGN_UP&&De(c),n&&n()}else if(Ua("Sorry, the email or password you have entered isn't right. Can you please try again?"),e&&e(!1),t)switch(t){case W.FEATURES.SHARED_LISTS:Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REJECTED,"Google Login rejected on SharedList index page");break;case W.FEATURES.RULES:Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.LOGIN_REJECTED,"Google Login rejected on Rules index page")}})).catch((function(){e&&e(!1)}))}(p,a,l,O,n,s)},children:[Object(N.jsx)("span",{className:"btn-inner--icon",children:Object(N.jsx)("img",{style:{width:"1.4rem",margin:"0 .4rem"},alt:"Login with Google",src:tr})}),Object(N.jsx)("span",{className:"btn-inner--text",children:"Google"})]}),O&&O===S.CONSTANTS.APP_MODES.EXTENSION?Object(N.jsxs)(oe.a,{className:"btn-neutral w-75 my-2 btn-icon auth-modal-btn",color:"default",onClick:function(){return Ma(p,a,l,n,s)},children:[Object(N.jsx)("span",{className:"btn-inner--icon",children:Object(N.jsx)("img",{style:{width:"1.4rem",margin:"0 .4rem"},alt:"Login with Apple",src:nr})}),Object(N.jsx)("span",{className:"btn-inner--text",children:"Apple"})]}):null]})]});default:return null}}(),Object(N.jsxs)(de.a,{className:"auth-modal-footer",children:[function(){switch(n){default:case rr.LOG_IN:return Object(N.jsx)(ie.a,{children:Object(N.jsx)("span",{className:"float-left text-muted cursor-pointer",onClick:function(){return t(rr.SIGN_UP)},children:"Sign up"})});case rr.SIGN_UP:case rr.REQUEST_RESET_PASSWORD:case rr.DO_RESET_PASSWORD:return Object(N.jsx)(ie.a,{children:Object(N.jsx)("span",{className:"float-left text-muted cursor-pointer",onClick:function(){return t(rr.LOG_IN)},children:"Sign in"})})}}(),function(){switch(n){default:case rr.LOG_IN:case rr.SIGN_UP:return Object(N.jsx)(ie.a,{children:Object(N.jsx)("span",{className:"float-right text-muted cursor-pointer",onClick:function(){return t(rr.REQUEST_RESET_PASSWORD)},children:"Reset password"})});case rr.DO_RESET_PASSWORD:return Object(N.jsx)(ie.a,{children:Object(N.jsx)("span",{className:"float-right text-muted cursor-pointer",onClick:function(){return t(rr.REQUEST_RESET_PASSWORD)},children:"Resend"})});case rr.REQUEST_RESET_PASSWORD:return Object(N.jsx)(ie.a,{children:Object(N.jsx)("span",{className:"float-right text-muted cursor-pointer",onClick:function(){return t(rr.SIGN_UP)},children:"Sign up"})})}}()]})]})]})})},sr=W.AUTH.ACTION_LABELS,ir=function(e){var t=e.authMode,n=Object(ae.g)(),a=Object(c.useContext)(X).state,r=$e(a),i=Object(c.useState)(t||sr.LOG_IN),l=Object(u.a)(i,2),o=l[0],d=l[1],O=Object(c.useCallback)((function(){var e=new URLSearchParams(window.location.search);e.has("redirectUrl")?n.push(e.get("redirectUrl")):me(n)}),[n]);return Object(c.useEffect)((function(){!r.loggedIn||o!==sr.LOG_IN&&o!==sr.SIGN_UP||O()}),[r.loggedIn,O,o]),Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(ue.a,{className:" mt--7 sm-margin-top-negative-3",fluid:!0,children:Object(N.jsx)(de.a,{className:"justify-content-center",children:Object(N.jsx)(ie.a,{lg:"5",md:"7",children:Object(N.jsx)(cr,{authMode:o,setAuthMode:d})})})})})},lr=function(e){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ir,{authMode:e.authMode})})},or=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),i=Object(u.a)(r,2),l=i[0],o=i[1],d=function(){var e=Object(ne.a)(te.a.mark((function e(t){var n,r,c;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams(window.location.search),e.next=3,t.getIdToken();case 3:r=e.sent,c=n.get("ot-auth-code"),Ee.functions().httpsCallable("createAuthToken")({oneTimeCode:c,idToken:r}).then((function(e){a(!0),window.close()})).catch((function(e){console.error(e.message),o(!0),window.close()}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){return Object(N.jsxs)("h4",{className:"display-6",children:[Object(N.jsx)(x.c,{className:"mr-2"}),"You're now logged into the desktop app. This window can now be safely closed."]})},j=function(){return Object(N.jsxs)("h4",{className:"display-6",children:[Object(N.jsx)(x.p,{className:"mr-2"}),"An unexpected error has occured. Please close this window and try logging in again"]})};return Object(c.useEffect)((function(){Ee.auth().getRedirectResult().then(function(){var e=Object(ne.a)(te.a.mark((function e(t){var n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.user){e.next=5;break}return e.next=3,d(t.user);case 3:e.next=12;break;case 5:if(!Ee.auth().currentUser){e.next=10;break}return e.next=8,d(Ee.auth().currentUser);case 8:e.next=12;break;case 10:n=new Ee.auth.GoogleAuthProvider,Ee.auth().signInWithRedirect(n);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(ue.a,{className:" mt--5",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)("div",{className:" col",children:Object(N.jsx)(Oe.a,{className:" shadow",children:Object(N.jsx)(je.a,{children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{lg:"12",md:"12",className:"text-center",children:Object(N.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:l?j():n?O():Object(N.jsxs)("h4",{className:"display-6",children:[Object(N.jsx)(x.G,{className:"icon-spin mr-2"}),"Authenticating"]})})})})})})})})})})},ur=function(){return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(or,{})})},dr=n(134),Or=n(313),jr=ba,Er=Oa,br=function(e){var t=e.mode,n=e.teamId,a=e.days,r=e.price,i=e.currency,l=e.duration,o=e.country,d=e.isPlanVerificationPassed,O=e.stripe,j=e.planType,E=Object(c.useRef)(!0),b=Object(c.useContext)(X).state,S=$e(b),p=Object(c.useState)(""),h=Object(u.a)(p,2),T=h[0],m=h[1],f=Object(c.useState)(0),R=Object(u.a)(f,2),A=R[0],x=R[1],C=Object(c.useState)(!1),I=Object(u.a)(C,2),g=I[0],_=I[1],L=Object(c.useState)(""),y=Object(u.a)(L,2),U=y[0],v=y[1],P=Object(c.useState)(!1),D=Object(u.a)(P,2),w=D[0],M=D[1],k=Object(c.useState)(!1),G=Object(u.a)(k,2),F=G[0],B=G[1],V=function(){var e=Object(ne.a)(te.a.mark((function e(){var a,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E.current){e.next=2;break}return e.abrupt("return",null);case 2:if(w){e.next=4;break}return e.abrupt("return",null);case 4:if(d){e.next=6;break}return e.abrupt("return",null);case 6:if(!F){e.next=8;break}return e.abrupt("return",null);case 8:B(!0),a=pa(j,l),e.t0=t,e.next="individual"===e.t0?13:"team"===e.t0?15:17;break;case 13:return r="createIndividualSubscriptionUsingStripeCheckout",e.abrupt("break",19);case 15:return r="createTeamSubscriptionUsingStripeCheckout",e.abrupt("break",19);case 17:return console.error("Invalid mode detected"),e.abrupt("return",null);case 19:Ee.functions().httpsCallable(r)({rqPlanId:a,currency:i,teamId:n,success_url:"http://"+window.location.host+W.PATHS.PAYMENT_SUCCESS.ABSOLUTE+"?ref=stripe&paymentId=5357551a-e2d7",cancel_url:"http://"+window.location.host+W.PATHS.PAYMENT_FAIL.ABSOLUTE+"?ref=stripe&paymentId=5357551a-e2d7"}).then((function(e){if(!E.current)return null;var t=e.data;if(!t.success)throw Error("Couldnt create checkoutSessionId");O.redirectToCheckout({sessionId:t.payload.checkoutSessionId}).then((function(e){return console.log(e)}))})).catch((function(e){console.error(e.message)}));case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=Object(c.useCallback)(V,[w,d,F,j,l,t,i,n,O]),Y=Object(c.useCallback)((function(){_(!0),Ee.functions().httpsCallable("getTeamInfo")({teamId:n}).then((function(e){if(!E.current)return null;var t=e.data;if(!t.success)throw new Error("You might already have a subscription");var n=t.data;if("active"===n.subscriptionStatus)throw new Error("You are already premium");m(n.name),x(n.accessCount),_(!1),M(!0)})).catch((function(e){if(!E.current)return null;e&&(M(!1),Ge.error("You might already have a subscription"),ve({mode:"team",planType:"enterprise",teamId:n}))}))}),[n]),K=Object(c.useCallback)((function(){(_(!0),S&&S.details&&S.details.profile.email)&&(v(S.details.profile.email),_(!1),Ee.functions().httpsCallable("fetchIndividualUserSubscriptionDetails")({}).then((function(e){if(!E.current)return null;var t=e.data.data;!0===e.data.success&&"active"===t.status?(M(!1),ve({mode:"individual",planType:"gold"})):M(!0)})).catch((function(e){E.current||M(!0)})))}),[S]);return Object(c.useEffect)((function(){return d&&("team"===t?Y():"individual"===t&&K(),t&&i&&l&&j&&d&&w&&H()),function(){}}),[Y,K,t,d,i,l,H,w,j]),Object(N.jsxs)(Oe.a,{className:"has-no-box-shadow",children:[Object(N.jsxs)(Vt.a,{className:"bg-white border-0",children:[Object(N.jsx)(de.a,{className:"align-items-center",children:Object(N.jsx)(ie.a,{children:Object(N.jsx)("h3",{className:"mb-0",children:"Summary"})})}),Object(N.jsx)("hr",{}),Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:"Requestly Premium Subscription"})}),Object(N.jsx)("hr",{}),Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:"team"===t?g?Object(N.jsx)(Se,{}):Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{className:"font-weight-bold",children:"For Team"}),Object(N.jsx)(ie.a,{children:T})]}),Object(N.jsx)("br",{}),Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{className:"font-weight-bold",children:"Team Size"}),Object(N.jsx)(ie.a,{children:A})]}),Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsx)("span",{style:{fontSize:"0.7rem"},children:"(Flexible)"})})})]}):g?Object(N.jsx)(Se,{}):Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{className:"font-weight-bold",children:"License"}),Object(N.jsx)(ie.a,{children:"Single User"})]}),Object(N.jsx)("br",{}),Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{className:"font-weight-bold",children:"Account"}),Object(N.jsx)(ie.a,{children:U})]}),Object(N.jsx)("br",{})]})})}),Object(N.jsx)("hr",{}),Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{className:"font-weight-bold",children:"Total"}),Object(N.jsx)(ie.a,{className:"font-weight-bold",children:"".concat(jr(o)).concat(parseInt(r),"/ ").concat(Er(a))})]}),Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{}),Object(N.jsx)(ie.a,{children:"(incl. tax)"})]})]})})})]}),Object(N.jsx)(je.a,{})]})},Sr=function(e){var t=e.type,n=e.message,a=e.dismissible,r=e.onDismiss;return Object(N.jsxs)("div",{className:"alert fade show alert-"+t+(a?" alert-dismissible":""),role:"alert",children:[n,a&&Object(N.jsx)("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:r,children:Object(N.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]})},pr=S.CONSTANTS.GA_EVENTS,hr=st,Tr=Sa,mr=da,fr={style:{base:{color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}},hidePostalCode:!0},Rr=function(){var e=Object(ae.g)(),t=Object(c.useRef)(!0),n=Object(dr.useStripe)(),a=Object(dr.useElements)(),r=new URLSearchParams(window.location.search),i=r.get("m"),l=r.get("t"),o=r.get("p"),d=r.get("d"),O=Object(c.useState)("US"),j=Object(u.a)(O,2),E=j[0],b=j[1],S=Object(c.useState)("USD"),p=Object(u.a)(S,2),h=p[0],T=p[1],m=Object(c.useState)(!1),f=Object(u.a)(m,2),R=f[0],A=f[1],C=Object(c.useState)(0),I=Object(u.a)(C,2),g=I[0],_=I[1],L=Object(c.useState)(null),y=Object(u.a)(L,2),U=y[0],v=y[1],P=Object(c.useState)(!1),D=Object(u.a)(P,2),w=D[0],M=D[1],k=Object(c.useState)(!1),G=Object(u.a)(k,2),F=G[0],B=G[1],V=Object(c.useState)(!1),H=Object(u.a)(V,2),Y=H[0],K=H[1],W=Object(c.useState)(!1),q=Object(u.a)(W,2),Q=q[0],z=q[1],J=Object(N.jsx)(ca.a,{style:{fontSize:24},spin:!0}),X=hr.find((function(e){return e.id===o})),Z=Object(c.useCallback)((function(t){Ge.error(t||"Invalid URL"),we(e)}),[e]),$=Object(c.useCallback)((function(e){var t=Tr(e);if(!t)return Z();T(t);var n=mr(d);if(!n)return Z();A(n);var a=X[n];if(!a)return Z();var r=a.price;if(!r)return Z();var c=r[t];if(!c)return Z();_(c),z(!0)}),[d,X,Z]),ee=Object(c.useCallback)((function(){fetch("https://api.country.is/").then((function(e){if(!t.current)return null;200===e.status&&e.json().then((function(e){e.country&&b(e.country),$(e.country)})).catch((function(e){if(!t.current)return null;console.log(e),$(E)}))})).catch((function(e){if(!t.current)return null;console.log(e),$(E)}))}),[E,$]),re=function(t,n){t.preventDefault(),t.stopPropagation(),M(!0),"terms"===n?(Kn(pr.CATEGORIES.CHECKOUT,pr.ACTIONS.ROUTE_VIEWED,"Clicked@terms.checkbox.redirected@T&C"),function(e,t){t.newTab?window.open(Te.REQUESTLY_TERMS_AND_CONDITIONS,"_blank"):e.push(Te.REQUESTLY_TERMS_AND_CONDITIONS)}(e,{newTab:!0})):"privacy"===n&&(Kn(pr.CATEGORIES.CHECKOUT,pr.ACTIONS.ROUTE_VIEWED,"Checked@Privacy.from.Check.Box.and.redirected@Privacy.Page"),function(e,t){t.newTab?window.open(Te.REQUESTLY_PRIVACY_POLICY,"_blank"):e.push(Te.REQUESTLY_PRIVACY_POLICY)}(e,{newTab:!0}))},ce=function(){var r=Object(ne.a)(te.a.mark((function r(c){var s,u,d,O,j,E,b,S;return te.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c.stopPropagation(),Kn(pr.CATEGORIES.CHECKOUT,pr.ACTIONS.CLICKED,"clicked@activate.subscription.btn"),!Y){r.next=4;break}return r.abrupt("return",null);case 4:if(K(!0),s=!1,u="",!(parseInt(g)>0)){r.next=20;break}if(v(null),n&&a){r.next=11;break}return r.abrupt("return");case 11:return d=a.getElement(dr.CardElement),r.next=14,n.createPaymentMethod({type:"card",card:d});case 14:if(O=r.sent,j=O.error,E=O.paymentMethod,t.current){r.next=19;break}return r.abrupt("return",null);case 19:j?(Kn(pr.CATEGORIES.CHECKOUT,pr.ACTIONS.CARD_ERROR,"error.in.card.or@card.number",{error:j.message}),v(j.message),s=!0):(u=E.id,Kn(pr.CATEGORIES.CHECKOUT,pr.ACTIONS.CARD_ACCEPTED,"Card.Number.Accepted.Payment.method.id.generated"));case 20:s?K(!1):(b=pa(o,R),"team"===i?S=Ee.functions().httpsCallable("createTeamSubscription"):"individual"===i&&(S=Ee.functions().httpsCallable("createIndividualSubscription")),S({rqPlanId:b,teamId:l||null,currency:h,paymentMethodId:u}).then((function(n){if(!t.current)return null;var a=n.data;a.success?("team"===i&&_e(e,l,!0,!0),"individual"===i&&ye(e,!0,!0)):(K(!1),a.message.includes("As per Indian ")?Ge.error("Please add Billing Address first"):a.message.includes("document")?Ge.error("An error has occured. Code: 4913"):Ge.error(a.message))})).catch((function(e){if(!t.current)return null;K(!1),Ge.error(e.message)})));case 21:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(c.useEffect)((function(){if(!o||!X||!d||"individual"!==i&&"team"!==i||"team"===i&&"string"!==typeof l){if(!t.current)return;Z()}else ee();return function(){t.current=!1}}),[ee,d,i,X,o,Z,l]),Object(N.jsx)(de.a,{children:Object(N.jsxs)(ie.a,{children:[Object(N.jsx)("div",{style:{display:"grid",placeItems:"center",height:"80vh"},children:Object(N.jsx)(ra.a,{tip:"Redirecting to Stripe",indicator:J})}),Object(N.jsxs)("section",{className:"section section-sm ",style:{display:"none"},children:[Object(N.jsx)("h2",{style:{textAlign:"center"},children:"Activate Requestly Premium"}),Object(N.jsx)("br",{}),Object(N.jsxs)("div",{className:"container",children:[Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{className:"order-xl-2 mb-5 ",xl:"4",children:Object(N.jsx)(br,{mode:i,teamId:l,days:d,price:g,currency:h,duration:R,country:E,isPlanVerificationPassed:Q,stripe:n,planType:o})}),Object(N.jsxs)(ie.a,{className:"order-xl-1",xl:"8",children:[Object(N.jsx)(Ca,{customHeading:"Billing details",hideBillingAddress:!0,hideIndiaInCountryList:!h||"INR"!==h}),Object(N.jsx)("div",{className:"card mt-4  p-3 mb-4 has-no-box-shadow",children:Object(N.jsxs)("div",{className:"card-body px-2 px-lg-4 py-4",children:[Object(N.jsx)("h4",{className:"",children:" Credit or debit card "}),Object(N.jsxs)("h5",{className:"mb-4 mb-lg-5",children:["Powered by \xa0",Object(N.jsx)("span",{className:"cursor-pointer",onClick:function(){return window.open("https://stripe.com","_blank")},children:Object(N.jsx)(x.H,{size:"2.5em",color:"#0a48b3"})})]}),Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsx)("div",{className:"row justify-content-md-center",children:Object(N.jsxs)("div",{className:"col col-12",children:[null!==U&&Object(N.jsx)(Sr,{type:"danger",message:U,dismissible:!0,onDismiss:function(){return v(null)}}),Object(N.jsx)(dr.CardElement,{options:fr})]})})})})]})})]})]}),Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{})}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"col-12 col-lg-9 mb-3 mb-lg-0",children:[Object(N.jsxs)("div",{className:"custom-control custom-checkbox mb-3",children:[Object(N.jsx)("input",{className:"custom-control-input",id:"termsCheck",type:"checkbox",checked:w,onChange:function(e){M(!w),Kn(pr.CATEGORIES.CHECKOUT,pr.ACTIONS.CARD_ENTERED,"card.number.entered")}}),Object(N.jsx)("label",{className:"custom-control-label",htmlFor:"termsCheck",children:Object(N.jsxs)("span",{children:["I have read and accept the"," ",Object(N.jsx)("span",{className:"font-weight-bolder text-primary",onClick:function(e){re(e,"terms")},style:{top:"unset"},children:"Terms and Conditions"})," and ",Object(N.jsx)("span",{className:"font-weight-bolder text-primary",onClick:function(e){re(e,"privacy")},style:{top:"unset"},children:"Privacy Policy"}),".",Object(N.jsx)("span",{className:"required-field"})]})})]}),Object(N.jsxs)("div",{className:"custom-control custom-checkbox mb-3",children:[Object(N.jsx)("input",{className:"custom-control-input",id:"newsletterCheck",type:"checkbox",checked:F,onChange:function(e){B(!F),Kn(pr.CATEGORIES.CHECKOUT,pr.ACTIONS.CLICKED,"Checked Mailing List from Check Box")}}),Object(N.jsx)("label",{className:"custom-control-label",htmlFor:"newsletterCheck",children:Object(N.jsx)("span",{children:"Join the mailing list to receive the updates about upcoming features and special offers."})})]})]}),Object(N.jsx)("div",{className:"col-12 col-lg-3 text-center mb-4 mb-lg-0",children:Object(N.jsx)(oe.a,{className:"btn-icon btn-3",color:"primary",type:"button",disabled:!w||Y,onClick:ce,children:Y?Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("span",{className:"btn-inner--icon",style:{top:"unset"},children:Object(N.jsx)(x.G,{className:"icon-spin"})}),Object(N.jsx)("span",{className:"btn-inner--text",style:{fontSize:"1rem",top:"unset"},children:"Verifying card"})]}):Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("span",{className:"btn-inner--text",children:"Activate Subscription"}),Object(N.jsx)("span",{className:"btn-inner--icon",children:Object(N.jsx)(x.a,{})})]})})})]})]})]})]})})},Ar=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){n||a(Object(Or.a)(S.CONFIG.stripeConfig.publishableKey))}),[n]),Object(N.jsx)(ue.a,{className:" mt--7",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(Oe.a,{className:" shadow",children:Object(N.jsx)(je.a,{children:!1!==n?Object(N.jsx)(dr.Elements,{stripe:n,children:Object(N.jsx)(Rr,{})}):null})})})})})},xr=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ft,{component:Ar})})},Nr=function(e){var t=e.skeletonType,n=void 0===t?"list":t;return Object(N.jsx)("div",{style:{background:"#fafafa",padding:24},children:Object(N.jsx)(be.a,{type:n})})},Cr=W.PATHS,Ir=function(e){var t=e.delay,n=e.path,a=e.message;n=n||Cr.RULES.RELATIVE;var r=Object(c.useState)(t),s=Object(u.a)(r,2),i=s[0],l=s[1],o=Object(c.useState)(!1),d=Object(u.a)(o,2),O=d[0],j=d[1],E=Object(c.useState)(null),b=Object(u.a)(E,2),S=b[0],p=b[1];return Object(c.useEffect)((function(){i===t&&p(setInterval((function(){return l((function(e){return e-1}))}),1e3)),i<=0&&!O&&(S&&clearInterval(S),j(!0))}),[i,O,t,S]),O?Object(N.jsx)(ae.a,{push:!0,to:n}):Object(N.jsxs)("h5",{className:"title is-6",children:[a||"Redirecting you to ".concat(n)," in ",Object(N.jsx)("span",{children:i})]})},gr=W.PATHS,_r=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){var e=ar(),t=window.location.search;if(e.mode)switch(e.mode){case"resetPassword":a(gr.AUTH.RESET_PASSWORD.RELATIVE+t);break;case"verifyEmail":a(gr.AUTH.VERIFY_EMAIL.RELATIVE+t);break;case"signIn":a(gr.AUTH.EMAIL_LINK_SIGNIN.RELATIVE+t);break;default:a(gr.RULES.RELATIVE)}else a(gr.RULES.RELATIVE)}),[n]),n?Object(N.jsx)(Ir,{delay:0,path:n}):Object(N.jsx)(Nr,{customLoadingMessage:"Please Wait ... "})},Lr=function(e){Object(Qa.a)(n,e);var t=Object(za.a)(n);function n(){return Object(Wa.a)(this,n),t.apply(this,arguments)}return Object(qa.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(_r,{})})}}]),n}(s.a.Component),yr=n(68),Ur=n(964),vr=n(126),Pr=n.n(vr),Dr=function(e){var t=e.isOpen,n=e.toggle,a=e.featureName,r=void 0===a?"rules":a,s=e.featureLimit,i=void 0===s?10:s,l=e.userPlanName,o=void 0===l?"Free":l,d=e.mode,O=void 0===d?W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT:d,j=Object(ae.g)(),E=Ot(o),b=ln(r),p=Object(c.useState)(!1),h=Object(u.a)(p,1)[0],T=Object(c.useState)(""),m=Object(u.a)(T,2),f=m[0],R=m[1],A=Object(c.useState)(""),x=Object(u.a)(A,2),C=x[0],I=x[1];return Object(N.jsxs)(en.a,{className:"modal-dialog-centered modal-danger",contentClassName:"bg-gradient-danger bg-gradient-blue",visible:t,onCancel:function(){return n()},footer:null,title:"It's time to upgrade",children:[Object(N.jsxs)("div",{className:"modal-body",children:[Object(N.jsxs)("div",{className:"py-3 text-center",children:[Object(N.jsx)("h4",{className:"heading mt-4",children:O===W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT?r===W.FEATURES.ACTIVE_RULES?"Upgrade now to activate more rules":"Upgrade now to create more ".concat(b):"Upgrade now to enable ".concat(b)}),Object(N.jsxs)("p",{children:[O===W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT?Object(N.jsxs)("span",{children:["It seems like you have reached your ",b," limit."," ",Object(N.jsxs)("strong",{children:[E?o:"Free"," "]})," ","accounts are limited to ",i," ",b,"."," "]}):Object(N.jsxs)("span",{children:[Object(N.jsx)("span",{style:{textTransform:"capitalize"},children:b})," ","is a premium feature."]})," ","Upgrade to one of our premium plans to make sure you can access all of the Requestly features whenever you need it."]})]}),function(){var e=new Date("2021-07-30");return(new Date).getTime()<=e.getTime()}()?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h4",{className:"heading text-center",children:"A sweet surprise for you"}),Object(N.jsxs)("div",{className:"d-flex px-3 justify-content-between",children:[Object(N.jsx)("p",{className:"text-white",children:"50% OFF for first 3 months on Monthly Plan"}),Object(N.jsxs)("h3",{children:[Object(N.jsx)(Ur.a,{delay:0,trigger:"hover focus",target:"monthlyCoupon",children:f?"Copied":"Copy To Clipboard"}),Object(N.jsx)(vr.CopyToClipboard,{text:f,onCopy:function(){I(""),R("RQ7Monthly"),navigator.clipboard.writeText("RQ7Monthly").then((function(){Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.REQUEST_UPGRADE,S.CONSTANTS.GA_EVENTS.ACTIONS.LIMIT_REACHED,"Monthly coupon code copied")}),(function(e){console.error("Could not copy text: ",e)}))},children:Object(N.jsx)(Zn.a,{style:{textTransform:"none"},id:"monthlyCoupon",className:"text-dark cursor-pointer",color:"light",children:"RQ7Monthly"})})]})]}),Object(N.jsxs)("div",{className:"d-flex px-3 justify-content-between",children:[Object(N.jsx)("p",{className:"text-white",children:"Flat 25% OFF on Annual Plan"}),Object(N.jsxs)("h3",{children:[Object(N.jsx)(vr.CopyToClipboard,{text:C,onCopy:function(){R(""),I("RQ7Annual"),navigator.clipboard.writeText("RQ7Annual").then((function(){Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.REQUEST_UPGRADE,S.CONSTANTS.GA_EVENTS.ACTIONS.LIMIT_REACHED,"Annual coupon code copied")}),(function(e){console.error("Could not copy text: ",e)}))},children:Object(N.jsx)(Zn.a,{style:{textTransform:"none"},id:"annualCoupon",className:"text-dark cursor-pointer",color:"light",children:"RQ7Annual"})}),Object(N.jsx)(Ur.a,{delay:0,trigger:"hover focus",target:"annualCoupon",children:C?"Copied":"Copy To Clipboard"})]})]})]}):null]}),Object(N.jsxs)("div",{className:"modal-footer",style:{textAlign:"center"},children:[h?Object(N.jsxs)(Nt.a,{className:"text-white",color:"link","data-dismiss":"modal",type:"button",onClick:function(){return function(e){e.push(he.UNLOCK_PREMIUM.ABSOLUTE)}(j)},children:["Unlock Premium ",Object(N.jsx)(Zn.a,{color:"secondary",children:"New"})]}):null,Object(N.jsx)(Nt.a,{onClick:function(){Ie(j),n()},className:"btn-white ml-auto",type:"primary",children:"Get Premium"})]})]})};function wr(e){return S.CONSTANTS.MOCK_URL+e}function Mr(e){return Ee.database().ref("/users/"+Ee.auth().currentUser.uid+"/files/"+e).remove()}function kr(e){return Ee.storage().ref().child(e.filePath).delete().then((function(){return Mr(e.id)}),(function(t){if("storage/object-not-found"===t.code)return Mr(e.id)}))}function Gr(e,t,n){return t.name=e.metadata.name,t.size=e.metadata.size,t.contentType=e.metadata.contentType,t.webContentLink=n,t.createdTime=e.metadata.timeCreated,t.filePath=e.metadata.fullPath,t.modifiedTime=e.metadata.updated,t}function Fr(e,t){return function(e,t){if(!["application/json","application/javascript","text/javascript","text/html","text/css","text/plain","image/jpeg","image/png","image/svg+xml"].reduce((function(e,n){return e||n===t.contentType}),!1))return new Promise((function(e,t){e({success:!1,msg:"Unsupported File Type"})}));return Ee.storage().ref("/users/"+Ee.auth().currentUser.uid+"/files/").child(Date.now().toString()).child(t.name).put(e).then((function(e){return e.ref.getDownloadURL().then((function(n){return(a=n,new Promise((function(e,t){e(a)}))).then((function(a){t.shortUrl=a;var r=Gr(e,t,n),c=Ee.database().ref("/users/"+Ee.auth().currentUser.uid+"/files/").push(),s=c.key;return r.id=s,c.update(r).then((function(){return{success:!0,data:r}}))}));var a}))}))}(e,t)}function Br(e,t,n){var a=new Blob([t],{type:n.contentType}),r={contentType:n.contentType};return Ee.storage().ref(e).put(a,r).then((function(e){return e.ref.getDownloadURL().then((function(t){var a,r=Gr(e,n,t);return r.id=n.id,(a=r,Ee.database().ref(S.CONSTANTS.FIREBASE_NODES.USERS).child(Ee.auth().currentUser.uid).child(S.CONSTANTS.FIREBASE_NODES.FILES).child(a.id).update(a)).then((function(){return{success:!0,data:r}}))}))}))}var Vr=n(969),Hr=function(e){var t=e.updateCollection,n=e.currentFilesCount,a=e.buttonType,r=void 0===a?"primary":a,i=Object(c.useContext)(X).state,l=$e(i),o=Object(c.useState)(!1),d=Object(u.a)(o,2),O=d[0],j=d[1],E=Object(c.useState)(!1),b=Object(u.a)(E,2),S=b[0],p=b[1],h=Object(c.useState)(0),T=Object(u.a)(h,2),m=T[0],f=T[1],R=Object(c.useState)("Free"),A=Object(u.a)(R,2),x=A[0],C=A[1],I=Object(c.useState)(!1),g=Object(u.a)(I,2),_=g[0],L=g[1];return Object(N.jsxs)(s.a.Fragment,{children:[S?Object(N.jsx)(Nt.a,{loading:!0,type:r,children:"Uploading..."}):O?Object(N.jsx)(tn.a,{type:"file",onChange:function(e){p(!0),function(e){var t={},n=e.target.files[0];return n.size>5e6?Ge.warn("File Uploaded Limit Exceeded"):(t.name=n.name,t.description="",t.contentType=n.type,Fr(n,t).then((function(e){e.success?Ge.info("File Uploaded Successfully"):Ge.error("File Type not supported")})))}(e).then((function(){t&&t(),j(!1),p(!1)}))}}):Object(N.jsx)(Nt.a,{type:r,onClick:function(e){var t=pt(l),a=Tt(W.FEATURES.FILES,t);n>=a?(f(a),C(t),L(!0)):j(!0)},icon:Object(N.jsx)(Vr.a,{}),children:"Upload File"}),_?Object(N.jsx)(Dr,{isOpen:_,toggle:function(){L(!_)},featureName:W.FEATURES.FILES,featureLimit:m,userPlanName:x}):null]})},Yr=n(967),Kr=n(188),Wr=n(60),qr=n.n(Wr),Qr=zt.a.Link,zr=zt.a.Text,Jr=function(e){var t=e.filesList,n=void 0===t?{}:t,a=e.updateCollection,r=e.mode,s=e.callback,i=Object(c.useContext)(X).state,l=$e(i),o=Object(ae.g)(),d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(""),p=Object(u.a)(b,2),h=p[0],T=p[1],m=[{title:"Name",dataIndex:"name",textWrap:"word-break",ellipsis:!0,render:function(e,t){return Object(N.jsx)(Qr,{onClick:function(e){return xe(o,t.id)},children:e})}},{title:"Size",dataIndex:"size",width:"10%",render:function(e,t){return isNaN(parseInt(t.size))?null:parseInt(t.size)/1e3+" kB"}},{title:"Last Modified",align:"center",valueType:"date",render:function(e,t){var n=t.modifiedTime?t.modifiedTime:t.creationDate?t.creationDate:t.modificationDate;return n?qr()(n).format("LLL"):"-"}},{title:"Actions",align:"right",width:"8%",render:function(e,t){return r===W.FILES_TABLE_CONSTANTS.MODES.FILE_PICKER?Object(N.jsx)(Nt.a,{size:"small",type:"secondary",onClick:function(){return s(t.shortUrl)},children:"Insert"}):Object(N.jsx)(Kr.a,{children:function(e){var n=e.isHovering;return Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(zr,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(yr.a,{title:"Edit",children:Object(N.jsx)($n.a,{onClick:function(e){return xe(o,t.id||t.mockID)}})})}),Object(N.jsx)(zr,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:j?Object(N.jsx)(ca.a,{}):Object(N.jsx)(yr.a,{title:"Delete File",children:Object(N.jsx)(Yr.a,{onClick:function(){return function(e,t){E(!0),e.mockID?Ee.functions().httpsCallable("deleteMock")(e.mockID).then((function(e){E(!0),e.data.success?(Ge.info("Mock deleted"),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.LIBRARY,S.CONSTANTS.GA_EVENTS.ACTIONS.DELETED,"Mock Deleted"),E(!1),t&&t()):Ge.error("Mock cannot be deleted. Try again.")})):kr(e).then((function(){Ge.info("File deleted"),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.LIBRARY,S.CONSTANTS.GA_EVENTS.ACTIONS.DELETED,"File Deleted"),E(!1),t&&t()}))}(t,a)}})})})]})}})}}];Object(c.useEffect)((function(){Object.keys(n).length>0&&Wn("isHostFileTask",!0)}),[n]);return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ta.a,{rowKey:"id",headerTitle:Object(N.jsxs)(N.Fragment,{children:["Manage Mocks"," ","bronze"===pt(l)?"(".concat(Object.keys(n).length,"/").concat(function(){var e=pt(l);return Tt(W.FEATURES.FILES,e)}()," Mocks Used)"):null,"bronze"===pt(l)?Object(N.jsx)(Qr,{onClick:function(e){e.preventDefault(),Ie(o),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.FILES,S.CONSTANTS.GA_EVENTS.ACTIONS.REMOVE_LIMIT_CLICKED,"remove.limit.clicked@files.page",Object.keys(n).length)},style:{marginLeft:"1rem"},children:"Remove Limits"}):null]}),toolBarRender:function(){return[Object(N.jsx)(Hr,{updateCollection:a,currentFilesCount:Object.keys(n).length,buttonType:"secondary"}),Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){return Ne(o)},icon:Object(N.jsx)(ea.a,{}),children:"Create New Mock"})]},options:!1,pagination:!1,search:!1,dateFormatter:!1,columns:(r!==W.FILES_TABLE_CONSTANTS.MODES.FILE_PICKER&&m.splice(3,0,{title:"Public URL",align:"center",width:"30%",textWrap:"word-break",ellipsis:!0,className:"fit-text-content",render:function(e,t){return Object(N.jsx)("span",{style:{cursor:"pointer"},children:Object(N.jsx)(Pr.a,{text:t.shortUrl||wr(t.mockID),onCopy:function(){var e;T((e=t).shortUrl||wr(e.mockID))},children:Object(N.jsx)(yr.a,{placement:"topLeft",title:h===(t.shortUrl||wr(t.mockID))?"Copied":"Click to Copy",children:t.shortUrl||wr(t.mockID)})})})}}),m),dataSource:Object.values(n).map((function(e){return e.id||(e.id=e.mockID),e}))})})},Xr=function(e){var t=e.filesList,n=void 0===t?{}:t,a=e.updateCollection;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ft.a,{className:"primary-card",title:null,children:Object(N.jsx)(Jr,{filesList:n,updateCollection:a})})})},Zr=function(e){var t=e.updateCollection,n=Object(ae.g)();return Object(N.jsx)(ft.a,{className:"primary-card",children:Object(N.jsx)(Rt.a,{style:{textAlign:"center"},align:"center",children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3",children:"Generate API mocks in seconds!"}),Object(N.jsxs)("p",{className:"lead",children:["Create API mocks instantly, without remote deployment",Object(N.jsx)("br",{}),"Upload or Paste your HTML/JS/CSS/JSON response and generate a publicly accessible URL.",Object(N.jsx)(Nt.a,{type:"link",color:"secondary",onClick:function(){return window.open(W.LINKS.REQUESTLY_DOCS_FILES_SERVICE,"_blank")},children:"Read Docs"})]}),Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(Nt.a,{className:"btn-icon btn-3",type:"primary",onClick:function(){return Ne(n)},icon:Object(N.jsx)($n.a,{}),children:"New Mock Response"}),Object(N.jsx)(Hr,{updateCollection:t,currentFilesCount:0,buttonType:"secondary"})]})]})})})})},$r=function(e){var t=function(e){return e?[S.CONSTANTS.FIREBASE_NODES.USERS,e]:null}(e);return t&&t.push(S.CONSTANTS.FIREBASE_NODES.SHARED_LISTS),t},ec=function(e){return[S.CONSTANTS.FIREBASE_NODES.PUBLIC,S.CONSTANTS.FIREBASE_NODES.SHARED_LISTS,e]},tc=function(e){return[S.CONSTANTS.FIREBASE_NODES.USERS,e,S.CONSTANTS.FIREBASE_NODES.FILES]},nc=function(e){var t=tc(e);return kn.getValue(t)},ac=function(){var e=Object(ne.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ee.functions().httpsCallable("fetchMocks"),e.next=3,t().then((function(e){return e.data}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rc=function(){var e=Object(c.useContext)(X).state,t=$e(e),n=Object(c.useState)(!0),a=Object(u.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)([]),l=Object(u.a)(i,2),o=l[0],d=l[1],O=function(){var e=Object(ne.a)(te.a.mark((function e(){var n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),d([]),e.next=4,nc(t.details.profile.uid).then((function(e){var t=function(t){d((function(n){return[].concat(Object(Ct.a)(n),[e[t]])}))};for(var n in e)t(n);return e}));case 4:n=e.sent,ac().then((function(e){d(n?function(t){return[].concat(Object(Ct.a)(t),Object(Ct.a)(e))}:e),s(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=Object(c.useCallback)(O,[t]);return Object(c.useLayoutEffect)((function(){t.loggedIn&&t.details.profile&&j()}),[t,j]),r?Object(N.jsx)(Nr,{customLoadingMessage:"Loading Mocks"}):ce()(o)?Object(N.jsx)(Zr,{updateCollection:O}):Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Xr,{updateCollection:O,filesList:o})})},cc=function(e){Object(Qa.a)(n,e);var t=Object(za.a)(n);function n(){return Object(Wa.a)(this,n),t.apply(this,arguments)}return Object(qa.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ft,{component:rc})})}}]),n}(s.a.Component),sc=n(387),ic=n(487),lc=n.n(ic),oc=n(141),uc=n(488),dc=n.n(uc),Oc=(n(804),n(805),n(806),n(807),n(808),function(e){var t=e.src;return Object(N.jsx)("div",{className:"d-flex justify-content-center p-3",children:Object(N.jsx)("img",{style:{maxWidth:"15vw",width:"100%"},src:t,alt:""})})}),jc=n(164),Ec=n(511),bc=oc.a.Option,Sc=n(251);Sc.config.set("basePath","https://cdn.jsdelivr.net/npm/ace-builds@1.4.3/src-noconflict/"),Sc.config.setModuleUrl("ace/mode/javascript_worker","https://cdn.jsdelivr.net/npm/ace-builds@1.4.3/src-noconflict/worker-javascript.js");var pc="HTML",hc="CSS",Tc="JS",mc="Image",fc="API",Rc=function(e){var t=e.headersCount,n=e.handleHeadersFieldAdd,a=e.handleHeadersFieldRemove,r=e.headersPairUpdate,s=e.list,i=e.index,l=Object(c.useState)(s[i].key||""),o=Object(u.a)(l,2),d=o[0],O=o[1],j=Object(c.useState)(s[i].value||""),E=Object(u.a)(j,2),b=E[0],S=E[1];return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(Rt.a,{className:"mx-1 my-3",style:{marginBottom:"0.5rem",marginTop:"0.5rem"},children:[Object(N.jsx)(At.a,{sm:"0.5",className:"align-self-center",span:3,align:"center",children:Object(N.jsx)("h4",{children:"Header Name"})}),Object(N.jsx)(At.a,{sm:"4",span:8,align:"center",children:Object(N.jsx)(tn.a,{type:"text",placeholder:"Header",value:s[i].key||"",name:"key",onChange:function(e){O(e.target.value),r(i,e.target.value,b)},style:{width:"80%"}})}),Object(N.jsx)(At.a,{sm:"0.5",className:"align-self-center",span:3,align:"center",children:Object(N.jsx)("h4",{children:"Value"})}),Object(N.jsx)(At.a,{sm:"4",span:8,align:"center",children:Object(N.jsx)(tn.a,{type:"text",placeholder:"Value",value:s[i].value||"",name:"value",onChange:function(e){S(e.target.value),r(i,d,e.target.value)},style:{width:"80%"}})}),Object(N.jsx)(At.a,{span:2,children:t>1&&Number(i)<t-1?Object(N.jsx)(Nt.a,{className:"btn-icon btn-3",color:"danger",type:"button",onClick:function(){a(i),O(""),S("")},icon:Object(N.jsx)(Yr.a,{})}):Object(N.jsx)(Nt.a,{className:"btn-icon btn-3",color:"primary",type:"button",onClick:function(){return n()},icon:Object(N.jsx)(ea.a,{})})})]})})},Ac=function(e){var t=e.newFile,n=e.currentFilesCount,a=W.MOCK_RESPONSE_BODY_CHARACTER_LIMIT,r=Object(ae.g)(),i=Object(c.useContext)(X).state,l=$e(i),o=Object(c.useState)(e.fileDetails?e.fileDetails.name:""),d=Object(u.a)(o,2),O=d[0],j=d[1],E=Object(c.useState)(e.fileDetails?e.fileDetails.contentType:"application/json"),b=Object(u.a)(E,2),S=b[0],p=b[1],h=Object(c.useState)(!e.fileDetails&&fc),T=Object(u.a)(h,2),m=T[0],f=T[1],R=Object(c.useState)(".js"),A=Object(u.a)(R,2),x=A[0],C=A[1],I=Object(c.useState)(e.fileDetails?e.fileDetails.description:""),g=Object(u.a)(I,2),_=g[0],L=g[1],y=Object(c.useState)(e.fileDetails?e.fileDetails.statusCode:200),U=Object(u.a)(y,2),v=U[0],P=U[1],D=Object(c.useState)([{}]),w=Object(u.a)(D,2),M=w[0],k=w[1],G=Object(c.useState)(e.fileDetails?e.fileDetails.body||e.data:""),F=Object(u.a)(G,2),B=F[0],V=F[1],H=Object(c.useState)(1),Y=Object(u.a)(H,2),K=Y[0],q=Y[1],Q=Object(c.useState)(0),z=Object(u.a)(Q,2),J=z[0],Z=z[1],$=Object(c.useState)("Free"),ee=Object(u.a)($,2),te=ee[0],ne=ee[1],re=Object(c.useState)(!1),ce=Object(u.a)(re,2),se=ce[0],ie=ce[1],le=function(e,t,n){k((function(a){return a[e].key=t,a[e].value=n,a}))},oe=function(){q((function(e){return e+1})),k((function(e){return e.push({}),e}))},ue=function(e){var t;q((function(e){return e-1})),t=e,k((function(e){return e.splice(t,1),e}))},de=function(e){switch(e){case".js":Oe("application/javascript",".js",Tc);break;case".html":Oe("text/html",".html",pc);break;case".css":Oe("text/css",".css",hc);break;case".json":Oe("application/json","",fc)}},Oe=function(e,t,n){C(t),p(e),f(n)},je=function(){var t=pt(l),a=Tt(W.FEATURES.FILES,t);n>a?(Z(a),ne(t),ie(!0)):e.saveFile({name:O,contentType:S,description:_,body:B,headers:M,statusCode:v,extension:x,isMock:m===fc})},Ee=function(e){"Escape"===e.key?(e.preventDefault(),Ae(r)):"s"===e.key.toLowerCase()&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&(e.preventDefault(),je())};Object(c.useEffect)((function(){return document.addEventListener("keydown",Ee),function(){document.removeEventListener("keydown",Ee)}}),[Ee]),Object(c.useEffect)((function(){var t=e.fileDetails;if(Object(pe.isEmpty)(M[0])&&t&&t.headers){for(var n=t.headers,a=[],r=0,c=Object.entries(n);r<c.length;r++){var s=Object(u.a)(c[r],2),i=s[0],l=s[1];a.push({key:i,value:l})}a.length&&(k(a),q(a.length))}if(t){var o=t.contentType.startsWith("image");t.isMock?f(fc):f(o?mc:t.name.split(".")[1].toUpperCase())}}),[e,M]);var be=function(n){return Object(N.jsx)(Rt.a,{style:n,children:Object(N.jsx)(At.a,{span:24,align:"right",children:Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(Nt.a,{type:"primary",onClick:je,loading:!!e.saving,icon:Object(N.jsx)(jc.a,{}),children:e.saving?"Creating":t?"Create Mock":"Save"}),Object(N.jsx)(Nt.a,{className:"btn-icon btn-3 float-right",type:"button",color:"secondary",onClick:function(){return Ae(r)},children:Object(N.jsx)("span",{className:"btn-inner--text",children:"Close"})})]})})})};return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsxs)(ft.a,{className:"primary-card",children:[be({marginTop:"-1rem"}),Object(N.jsx)("br",{}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsxs)(la.b,{title:null,bordered:!0,children:[Object(N.jsx)(la.b.Item,{label:"Name",children:Object(N.jsx)(tn.a,{type:"text",placeholder:"Name your mock",value:O,name:"name",onChange:function(e){return j(e.target.value)},disabled:!t,style:{width:"95%"}})}),Object(N.jsx)(la.b.Item,{label:"Description",span:2,children:Object(N.jsx)(tn.a,{type:"text",placeholder:"(Optional)",value:_,name:"desc",onChange:function(e){return L(e.target.value)},style:{width:"95%"}})}),Object(N.jsx)(la.b.Item,{label:"Response Type",children:t?Object(N.jsxs)(oc.a,{value:m,className:"select-before",disabled:!t,onChange:de,style:{minWidth:"40%"},children:[Object(N.jsx)(bc,{value:".js",children:Tc}),Object(N.jsx)(bc,{value:".html",children:pc}),Object(N.jsx)(bc,{value:".css",children:hc}),Object(N.jsx)(bc,{value:".json",children:fc})]}):m}),m===fc?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(la.b.Item,{label:"Status Code ",children:Object(N.jsx)(tn.a,{type:"number",placeholder:"200",value:v,name:"statusCode",onChange:function(e){return P(e.target.value)},style:{width:"95%"}})}),Object(N.jsx)(la.b.Item,{label:"Content Type",children:Object(N.jsx)(tn.a,{type:"text",placeholder:"content/javascript",value:S,name:"type",disabled:!t,onChange:function(e){return p(e.target.value)}})})]}):null,t?null:e.fileDetails.shortUrl||e.fileDetails.mockID?Object(N.jsx)(la.b.Item,{label:"Public URL",span:3,children:Object(N.jsx)(tn.a,{type:"text",value:e.fileDetails.shortUrl||wr(e.fileDetails.mockID),disabled:!0,addonAfter:Object(N.jsx)(Pr.a,{text:e.fileDetails.shortUrl||wr(e.fileDetails.mockID),children:Object(N.jsx)(yr.a,{title:"Click to copy",children:Object(N.jsx)(Ec.a,{})})})})}):Object(N.jsx)("div",{children:Object(N.jsx)(ra.a,{})})]})})}),Object(N.jsx)("div",{className:"margin-bottom-one"}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,children:S.startsWith("image")?Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{className:"text-align-center",span:24,align:"center",children:Object(N.jsx)(Oc,{src:e.fileDetails.webContentLink})})}):Object(N.jsxs)("div",{children:[m===fc?Object(N.jsxs)("div",{children:[Object(N.jsx)(Rt.a,{className:"pl-3",children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsx)(Zn.a,{className:"mx-1",color:"warning",children:Object(N.jsx)("h4",{children:"Response Headers (Optional)"})})})}),M.map((function(e,t){return Object(N.jsx)(Rc,{handleHeadersFieldAdd:oe,headersCount:K,handleHeadersFieldRemove:ue,headersPairUpdate:le,index:t,list:M},t)}))]}):null,Object(N.jsx)(Rt.a,{style:{marginBottom:"0.5rem",marginTop:"0.5rem"},children:Object(N.jsxs)(At.a,{span:24,children:[Object(N.jsx)("h4",{children:m===fc?"Response Body":"File Content"}),Object(N.jsx)(dc.a,{width:"100%",height:"400px",placeholder:m===fc?"Response Body":"File Content",mode:m===Tc?"javascript":m===hc?"css":m===pc?"html":"text",theme:"monokai",name:"body_editor",fontSize:17,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,onChange:function(e){V(e)},value:B,setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2},style:{marginBottom:"0.5rem",marginTop:"0.5rem"}})]})}),m===fc?Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{xl:"12",children:Object(N.jsxs)("span",{className:"codemirror-character-count",children:[a-On(B)>=0?a-On(B):0," ","characters left"]})})}):null]})})}),be({marginTop:"1rem"})]}),se?Object(N.jsx)(Dr,{isOpen:se,toggle:function(){ie(!se)},featureName:W.FEATURES.FILES,featureLimit:J,userPlanName:te}):null]})},xc=W.PATHS,Nc=function(e,t){return kn.getValue(function(e,t){var n=tc(e);return n.push(t),n}(e,t))},Cc=function(){var e=Object(ne.a)(te.a.mark((function e(t){var n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ee.functions().httpsCallable("fetchMocks"),e.next=3,n(t).then((function(e){return e.data}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ic=S.CONSTANTS.GA_EVENTS,gc=function(){var e=Object(ae.h)(),t=Object(ae.g)(),n=e.state&&e.state.mockUrl,a=Object(c.useContext)(X).state,r=$e(a),s=Object(c.useState)(!0),i=Object(u.a)(s,2),l=i[0],o=i[1],d=Object(c.useState)(!1),O=Object(u.a)(d,2),E=O[0],b=O[1],p=Object(c.useState)(!1),h=Object(u.a)(p,2),T=h[0],m=h[1],f=Object(c.useState)(!1),R=Object(u.a)(f,2),A=R[0],x=R[1],C=Object(c.useState)(!1),I=Object(u.a)(C,2),g=I[0],_=I[1],L=Object(c.useState)(0),y=Object(u.a)(L,2),U=y[0],v=y[1],P=window.location.pathname.split("/")[xc.FILES.VIEWER.ABSOLUTE.split("/").length+1-1],D=function(){var e=Object(ne.a)(te.a.mark((function e(n){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("create"!==P){e.next=5;break}_(!0),o(!1),e.next=7;break;case 5:return e.next=7,Nc(n,P).then(function(){var e=Object(ne.a)(te.a.mark((function e(n){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=5;break}m(n),lc.a.get(n.webContentLink).then((function(e){x(e.request.response),o(!1)})),e.next=7;break;case 5:return e.next=7,Cc(P).then((function(e){e.success?(m(e.data),o(!1)):e.unauthorized?Me(t):we(t)}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:nc(n).then((function(e){e&&v(Object.keys(e).length)})),ac().then((function(e){e&&v((function(t){return t+e.length}))}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=Object(c.useCallback)(D,[P,t]);return Object(c.useLayoutEffect)((function(){r.loggedIn&&r.details&&r.details.profile&&r.details.profile.uid&&w(r.details.profile.uid)}),[w,r]),Object(c.useEffect)((function(){n&&_(!1)}),[n]),Object(N.jsx)(ft.a,{className:"primary-card",title:"".concat(g?"Create Mock":"Edit Mock"),children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,children:l?Object(N.jsx)(Se,{}):g?Object(N.jsx)(Ac,{newFile:!0,fileDetails:T,data:A,saveFile:function(e){var n=e.name,a=e.contentType,r=e.description,c=e.body,s=e.headers,i=e.statusCode,l=e.extension,o=e.isMock;if(ce()(n))Ge.warn("Please enter a valid file name");else if(o&&ce()(i))Ge.warn("Please enter statusCode");else if(o||!ce()(c)||"image"===a)if(o&&On(c)>W.MOCK_RESPONSE_BODY_CHARACTER_LIMIT)Ge.warn("Response Body exceeds character limit");else{b(!0);var u={};if(s){var d,O=Object(sc.a)(s);try{for(O.s();!(d=O.n()).done;){var j=d.value;j.key&&j.value&&(u[j.key]=j.value)}}catch(S){O.e(S)}finally{O.f()}}var E={name:o?n:n+l,contentType:a,description:r,headers:u,statusCode:Number(i),body:c,isMock:o};if(o)Ee.functions().httpsCallable("addMock")(E).then((function(e){if(b(!1),e.data){var n=wr(e.data);Ge.info("Mock Created Successfully"),Kn(Ic.CATEGORIES.LIBRARY,Ic.ACTIONS.CREATED,"New Mock Created"),xe(t,e.data,n)}else Ge.error("Unable to create Mock")}));else(function(e,t){return Fr(new File([t],e.name,{type:e.contentType,lastModified:Date.now()}),e)})(E,c).then((function(e){b(!1),e.success?(Ge.info("File Created Successfully"),Kn(Ic.CATEGORIES.LIBRARY,Ic.ACTIONS.CREATED,"New File Created"),xe(t,e.data.id,e.data.shortUrl)):Ge.error("Unable to create file")}))}else Ge.warn("Please enter file content")},saving:E,currentFilesCount:U}):Object(N.jsx)(Ac,{fileDetails:T,data:A,saveFile:function(e){var n=e.name,a=e.contentType,r=e.description,c=e.body,s=e.headers,i=e.statusCode,l=e.isMock;if(l&&ce()(i))Ge.warn("Please enter statusCode");else if(l||!ce()(c)||" image"===a)if(l&&On(c)>W.MOCK_RESPONSE_BODY_CHARACTER_LIMIT)Ge.warn("Response Body exceeds character limit");else{b(!0);var o=Object(j.a)({},T);o.description=r;var u={};if(s){var d,O=Object(sc.a)(s);try{for(O.s();!(d=O.n()).done;){var E=d.value;E.key&&E.value&&(u[E.key]=E.value)}}catch(h){O.e(h)}finally{O.f()}}var p={name:n,contentType:a,description:r,headers:u,statusCode:Number(i),body:c,isMock:l};if(l)Ee.functions().httpsCallable("editMock")(Object(j.a)(Object(j.a)({},p),{},{id:P})).then((function(e){b(!1),e.data.success?(Ge.info("Mock Edited Successfully"),Kn(Ic.CATEGORIES.LIBRARY,S.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"Mock Updated"),xe(t,P)):Ge.error(e.data.msg||"Unable to edit mock")}));else Br(T.filePath,c,o).then((function(e){b(!1),e.success?(Ge.info("File Edited Successfully"),Kn(Ic.CATEGORIES.LIBRARY,S.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"File Updated"),xe(t,P)):Ge.error("Unable to edit file")}))}else Ge.warn("Please enter file content")},saving:E,currentFilesCount:U})})})})},_c=function(e){Object(Qa.a)(n,e);var t=Object(za.a)(n);function n(){return Object(Wa.a)(this,n),t.apply(this,arguments)}return Object(qa.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ft,{component:gc})})}}]),n}(s.a.Component),Lc=n(970),yc=n(121),Uc=S.CONSTANTS.GA_EVENTS,vc=[{emoji:"\ud83d\ude20",question:Object(N.jsx)(N.Fragment,{children:"We regret you did not like Requestly, What are the issues that you are facing?"}),options:["Rules don't work as expected","Interface difficult to use","Too technical for me","Lack of proper documentation","Expensive premium plans"]},{emoji:"\ud83d\ude41",question:Object(N.jsx)(N.Fragment,{children:"We regret you did not like Requestly, What are the issues that you are facing?"}),options:["Rules don't work as expected","Interface difficult to use","Too technical for me","Lack of proper documentation","Expensive premium plans"]},{emoji:"\ud83d\ude36",question:Object(N.jsxs)(N.Fragment,{children:["We regret you did not find Requestly up to the mark, What are the isssues that you are facing?",Object(N.jsx)("br",{}),"Let us know what you liked/disliked about Requestly."]}),options:["Easy interface, rules work perfectly","Interface difficult to use","Quick support from the team","Too technical for me","Increases productivity","Expensive premium plans"]},{emoji:"\ud83d\ude04",question:Object(N.jsx)(N.Fragment,{children:"We are glad that you loved Requestly, What do you like about Requestly?"}),options:["Easy interface, rules work perfectly","One stop destination for all network modifications","Easy collaboration with my team members","Increases productivity","Quick support from the team"]},{emoji:"\ud83d\ude0d",question:Object(N.jsx)(N.Fragment,{children:"We are glad that you loved Requestly, What do you like about Requestly?"}),options:["Easy interface, rules work perfectly","One stop destination for all network modifications","Easy collaboration with my team members","Increases productivity","Quick support from the team"]}],Pc=Math.floor(2*Math.random()),Dc=function(){var e=Object(c.useContext)(X).state,t=$e(e),n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],i=a[1],l=Object(c.useState)([]),o=Object(u.a)(l,2),d=o[0],O=o[1],j=Object(c.useState)(""),E=Object(u.a)(j,2),b=E[0],S=E[1],p=Object(c.useState)(!1),h=Object(u.a)(p,2),T=h[0],m=h[1],f=Object(c.useState)(!1),R=Object(u.a)(f,2),A=R[0],C=R[1],I=Object(c.useState)(""),g=Object(u.a)(I,2),_=g[0],L=g[1],y=function(){return t.loggedIn||""===_||/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(_.trim())?0===Pc&&0===d.length?Ge.error("Please select atleast one option"):1===Pc&&""===b?Ge.error("Please enter your feedback"):(C(!0),void Ee.functions().httpsCallable("sendFeedbackResponse")({message:"".concat(vc[T].emoji," - ").concat(d.join(", "),", ").concat(b),userEmail:t&&t.details&&t.details.profile?t.details.profile.email:_||"NOT AVAILABLE"}).then((function(e){var t=e.data;t.success?(C(!1),i(!0),Ge.success("Thank you for your valuable feedback")):(C(!1),Ge.error("Opps! Your response is not submitted")),Kn(Uc.CATEGORIES.EXTENSION,Uc.ACTIONS.UNINSTALL_RESPONSE,"".concat(vc[T].emoji," - ").concat(t,", ").concat(b))})).catch((function(e){console.log(e.message),Ge.error("Oops! Couldn't send the response")}))):Ge.error("Please enter your valid e-mail address")};return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{style:{width:"100%",height:"100%"},children:Object(N.jsxs)(yc.a,{style:{borderBottomRightRadius:"10px",borderBottomLeftRadius:"10px"},children:[Object(N.jsxs)("div",{style:{marginTop:"200px"},children:[Object(N.jsx)("h2",{style:{textAlign:"center"},children:"How was your experience using Requestly?"}),r?3===T||4===T?Object(N.jsx)("h2",{style:{textAlign:"center"},children:"Response Submitted. We are glad you loved Requestly. Do like and share with your friends and fellow developers."}):Object(N.jsx)("h2",{style:{marginBottom:"200px",textAlign:"center"},children:"Response Submitted. We are looking forward to improving and to winning you back as a customer."}):null]}),r?3===T||4===T?Object(N.jsxs)("div",{style:{margin:"10px 0px 200px 0px",textAlign:"center"},children:[Object(N.jsx)("h2",{children:"Kindly review on chrome store if you haven't already, it won't take more than a minute."}),Object(N.jsxs)("h2",{children:["To submit review on chrome store"," ",Object(N.jsx)("a",{target:"_blank",rel:"noopener noreferrer",onClick:function(){Kn(Uc.CATEGORIES.EXTENSION,Uc.ACTIONS.CLICKED,"Review on chrome store button clicked")},href:"https://chrome.google.com/webstore/detail/requestly-redirect-url-mo/mdnleldcmiljblolnjhpnblkcekpdkpa?hl=en",children:Object(N.jsxs)("span",{children:["Click here ",Object(N.jsx)(Lc.a,{})]})})]})]}):null:Object(N.jsx)("div",{className:"app",children:Object(N.jsx)("div",{style:{justifyContent:"center",display:"flex",alignItems:"center",margin:"20px 0px 200px 0px"},children:vc.map((function(e,n){return Object(N.jsxs)("div",{children:[!1===T?Object(N.jsx)("div",{children:Object(N.jsxs)("label",{htmlFor:n,children:[Object(N.jsx)("input",{style:{display:"none"},type:"radio",name:"feedback",id:n,onChange:function(e){console.log(e.target.value),m(n)},value:n}),Object(N.jsx)("h1",{style:{fontSize:"3rem",cursor:"pointer",margin:"0px 20px 0px 20px"},role:"img",children:e.emoji})]})}):null,T===n?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("h2",{style:{textAlign:"center"},children:["You ",e.emoji," Requestly, ",e.question]}),Object(N.jsxs)(Aa.a,{children:[0===Pc?e.options.map((function(e){return Object(N.jsxs)("div",{style:{marginBottom:"10px"},children:[Object(N.jsx)("input",{onChange:function(){return function(e){if(d.includes(e)){var t=d.filter((function(t){return t!==e}));return O(t)}O((function(t){return[].concat(Object(Ct.a)(t),[e])}))}(e)},checked:d.includes(e),type:"checkbox",id:e}),Object(N.jsx)("label",{style:{fontSize:"1.3rem",marginLeft:"10px"},htmlFor:e,children:e})]},e)})):Object(N.jsx)(tn.a.TextArea,{value:b,style:{width:"100%"},onChange:function(e){S(e.target.value)},placeholder:"How can we improve Requestly?",type:"textarea",name:"text",rows:"4"}),t.loggedIn?null:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h3",{style:{marginTop:"30px"},children:"Please Enter your e-mail address so we can respond you better"}),Object(N.jsx)(tn.a,{onChange:function(e){return L(e.target.value)},type:"email",placeholder:"Enter your email here...",style:{width:"100%",fontSize:"1rem",marginBottom:"10px"}})]}),Object(N.jsx)("hr",{}),Object(N.jsx)(Nt.a,{type:"primary",block:!0,size:"large",style:{margin:"10px 0px"},onClick:y,disabled:A,children:A?Object(N.jsx)(x.G,{className:"icon-spin"}):"Send"})]})]}):null]},n)}))})})]})})})})},wc=function(e){Object(Qa.a)(n,e);var t=Object(za.a)(n);function n(){return Object(Wa.a)(this,n),t.apply(this,arguments)}return Object(qa.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Dc,{})})}}]),n}(s.a.Component),Mc=n(960),kc=n(74),Gc=n(971),Fc=n(972),Bc=zt.a.Link,Vc=S.CONSTANTS.GA_EVENTS,Hc=function(){var e=Object(c.useContext)(X).state,t=$e(e),n=Object(c.useState)(""),a=Object(u.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(""),l=Object(u.a)(i,2),o=l[0],d=l[1],O=Object(c.useState)(""),j=Object(u.a)(O,2),E=j[0],b=j[1],S=Object(c.useState)(!1),p=Object(u.a)(S,2),h=p[0],T=p[1],m=Object(c.useState)(!1),f=Object(u.a)(m,2),R=f[0],A=f[1],x=Object(c.useState)(""),C=Object(u.a)(x,2),I=C[0],g=C[1],_=Object(c.useState)(!1),L=Object(u.a)(_,2),y=L[0],U=L[1],v=Object(c.useState)(!1),P=Object(u.a)(v,2),D=P[0],w=P[1],M=Object(c.useState)(""),k=Object(u.a)(M,2),G=k[0],F=k[1],B=Object(c.useState)(!1),V=Object(u.a)(B,2),H=V[0],Y=V[1],K=function(){if(t.details.isLoggedIn){if(F(t.details.profile.email),t.details.planDetails&&"license"===t.details.planDetails.type){var e=t.details.planDetails.subscription||{},n=e.endDate||1e3*e.current_period_end,a=new Date(n).toISOString().split("T")[0];U("license"===t.details.planDetails.type),d(t.details.planDetails.planId),s(t.details.planDetails.subscription.id),Y(new Date(a).toDateString())}w(!1)}},q=Object(c.useCallback)(K,[t.details.isLoggedIn,t.details.planDetails,t.details.profile.email]),Q=Object(c.useCallback)((function(){w(!0),q()}),[q]);if(Object(c.useLayoutEffect)((function(){Q()}),[Q,t]),D)return Object(N.jsx)(Se,{customLoadingMessage:"Fetching your license details"});if(y)return Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,align:"center",children:Object(N.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h3",{children:Object(N.jsxs)(Mc.a,{color:"secondary",children:[Object(N.jsx)("strong",{children:Object(N.jsx)("span",{className:"alert-inner--icon",role:"img","aria-label":"emoji",children:"\ud83d\udce2"})})," ",Object(N.jsxs)("span",{className:"alert-inner--text",children:["License is being replaced by Teams."," ",Object(N.jsx)(Bc,{onClick:function(){return window.open(W.LINKS.REQUESTLY_DOCS_PREMIUM_SUBSCRIPTION,"_blank")},className:"cursor-pointer",children:"Read more"})]})]})}),Object(N.jsx)("br",{}),Object(N.jsxs)("p",{className:"lead",children:["You have a ",Object(N.jsx)("strong",{children:o.split("_")[0].toUpperCase()})," ","License Key."]}),Object(N.jsxs)("p",{className:"lead",children:["Your License is valid upto : ",Object(N.jsx)("strong",{children:H})]})]})})});var z=I&&!R,J=I&&R;return Object(N.jsxs)(kc.a,{onSubmit:function(e){e.preventDefault(),T(!0),Ee.functions().httpsCallable("applyLicense")({license:r,company:E,email:G}).then((function(e){T(!1),A(e.data.success),g(e.data.message),e.data.success?(Kn(Vc.CATEGORIES.LICENSE,Vc.ACTIONS.APPLIED_SUCCESSFULLY,"License Applied ".concat(E," ").concat(r)),Wn(Vc.ATTR.LICENSE,r),Wn(Vc.ATTR.COMPANY,E),window.location.reload()):(s(""),Kn(Vc.CATEGORIES.LICENSE,Vc.ACTIONS.APPLIED_UNSUCCESSFULLY,"License Failed ".concat(E," ").concat(r))),K()})).catch(console.error)},role:"form",id:"applyLicenseForm",children:[Object(N.jsxs)("center",{children:[Object(N.jsx)("h3",{children:Object(N.jsxs)(Mc.a,{color:"secondary",children:[Object(N.jsx)("strong",{children:Object(N.jsx)("span",{className:"alert-inner--icon",role:"img","aria-label":"emoji",children:"\ud83d\udce2"})})," ",Object(N.jsxs)("span",{className:"alert-inner--text",children:["License is being replaced by Teams."," ",Object(N.jsx)(Bc,{onClick:function(){return window.open(W.LINKS.REQUESTLY_DOCS_PREMIUM_SUBSCRIPTION,"_blank")},className:"cursor-pointer",children:"Read more"})]})]})}),Object(N.jsx)("br",{}),Object(N.jsx)("h3",{children:"Please enter the following details "})]}),Object(N.jsx)("br",{}),Object(N.jsx)("center",{children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{align:"center",span:8,offset:8,children:Object(N.jsxs)(Ra.a,{className:["mb-3",z?"has-danger":"",J?"has-success":""].join(" "),style:{width:"50%"},children:[Object(N.jsx)(tn.a,{required:!0,type:"text",placeholder:"Company Name",value:E,disabled:R,onChange:function(e){return b(e.target.value)},className:["form-control-alternative",z?"is-invalid":"",J?"is-valid":""].join(" "),addonBefore:Object(N.jsx)(Gc.a,{})}),Object(N.jsx)("br",{}),Object(N.jsx)(tn.a,{style:{marginTop:"2%"},required:!0,type:"text",placeholder:"License Key",value:r,disabled:R,onChange:function(e){return s(e.target.value)},className:["form-control-alternative",z?"is-invalid":"",J?"is-valid":""].join(" "),addonBefore:Object(N.jsx)(Fc.a,{})}),R?null:Object(N.jsx)(Nt.a,{className:"my-4",type:"primary",style:{marginTop:"2%"},loading:h,children:"Apply License"})]})})})}),z?Object(N.jsx)("center",{children:Object(N.jsx)("h4",{style:{color:"red"},children:I})}):null,J?Object(N.jsx)("center",{children:Object(N.jsx)("h4",{style:{color:"green"},children:I})}):null]})},Yc=n(968),Kc=function(){var e=Object(ae.g)();return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(ft.a,{className:"primary-card",title:"License Details",extra:Object(N.jsx)(Nt.a,{type:"primary",onClick:function(t){return function(e){e.push(he.LICENSE.MANAGE.ABSOLUTE)}(e)},icon:Object(N.jsx)(Yc.a,{}),children:"Manage License"}),children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,align:"center",children:Object(N.jsx)(Hc,{})})})})})},Wc=function(){return Object(N.jsx)(Ft,{component:Kc})},qc=function(e){Object(Qa.a)(n,e);var t=Object(za.a)(n);function n(){return Object(Wa.a)(this,n),t.apply(this,arguments)}return Object(qa.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Wc,{})})}}]),n}(s.a.Component),Qc=S.CONSTANTS.GA_EVENTS,zc=function(){var e=Object(c.useContext)(X).state,t=$e(e),n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],i=a[1],l=Object(c.useState)(!1),o=Object(u.a)(l,2),d=o[0],O=o[1],E=Object(c.useState)(!1),b=Object(u.a)(E,2),S=b[0],p=b[1],h=Object(c.useState)({}),T=Object(u.a)(h,2),m=T[0],f=T[1],R=Object(c.useCallback)((function(){(i(!0),t.loggedIn)?Ee.functions().httpsCallable("getCompanyLicenseUsers")({}).then((function(e){O(e.data.success),f(e.data.users?e.data.users:{}),i(!1)})).catch((function(e){console.log(e)})):i(!1)}),[t]);return Object(c.useLayoutEffect)((function(){R()}),[R]),Object(N.jsx)(s.a.Fragment,{children:r?Object(N.jsx)(Nr,{customLoadingMessage:"Loading License Information"}):Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(ft.a,{className:"primary-card",title:"License Details",children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,align:"center",children:Object(N.jsx)(yc.a,{className:"shadow",children:Object(N.jsx)(je.a,{children:d?ce()(m)?Object(N.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:Object(N.jsx)("p",{className:"lead",children:"There are no users using license keys."})}):Object(N.jsx)(ta.a,{options:!1,pagination:!1,search:!1,dateFormatter:!1,toolBarRender:!1,headerTitle:!1,rowKey:"id",dataSource:Object.keys(m).map((function(e){return Object(j.a)({id:e},m[e])})),columns:[{title:"User Email",dataIndex:"email",textWrap:"word-break",ellipsis:!0},{title:"License Key",dataIndex:"licenseKey",textWrap:"word-break",ellipsis:!0},{title:"Actions",align:"right",render:function(e,t){return Object(N.jsx)(Nt.a,{danger:!0,onClick:function(e){return function(e){var t=m[e].email,n=Ee.functions().httpsCallable("revokeLicense");p(!0),n({userId:e}).then((function(e){p(!1),O(e.data.success),f(e.data.users?e.data.users:{}),Ge.success("Revoked ".concat(t," License")),Kn(Qc.CATEGORIES.LICENSE,Qc.ACTIONS.REVOKED,"License Revoked ".concat(t))}))}(t.id)},loading:S,children:"Revoke Access"})},textWrap:"word-break",ellipsis:!0}]}):Object(N.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:Object(N.jsx)("p",{className:"lead",children:"Only the company admin can manage licenses. Please talk to your company admin if you want to be added as an admin to your company."})})})})})})})})})},Jc=function(e){Object(Qa.a)(n,e);var t=Object(za.a)(n);function n(){return Object(Wa.a)(this,n),t.apply(this,arguments)}return Object(qa.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ft,{component:zc})})}}]),n}(s.a.Component),Xc=S.COMPONENTS.LOGGER,Zc={eventCallbackMap:{},requestId:1,constants:{CONTENT_SCRIPT:"content_script",PAGE_SCRIPT:"page_script",DOMAIN:S.CONFIG.WEB_URL,SOURCE_FIELD:"source"},addMessageListener:function(){window.addEventListener("message",this.handleMessageReceived.bind(this))},getSource:function(){return this.constants.PAGE_SCRIPT},registerCallback:function(e,t){if(t){var n=this.requestId++;this.eventCallbackMap[e.action+"_"+n]=t,e.requestId=n}},invokeCallback:function(e){var t=this.eventCallbackMap[e.action+"_"+e.requestId];"function"===typeof t&&(delete this.eventCallbackMap[e.action],t.call(this,e.response))},sendMessage:function(e,t){e.action?(this.registerCallback(e,t),e[this.constants.SOURCE_FIELD]=this.getSource(),window.postMessage(e,this.constants.DOMAIN)):Xc.error("Invalid message. Must contain some action")},sendResponse:function(e,t){var n={action:e.action,requestId:e.requestId,response:t};n[this.constants.SOURCE_FIELD]=this.constants.PAGE_SCRIPT,window.postMessage(n,this.constants.DOMAIN)},handleMessageReceived:function(e){e&&e.origin!==this.constants.DOMAIN?"debug"===S.COMPONENTS.logLevel&&console.log("Ignoring message from the following domain",e.origin,e.data):e&&e.data&&e.data.source===this.constants.CONTENT_SCRIPT&&("debug"===S.COMPONENTS.logLevel&&console.log("Received message:",e.data),this.invokeCallback(e.data))},init:function(){-1!==window.location.hostname.indexOf("requestly.in")&&-1!==this.constants.DOMAIN.indexOf("requestly.io")&&(this.constants.DOMAIN=this.constants.DOMAIN.replace(".io",".in")),this.addMessageListener()}};function $c(){return window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.VERSION}function es(){return!!$c()}function ts(){return new Promise((function(e,t){window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES&&window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE?e(window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE.getStorageSuperObject()):t("Couldnt hit desktop API")}))}function ns(e){return new Promise((function(t,n){window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES&&window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE?t(window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE.getStorageObject(e)):n("Couldnt hit desktop API")}))}function as(e){return new Promise((function(t,n){window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES&&window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE?t(window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE.setStorageObject(e)):n("Couldnt hit desktop API")}))}function rs(e){return new Promise((function(t,n){window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES&&window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE?t(window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE.deleteItem(e)):n("Couldnt hit desktop API")}))}function cs(){return new Promise((function(e,t){window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES&&window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE?e(window.RQ.DESKTOP.SERVICES.STORAGE_SERVICE.clearStorage()):t("Couldnt hit desktop API")}))}var ss=function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",window.RQ.DESKTOP.SERVICES.STATE_MANAGEMENT.getState("isBackgroundProcessActive").then(function(){var e=Object(ne.a)(te.a.mark((function e(t){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(){var e=Object(ne.a)(te.a.mark((function e(n){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=7;break}return e.next=3,window.RQ.DESKTOP.SERVICES.IPC.invokeEventInMain("start-background-process");case 3:a=e.sent,n(a),e.next=8;break;case 7:n(!0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),is=function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("save-root-cert").then((function(e){e.success?Ge.success("Certificate saved"):Ge.error("An error occured while saving certificate")})).catch((function(){Ge.error("An error occured while saving certificate")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ls=a;function os(){return document.documentElement.getAttribute("rq-ext-version")}function us(){return!!os()}function ds(e){return new Promise((function(t){return Zc.sendMessage(e,t)}))}function Os(){return ds({action:"GET_STORAGE_TYPE"})}function js(){return ds({action:"GET_STORAGE_INFO"})}function Es(){return new Promise((function(e){Zc.sendMessage({action:"GET_STORAGE_SUPER_OBJECT"},e)}))}function bs(e){return new Promise((function(t){Zc.sendMessage({action:"GET_STORAGE_OBJECT",key:e},t)}))}function Ss(e){return new Promise((function(t){Zc.sendMessage({action:"SAVE_STORAGE_OBJECT",object:e},t)}))}function ps(e){return new Promise((function(t){Zc.sendMessage({action:"REMOVE_STORAGE_OBJECT",key:e},t)}))}function hs(){return new Promise((function(e){Zc.sendMessage({action:"CLEAR_STORAGE"},e)}))}function Ts(e){return new Promise((function(t){Zc.sendMessage({action:"SET_STORAGE_TYPE",storageType:e},t)}))}function ms(){return ds({action:"GET_REMOTE_RULES_SETTINGS"})}function fs(e){return new Promise((function(t,n){us()?Zc.sendMessage({action:"SET_REMOTE_RULES_SETTINGS",remoteRulesSettings:e},t):n("Please make sure your extension is up to date")}))}var Rs=r,As=function(){function e(t){Object(Wa.a)(this,e),this.appMode=t.appMode||S.CONSTANTS.APP_MODES.EXTENSION,this.StorageHelper=function(e){switch(e){case S.CONSTANTS.APP_MODES.EXTENSION:return Rs;case S.CONSTANTS.APP_MODES.DESKTOP:default:return ls}}(this.appMode),this.primaryKeys=t.primaryKeys||["objectType","ruleType"],this.records=[],this.isRecordsFetched=!1,this.cachingEnabled=t.cacheRecords,this.saveRecordWithID=this.saveRecordWithID.bind(this),this.saveRecord=this.saveRecord.bind(this),this.getRecord=this.getRecord.bind(this),this.getRecords=this.getRecords.bind(this)}return Object(qa.a)(e,[{key:"getAllRecords",value:function(){return this.StorageHelper.getStorageSuperObject()}},{key:"getRecords",value:function(e,t){var n=this,a=this;return new Promise((function(r,c){a.cachingEnabled&&a.isRecordsFetched&&!t?r(a.filterRecordsByType(a.records,e)):n.StorageHelper.getStorageSuperObject().then((function(t){for(var n in a.records.length=0,t)a.hasPrimaryKey(t[n])&&a.records.push(t[n]);a.isRecordsFetched=!0,r(a.filterRecordsByType(a.records,e))}))}))}},{key:"hasPrimaryKey",value:function(e){for(var t=0;t<this.primaryKeys.length;t++)if("undefined"!==typeof e[this.primaryKeys[t]])return!0;return!1}},{key:"filterRecordsByType",value:function(e,t){return t?e.filter((function(e){return(e.objectType||S.CONSTANTS.OBJECT_TYPES.RULE)===t})):e}},{key:"saveRecord",value:function(e){var t=this;return this.StorageHelper.saveStorageObject(e).then((function(){t.updateRecord(e)}))}},{key:"saveRuleOrGroup",value:function(e){var t=Object(O.a)({},e.id,e);return this.saveRecord(t)}},{key:"saveMultipleRulesOrGroups",value:function(e){var t={};return e.forEach((function(e){t[e.id]=e})),this.saveRecord(t)}},{key:"saveRecordWithID",value:function(e){var t=this;return this.StorageHelper.saveStorageObject(Object(O.a)({},e.id,e)).then((function(){t.updateRecord(e)}))}},{key:"getRecord",value:function(e){return this.StorageHelper.getStorageObject(e)}},{key:"removeRecord",value:function(e){var t=this;return this.StorageHelper.removeStorageObject(e).then((function(){t.deleteRecord(e)}))}},{key:"getCachedRecordIndex",value:function(e){for(var t=0;t<this.records.length;t++){if(this.records[t].id===e)return t}return-1}},{key:"updateRecord",value:function(e){var t=e.id,n=this.getCachedRecordIndex(t),a=-1!==n;if("undefined"!==typeof e){if(!this.hasPrimaryKey(e))return;a?this.records[n]=e:this.records.push(e)}}},{key:"deleteRecord",value:function(e){var t=this.getCachedRecordIndex(e);this.records.splice(t,1)}},{key:"printRecords",value:function(){this.StorageHelper.getStorageSuperObject().then((function(e){console.log(e)}))}},{key:"clearDB",value:function(){var e=this;this.StorageHelper.clearStorage().then((function(){e.records=[]}))}}]),e}(),xs=function(e){return new As({cacheRecords:!1,appMode:e})};se.a.initializeApp(S.CONFIG.firebaseConfig),function(){var e,t,n,a,r,c;e=window,t=document,n="script",a="ga",e.GoogleAnalyticsObject=a,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,r=t.createElement(n),c=t.getElementsByTagName(n)[0],r.async=1,r.src="https://www.google-analytics.com/analytics.js",c.parentNode.insertBefore(r,c),window.ga("create","UA-46800996-7","auto"),window.ga("require","GTM-KN4N9B7")}(),function(){var e=window.analytics=window.analytics||[];if(!e.initialize)if(e.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{e.invoked=!0,e.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware"],e.factory=function(t){return function(){var n=Array.prototype.slice.call(arguments);return n.unshift(t),e.push(n),e}};for(var t=0;t<e.methods.length;t++){var n=e.methods[t];e[n]=e.factory(n)}e.load=function(t,n){var a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src="https://cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(a,r),e._loadOptions=n},e.SNIPPET_VERSION="4.1.0",e.load("ffoCEI2K8knMfqli7DCIWxSgbURaHf5h"),e.page()}}(),Zc.init();var Ns=n(961),Cs=W.RULE_TYPES_CONFIG,Is=function(e){var t=e.ruleData,n=t.imageURL,a=t.rules[0].ruleType;return Object(N.jsx)(N.Fragment,{children:n?Object(N.jsx)("img",{width:"30px",src:n,alt:""}):s.a.createElement(Cs[a].ICON)})},gs=n(514),_s=function(e){var t=e.ruleData,n=e.columnWidth;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)("td",{style:{width:n},children:Object(N.jsx)("div",{style:{flexFlow:"wrap"},children:t.map((function(e,t){return Object(N.jsx)(gs.a,{style:{padding:"5px",fontSize:"0.7rem"},children:e.toUpperCase()},t)}))})})})},Ls=n(515),ys=zt.a.Link,Us=function(e){var t=e.heading,n=e.content;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ft.a,{className:"primary-card",children:Object(N.jsx)(Rt.a,{style:{textAlign:"center"},align:"center",children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3",children:t}),Object(N.jsxs)("p",{className:"lead",children:[n," ",Object(N.jsx)(ys,{target:"_blank",rel:"noopener noreferrer",href:W.LINKS.REQUESTLY_DOCS,children:"Read Docs"})]}),Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){return window.open(W.LINKS.REQUESTLY_DOCS)},children:"Get for Chrome"}),Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){return window.open(W.LINKS.FIREFOX_EXTENSION)},children:"Get for Firefox"})]})]})})})})})},vs=function(e){e.columnWidth;var t=e.ruleData,n=Object(c.useContext)(X),a=n.state,r=n.dispatch,s=$e(a),i=function(e){return e.marketplace.ruleStatus}(a),l=rt(a),o=Object(c.useCallback)(r,[r]),O=Object(c.useState)(!1),E=Object(u.a)(O,2),b=E[0],p=E[1],h=Object(c.useState)(!1),T=Object(u.a)(h,2),m=T[0],f=T[1],R=t.MKTRuleID,A=function(e){var n=[];t.rules.forEach((function(t){n.push(xs(l).saveRuleOrGroup(Object(j.a)(Object(j.a)({},t),{},{status:e})))})),Promise.all(n).then((function(){o(function(e){return{type:d.TOGGLE_MARKETPLACE_RULES,payload:e}}(R))})).then((function(){S.CONSTANTS.RULE_STATUS.ACTIVE,Ge.success("Rule is now ".concat(e.toLowerCase()))})).then((function(){Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.MARKETPLACE,"toggled",t.name)}))},x=function(){return i[R]===S.CONSTANTS.RULE_STATUS.ACTIVE},C=function(){return f(!m)},I=function(){return Object(N.jsx)(en.a,{visible:m,onCancel:C,footer:null,children:Object(N.jsx)(Us,{heading:"Browser Extension Required",content:"Please install Requestly Browser Extension to use Marketplace Rule."})})},g=Object(c.useCallback)(x,[R,i]);return Object(c.useEffect)((function(){p(g())}),[g]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(I,{}),Object(N.jsx)(Ls.a,{checked:b,onChange:function(){us()?s.loggedIn?p(!b):r(Pt("authModal",!0,{redirectURL:window.location.href})):f(!0)},onClick:function(e){us()&&s.loggedIn&&(x()?A(S.CONSTANTS.RULE_STATUS.INACTIVE):A(S.CONSTANTS.RULE_STATUS.ACTIVE))}})]})},Ps=[{title:"Site",width:10,align:"center",dataIndex:"site",render:function(e){return Object(N.jsx)(Is,{ruleData:e})}},{title:"Name",width:200,dataIndex:"name",render:function(e){return Object(N.jsx)("p",{children:e})}},{title:"Tags",width:70,dataIndex:"tags",render:function(e){return Object(N.jsx)(_s,{ruleData:e})}},{title:"Status",width:40,dataIndex:"status",align:"center",render:function(e){return Object(N.jsx)(vs,{ruleData:e})}}],Ds=[],ws=function(e){var t=e.marketplaceRules;Object(c.useEffect)((function(){t.map((function(e){return n(e,e.MKTRuleID)}))}),[]);var n=function(e,t){Ds.push({site:e,name:e.name+" "+e.description,tags:e.tags,status:e})};return Object(N.jsx)(ta.a,{columns:Ps,request:function(){return Promise.resolve({data:Ds,success:!0})},search:!1,toolBarRender:!1,pagination:!1,headerTitle:"Marketplace"})},Ms=function(){return Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:"7",children:Object(N.jsx)("center",{children:Object(N.jsx)("h2",{style:{margin:"2rem"},children:"Couldn`t find any rule matching the given keyword."})})})})},ks=function(e){var t=e.marketplaceRules,n=Object(c.useContext)(X),a=n.dispatch,r=function(e){return et(e).marketplace}(n.state),s=t,i=ce()(r)?s:s.filter((function(e){return e.name.match(new RegExp(r,"i"))}));return Object(c.useEffect)((function(){return function(){a({type:d.UPDATE_SEARCH,payload:{searchType:"marketplace",value:""}})}}),[a]),Object(N.jsx)("tbody",{style:{height:"100%",width:"100%"},children:ce()(i)?Object(N.jsx)(Ms,{}):Object(N.jsx)(ws,{marketplaceRules:i})})},Gs=function(e){var t=e.marketplaceRules;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ns.a,{style:{width:"100%"},children:Object(N.jsx)(ks,{marketplaceRules:t})})})},Fs=function(){var e=Object(c.useState)(!0),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),s=Object(u.a)(r,2),i=s[0],l=s[1],o=function(){var e=Object(ne.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ee.firestore().collection("marketplace"),e.next=3,t.get();case 3:e.sent.forEach((function(e){l((function(t){return[].concat(Object(Ct.a)(t),[e.data()])}))})),a(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useLayoutEffect)((function(){o()}),[]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ue.a,{fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsxs)(Oe.a,{children:[Object(N.jsx)(Vt.a,{children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsx)("h3",{style:{marginLeft:"2px"},children:"Marketplace"})})})}),n?Object(N.jsx)("div",{children:Object(N.jsx)(Nr,{customLoadingMessage:"Loading Marketplace"})}):Object(N.jsx)(Gs,{marketplaceRules:i})]})})})})},Bs=function(){var e=Object(c.useContext)(X),t=e.dispatch,n=e.state,a=We(n),r=rt(n),i=qe(n),l=Object(c.useCallback)(t,[t]);Object(c.useEffect)((function(){var e=xs(r).getRecords(S.CONSTANTS.OBJECT_TYPES.GROUP),t=xs(r).getRecords(S.CONSTANTS.OBJECT_TYPES.RULE);Promise.all([e,t]).then((function(e){var t=e[0],n=e[1];l(Lt(n,t))}))}),[l,r]);var o=Object(c.useCallback)((function(){var e={};return i.forEach((function(t){e[t.MKTRuleID]=t.status})),e}),[a]);return Object(c.useEffect)((function(){l(function(e){return{type:d.UPDATE_MARKETPLACE_RULES,payload:e}}(o()))}),[l,o]),Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(ue.a,{fluid:!0,children:Object(N.jsx)(Fs,{})})})},Vs=function(e){Object(Qa.a)(n,e);var t=Object(za.a)(n);function n(){return Object(Wa.a)(this,n),t.apply(this,arguments)}return Object(qa.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Bs,{})})}}]),n}(s.a.Component),Hs=function(){return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsxs)(yc.a,{children:[Object(N.jsx)("div",{children:Object(N.jsx)("div",{style:{textAlign:"center"},children:Object(N.jsx)("h1",{children:"Requestly Premium for Teams"})})}),Object(N.jsx)("h1",{style:{marginLeft:"10px"},children:"My Teams"}),Object(N.jsx)(Rt.a,{style:{display:"grid",placeItems:"center",width:"100%"},children:Object(N.jsx)(sa,{})})]})})},Ys=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ft,{component:Hs})})},Ks=n(518),Ws=n(507),qs=zt.a.Text,Qs=function(){var e=Object(ae.g)();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(ft.a,{className:"primary-card",children:[Object(N.jsx)(Ws.a,{status:"warning",title:"We are unable to verify this transaction!",subTitle:"Please try again with a different payment method. Any amount deducted would be automatically credited back to your card.",extra:[Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){return Ie(e)},icon:Object(N.jsx)(Ks.a,{}),children:"Try again"},"go-back")]}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,align:"center",children:Object(N.jsx)(qs,{type:"secondary",children:"To pay via PayPal or wire transfer, write to us at contact@requestly.io"})})})]})})},zs=function(){var e=Object(ae.g)();return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ft.a,{className:"primary-card",children:Object(N.jsx)(Ws.a,{status:"success",title:"Successfully subscribed to Requestly Premium!",subTitle:"Account activation takes 1-2 minutes, please wait. You will shortly receive the receipt on your email address.",extra:[Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){return me(e,!0)},icon:Object(N.jsx)(Ks.a,{}),children:"Start using Requestly Premium"},"go-back")]})})})},Js=n(204),Xs=W.PATHS,Zs=function(){var e=Object(ae.g)();return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ws.a,{status:"404",title:"Oops! Error 404",subTitle:"Sorry, we can't find that page! Don't worry though, everything is STILL AWESOME!",extra:Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){return e.push(Xs.RULES.RELATIVE)},icon:Object(N.jsx)(Js.a,{}),children:"Back Home"})})})},$s=W.PATHS,ei=function(){var e=Object(ae.g)();return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ws.a,{status:"403",title:"Oops! No access",subTitle:"Oops! Looks like you are not authorized to access this page. Don't worry though, everything is STILL AWESOME!",extra:Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){return e.push($s.RULES.RELATIVE)},icon:Object(N.jsx)(Js.a,{}),children:"Back Home"})})})},ti=function(e){var t=e.customHeading,n=e.hideShadow,a=Object(c.useRef)(!0),r=Object(c.useState)(!0),i=Object(u.a)(r,2),l=i[0],o=i[1],d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(!1),S=Object(u.a)(b,2),p=S[0],h=S[1],T=Object(c.useState)(!1),m=Object(u.a)(T,2),f=m[0],R=m[1],A=Object(c.useState)(!1),x=Object(u.a)(A,2),C=x[0],I=x[1],g=Object(c.useCallback)((function(){Ee.functions().httpsCallable("fetchIndividualUserSubscriptionDetails")().then((function(e){if(!a.current)return null;if(!1===e.data.success)return E(!0),void o(!1);var t=e.data.data;I(t.status),"canceled"===t.status&&E(!0),h(new Date(1e3*t.endDate).toDateString()),R(new Date(1e3*t.startDate).toDateString()),o(!1)})).catch((function(e){if(!a.current)return null;o(!1)}))}),[]);return Object(c.useEffect)((function(){return g(),function(){a.current=!1}}),[g]),Object(N.jsx)(s.a.Fragment,{children:l?Object(N.jsx)(de.a,{children:Object(N.jsx)(Se,{})}):j?Object(N.jsx)(ia,{customHeading:t,hideShadow:n}):Object(N.jsx)(ma,{hideManagePersonalSubscriptionButtion:!0,customHeading:t,hideShadow:n,subscriptionDetails:{validTill:p,validFrom:f,status:C,type:"individual"}})})},ni=function(e){var t=e.mode,n=e.teamId,a=new URLSearchParams(window.location.search),r=!!a.has("autoRefresh")&&"true"===a.get("autoRefresh"),i=Object(c.useRef)(!0),l=Object(c.useContext)(X).state,o=$e(l),d=Object(c.useState)(null),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(!1),S=Object(u.a)(b,2),p=S[0],h=S[1],T=Object(c.useState)([]),m=Object(u.a)(T,2),f=m[0],R=m[1],A=Object(c.useState)(!1),C=Object(u.a)(A,2),I=C[0],g=C[1],_=function(e){if(t){g(!0);var a=[],r="individual"===t?"individualSubscriptions":"teams",c="individual"===t?o.details.profile.uid:n,s=Ee.firestore().collection(r).doc(c).collection("invoices").orderBy("created","desc");e&&(s=s.startAfter(e)),(s=s.limit(10)).get().then((function(e){if(!i.current)return null;e.empty?h(!0):(e.forEach((function(e){e.data().number&&e.data().hosted_invoice_url&&a.push({id:e.id,total:Math.round(e.data().total/100).toFixed(2),subTotal:Math.round(e.data().subTotal/100).toFixed(2),tax:Math.round((e.data().tax||0)/100).toFixed(2),amountPaid:Math.round(e.data().amountPaid/100).toFixed(2),created:new Date(1e3*e.data().created).toDateString(),periodStart:new Date(1e3*e.data().periodStart).toDateString(),preiodEnd:new Date(1e3*e.data().preiodEnd).toDateString(),currency:e.data().currency,status:e.data().status,hosted_invoice_url:e.data().hosted_invoice_url,number:e.data().number,productStart:new Date(1e3*e.data().productStart).toDateString(),productEnd:new Date(1e3*e.data().productEnd).toDateString()})})),a.length>0&&(R((function(e){return e.concat(a)})),E(e))),g(!1)}))}},L=Object(c.useCallback)(_,[t,n,o.details.profile.uid]);return Object(c.useEffect)((function(){return L(),function(){i.current=!1}}),[L]),Object(c.useLayoutEffect)((function(){if(r){var e=setInterval((function(){Object(pe.isEmpty)(f)&&L()}),2e3);return function(){clearInterval(e)}}}),[f,L,r]),Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,align:"center",children:I?Object(N.jsx)(Se,{customLoadingMessage:"Loading your invoices"}):Object(pe.isEmpty)(f)?Object(N.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:Object(N.jsx)("h5",{children:"There are currently no invoices. If you have recently made a purchase, please wait a minute or two."})}):function(){var e=function(e){var t=new Set;return e.filter((function(e){var n=t.has(e.id);return t.add(e.id),!n}))}(f);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ta.a,{rowKey:"id",options:!1,pagination:!1,search:!1,dateFormatter:!1,headerTitle:!1,dataSource:e,columns:[{title:"Invoice ID",dataIndex:"number",render:function(e,t){return Object(N.jsx)(Nt.a,{type:"link",onClick:function(e){return window.open(t.hosted_invoice_url,"_blank")},children:e})}},{title:"Amount",render:function(e,t){return Object(N.jsx)("span",{className:"font-weight-bold",style:{textTransform:"uppercase"},children:"".concat(t.currency," ").concat(parseInt(t.total)>0?parseInt(t.total):0)})}},{title:"Status",dataIndex:"status",render:function(e,t){return function(e){switch(e.status){case"open":return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsxs)(Nt.a,{className:"btn-icon btn-3",color:"primary",size:"sm",type:"button",children:[Object(N.jsx)("span",{className:"btn-inner--icon",children:Object(N.jsx)(x.x,{})}),Object(N.jsx)("span",{className:"btn-inner--text",children:"Pay now"})]})});case"paid":return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("i",{className:"bg-success"}),Object(N.jsx)("span",{className:"font-weight-bold",children:"Paid"})]});case"void":return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("i",{className:"bg-danger"}),Object(N.jsx)("span",{className:"font-weight-bold",children:"Cancelled"})]});case"draft":return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("i",{className:"bg-danger"}),Object(N.jsx)("span",{className:"font-weight-bold",children:"Pending"})]});case"uncollectible":return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("i",{className:"bg-danger"}),Object(N.jsx)("span",{className:"font-weight-bold",children:"Expired"})]});default:return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("i",{className:"bg-success"}),"Paid"]})}}(t)}},{title:"Invoice Date",dataIndex:"created"},{title:"Invoice Period",render:function(e,t){return"".concat(t.productStart," ~ ").concat(t.productEnd)}}]}),Object(N.jsx)("br",{}),p?Object(N.jsx)("span",{children:"- End of all invoices -"}):Object(N.jsx)(Nt.a,{onClick:function(e){_(j.docs[j.docs.length-1])},type:"link",children:"View Past Invoices"})]})}()})})})},ai=function(){var e=Object(c.useRef)(!0),t=Object(c.useState)(!0),n=Object(u.a)(t,2),a=n[0],r=n[1],s=Object(c.useCallback)((function(){Ee.functions().httpsCallable("fetchIndividualUserSubscriptionDetails")().then((function(t){if(!e.current)return null;!1!==t.data.success?"canceled"===t.data.data.status&&r(!1):r(!1)})).catch((function(t){if(!e.current)return null}))}),[]);return Object(c.useEffect)((function(){return s(),function(){e.current=!1}}),[s]),Object(N.jsx)(ue.a,{className:" mt--7",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsxs)(Oe.a,{className:"shadow",children:[Object(N.jsx)(Vt.a,{className:"border-0 has-thin-border-bottom",children:Object(N.jsxs)(de.a,{className:"align-items-center",children:[Object(N.jsx)(ie.a,{className:"text-center text-sm-center text-xl-left text-lg-left text-md-left margin-bottom-1-when-xs margin-bottom-1-when-sm",children:Object(N.jsx)("h2",{className:"mb-0",children:"Requestly Premium"})}),a?Object(N.jsx)(ie.a,{xs:"12",xl:"6",lg:"6",md:"6",className:"text-center text-sm-center text-xl-right text-md-right text-lg-right",children:Object(N.jsxs)(oe.a,{className:"btn-icon btn-3",color:"primary",type:"button",onClick:function(){return ve({mode:"individual",planType:"gold"})},children:[Object(N.jsx)("span",{className:"btn-inner--icon",children:Object(N.jsx)(x.C,{size:"1rem"})}),Object(N.jsx)("span",{className:"btn-inner--text",children:"Change Plan"})]})}):null]})}),Object(N.jsxs)(je.a,{children:[Object(N.jsx)(de.a,{children:Object(N.jsxs)(ie.a,{children:[Object(N.jsx)("br",{}),Object(N.jsxs)("h4",{style:{textAlign:"center"},children:["You can manage your personal subscription here. If you want to manage a subscription for a Team instead, click"," ",Object(N.jsx)(o.b,{to:W.PATHS.ACCOUNT.MY_TEAMS.ABSOLUTE,children:"here"}),"."]})]})}),Object(N.jsx)("br",{}),Object(N.jsx)(fa,{hideShadow:!0,customHeading:"Currently Selected Subscription",hideManagePersonalSubscriptionButtion:!0,hideIfSubscriptionIsPersonal:!0,hideIfNoSubscription:!0}),Object(N.jsx)(ti,{hideShadow:!0,customHeading:"Personal Subscription"}),Object(N.jsxs)(Oe.a,{className:"border-0 has-no-box-shadow",children:[Object(N.jsx)(Vt.a,{className:"border-0 has-thin-border-bottom",children:Object(N.jsxs)(de.a,{className:"align-items-center",children:[Object(N.jsx)(ie.a,{className:"text-center text-sm-center text-xl-left text-lg-left text-md-left margin-bottom-1-when-xs margin-bottom-1-when-sm",children:Object(N.jsx)("h3",{className:"mb-0",children:"Billing"})}),a?Object(N.jsx)(ie.a,{xs:"12",xl:"6",lg:"6",md:"6",className:"text-center text-sm-center text-xl-right text-md-right text-lg-right",children:Object(N.jsxs)(oe.a,{className:"btn-icon btn-3",color:"primary",type:"button",onClick:function(){return Pe({mode:"individual"})},children:[Object(N.jsx)("span",{className:"btn-inner--icon",children:Object(N.jsx)(x.i,{size:"1.2rem"})}),Object(N.jsx)("span",{className:"btn-inner--text",children:"Update Payment Method"})]})}):null]})}),Object(N.jsx)(je.a,{className:"border-0",children:Object(N.jsx)(ni,{mode:"individual"})})]}),Object(N.jsx)(de.a,{children:Object(N.jsxs)(ie.a,{style:{fontSize:"0.8125rem"},className:"text-center",children:["Any questions? Reach our payment support team at"," ",Object(N.jsx)("a",{href:"mailto:".concat(S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),children:S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL}),"."]})})]})]})})})})},ri=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ft,{component:ai})})},ci=n(187);function si(e){var t=e.currency,n=e.price,a=e.duration,r=e.showOnlyExactAmount,c=e.plan;return 0===Number(n)?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("h1",{style:{textAlign:"center"},children:[Object(N.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:ba(null,t)}),Object(N.jsx)("span",{style:{fontSize:"3rem"},children:"0"}),Object(N.jsx)("span",{children:"/month"})]}),"monthly"===a?null:Object(N.jsx)("h4",{style:{textIndent:"100%",whiteSpace:"nowrap",overflow:"hidden"},children:ba(null,t)})]}):"monthly"===a?Object(N.jsxs)("h1",{style:{textAlign:"center"},children:[Object(N.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:ba(null,t)}),Object(N.jsx)("span",{style:{fontSize:"3rem"},children:+n}),Object(N.jsxs)("span",{children:["/month",c.id===W.PRICING.PLAN_NAMES.ENTERPRISE?"/user":null]})]}):"quarterly"===a?Object(N.jsx)(s.a.Fragment,{children:r?Object(N.jsxs)("h1",{style:{textAlign:"center"},children:[Object(N.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:ba(null,t)}),+n,Object(N.jsx)("span",{children:"/quarter"})]}):Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsxs)("h1",{style:{textAlign:"center"},children:[Object(N.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:ba(null,t)}),+Math.floor(+n/3),Object(N.jsx)("span",{children:"/month"})]}),Object(N.jsxs)("h1",{children:[ba(null,t),Object(N.jsx)("b",{children:+n})," /quarter"]})]})}):"half-yearly"===a?Object(N.jsx)(s.a.Fragment,{children:r?Object(N.jsxs)("h1",{style:{textAlign:"center"},children:[Object(N.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:ba(null,t)}),+n,Object(N.jsx)("span",{className:"period",children:"/six months"})]}):Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsxs)("h1",{style:{textAlign:"center"},children:[Object(N.jsx)("span",{className:"period",style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:ba(null,t)}),+Math.floor(+n/6),Object(N.jsx)("span",{children:"/month"})]}),Object(N.jsxs)("h1",{style:{textAlign:"center"},children:[ba(null,t),Object(N.jsx)("b",{children:+n})," /six months"]})]})}):"annual"===a?Object(N.jsx)(s.a.Fragment,{children:r?Object(N.jsxs)("h1",{style:{textAlign:"center"},children:[Object(N.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:ba(null,t)}),+n,Object(N.jsx)("span",{children:"/year"})]}):Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsxs)("h1",{style:{textAlign:"center"},children:[Object(N.jsx)("span",{style:{verticalAlign:"super",marginRight:"1%",fontSize:"1.5rem"},children:ba(null,t)}),Object(N.jsx)("span",{style:{fontSize:"3rem"},children:+Math.floor(+n/12)}),Object(N.jsxs)("span",{children:["/month",c.id===W.PRICING.PLAN_NAMES.ENTERPRISE?"/user":null]})]}),Object(N.jsxs)("h4",{style:{textAlign:"center"},children:["~ ",ba(null,t),Object(N.jsx)("b",{children:+n}),"/year",c.id===W.PRICING.PLAN_NAMES.ENTERPRISE?"/user":null]})]})}):void 0}var ii=n(973),li=n(151),oi=n(90);function ui(e){var t=e.feature;return t.title&&!0===t.enabled?Object(N.jsxs)("div",{style:{display:"flex",margin:"10px"},children:[t.icon&&"frown"===t.icon?Object(N.jsx)(ii.a,{}):Object(N.jsx)(li.a,{style:{color:"#0a48b3"}}),Object(N.jsx)("h3",{className:"pricing-table-item-text",style:{margin:"auto"},children:t.title})]}):t.title&&!1===t.enabled?Object(N.jsxs)("div",{style:{display:"flex",margin:"10px"},children:[Object(N.jsx)(oi.a,{}),Object(N.jsx)("h3",{className:"pricing-table-item-text",style:{color:"grey",margin:"auto"},children:t.title})]}):t.title?t.title:void 0}var di=n(974),Oi=zt.a.Text,ji=st,Ei=W.AUTH.ACTION_LABELS,bi=function(e){var t=e.features,n=e.currency,a=e.duration,r=e.currentPlan,i=e.onChoosePlan,l=e.isPlanExpired,o=e.couponDiscountValue,u=e.annualDiscountValue,d=Object(c.useContext)(X),O=d.state,j=d.dispatch,E=$e(O),b=Object(ae.g)();if(!t||!t.length)return Object(N.jsx)("div",{className:"section is-large has-text-centered",children:Object(N.jsx)("button",{className:"button is-loading",children:"Loading"})});var S=function(){return Object(N.jsx)("span",{children:"Upgrade"})};return Object(N.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:ji.map((function(e){if("quarterly"===a)return Object(N.jsx)(N.Fragment,{});var c=e[a].price[n];"gold"===e.id&&"annual"===a?c-=u/100*c:e.allowDiscounts&&(c-=o/100*c),c=c.toFixed(2);var d=0===Number(c),O=Ot(r),p=jt(e.id),h=!(!O||l||!E)&&ut(E),T=function(t){return"gold"===e.id?Object(N.jsx)(Zn.a.Ribbon,{text:"Popular",children:t.children}):t.children};return Object(N.jsx)("div",{onClick:function(){return i(e.id)},children:Object(N.jsx)(T,{text:"Popular",children:Object(N.jsx)(yc.a,{hoverable:!0,style:"gold"===e.id?{margin:"10px",borderWidth:"3px",borderRadius:"0.5rem",borderColor:"#0a48b3"}:{margin:"10px"},className:"pricing-table-shadow",children:Object(N.jsxs)("div",{style:{width:"300px"},children:[Object(N.jsx)("h1",{style:{display:"grid",placeItems:"center",fontWeight:"bolder"},children:Et(e.id)}),Object(N.jsx)(si,{currency:n,duration:a,price:c,plan:e}),Object(N.jsx)("div",{style:{textAlign:"center"},children:Object(N.jsx)(Oi,{type:"secondary",children:d?"No Credit Card Required":"Cancel Anytime"})}),Object(N.jsx)("hr",{className:"hr-light"}),Object(N.jsx)("div",{children:t.map((function(t){return!1===t.showInComparisonTable?Object(N.jsx)(s.a.Fragment,{},t.id):Object(N.jsx)("div",{style:{textAlign:"center",margin:"1.1rem"},children:Object(N.jsx)(ui,{feature:t[e.id]})},t.id)}))}),Object(N.jsx)("br",{}),d?Object(N.jsx)(Nt.a,{block:!0,size:"large",shape:"round",type:"secondary",onClick:function(){return E.loggedIn?b.push("/rules"):void j(Pt("authModal",!0,{redirectURL:window.location.href,authMode:Ei.SIGN_UP}))},children:"Sign up for free"}):p?Object(N.jsx)(Nt.a,{block:!0,size:"large",shape:"round",type:h&&!p?"default":"primary",href:W.LINKS.CONTACT_US,disabled:h&&!p,icon:Object(N.jsx)(di.a,{}),children:p?"Contact Us":h?"Current plan":"Contact Us"}):Object(N.jsx)(Nt.a,{block:!0,size:"large",shape:"round",type:h&&!p?"default":"primary",disabled:h&&!p,icon:Object(N.jsx)(jc.a,{}),children:p?S():h?"Current plan":S()})]})})})},e.id)}))})},Si=function(){return Object(N.jsx)("h6",{children:"Checkout is currently unavailable"})},pi=n(517),hi=S.CONSTANTS.GA_EVENTS;function Ti(e){var t=e.user,n=Object(c.useState)({}),a=Object(u.a)(n,2),r=a[0],i=a[1],l=Object(c.useState)(0),o=Object(u.a)(l,2),d=o[0],O=o[1],j=Ee.functions().httpsCallable("getEnterpriseAdminDetails"),E=Ee.functions().httpsCallable("requestEnterprisePlanFromAdmin");return Object(c.useLayoutEffect)((function(){t.details.isLoggedIn&&0===Object.keys(r).length&&j({email:t.details.profile.email}).then((function(e){i(e)}))})),Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("br",{}),r&&r.data&&r.data.success?1===d?Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,align:"center",children:Object(N.jsx)(ca.a,{})})}):Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{className:"",sm:"12",span:14,offset:5,align:"center",children:2===d?Object(N.jsx)(pi.a,{type:"success",showIcon:!0,color:"primary",message:Object(N.jsxs)(N.Fragment,{children:[r.data.enterpriseData.admin.name," ","has been notified. Please get in touch with them for further details."]})}):Object(N.jsx)(pi.a,{type:"info",showIcon:!0,message:Object(N.jsxs)(N.Fragment,{children:["Your organization is already on Requestly Enterprise Plan managed by"," ",r.data.enterpriseData.admin.name,"."," ",Object(N.jsx)("span",{onClick:function(){O(1);var e=r.data.enterpriseData.admin,n=e.email.split("@")[1];E({userEmail:t.details.profile.email,adminEmail:e.email,adminName:e.name}).then((function(){Kn(hi.CATEGORIES.PRICING,hi.ACTIONS.REQUEST_ADMIN,"".concat(n," enterprise requested")),O(2)})).catch((function(t){console.log(t),Ge.error("Unable to send email"),Ge.info("Contact directly at: ".concat(e.email))}))},className:"text-light",style:{cursor:"pointer",fontWeight:"bolder"},children:"Click here"})," ","to request Premium subscription for you."]})})})}):null,Object(N.jsx)("br",{})]})}var mi=S.CONSTANTS.GA_EVENTS,fi=ua,Ri=Ea,Ai=Sa,xi=function(e){var t=e.currency,n=Object.values(Ri).includes(t)?t:null,a=Object(c.useContext)(X).state,r=$e(a),i=Object(c.useState)(""),l=Object(u.a)(i,1)[0],o=Object(c.useState)(null),d=Object(u.a)(o,1)[0],O=Object(c.useState)(!!n),j=Object(u.a)(O,1)[0],E=Object(c.useState)(n?n.toUpperCase():fi),b=Object(u.a)(E,2),p=b[0],h=b[1],T=Object(c.useState)("annual"),m=Object(u.a)(T,2),f=m[0],R=m[1],A=Object(c.useState)(0),x=Object(u.a)(A,1)[0],C=Object(c.useState)(it),I=Object(u.a)(C,1)[0],g=Object(c.useState)(!1),_=Object(u.a)(g,2),L=_[0],y=_[1],U=Object(c.useState)(null),v=Object(u.a)(U,2),P=v[0],D=v[1],w=Object(c.useState)(null),M=Object(u.a)(w,2),k=M[0],G=M[1],F=Object(c.useState)(null),B=Object(u.a)(F,2),V=B[0],H=B[1],Y=Object(c.useState)(!1),K=Object(u.a)(Y,2),q=K[0],Q=K[1],z=Object(c.useCallback)((function(){if(j)return h(p),void y(!0);fetch("https://api.country.is/").then((function(e){200===e.status&&e.json().then((function(e){if(e.country){var t=Ai(e.country);h(t)}else h(fi);y(!0)}))})).catch((function(e){h(fi),y(!0)}))}),[]);return Object(c.useLayoutEffect)((function(){if(r.details.isLoggedIn&&(r.details.planDetails?(G(St(r.details.planDetails)),D(r.details.planDetails.planId.split("_")[0])):D("bronze")),L||z(),d&&f&&p&&L){var e=d[f].price[p];"gold"===d.id&&"annual"===f?e-=0*e:d.allowDiscounts&&(e-=x/100*e),e=e.toFixed(2),H(e)}}),[d,f,p,x,L,z,r]),Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(de.a,{children:Object(N.jsxs)("div",{style:{display:"grid",placeItems:"center"},children:[Object(N.jsx)("h1",{className:"font-weight-bolder  mt-4 h1-larger",style:{fontWeight:700},children:"Pricing plans for individuals and teams"}),Object(N.jsx)("h3",{children:"All plans come with a 15-day money back guarantee."})]})}),Object(N.jsxs)("div",{children:[Object(N.jsx)(ci.a.Group,{style:{display:"grid",placeItems:"center",marginTop:"30px"},defaultValue:"annual",buttonStyle:"solid",onChange:function(e){return t=e.target.value,R(t),void Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.PRICING,S.CONSTANTS.GA_EVENTS.ACTIONS.DURATION_CHANGE,"Duration changed to ".concat(t));var t},children:Object(N.jsxs)("div",{children:[Object(N.jsx)(ci.a.Button,{style:{width:"200px",textAlign:"center",borderTopLeftRadius:"20px",borderBottomLeftRadius:"20px",fontWeight:"bold"},value:"monthly",children:"Monthly"}),Object(N.jsx)(ci.a.Button,{style:{width:"200px",textAlign:"center",borderTopRightRadius:"20px",borderBottomRightRadius:"20px",fontWeight:"bold"},value:"annual",children:"Yearly"})]})}),Object(N.jsx)("h4",{style:{color:"#0a48b3",display:"grid",placeItems:"center",marginLeft:"200px",marginTop:"10px",fontWeight:"bold"},children:"~2 months EXTRA!"})]}),Object(N.jsx)(Ti,{user:r}),Object(N.jsx)(bi,{currency:p,duration:f,couponDiscountValue:x,annualDiscountValue:0,features:I,currentPlan:P,isPlanExpired:k,onChoosePlan:function(e){"bronze"!==e&&(r.details.isLoggedIn?jt(e)?(Kn(mi.CATEGORIES.PRICING,mi.ACTIONS.VIEWED,"Redirected@Teams.from.pricing.page"),Le(null,!0)):(Kn(mi.CATEGORIES.PRICING,mi.ACTIONS.VIEWED,"Redirected@Checkout.from.Pricing.Page"),Ue({mode:"individual",planType:"gold",days:ja(f)})):(Kn(mi.CATEGORIES.PRICING,mi.ACTIONS.LOGIN_REQUESTED,"sign in"),function(e,t){var n=t||{},a=n.redirectURL,r=n.source,c=new URL(window.location.origin+he.AUTH.SIGN_IN.ABSOLUTE);a&&c.searchParams.set("redirectUrl",a),r&&c.searchParams.set("src",r),e?e.push(c.href):window.location=c.href}(!1,{redirectURL:window.location.pathname,source:"pricing",hardRedirect:!0})))}}),Object(N.jsx)("div",{className:"container section content mb-3",children:P===W.PRICING.PLAN_NAMES.SILVER?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("span",{children:["You are on Silver Plan which expires on"," ",bt(r.details.planDetails),". Silver Plan is deprecated and can no longer be renewed. Please contact us at"," ",Object(N.jsx)("a",{href:"mailto:contact@requestly.io",children:"contact@requestly.io"})," for further questions."]}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{})]}):null}),q?Object(N.jsx)(Si,{isOpen:q,toggleModal:function(){Q(!q)},selectedCurrency:p,selectedDuration:f,price:V,showOnlyExactAmount:!0,couponCodeText:l}):null]})};n(394);var Ni={AU:3,BR:5,CA:4,CN:3,DE:1,GB:5,IN:6,JP:6,RU:6,TR:2,US:6},Ci=function(){var e=Object(ne.a)(te.a.mark((function e(){var t,n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.country.is/");case 2:if(200!==(t=e.sent).status){e.next=10;break}return e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n.country);case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ii=function(){var e=Object(ne.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=localStorage.getItem("country"))){e.next=6;break}return e.next=4,Ci();case 4:t=e.sent,localStorage.setItem("country",t);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gi=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(0),s=Object(u.a)(r,2),i=s[0],l=s[1],o=Object(c.useState)(!0),d=Object(u.a)(o,2),O=d[0],j=d[1],E=Object(c.useCallback)((function(e){""===e?j(!1):void 0!==Ni[e]?(l(Ni[e]),j(!1)):""!==e&&void 0===Ni[e]&&j(!1)}),[]),b=Object(c.useCallback)(Object(ne.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ii();case 2:t=e.sent,a(t),E(t);case 5:case"end":return e.stop()}}),e)}))),[E]);Object(c.useLayoutEffect)((function(){b()}),[b]);return Object(N.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(12,auto)",justifyContent:"center",gap:"20px"},children:O?Object(N.jsx)(ra.a,{indicator:!0}):[Object(Ct.a)(Array(i)).map((function(e,t){return Object(N.jsx)("div",{children:Object(N.jsx)("img",{height:100,width:100,alt:"",style:{cursor:"default"},src:"assets/img/countries-customer-brand/".concat(n,"/customerLogo-").concat(t,".svg"),className:"bw-color-on-hover"})},t)})),Object(Ct.a)(Array(10-i)).map((function(e,t){return Object(N.jsx)("div",{children:Object(N.jsx)("img",{height:100,width:100,alt:"",style:{cursor:"default"},src:"assets/img/customer-brand/customerLogo-".concat(t,".svg"),className:"bw-color-on-hover"})},t)}))]})},_i=n(975),Li=function(){var e=[{ques:Object(N.jsx)(s.a.Fragment,{children:"Do you offer any trial period?"}),answer:Object(N.jsxs)(s.a.Fragment,{children:["No, but we offer ",Object(N.jsx)("strong",{children:"15-days Guarantee Period"}),". If you are not happy with your premium subscription, you may cancel your subscription from Account Settings or by reaching out our support."]})},{ques:Object(N.jsx)(s.a.Fragment,{children:"Is there any discount for an annual subscription?"}),answer:Object(N.jsx)(s.a.Fragment,{children:"Yes, we offer discounts if you choose annual subscription for any plan. Please check annual pricing for details."})},{ques:Object(N.jsx)(s.a.Fragment,{children:"Can I be a member of multiple Teams?"}),answer:Object(N.jsx)(s.a.Fragment,{children:"You can create or join multiple Teams. Team with the longest subscription would be selected automatically."})},{ques:Object(N.jsx)(s.a.Fragment,{children:"Can I upgrade from personal subscription to a Team subscription?"}),answer:Object(N.jsx)(s.a.Fragment,{children:"Yes. Cancel your personal subscription after activating a Team subscription and we'll refund the adjusted amount of personal subscription."})},{ques:Object(N.jsx)(s.a.Fragment,{children:"Which payment methods do you accept?"}),answer:Object(N.jsxs)(s.a.Fragment,{children:["We are using ",Object(N.jsx)("strong",{children:"Stripe"})," as our payment processor. Stripe supports majority of credit and debit card networks including"," ",Object(N.jsx)("strong",{children:"Visa & Mastercard"}),". American Express and Discover card users need to contact us at"," ",Object(N.jsx)("a",{className:"has-no-text-decoration",href:"mailto:".concat(S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),target:"_blank",rel:"noopener noreferrer",children:Object(N.jsx)("strong",{children:S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})}),"."]})},{ques:Object(N.jsx)(s.a.Fragment,{children:"Do you offer discounts for open-source project maintainers?"}),answer:Object(N.jsxs)(s.a.Fragment,{children:["Yes, we do offer discounts for ",Object(N.jsx)("b",{children:"open-source"})," project maintainers on a case-by-case basis. Please send an email to"," ",Object(N.jsx)("a",{className:"has-no-text-decoration",href:"mailto:".concat(S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),target:"_blank",rel:"noopener noreferrer",children:Object(N.jsx)("strong",{children:S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})})," ","with a description of your project and we'll review."]})},{ques:Object(N.jsx)(s.a.Fragment,{children:" Do you offer discounts for students?"}),answer:Object(N.jsxs)(s.a.Fragment,{children:["Yes, we offer one year free subscription of Requestly Premium to current ",Object(N.jsx)("b",{children:"students"}),". Please share your details at"," ",Object(N.jsx)("a",{className:"has-no-text-decoration",href:"mailto:".concat(S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),target:"_blank",rel:"noopener noreferrer",children:Object(N.jsx)("strong",{children:S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})}),"."]})},{ques:Object(N.jsx)(s.a.Fragment,{children:"I have another query..."}),answer:Object(N.jsxs)(s.a.Fragment,{children:["We are happy to help you. You can live chat with us during our office hours or write to us at"," ",Object(N.jsx)("a",{className:"has-no-text-decoration",href:"mailto:".concat(S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),target:"_blank",rel:"noopener noreferrer",children:Object(N.jsx)("strong",{children:S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})}),"."]})}];return Object(N.jsxs)("div",{style:{margin:"0px 100px 100px 100px "},children:[Object(N.jsx)("br",{}),Object(N.jsx)("h1",{style:{textAlign:"center"},children:"Pricing & limits FAQ"}),Object(N.jsx)("br",{}),Object(N.jsx)(_i.b,{grid:{gutter:16,column:2},dataSource:e,renderItem:function(e){return Object(N.jsx)(_i.b.Item,{children:Object(N.jsx)(yc.a,{bordered:!1,title:e.ques,children:e.answer})})}})]})},yi=function(){return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(ft.a,{className:"primary-card",children:Object(N.jsx)(de.a,{children:Object(N.jsx)("div",{className:"col text-center",children:Object(N.jsxs)(Oe.a,{className:"shadow",children:[Object(N.jsx)(xi,{}),Object(N.jsx)("br",{}),Object(N.jsxs)("div",{style:{textAlign:"center"},children:[Object(N.jsxs)("h4",{style:{display:"flex",justifyContent:"center",color:"grey"},children:["Prices inclusive of tax. Secure payment by \xa0",Object(N.jsx)(x.H,{size:"2rem",color:"#0a48b3",style:{transform:"translate(0%, -12%)"}})]}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("h2",{children:"Trusted by developer teams from 500+ organizations"}),Object(N.jsx)(gi,{})]}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)(Li,{})]})})})})})},Ui=function(e){Object(Qa.a)(n,e);var t=Object(za.a)(n);function n(){return Object(Wa.a)(this,n),t.apply(this,arguments)}return Object(qa.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(yi,{})})}}]),n}(s.a.Component),vi=n(234);var Pi=function(e){var t=e.code,n=e.count,a=e.limit,r=function(){return"".concat(window.location.origin).concat(W.PATHS.AUTH.SIGN_UP.RELATIVE,"?rcode=").concat(t," ")},c=function(){return Object(N.jsxs)(At.a,{children:[Object(N.jsx)("p",{className:"display-5",children:"When a new user joins with a different work email domain from yours, you both receive 1 month of Requestly Premium."}),Object(N.jsxs)("p",{className:"display-5",children:["When a new user joins with same work email domain as yours, you both receive 2 months of Requestly Premium."," ",Object(N.jsxs)("a",{href:"https://requestly.io/blog/2021/02/06/introducing-referral-feature/",target:"_blank",rel:"noreferrer",children:["Learn More ",Object(N.jsx)("i",{className:"fas fa-external-link-alt pl-1"})]})]})]})},s=function(){var e=0;return n&&a&&(e=n/a*100),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,align:"center",children:Object(N.jsx)(yr.a,{title:"Click to copy",children:Object(N.jsxs)(Nt.a,{onClick:function(){return e=r(),t=(t="Copied Referral link to clipboard!")||"Copied to clipboard!",void navigator.clipboard.writeText(e).then((function(){Ge.info(t)}),(function(e){console.error("Async: Could not copy text: ",e)}));var e,t},type:"success",color:"secondary",children:[r(),Object(N.jsx)("i",{className:"far fa-clipboard fa-2x"})]})})})}),Object(N.jsx)("br",{}),Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(At.a,{span:4,offset:10,align:"center",children:[Object(N.jsx)("div",{className:"text-center",children:"Referred ".concat(n," out of ").concat(a)}),Object(N.jsx)(vi.a,{percent:parseInt(e||0)})]})})]})};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(c,{}),Object(N.jsx)(s,{})]})};var Di=function(e){var t=e.referredAccounts;return Object(N.jsxs)(Oe.a,{className:"m-2",children:[Object(N.jsx)(Vt.a,{children:Object(N.jsx)(de.a,{className:"pl-5",children:Object(N.jsx)("h2",{children:"Users you have referred"})})}),Object(N.jsx)(je.a,{children:Object(N.jsxs)(Ns.a,{children:[Object(N.jsx)("thead",{children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{children:"#"}),Object(N.jsx)("th",{children:"Email"}),Object(N.jsx)("th",{children:"Date Joined"}),Object(N.jsx)("th",{children:"Rewards"})]})}),Object(N.jsx)("tbody",{children:t.map((function(e,t){return Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"row",children:t+1}),Object(N.jsx)("td",{children:e.email}),Object(N.jsx)("td",{children:e.dateJoined}),Object(N.jsx)("td",{children:e.reward})]},t)}))})]})})]})};function wi(e){return e.split("").reverse().join("")}function Mi(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*a));return t}function ki(e){return Mi(2)+wi(e)+Mi(2)}function Gi(e){return kn.getValue(["customProfile",e,"referral"]).then((function(t){return t||(console.log("making referral node"),function(e,t){var n={referral:{code:ki(e),referredAccountsCount:0,referredAccounts:[]}};return kn.setValue(["customProfile",e],n)}(e).then((function(){return kn.getValue(["customProfile",e,"referral"]).then((function(e){return e}))})))})).catch((function(e){return console.log(e)}))}var Fi=function(){var e=Object(c.useContext)(X).state,t=$e(e),n=Object(c.useState)(),a=Object(u.a)(n,2),r=a[0],i=a[1],l=Object(c.useState)(),o=Object(u.a)(l,2),d=o[0],O=o[1];return Object(c.useEffect)((function(){t.details.profile&&!r&&Gi(t.details.profile.uid).then((function(e){i(e)})).catch((function(e){return console.log(e)})),d||kn.getValue(["referral","limit"]).then((function(e){return O(e)})).catch((function(e){return console.log(e)}))}),[r,t,d]),r&&d?Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(ft.a,{className:"primary-card",children:Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(At.a,{span:24,align:"center",children:[Object(N.jsx)(Rt.a,{className:"align-items-center",children:Object(N.jsxs)(At.a,{span:"24",align:"center",children:[Object(N.jsxs)("h2",{className:"mb-0",children:["Spread the Love"," ",Object(N.jsx)("span",{role:"img","aria-label":"confetti",children:"\ud83c\udf89"})]}),Object(N.jsx)("p",{className:"text-muted mb-0",children:"Invite your colleagues to Requestly and get Requestly Premium Free"})]})}),Object(N.jsx)(Pi,{code:r.code,count:r.referredAccountsCount,limit:d}),r.referredAccounts?Object(N.jsx)(Di,{referredAccounts:r.referredAccounts}):null]})})})}):Object(N.jsx)(Nr,{customLoadingMessage:"Getting Referral Information"})},Bi=function(e){Object(Qa.a)(n,e);var t=Object(za.a)(n);function n(){return Object(Wa.a)(this,n),t.apply(this,arguments)}return Object(qa.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ft,{component:Fi})})}}]),n}(s.a.Component),Vi=W.RULES_LIST_TABLE_CONSTANTS,Hi=(Vi.GROUP_DETAILS,function(e,t,n){return e.groupId!==Vi.UNGROUPED_GROUP_ID&&(n[e.groupId]||(t.push(e.groupId),n[e.groupId]=!0)),Yi(e)}),Yi=function(e){var t=e;return delete t.isFavourite,t},Ki=function(e,t,n){return new Promise((function(a){var r=[],c={};xs(e).getAllRecords().then((function(e){var s=t.map((function(t){return Hi(e[t],r,c)})),i=[];r.forEach((function(e){i.push(n[e][Vi.GROUP_DETAILS])})),a({rules:s,groups:i})}))}))},Wi=function(e,t){var n=e.modificationDate?e.modificationDate:e.creationDate,a=t.modificationDate?t.modificationDate:t.creationDate;return n<a?1:n>a?-1:0},qi=function(e){return"MKTRuleID"in e},Qi=S.CONSTANTS.GA_EVENTS,zi=function(){var e=Object(ne.a)(te.a.mark((function e(t,n){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Ee.database().ref("users/".concat(t,"/profile")),e.next=4,a.update({isBackupEnabled:n});case 4:return Ge.info("Backups are now ".concat(n?"enabled":"disabled",".")),e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),Ge.error("Sorry, we are experiencing issues updating the backup state."),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),Ji=function(e){return xs(e).getRecord(W.LAST_BACKUP_TIMESTAMP)},Xi=function(e,t){var n=new Date(e),a=new Date(t);return n.getTime()-a.getTime()},Zi=function(e){var t=!1;if(e){var n=Xi(Date.now(),e);Math.floor(n/1e3/60/60/24)>7&&(t=!0)}return Boolean(!e&&t)},$i=function(e){return Ji(e).then((function(t){var n,a=Date.now();t&&(n=Xi(a,t));var r=Math.floor(n/1e3/60/60);return!t||r>6?function(e){return new Promise((function(t){xs(e).getAllRecords().then((function(e){var n=[],a={},r=[],c={};for(var s in e)switch(e[s].objectType){case S.CONSTANTS.OBJECT_TYPES.RULE:r.push(e[s]);break;case S.CONSTANTS.OBJECT_TYPES.GROUP:c[s]=e[s]}var i=r.map((function(e){return Hi(e,n,a)})),l=[];n.forEach((function(e){l.push(c[e])})),t({rules:i,groups:l})}))}))}(e).then((function(t){return Ee.functions().httpsCallable("updateRulesBackup")({records:t,timestamp:a}).then((function(){return Kn(Qi.CATEGORIES.RULES,Qi.ACTIONS.BACKUP_CREATED,"rules and groups backup created"),function(e,t){var n=t||Date.now();return xs(e).saveRecord(Object(O.a)({},W.LAST_BACKUP_TIMESTAMP,n)).then((function(){return{success:!0,time:n}}))}(e)}))})):{success:!1,time:n}}))},el=function(e){return new Promise(function(){var t=Object(ne.a)(te.a.mark((function t(n){var a,r,c;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Ee.firestore().collection("backup").doc(e),t.next=3,a.get();case 3:r=t.sent,c=r.data(),n(c?{data:c}:{data:null});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},tl=function(e){var t=new Date(e),n=t.getDate(),a=n+"/"+(t.getMonth()+1)+"/"+t.getFullYear();return isNaN(n)?null:a},nl=n(976),al=S.CONSTANTS.GA_EVENTS,rl=function(){var e=Object(c.useContext)(X),t=e.state,n=e.dispatch,a=function(e){return Ye(e).lastBackupTimeStamp}(t),r=$e(t).details.profile.uid,i=rt(t),l=Object(c.useState)(""),o=Object(u.a)(l,2),d=o[0],O=o[1],j=Object(c.useState)(null),E=Object(u.a)(j,2),b=E[0],S=E[1],p=Object(c.useState)(!1),h=Object(u.a)(p,2),T=h[0],m=h[1],f=Object(c.useState)(!1),R=Object(u.a)(f,2),A=R[0],x=R[1],C=function(){var e=Object(ne.a)(te.a.mark((function e(){var t;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,el(r);case 2:t=e.sent,S(t.data),m(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=Object(c.useCallback)(C,[r]),g=function(e){if(b){x(!0);var t=b.backups[e];(function(e,t){var n=t.data,a=[].concat(Object(Ct.a)(n.groups),Object(Ct.a)(n.rules));return xs(e).saveMultipleRulesOrGroups(a)})(i,t).then((function(){Ge.info("Rules and Groups updated"),Kn(al.CATEGORIES.RULES,al.ACTIONS.BACKUP_USED,"backup number - ".concat(e+1," used")),x(!1)})).catch((function(){console.log("Error: Caught trying to copy empty backup to storage, please Report!"),x(!1)}))}else console.log("Error: Caught trying to copy empty backup to storage, please Report!")},_=[{title:"Backup Date",dataIndex:"timestamp",valueType:"date",render:function(e,t){return qr()(t.timestamp).format("LLL")}},{title:"Actions",align:"right",render:function(e,t,n){return Object(N.jsx)(Nt.a,{icon:Object(N.jsx)(nl.a,{}),onClick:function(){return g(n)},loading:A,children:"Rollback"})}}];Object(c.useEffect)((function(){a&&!d&&O(a),b||I()}),[b,a,d,S,O,I]);var L=function(){$i(i).then((function(e){if(e.success)e.time&&(Ge.info("New Backup Created!"),O(e.time),n(gt(Date.now())));else{var t=!0,a=360-Math.floor(e.time/1e3/60);a<60&&(t=!1),Ge.error("Please wait at least ".concat(t?"".concat(Math.floor(a/60)," hours"):"".concat(a," minutes")," before next backup"))}}))};return T?Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(ft.a,{className:"primary-card",children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,children:b?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Rt.a,{className:"align-items-center",children:Object(N.jsxs)(At.a,{span:24,align:"center",children:[Object(N.jsx)("h2",{children:"Auto Backup Rules to Requestly servers"}),Object(N.jsx)("p",{children:"This will help you use your rules across browsers and devices"}),Object(N.jsx)("p",{children:Object(N.jsx)("em",{children:Object(N.jsx)("a",{href:W.LINKS.REQUESTLY_DOCS_BACKUP_DATA,children:"Learn how it works"})})})]})}),Object(N.jsx)(Rt.a,{className:"align-items-center",children:Object(N.jsx)(At.a,{span:24,align:"center",children:d&&b&&tl(d)?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("h4",{children:["Your last backup was on"," ",Object(N.jsxs)("em",{children:["".concat(tl(d)," ")," "]})]}),Object(N.jsx)(Nt.a,{color:"primary",onClick:function(){return L()},children:"Backup Your Rules"})]}):null})}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,align:"center",children:Object(N.jsx)(ta.a,{rowKey:"timestamp",dataSource:b.backups,options:!1,pagination:!1,search:!1,dateFormatter:!1,headerTitle:"Recent backups",columns:_})})})]}):Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{lg:"12",md:"12",className:"text-center",children:Object(N.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3",children:"Create Your First Backup"}),Object(N.jsx)("p",{className:"lead",children:"This will help you use your rules across browsers and devices"}),Object(N.jsx)("p",{children:Object(N.jsx)(Nt.a,{color:"primary",onClick:function(){return L()},children:"Backup Your Data"})})]})})})})})})}):Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Nr,{customLoadingMessage:"Getting previous backups"})})},cl=function(e){Object(Qa.a)(n,e);var t=Object(za.a)(n);function n(){return Object(Wa.a)(this,n),t.apply(this,arguments)}return Object(qa.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ft,{premiumRequired:!0,component:rl,premiumMessage:"Auto backups your data at periodic intervals so that you don't ever lose them while switching devices."})})}}]),n}(s.a.Component),sl=function(){var e=Object(c.useRef)(!0),t=Object(c.useState)(!1),n=Object(u.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){return function(){e.current=!1}}),[]),Object(N.jsx)(ue.a,{className:" mt--7",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(Oe.a,{className:" shadow",children:Object(N.jsx)(je.a,{children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h4",{children:"If you are facing any issue with your current susbscription, a refresh might be helpful."}),a?Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("br",{}),Object(N.jsxs)("h5",{children:[Object(N.jsx)(x.p,{color:"orange"})," This process may take a few seconds. Do not close this page."]})]}):null,Object(N.jsx)("br",{}),Object(N.jsxs)(oe.a,{className:"btn-icon btn-3",color:"primary",type:"button",disabled:a,onClick:function(){r(!0),Ee.functions().httpsCallable("refreshSubscription")().then((function(t){if(!e.current)return null;var n=t.data;n.success?(r(!1),ge(!1,!0)):(r(!1),Ge.warn(n.message))})).catch((function(t){if(!e.current)return null;r(!1),Ge.warn(t.message)}))},children:[Object(N.jsx)("span",{className:"btn-inner--icon",children:Object(N.jsx)("b",{children:Object(N.jsx)(Fe.c,{className:a?"icon-spin":""})})}),Object(N.jsx)("span",{className:"btn-inner--text",children:"Refresh Subscription"})]}),Object(N.jsx)("br",{}),Object(N.jsx)("hr",{}),Object(N.jsxs)("p",{children:["Still facing issues? Reach our payment support team at"," ",Object(N.jsx)("a",{href:"mailto:".concat(S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),children:S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL}),"."]})]})})})})})})})})},il=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ft,{component:sl})})},ll=function(e){var t=e.customErrorMessage||"Something went wrong";return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ue.a,{className:" mt--7",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)("div",{className:" col",children:Object(N.jsx)(Oe.a,{className:" shadow",children:Object(N.jsx)(je.a,{children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:Object(N.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3"}),Object(N.jsx)("h5",{children:t})]})})})})})})})})})},ol=n(183),ul=S.CONSTANTS.GA_EVENTS,dl=function(){var e=Object(c.useContext)(X).state,t=$e(e),n=rt(e),a=Object(c.useState)(!0),r=Object(u.a)(a,2),i=r[0],l=r[1],o=Object(c.useState)({}),d=Object(u.a)(o,2),O=d[0],j=d[1],E=Object(c.useState)(""),b=Object(u.a)(E,2),p=b[0],h=b[1],T=Object(c.useState)(""),m=Object(u.a)(T,2),f=m[0],R=m[1],A=Object(c.useState)(60),x=Object(u.a)(A,2),C=x[0],I=x[1],g=Object(c.useCallback)((function(){if(t.loggedIn){j(t.details.profile),l(!1);var e=pt(t),n=St(t.details.planDetails);h(n?W.PRICING.PLAN_NAMES.BRONZE:e)}else l(!1)}),[t]),_=function(){return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:10,offset:7,children:Object(N.jsxs)("div",{className:"card-body",children:[Object(N.jsxs)("div",{className:"card-text",style:{padding:"1rem 10%"},children:[Object(N.jsx)("p",{className:"m-0",children:"Define Server EndPoint from where app will periodically import the rules"}),Object(N.jsx)("div",{className:" mb-3",children:Object(N.jsx)(tn.a,{type:"text",className:"form-control",placeholder:"https://myserver.com/rules/v1",value:f,onChange:function(e){return R(e.target.value)},addonBefore:"Server Endpoint"})}),Object(N.jsx)("br",{}),Object(N.jsx)("p",{className:"m-0",children:"Frequency (in minutes) for importing rules from Server. Minimum 2 & maximum 100 minutes."}),Object(N.jsx)("div",{className:" mb-3",children:Object(N.jsx)(tn.a,{type:"number",min:"2",max:"60",className:"form-control",placeholder:"20",value:C,onChange:function(e){return I(e.target.value)},addonBefore:"Frequency"})})]}),Object(N.jsx)("div",{className:"text-center",children:Object(N.jsx)(Nt.a,{type:"primary",className:"btn btn-primary",onClick:L,icon:Object(N.jsx)(ol.a,{}),children:"Save & Import Periodically"})})]})})})})},L=function(){if(!f||ce()(f)?(Ge.warn("Please enter a valid end point"),0):!(!C||C<2||C>100)||(Ge.warn("Frequency must lie between 2 and 100. Please provide a valid value"),0)){var e={enabled:!0,endPoint:f,frequency:C};fs(e).then((function(t){t.success?Mn(["settings",O.uid,"remoteRules"],e).then((function(){Ge.success("Settings saved successfully!"),Kn(ul.CATEGORIES.REMOTE_RULES,ul.ACTIONS.CREATED,"Remote Rules Settings Created"),Wn(ul.ATTR.REMOTE_RULES_ENDPOINT,e.endPoint),Wn(ul.ATTR.REMOTE_RULES_FREQUENCY,e.frequency)})):alert("Unable to save settings in storage. Please reach out to support at contact@requestly.io")})).catch((function(e){return Ge.error(e)}))}};return Object(c.useEffect)((function(){n!==S.CONSTANTS.APP_MODES.DESKTOP&&(g(),ms().then((function(e){e.endPoint&&R(e.endPoint),e.frequency&&I(e.frequency)})))}),[g,n]),n===S.CONSTANTS.APP_MODES.DESKTOP?Object(N.jsx)(ll,{customErrorMessage:"Remote rules are available only in Requestly Chrome Extension as of now."}):i?Object(N.jsx)(Nr,{customLoadingMessage:"Loading Remote Rules"}):Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ft.a,{className:"primary-card",title:"Remote Rules (Beta)",children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,align:"center",children:p!==W.PRICING.PLAN_NAMES.GOLD?Object(N.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:Object(N.jsx)("h5",{children:"Remote Rules feature is only available in Premium Plan."})}):_()})})})})},Ol=function(e){Object(Qa.a)(n,e);var t=Object(za.a)(n);function n(){return Object(Wa.a)(this,n),t.apply(this,arguments)}return Object(qa.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ft,{component:dl})})}}]),n}(s.a.Component),jl=n(962),El=n(963),bl=S.CONSTANTS.GA_EVENTS,Sl=function(){var e=Object(c.useContext)(X).state,t=$e(e),n=Object(c.useState)({}),a=Object(u.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(""),l=Object(u.a)(i,2),o=l[0],d=l[1],O=Object(c.useState)(""),j=Object(u.a)(O,2),E=j[0],b=j[1],S=Object(c.useState)(""),p=Object(u.a)(S,2),h=p[0],T=p[1],m=Object(c.useState)(!1),f=Object(u.a)(m,2),R=f[0],A=f[1],x=Object(c.useState)(!1),C=Object(u.a)(x,2),I=C[0],g=C[1],_=Object(c.useState)(!1),L=Object(u.a)(_,2),y=L[0],U=L[1],v=Object(c.useState)(!1),P=Object(u.a)(v,2),D=P[0],w=P[1],M=Object(c.useState)(!0),k=Object(u.a)(M,2),G=k[0],F=k[1],B=Object(c.useState)(!1),V=Object(u.a)(B,2),H=V[0],Y=V[1];Object(c.useEffect)((function(){setTimeout((function(){F(!1)}),1200)}));return Object(c.useLayoutEffect)((function(){t.details.isLoggedIn&&(s(t.details.profile),Pn(["customProfile",t.details.profile.uid,"requestUpgrade"],(function(e){e&&e.sentEmail&&(A(!0),Y(!0))})))}),[t]),Object(c.useEffect)((function(){t.details.isLoggedIn&&(b("Requestly Premium for ".concat(r.displayName)),T("Hi,\n".concat(r.displayName," has been using Requestly to debug & modify network requests. It has helped him achieve 10x productivity & saved critical hours for the work. ").concat(r.displayName," has started to hit free limits in the product with additional usage and has requested you to consider upgrading to Premium.\n\nYou can check out our prices at https://app.requestly.io/pricing \n\nCheers!\nRequestly Team")))}),[r,t.details.isLoggedIn]),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ue.a,{className:" mt--7 sm-margin-top-negative-3",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsxs)(Oe.a,{className:"shadow",children:[Object(N.jsx)(Vt.a,{className:"border-0 has-thin-border-bottom",style:{position:"sticky",top:"0",zIndex:"1"},children:Object(N.jsx)(de.a,{className:"align-items-center",children:Object(N.jsxs)(ie.a,{className:"text-center text-sm-center text-xl-left text-lg-left text-md-left margin-bottom-1-when-xs margin-bottom-1-when-sm",children:[Object(N.jsx)("h2",{className:"mb-0",children:"Request an Upgrade"}),Object(N.jsx)("h4",{className:"text-muted mb-0",children:"Request your Manager/ IT Admin for Requestly Premium"})]})})}),Object(N.jsx)(je.a,{children:G?Object(N.jsxs)("div",{className:"text-align-center",children:[Object(N.jsx)(jl.a,{color:"primary",style:{width:"4rem",height:"4rem"}}),Object(N.jsx)("h5",{children:"Initializing..."})]}):R?Object(N.jsx)("h3",{children:"We have requested your manager to get Requestly Premium for you."}):Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(Aa.a,{children:[Object(N.jsxs)(Ra.a,{children:[Object(N.jsx)(Wt.a,{type:"email",placeholder:"Manager's Email",style:{fontSize:"1.2rem",color:"#5a5a5a"},value:o,onChange:function(e){I&&g(!1),d(e.target.value)},className:I?"is-invalid":"is-valid"}),Object(N.jsx)(El.a,{children:"This Field Cannot be Empty"})]}),Object(N.jsxs)(Ra.a,{children:[Object(N.jsx)(Wt.a,{placeholder:"Subject",style:{fontSize:"1.2rem",color:"#5a5a5a"},value:E,onChange:function(e){D&&w(!1),b(e.target.value)},className:D?"is-invalid":"is-valid"}),Object(N.jsx)(El.a,{children:"This Field Cannot be Empty"})]}),Object(N.jsxs)(Ra.a,{children:[Object(N.jsx)(Wt.a,{type:"textarea",rows:"10",placeholder:"Body",style:{fontSize:"1.2rem",color:"#5a5a5a"},value:h,onChange:function(e){y&&U(!1),T(e.target.value)},className:y?"is-invalid":"is-valid"}),Object(N.jsx)(El.a,{children:"This Field Cannot be Empty"})]}),Object(N.jsx)("div",{className:"text-center",children:H?Object(N.jsx)(oe.a,{disabled:!0,color:"primary",size:"lg",children:Object(N.jsx)(jl.a,{color:"secondary",style:{width:"1rem",height:"1rem"}})}):Object(N.jsxs)(oe.a,{color:"primary",size:"lg",onClick:function(){if(Y(!0),!o)return g(!0),void Y(!1);if(!h)return U(!0),void Y(!1);if(!E)return w(!0),void Y(!1);if(!/^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(o))return Ge.warn("Please enter a valid email address."),void Y(!1);Kn(bl.CATEGORIES.REQUEST_UPGRADE,bl.ACTIONS.CLICKED,"RequestUpgrade email sent"),R||wn(["customProfile",r.uid,"requestUpgrade"],{managerEmail:o,requestDate:(new Date).toISOString().split("T")[0],sentEmail:!1},(function(){Ee.functions().httpsCallable("requestUpgrade")({userId:r.uid,emailContent:{managerEmail:o,subject:E,body:h}}).then((function(){return A(!0)})).catch((function(e){return console.log(e)}))}))},children:[Object(N.jsx)("i",{className:"fa fa-paper-plane"})," Send Email"]})})]})})})]})})})})})},pl=function(e){Object(Qa.a)(n,e);var t=Object(za.a)(n);function n(){return Object(Wa.a)(this,n),t.apply(this,arguments)}return Object(qa.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ft,{component:Sl})})}}]),n}(s.a.Component),hl=function(e){switch(e.ruleType){case S.CONSTANTS.RULE_TYPES.QUERYPARAM:e.pairs.map((function(e){return e.id=e.id||sn(),e.modifications.map((function(e){return e.id=e.id||sn()})),e}));break;case S.CONSTANTS.RULE_TYPES.SCRIPT:e.pairs.map((function(e){return e.id=e.id||sn(),e.scripts.map((function(e){return e.id=e.id||sn()})),e}));break;default:e.pairs.map((function(e){return e.id=e.id||sn(),e}))}return e},Tl=function(){var e=Object(ne.a)(te.a.mark((function e(t){var n,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xs(t).getRecords(S.CONSTANTS.OBJECT_TYPES.RULE);case 2:n=e.sent,a=n.map((function(e){return hl(e)})),xs(t).saveMultipleRulesOrGroups(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ml=function(){var e=Object(c.useContext)(X).state,t=rt(e),n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){(function(e){return xs(e).getRecord(W.MIGRATED_TO_NEW_UI)})(t).then((function(e){e?console.log("ALREADY MIGRATED"):(s(!0),console.log("PERFORMING MIGRATION"),Tl(t).then((function(){(function(e){return xs(e).saveRecord(Object(O.a)({},W.MIGRATED_TO_NEW_UI,!0))})(t).then((function(){s(!1)}))})))}))}),[t]),Object(N.jsx)(en.a,{className:"modal-dialog-centered ",visible:r,onCancel:function(){return null},footer:null,children:Object(N.jsx)("div",{className:"modal-body ",children:Object(N.jsx)(Se,{customLoadingMessage:"Setting up Requestly"})})})},fl=function(){var e=Object(ne.a)(te.a.mark((function e(t){var n;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null,e.next=3,js();case 3:if(n=e.sent,"local"!==n.storageType){e.next=7;break}return e.abrupt("return");case 7:Ts("local");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rl=function(){var e=Object(c.useContext)(X).state,t=rt(e),n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){t===S.CONSTANTS.APP_MODES.EXTENSION&&function(e){return xs(e).getRecord(W.STORAGE_MIGRATED_TO_LOCAL)}(t).then((function(e){e?console.log("STORAGE ALREADY MIGRATED"):(s(!0),console.log("PERFORMING STORAGE MIGRATION"),fl(t).then((function(){(function(e){return xs(e).saveRecord(Object(O.a)({},W.STORAGE_MIGRATED_TO_LOCAL,!0))})(t).then((function(){s(!1)}))})))}))}),[t]),Object(N.jsx)(en.a,{className:"modal-dialog-centered ",visible:r,onCancel:function(){return null},footer:null,children:Object(N.jsx)("div",{className:"modal-body ",children:Object(N.jsx)(Se,{customLoadingMessage:"Setting up Requestly"})})})},Al=W.PATHS,xl=W.RULE_TYPES_CONFIG,Nl=function(e){return Object(N.jsx)(en.a,{visible:e.isOpen,onCancel:e.toggle,footer:null,title:"Create New Rule",width:1e3,children:Object(N.jsx)("div",{children:Object(N.jsx)(Rt.a,{gutter:[16,16],children:Object.entries(xl).map((function(e){var t=Object(u.a)(e,2),n=(t[0],t[1]);return os()<=W.DELAY_COMPATIBILITY_VERSION&&n.TYPE===S.CONSTANTS.RULE_TYPES.DELAY?null:Object(N.jsx)(At.a,{lg:"4",md:"6",span:8,children:Object(N.jsx)(o.c,{to:"".concat(Al.RULE_EDITOR.CREATE_RULE.ABSOLUTE,"/").concat(n.TYPE),children:Object(N.jsx)(Nt.a,{icon:Object(N.jsx)(N.Fragment,{children:s.a.createElement(n.ICON)}),children:Object(N.jsxs)("span",{children:["\xa0 \xa0",n.NAME]})})})},n.ID)}))})})})},Cl=n(508),Il=n(149),gl=n(490),_l=W.RULES_LIST_TABLE_CONSTANTS,Ll=function(e,t){return xs(e).saveMultipleRulesOrGroups(t)},yl=function(e,t){var n=t;e.forEach((function(e){n>0?(e.status=S.CONSTANTS.RULE_STATUS.ACTIVE,n--):function(e){e.status=S.CONSTANTS.RULE_STATUS.INACTIVE}(e)}))},Ul=function(e){var t=[],n=[],a={};return e.forEach((function(e){return e.objectType===S.CONSTANTS.OBJECT_TYPES.RULE?t.push(e):e.objectType===S.CONSTANTS.OBJECT_TYPES.GROUP?function(e){n.push(e),a[e.id]=!0}(e):null})),{rules:t,groups:n,groupsId:a}},vl=function(e){return(e.status===S.CONSTANTS.RULE_STATUS.ACTIVE||S.CONSTANTS.RULE_STATUS.INACTIVE)&&(e.objectType===S.CONSTANTS.OBJECT_TYPES.RULE||S.CONSTANTS.OBJECT_TYPES.GROUP)&&"string"===typeof e.name&&"string"===typeof e.description},Pl=function(e){return e.forEach((function(e){return e.creationDate=cn(),e}))},Dl=function(e,t,n){var a=Ul(e),r=a.rules.filter((function(e){return vl(e)})),c=a.groups.filter((function(e){return vl(e)}));Pl(r),Pl(c),function(e){e.forEach((function(e){return e.id="".concat(e.ruleType,"_").concat(sn()),e}))}(r),function(e){e.forEach((function(e){return e.objectType===S.CONSTANTS.OBJECT_TYPES.RULE?hl(e):e}))}(r);var s,i,l=pt(t),o=Tt(W.FEATURES.ACTIVE_RULES,l),u=n.filter((function(e){return e.status===S.CONSTANTS.RULE_STATUS.ACTIVE&&!qi(e)})).length;ut(t)||yl(r,o-u);s=r,i=a.groupsId,s.forEach((function(e){return e.groupId=i[e.groupId]?e.groupId:_l.UNGROUPED_GROUP_ID,e}));var d=r.concat(c);return new Promise((function(e){e({data:d,rulesCount:r.length,groupsCount:c.length})}))},wl=function(e){var t=e.toggle,n=e.isOpen,a=Object(c.useContext)(X),r=a.dispatch,i=a.state,l=We(i),o=nt(i),d=$e(i),O=rt(i),E=Object(c.useState)(!1),b=Object(u.a)(E,2),p=b[0],h=b[1],T=Object(c.useState)(!1),m=Object(u.a)(T,2),f=m[0],R=m[1],A=Object(c.useState)(!1),x=Object(u.a)(A,2),C=x[0],I=x[1],g=Object(c.useState)(!1),_=Object(u.a)(g,2),L=_[0],y=_[1],U=function(){var e=Object(c.useCallback)((function(e){var n=e[0],a=new FileReader;a.onabort=function(){return t()},a.onerror=function(){return t()},a.onload=function(){R(!0);var e=[];try{e=JSON.parse(a.result)}catch(t){console.log(t)}Dl(e,d,l).then((function(e){h(e.data),I(e.rulesCount),y(e.groupsCount),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.IMPORTED,"Rules Imported",e.rulesCount)}))},a.readAsText(n)}),[]),n=Object(Cl.a)({onDrop:e}),a=n.getRootProps,r=n.getInputProps;return Object(N.jsxs)("div",Object(j.a)(Object(j.a)({},a()),{},{children:[Object(N.jsx)("input",Object(j.a)({},r())),Object(N.jsxs)("center",{children:[Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(Fe.d,{})}),Object(N.jsx)("p",{children:"Drag and drop requestly export file, or click to select"})]})]}))},v=function(){Ll(O,p).then((function(){r(yt("rules",!o)),t()})).then((function(){Ge.info("Successfully imported rules")}))},P=function(){return Object(N.jsxs)(At.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(Il.a,{})}),Object(N.jsx)("h5",{children:"Could not find valid data in this file. Please try another"})]})};return Object(N.jsxs)(en.a,{className:"modal-dialog-centered ",visible:n,onCancel:t,footer:null,title:"Import Rules Wizard",children:[Object(N.jsx)("div",{className:"modal-body ",children:p?C&&C>0||L&&L>0?Object(N.jsxs)(At.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",style:{textAlign:"center"},children:[Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(gl.a,{})}),Object(N.jsxs)("h5",{children:["Successfully parsed"," ",C>0?C+" rules":null," ",L>0?"and "+L+" groups":null]})]}):P():f?Object(N.jsx)(Se,{customLoadingMessage:"Processing data"}):Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(U,{})})}),Object(N.jsx)("br",{}),Object(N.jsx)("div",{className:"modal-footer ",style:{textAlign:"center"},children:p&&f&&C&&C>0?Object(N.jsx)(Nt.a,{color:"primary","data-dismiss":"modal",type:"button",onClick:v,children:"Import"}):null})]})},Ml=W.PATHS,kl=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),i=Object(u.a)(r,2),l=i[0],d=i[1];return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(ft.a,{className:"primary-card",children:Object(N.jsx)(Rt.a,{style:{textAlign:"center"},align:"center",children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3",children:"Get Started with Rules"}),Object(N.jsx)("p",{className:"lead",children:"Rules are the constraints that define how you want to modify the network requests."}),Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){return a(!0)},children:"Create My First Rule"}),Object(N.jsx)(Nt.a,{color:"secondary",onClick:function(){return d(!0)},children:"Upload Rules"})]}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsxs)("h4",{className:"lead mt-5",children:["You can also use rules from the"," ",Object(N.jsx)(o.b,{style:{color:"#0648B3"},to:Ml.MARKETPLACE.ABSOLUTE,children:Object(N.jsx)("strong",{children:"Marketplace"})})]})]})})})}),n?Object(N.jsx)(Nl,{isOpen:n,toggle:function(){a(!n)}}):null,l?Object(N.jsx)(wl,{isOpen:l,toggle:function(){d(!l)}}):null]})},Gl=n(233),Fl=function(e){var t=Object(c.useContext)(X),n=t.dispatch,a=t.state,r=nt(a),s=rt(a),i=Object(c.useState)([]),l=Object(u.a)(i,2),o=l[0],d=l[1],O=function(t){var a="Group_".concat(sn());xs(s).saveRuleOrGroup({creationDate:cn(),description:"",id:a,name:t,objectType:S.CONSTANTS.OBJECT_TYPES.GROUP,status:S.CONSTANTS.RULE_STATUS.INACTIVE}).then((function(){n(yt("rules",!r)),e.toggle()}))};return Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.GROUP,S.CONSTANTS.GA_EVENTS.ACTIONS.WORKFLOW_STARTED,"Create New Rules Group"),Object(N.jsx)(en.a,{className:"modal-dialog-centered ",visible:e.isOpen,onCancel:e.toggle,footer:null,title:"Create New Group",children:Object(N.jsxs)("div",{className:"modal-body  zero-padding-bottom",children:[Object(N.jsx)(At.a,{className:"my-auto",children:Object(N.jsx)("span",{children:"Enter Group Name"})}),Object(N.jsx)("br",{}),Object(N.jsx)(At.a,{className:"my-auto",style:{fontSize:"0.9em"},children:Object(N.jsx)(Gl.a,{isMulti:!1,name:"select-group",placeholder:"Enter Group Name",onChange:function(e){d(e.label),O(e.label)},value:o})})]})})},Bl=n(453),Vl=function(e){Bl(e,"requestly_rules.txt","text/plain")},Hl=function(e){var t=e.toggle,n=e.isOpen,a=e.rulesToExport,r=Object(c.useContext)(X).state,s=ze(r),i=rt(r),l=Object(c.useState)(!1),o=Object(u.a)(l,2),d=o[0],O=o[1],j=function(){return Object(N.jsxs)(At.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(Il.a,{})}),Object(N.jsx)("h5",{children:"Please select a rule before exporting"})]})};return Object(c.useEffect)((function(){d||function(e,t,n){return new Promise((function(a,r){Ki(e,t,n).then((function(e){var t=e.rules,n=e.groups;a({fileContent:JSON.stringify(t.concat(n),null,2),rulesCount:t.length,groupsCount:n.length})}))}))}(i,a,s).then((function(e){O(e)}))}),[a,s,d,i]),Object(N.jsx)(en.a,{className:"modal-dialog-centered ",visible:n,onCancel:t,footer:null,style:{textAlign:"center"},title:"Export Rules Wizard",children:Object(N.jsx)("div",{className:"modal-body ",children:d?0===d.rulesCount?j():(Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.EXPORTED,"Group Exported",d.rulesCount),Object(N.jsxs)(At.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(N.jsx)("h1",{className:"display-2 cursor-pointer",onClick:function(){return Vl(d.fileContent)},children:Object(N.jsx)(x.l,{})}),Object(N.jsx)("br",{}),Object(N.jsxs)("b",{children:["Your download will begin in a moment. If it doesn't,"," ",Object(N.jsx)("span",{style:{cursor:"pointer"},onClick:function(){return Vl(d.fileContent)},children:"click here"}),"."]}),Object(N.jsx)("br",{}),Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Total Rules Exported: "}),d.rulesCount," ",Object(N.jsx)("br",{})]})]})):Object(N.jsx)(Se,{customLoadingMessage:"Preparing data to export"})})})},Yl=function(){var e=Object(ne.a)(te.a.mark((function e(t,n,a){var r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],n.forEach((function(e){r.push(xs(t).removeRecord(e))})),e.next=4,Promise.all(r);case 4:return e.abrupt("return",a());case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),Kl=function(e){e({type:d.CLEAR_SELECTED_RULES})},Wl=function(e){return Object.keys(e).filter((function(t){return e[t]}))},ql=function(e){var t=e.toggle,n=e.isOpen,a=e.rulesToDelete,r=Object(c.useContext)(X),i=r.dispatch,l=r.state,o=nt(l),d=rt(l),O=Object(c.useState)(!1),j=Object(u.a)(O,2),E=j[0],b=j[1],S=Object(c.useState)(!1),p=Object(u.a)(S,2),h=p[0],T=p[1],m=function(e){var t=e.showConfirmationBtn;return Object(N.jsx)("div",{className:"modal-footer ",style:{backgroundColor:"white",position:"sticky",bottom:"0",zIndex:"100"},children:t?Object(N.jsx)(Nt.a,{color:"primary","data-dismiss":"modal",type:"button",onClick:function(){return b(!0)},children:"Yes"}):null})},f=function(){return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("div",{className:"modal-body ",children:Object(N.jsxs)(At.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(Il.a,{})}),Object(N.jsx)("h5",{children:"Please select a rule before deleting"})]})}),m({showConfirmationBtn:!1})]})},R=Object(c.useCallback)((function(){T(!0),i(yt("rules",!o)),t(),Kl(i)}),[i,o,t]);return Object(c.useEffect)((function(){E&&!h&&Yl(d,a,R).then((function(){}))}),[E,h,a,R,d]),Object(N.jsx)(en.a,{className:"modal-dialog-centered ",visible:n,onCancel:t,footer:null,title:"Delete Rules",style:{textAlign:"center"},children:E?h?Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("div",{className:"modal-body ",children:Object(N.jsx)(At.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:Object(N.jsx)("b",{children:"Successfully deleted rules"})})}),m({showConfirmationBtn:!1})]}):Object(N.jsx)(Se,{customLoadingMessage:"Deleting Rules"}):0===a.length?f():Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("div",{className:"modal-body ",children:Object(N.jsxs)(At.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(x.J,{})}),Object(N.jsx)("b",{children:"Are you sure to delete the selected rules?"}),Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Total Rules Selected: "}),a.length," ",Object(N.jsx)("br",{})]})]})}),m({showConfirmationBtn:!0})]})})},Ql=function(e){var t=e.mode,n={CURRENT_RULE:"CURRENT_RULE",SELECTED_RULES:"SELECTED_RULES"},a=Object(c.useContext)(X),r=a.dispatch,s=a.state,i=Object(c.useCallback)(r,[r]),l=Ze(s),o=Je(s),d=Qe(s),O=nt(s),E=rt(s),b=Object(c.useState)([]),p=Object(u.a)(b,2),h=p[0],T=p[1],m=Object(c.useState)([]),f=Object(u.a)(m,2),R=f[0],A=f[1],x=Object(c.useCallback)((function(e){return t===n.SELECTED_RULES?[]:e.filter((function(e){return e.value===l.groupId}))}),[t,n.SELECTED_RULES,l.groupId]),C=function(e){if(t===n.CURRENT_RULE){var a=Object(j.a)(Object(j.a)({},l),{},{groupId:e});r(Ut(a))}else(function(e,t,n){return new Promise((function(a,r){var c=Wl(t);ce()(c)&&r(),xs(e).getAllRecords().then((function(t){var r=[];c.forEach((function(e){r.push(Object(j.a)(Object(j.a)({},t[e]),{},{groupId:n}))})),xs(e).saveMultipleRulesOrGroups(r).then((function(){return a()}))}))}))})(E,o,e).then((function(){Kl(r),r(yt("rules",!O))})).catch((function(){Ge.warn("Please select the rules first",{hideProgressBar:!0})}))};return Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.GROUP,S.CONSTANTS.GA_EVENTS.ACTIONS.WORKFLOW_STARTED,"Modify Rules Group"),Object(c.useEffect)((function(){xs(E).getRecords(S.CONSTANTS.OBJECT_TYPES.GROUP).then((function(e){i(_t(e))}))}),[i,l,E]),Object(c.useEffect)((function(){T(d.map((function(e){return{label:e.name,value:e.id}})))}),[d]),Object(c.useEffect)((function(){A(x(h))}),[A,x,h]),Object(N.jsx)(en.a,{visible:e.isOpen,onCancel:e.toggle,footer:null,title:"Change Group",children:Object(N.jsxs)("div",{className:"",children:[Object(N.jsx)(At.a,{className:"my-auto",children:Object(N.jsx)("span",{children:"Select new group"})}),Object(N.jsx)("br",{}),Object(N.jsx)(At.a,{className:"my-auto",style:{fontSize:"0.9em"},children:Object(N.jsx)(Gl.a,{isMulti:!1,name:"select-group",options:h,placeholder:"Select or Type",value:R,onChange:function(t){t.__isNew__?function(e,t,n){var a="Group_".concat(sn());xs(e).saveRuleOrGroup({creationDate:cn(),description:"",id:a,name:t,objectType:S.CONSTANTS.OBJECT_TYPES.GROUP,status:S.CONSTANTS.RULE_STATUS.INACTIVE}).then((function(){n(a)}))}(E,t.label,C):C(t.value),e.toggle()}})})]})})},zl=function(e){var t=e.groupId,n=e.isOpen,a=e.toggle,r=t.groupId,i=Object(c.useContext)(X),l=i.state,o=i.dispatch,d=nt(l),O=rt(l),E=Object(c.useState)({}),b=Object(u.a)(E,2),S=b[0],p=b[1],h=Object(c.useState)(""),T=Object(u.a)(h,2),m=T[0],f=T[1],R=Object(c.useState)(!0),A=Object(u.a)(R,2),C=A[0],I=A[1],g=Object(c.useState)(!1),_=Object(u.a)(g,2),L=_[0],y=_[1],U=function(e){y(!0),xs(O).saveRuleOrGroup(Object(j.a)(Object(j.a)({},S),{},{name:m,modificationDate:cn()})).then((function(){Ge.info("Renamed Group"),o(yt("rules",!d)),a()}))};return Object(c.useLayoutEffect)((function(){xs(O).getRecord(r).then((function(e){e&&e.name&&(p(e),f(e.name),I(!1))}))}),[r,O]),Object(N.jsx)(en.a,{className:"modal-dialog-centered ",visible:n,onCancel:a,footer:null,title:"Rename Group",style:{textAlign:"center"},children:C?Object(N.jsx)("div",{className:"modal-body one-padding-top zero-padding-bottom",children:Object(N.jsx)(Rt.a,{className:"one-padding-bottom  my-auto",children:Object(N.jsx)(Se,{})})}):Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("div",{className:"modal-body one-padding-top zero-padding-bottom",children:Object(N.jsx)(tn.a,{className:"has-dark-text",placeholder:"New Group Name",value:m,onChange:function(e){return f(e.target.value)}})}),Object(N.jsx)("br",{}),Object(N.jsx)("div",{className:"modal-footer ",children:Object(N.jsx)(Nt.a,{color:"primary",type:"button",onClick:U,children:L?Object(N.jsx)(x.G,{className:"icon-spin"}):"Save"})})]})})},Jl=function(e,t,n,a,r){var c=Date.now();return new Promise((function(s){Ki(e,t,a).then((function(e){var t=e.rules,a=e.groups,i=ec(c),l=$r(r);l.push(c);var o={access:{owner:r},shareId:c,rules:t,groups:a,isEnabled:!0},u=kn.setValue(l,{listName:n,shareId:c,creationDate:cn()}),d=kn.setValue(i,o);Promise.all([u,d]).then((function(){s({sharedListId:c,sharedListName:n,sharedListData:o})}))}))}))},Xl=function(e){var t=e.toggle,n=e.isOpen,a=e.rulesToShare,r=Object(c.useContext)(X).state,i=ze(r),l=$e(r),o=rt(r),d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(!1),p=Object(u.a)(b,2),h=p[0],T=p[1],m=Object(c.useState)(""),f=Object(u.a)(m,2),R=f[0],A=f[1],C=Object(c.useState)(""),I=Object(u.a)(C,2),g=I[0],_=I[1],L=Object(c.useState)(""),y=Object(u.a)(L,2),U=y[0],v=y[1],P=Object(c.useState)([]),D=Object(u.a)(P,2),w=D[0],M=D[1],k=Object(c.useState)(""),G=Object(u.a)(k,2),F=G[0],B=G[1],V=Object(c.useState)(!1),H=Object(u.a)(V,2),Y=H[0],K=H[1],W=Object(c.useState)([]),q=Object(u.a)(W,2),Q=q[0],z=q[1],J=function(){console.log("onCopyHandler called"),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.COPIED,"SharedList url copied from CreateSharedListModal"),v(g)},Z=function(){""===R?Ge.warning("Provide a shared list name"):E(!0)},$=function(e){var t=e.showConfirmationBtn,n=e.showNotifyBtn;return Object(N.jsxs)("div",{className:"modal-footer ",style:{pointerEvents:"none",position:"sticky",bottom:"0",zIndex:"100"},children:[t?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("br",{}),Object(N.jsx)(Nt.a,{style:{pointerEvents:"all"},color:"primary","data-dismiss":"modal",type:"primary",onClick:function(){return Z()},children:"Create"})]}):null,n&&Y?Object(N.jsx)(Nt.a,{style:{pointerEvents:"all"},color:"primary","data-dismiss":"modal",type:"button",disabled:!0,children:Object(N.jsx)(x.G,{className:"icon-spin"})}):null]})},ee=function(){Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.CLICKED,"Notify Button Clicked"),K(!0),Ee.functions().httpsCallable("sendShareListUrlAsEmailToShare")({sharedListData:F,recipientEmails:w}).then(function(){var e=Object(ne.a)(te.a.mark((function e(n){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=n.data).success?(console.log(a),Ge.success("We've notified them"),z([].concat(Object(Ct.a)(Q),Object(Ct.a)(a.emails))),t()):(K(!1),Ge.error("Opps! Check the email and try again")),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.SHARED,"Notification Sent To people");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e.message),Ge.error("Opps! Couldn't send the notification"),t()}))},ae=function(e){var t=e.url,n=e.onCopyHandler;return Object(N.jsx)("span",{style:{cursor:"pointer"},children:Object(N.jsx)(Pr.a,{text:t,onCopy:n,children:Object(N.jsx)("span",{children:U===g?"Copied!":Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{children:"Copy"})," ",Object(N.jsx)(Ec.a,{style:{marginLeft:"1%"}})]})})})})},re=function(){return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("div",{className:"modal-body ",children:Object(N.jsxs)(At.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(Il.a,{})}),Object(N.jsx)("h5",{children:"Please select a rule before sharing"})]})}),$({showConfirmationBtn:!1,showNotifyBtn:!1})]})},ce=Object(c.useCallback)((function(e,t,n){var a=S.CONSTANTS.getSharedListURL(e,t);_(a),B(n),T(!0),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.CREATED,"Shared List created")}),[]),se=function(){var e=Object(ne.a)(te.a.mark((function e(t){var n,a,r,c,s;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ee.firestore().doc("sharedListEmails/".concat(t)),e.next=3,n.get();case 3:if(a=e.sent,!a.exists){e.next=14;break}return e.next=8,n.get();case 8:r=e.sent.data(),c=r.emails,s=c.map((function(e){return{value:e,label:e}})),z(s),e.next=15;break;case 14:z([]);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(l.details.profile.uid);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[l.details.profile.uid]);var ie=function(e){13===e.keyCode&&Z()};return Object(c.useEffect)((function(){j&&!h&&Jl(o,a,R,i,l.details.profile.uid).then((function(e){var t=e.sharedListId,n=e.sharedListName,a=e.sharedListData;ce(t,n,a)})),Wn("iscreatesharedlisttask",!0)}),[j,h,a,R,i,l.details.profile.uid,ce,o]),Object(c.useEffect)((function(){return document.addEventListener("keydown",ie),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.WORKFLOW_STARTED,"SharedList creation workflow started"),function(){document.removeEventListener("keydown",ie)}}),[ie]),Object(N.jsx)(en.a,{className:"modal-dialog-centered ",visible:n,onCancel:t,footer:null,title:"Share Rules",style:{textAlign:"center"},children:j?h?Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{align:"center",span:24,children:Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(x.c,{})})})}),Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(At.a,{align:"center",span:24,children:[Object(N.jsx)("p",{children:"Successfully created shared list. You can share this list with other users and they will be able to import these rules."}),Object(N.jsx)("p",{className:"m-3",children:Object(N.jsx)("b",{children:"Notify People (optional)"})})]})}),Object(N.jsxs)(Rt.a,{style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(At.a,{align:"center",span:20,children:Object(N.jsx)(Gl.a,{isMulti:!0,options:Q,onChange:function(e){var t=e?e.map((function(e){return e.value.trim()})):[];M(t)},className:"flex-grow-1 has-dark-text border-0"})}),Object(N.jsx)(At.a,{span:4,align:"right",children:Object(N.jsx)(Nt.a,{style:{pointerEvents:"all"},className:"m-1",color:"primary","data-dismiss":"modal",type:"primary",onClick:ee,disabled:!w,children:"Notify"})})]}),Object(N.jsx)(Rt.a,{className:"margin-top-one",children:Object(N.jsx)(At.a,{span:24,align:"center",children:Object(N.jsx)(tn.a,{value:g,disabled:!0,addonAfter:Object(N.jsx)(ae,{url:g,onCopyHandler:J})})})}),$({showConfirmationBtn:!1,showNotifyBtn:!0})]}):Object(N.jsx)(Se,{customLoadingMessage:"Creating List"}):0===a.length?re():Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("div",{className:"modal-body ",children:Object(N.jsxs)(At.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:[Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(x.F,{})}),Object(N.jsx)("p",{children:Object(N.jsx)("b",{children:"Please enter a name for your shared list of rules"})}),Object(N.jsx)(Ht.a,{className:"input-group-alternative has-traditional-border",children:Object(N.jsx)(tn.a,{className:"display-inline-block has-dark-text",placeholder:"My shared list",type:"text",onChange:function(e){return A(e.target.value)},value:R})})]})}),$({showConfirmationBtn:!0,showNotifyBtn:!1})]})})},Zl=function(e){var t=$r(e);return kn.getValue(t)},$l=n(978),eo=n(979),to=n(980),no=n(977),ao=n(981),ro=n(327),co=n(516),so=n(982),io=function(e){var t=e.currentlySelectedRuleConfig,n=e.topCountShowRequiredDataObject,a=n.numOfRulePairsOfUser,r=n.planName,c=n.planRulePairLimit,s=Object(ae.g)();return Object(N.jsxs)(xt.b,{className:"text-center text-sm-center text-xl-left text-lg-left text-md-left margin-bottom-1-when-xs margin-bottom-1-when-sm",children:[Object(N.jsx)("h3",{className:"mb-0",children:"".concat(t.NAME," Rule ")}),Object(N.jsxs)("h5",{children:["bronze"===r&&t.TYPE!==S.CONSTANTS.RULE_TYPES.SCRIPT&&t.TYPE!==S.CONSTANTS.RULE_TYPES.RESPONSE?"(".concat(a,"/").concat(c," Pairs Used)"):null,"bronze"===r?Object(N.jsx)(Nt.a,{type:"text",className:"text-primary btn btn-link",style:{cursor:"pointer"},onClick:function(e){e.preventDefault(),Ie(s),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE_PAIRS,S.CONSTANTS.GA_EVENTS.ACTIONS.REMOVE_LIMIT_CLICKED,"remove.limit.clicked@rule.pairs.page",a)},children:"Remove Limits"}):null]})]})},lo=function(e,t){!function(e){e(vt())}(e),me(t)},oo=W.RULE_EDITOR_CONFIG,uo=W.RULE_TYPES_CONFIG,Oo=function(e,t){e(Ut(t))},jo=function(e,t,n,a){if(t){var r={creationDate:cn(),description:"",groupId:"",id:"".concat(n,"_").concat(sn()),isSample:!1,name:"",objectType:S.CONSTANTS.OBJECT_TYPES.RULE,pairs:[],ruleType:n,status:S.CONSTANTS.RULE_STATUS.INACTIVE};r.pairs.push((c=n,Object(j.a)(Object(j.a)({},uo[c].EMPTY_PAIR_FORMAT),{},{id:sn()}))),a(e,r)}var c},Eo=function(e,t,n){void 0===t?function(e){e.push(he.ROOT)}(n):e({type:d.UPDATE_CURRENTLY_SELECTED_RULE_CONFIG,payload:t})},bo=function(e){e(vt())},So=function(e,t){if(t)return{MODE:oo.MODES.SHARED_LIST_RULE_VIEW};if(!e)return{};var n=e.pathname.split("/");return{MODE:n[n.length-2],RULE_TYPE_TO_CREATE:n[n.length-1],RULE_TO_EDIT_ID:n[n.length-1]}},po=function(e){if(!e)return 1500;var t=pt(e);return Tt(W.FEATURES.RESPONSE_BODY_CHARACTER_LIMIT,t)},ho=function(e){var t=Object(ae.g)(),n=So(e.location).MODE,a=Object(c.useContext)(X),r=(a.dispatch,a.state),s=Ze(r),i=$e(r),l=rt(r),o=function(){return n===W.RULE_EDITOR_CONFIG.MODES.EDIT?"Save":"Create"},u=function(){var e=function(e,t){var n;return ce()(e.name)?{result:!1,message:"Please provide a rule name"}:ce()(e.pairs)?{result:!1,message:"Opps! Rule must have atleast one pair"}:(e.ruleType===S.CONSTANTS.RULE_TYPES.REDIRECT?e.pairs.forEach((function(e){ce()(e.source.value)?n={result:!1,message:"Please enter a source"}:ce()(e.destination)?n={result:!1,message:"Please enter a destination URL"}:on(e.destination)||e.destination.startsWith("$")||e.destination.startsWith("$")||e.destination.startsWith("http://")||e.destination.startsWith("https://")||e.destination.startsWith("file://")||(e.destination="http://"+e.destination,on(e.destination)||(n={result:!1,message:"Please enter a valid redirect URL"}))})):e.ruleType===S.CONSTANTS.RULE_TYPES.CANCEL?e.pairs.forEach((function(e){ce()(e.source.value)&&(n={result:!1,message:"Please enter a source"})})):e.ruleType===S.CONSTANTS.RULE_TYPES.REPLACE?e.pairs.forEach((function(e){ce()(e.from)&&(n={result:!1,message:"Please enter the part that needs to be replaced"})})):e.ruleType===S.CONSTANTS.RULE_TYPES.HEADERS?e.pairs.forEach((function(e){ce()(e.header)&&(n={result:!1,message:"Please enter the header name"}),"Remove"!==e.type&&ce()(e.value)&&(n={result:!1,message:"Please enter the header value"})})):e.ruleType===S.CONSTANTS.RULE_TYPES.QUERYPARAM?e.pairs.forEach((function(e){e.modifications.forEach((function(e){"Remove All"!==e.type&&ce()(e.param)&&(n={result:!1,message:"Please enter the param name"}),"Add"===e.type&&ce()(e.value)&&(n={result:!1,message:"Please enter the param value"})}))})):e.ruleType===S.CONSTANTS.RULE_TYPES.SCRIPT?e.pairs.forEach((function(e){ce()(e.libraries)&&ce()(e.scripts)?n={result:!1,message:"Please provide a script source"}:e.scripts.forEach((function(e){"code"===e.type?ce()(e.value)?n={result:!1,message:"Please enter a valid script code"}:e.value.length>=W.RULE_TYPES_CONFIG.Script.CUSTOM_SCRIPT_CHARACTER_LIMIT&&(n={result:!1,message:"Script code should be less than ".concat(W.RULE_TYPES_CONFIG.Script.CUSTOM_SCRIPT_CHARACTER_LIMIT," characters")}):"url"===e.type&&ce()(e.value)&&(n={result:!1,message:"Please enter a valid script URL"})}))})):e.ruleType===S.CONSTANTS.RULE_TYPES.RESPONSE?e.pairs.forEach((function(e){ce()(e.source.value)?n={result:!1,message:"Please enter a source"}:ce()(e.response.value)?n={result:!1,message:"Please specify response body"}:On(e.response.value)>po(t)&&(n={result:!1,message:"Response should be less than ".concat(po(t)," characters.")})})):e.ruleType===S.CONSTANTS.RULE_TYPES.USERAGENT?e.pairs.forEach((function(e){ce()(e.envType)?n={result:!1,message:"Please select device type"}:ce()(e.env)&&!e.userAgent&&(n={result:!1,message:"Please select UserAgent"})})):e.ruleType===S.CONSTANTS.RULE_TYPES.DELAY&&e.pairs.forEach((function(e){var t=e.delay;ce()(e.source.value)?n={result:!1,message:"Please enter a source"}:ce()(t)?n={result:!1,message:"Delay cannot be empty"}:isNaN(t)&&0!==parseInt(t)?n={result:!1,message:"Delay should be a Number"}:Object(pe.inRange)(parseInt(t),S.CONSTANTS.DELAY_REQUEST_CONSTANTS.MIN_DELAY_VALUE,S.CONSTANTS.DELAY_REQUEST_CONSTANTS.MAX_DELAY_VALUE_NON_XHR+1)||(n={result:!1,message:"Delay should lie between ".concat(S.CONSTANTS.DELAY_REQUEST_CONSTANTS.MIN_DELAY_VALUE," and ").concat(S.CONSTANTS.DELAY_REQUEST_CONSTANTS.MAX_DELAY_VALUE_NON_XHR)})})),n&&!1===n.result?n:{result:!0})}(s,i);e.result?function(e,t,n,a){var r=Object(j.a)(Object(j.a)({},n),{},{modificationDate:cn()});return xs(e).saveRuleOrGroup(r).then((function(){xs(e).getRecord(r.groupId).then((function(t){if(t&&"group"===t.objectType){var n=Object(j.a)(Object(j.a)({},t),{},{modificationDate:cn()});xs(e).saveRuleOrGroup(n).then((function(){}))}}))}))}(l,0,s).then((function(){Ge.success("Successfully ".concat(o().toLowerCase(),"d the rule")),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,S.CONSTANTS.GA_EVENTS.ACTIONS.CREATED,"Rule Saved");var e=s.id;fe(t,e)})):Ge.warn(e.message,{hideProgressBar:!0})},d=function(e){(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)&&"s"===e.key.toLowerCase()&&(e.preventDefault(),u())};return Object(c.useEffect)((function(){return document.addEventListener("keydown",d),function(){document.removeEventListener("keydown",d)}}),[d]),Object(N.jsxs)(Nt.a,{className:"btn-icon btn-3",type:"primary",onClick:u,icon:Object(N.jsx)(ol.a,{}),children:[o()," Rule"]})},To=function(){var e=Object(ae.g)(),t=Object(c.useContext)(X).dispatch,n=function(n){"Escape"===n.key&&lo(t,e)};return Object(c.useEffect)((function(){return document.addEventListener("keydown",n),function(){return document.removeEventListener("keydown",n)}}),[]),Object(N.jsx)(Nt.a,{className:"btn-icon btn-3",type:"secondary","data-dismiss":"modal",onClick:function(){return lo(t,e)},shape:"circle",icon:Object(N.jsx)(oi.a,{})})},mo=function(e){var t=e.location,n=Object(c.useContext)(X),a=n.dispatch,r=n.state,i=Ze(r),l=We(r),o=$e(r),d=Object(c.useState)(!1),O=Object(u.a)(d,2),E=O[0],b=O[1],p=Object(c.useState)(0),h=Object(u.a)(p,2),T=h[0],m=h[1],f=Object(c.useState)("Free"),R=Object(u.a)(f,2),A=R[0],x=R[1],C=Object(c.useState)(!1),I=Object(u.a)(C,2),g=I[0],_=I[1],L=function(){return i.status===S.CONSTANTS.RULE_STATUS.ACTIVE},y=function(e){e!==i.status&&Oo(a,Object(j.a)(Object(j.a)({},i),{},{status:e}))},U=Object(c.useCallback)(y,[i,a]);return Object(c.useEffect)((function(){if(!E){var e=l.filter((function(e){return e.status===S.CONSTANTS.RULE_STATUS.ACTIVE&&!qi(e)})).length,n=pt(o),a=Tt(W.FEATURES.ACTIVE_RULES,n);-1!==t.pathname.indexOf("create")&&e<a&&U(S.CONSTANTS.RULE_STATUS.ACTIVE)}}),[l,U,o,t.pathname,E]),Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Ls.a,{size:"small",checked:L(),onChange:function(e){if(b(!0),L())y(S.CONSTANTS.RULE_STATUS.INACTIVE);else{var t=l.filter((function(e){return e.status===S.CONSTANTS.RULE_STATUS.ACTIVE&&!qi(e)})).length,n=pt(o),a=Tt(W.FEATURES.ACTIVE_RULES,n);t>=a?(m(a),x(n),_(!0)):y(S.CONSTANTS.RULE_STATUS.ACTIVE)}}}),g?Object(N.jsx)(Dr,{isOpen:g,toggle:function(){_(!g)},featureName:W.FEATURES.ACTIVE_RULES,featureLimit:T,userPlanName:A}):null]})},fo=function(e){return Object.keys(e).filter((function(t){return e[t]}))},Ro=function(e){var t=So(e.location).MODE,n=Object(c.useContext)(X),a=n.dispatch,r=n.state,s=Ze(r),i=$e(r),l={};l[s.id]=!0;var o=Object(c.useState)(""),d=Object(u.a)(o,2),O=d[0],j=d[1],E=Object(c.useState)(W.FEATURES.RULES),b=Object(u.a)(E,2),p=b[0],h=b[1],T=Object(c.useState)(0),m=Object(u.a)(T,2),f=m[0],R=m[1],A=Object(c.useState)(fo(l)),x=Object(u.a)(A,2),C=x[0],I=x[1],g=Object(c.useState)(!1),_=Object(u.a)(g,2),L=_[0],y=_[1],U=Object(c.useState)(!1),v=Object(u.a)(U,2),P=v[0],D=v[1];return Object(N.jsxs)(N.Fragment,{children:[t===W.RULE_EDITOR_CONFIG.MODES.EDIT?Object(N.jsx)(Nt.a,{className:"btn-icon btn-3 mr-lg-4 my-3 my-lg-0 my-md-0 my-sm-0",color:"primary",type:"secondary",onClick:function(){a(Pt("loadingModal",!0));var e=pt(i),t=Tt(W.FEATURES.SHARED_LISTS,e);Zl(i.details.profile.uid).then((function(n){var r=function(e){return e?Object.keys(e).length:0}(n);r>=t?(R(t),j(e),h(W.FEATURES.SHARED_LISTS),D(!0)):(I(fo(l)),y(!0),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,"rules",S.CONSTANTS.GA_EVENTS.ACTIONS.SHARED)),a(Pt("loadingModal",!1))}))},icon:Object(N.jsx)(no.a,{}),children:"Share Rule"}):null,L?Object(N.jsx)(Xl,{isOpen:L,toggle:function(){y(!L)},rulesToShare:C}):null,P?Object(N.jsx)(Dr,{isOpen:P,toggle:function(){D(!P)},featureName:p,featureLimit:f,userPlanName:O,mode:0===f?W.LIMIT_REACHED_MODAL.MODES.CHECK_IF_ENABLED:W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT}):null]})},Ao=function(e){return Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(mo,{location:e.location}),Object(N.jsx)(Ro,{location:e.location}),Object(N.jsx)(ho,{location:e.location}),Object(N.jsx)(To,{})]})},xo=function(e){var t=e.currentlySelectedRuleConfig,n=e.topCountShowRequiredDataObject;return Object(N.jsxs)(Rt.a,{children:[Object(N.jsx)(At.a,{span:12,children:Object(N.jsx)(io,{currentlySelectedRuleConfig:t,topCountShowRequiredDataObject:n})}),Object(N.jsx)(At.a,{span:12,align:"right",children:Object(N.jsx)(Ao,{location:e.location})})]})},No=n(809),Co=function(e,t,n,a){var r=JSON.parse(JSON.stringify(e));if("string"===typeof n)t(No(r,["pairs[".concat(a,"].").concat(n)]));else{var c=n.map((function(e){return"pairs[".concat(a,"].").concat(e)}));t(No(r,c))}},Io=n(215),go=function(e,t,n){return Io(e.pairs[t],n,"")},_o=n(280),Lo=n(215),yo=function(e,t,n,a,r){if(null===a||0===a.length)Co(e,t,r,n);else{var c=JSON.parse(JSON.stringify(e)),s=a.map((function(e){return e.value}));_o(c.pairs[n],r,s),t(c)}},Uo=function(e,t,n,a){var r=Lo(e.pairs[t],n,[]);return a.filter((function(e){return r.includes(e.value)}))},vo=n(238),Po=zt.a.Text,Do=[{label:"All (default)",value:"all",isDisabled:!0},{label:"XHR",value:"xmlhttprequest"},{label:"JS",value:"script"},{label:"CSS",value:"stylesheet"},{label:"Image",value:"image"},{label:"Media",value:"media"},{label:"Font",value:"font"},{label:"Web Socket",value:"websocket"},{label:"Main Document",value:"main_frame"},{label:"iFrame Document",value:"sub_frame"}],wo=[{label:"All (default)",value:"all",isDisabled:!0},{label:"GET",value:"GET"},{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"DELETE",value:"DELETE"},{label:"PATCH",value:"PATCH"},{label:"OPTIONS",value:"OPTIONS"},{label:"TRACE",value:"TRACE"},{label:"CONNECT",value:"CONNECT"},{label:"HEAD",value:"HEAD"}],Mo=function(e){switch(e){case S.CONSTANTS.RULE_OPERATORS.EQUALS:return"e.g. http://www.example.com";case S.CONSTANTS.RULE_OPERATORS.CONTAINS:return"e.g. google";case S.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES:return"e.g. *://*.mydomain.com/*";case S.CONSTANTS.RULE_OPERATORS.MATCHES:return"e.g. /example-([0-9]+)/ig";default:return"Select a condition first"}},ko=function(e){var t=e.modifyPairAtGivenPath,n=e.pairIndex,a=Object(c.useContext)(X),r=a.dispatch,i=a.state,l=Ze(i),o=function(e){return r(Ut(e))},u=function(){switch(go(l,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR)){case S.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES:return"Wildcard";case S.CONSTANTS.RULE_OPERATORS.MATCHES:return"RegEx";case"":return"Select";default:return go(l,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR)}},d=function(e){return Object(N.jsx)("span",{onClick:function(){Co(l,o,"source.filters.".concat(e),n),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,S.CONSTANTS.GA_EVENTS.ACTIONS.DELETE,"Rule source "+e+" filter modified")},className:"cursor-pointer",children:Object(N.jsx)(vo.a,{})})},O={PAGE_URL_MODIFIED:function(){Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,S.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"Rule source pageUrl filter modified")},RESOURCE_TYPE_MODIFIED:function(){Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,S.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"Rule source resourceType filter modified")},REQUEST_METHOD_MODIFIED:function(){Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,S.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"Rule source requestMethod filter modified")}},j=Object(N.jsxs)(qt.a,{children:[Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return t(e,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR,S.CONSTANTS.RULE_OPERATORS.EQUALS)},children:"Equals"})},1),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return t(e,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR,S.CONSTANTS.RULE_OPERATORS.CONTAINS)},children:"Contains"})},2),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return t(e,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR,S.CONSTANTS.RULE_OPERATORS.MATCHES)},children:"Matches (RegEx)"})},3),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return t(e,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR,S.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES)},children:"Matches (Wildcard)"})},4)]});return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsxs)(en.a,{visible:!1!==n,onCancel:function(){return e.closeModal()},footer:null,title:"Source Filters",width:700,children:[Object(N.jsxs)(Rt.a,{style:{paddingBottom:"1rem",alignItems:"center"},children:[Object(N.jsx)(At.a,{span:3,children:Object(N.jsx)("span",{children:"Page URL"})}),Object(N.jsx)(At.a,{span:6,align:"center",children:Object(N.jsx)(Qt.a,{overlay:j,children:Object(N.jsxs)(Po,{strong:!0,className:"ant-dropdown-link all-caps-text",onClick:function(e){e.preventDefault(),O.PAGE_URL_MODIFIED(e)},style:{textTransform:"uppercase",cursor:"pointer"},children:[u()," ",Object(N.jsx)(Jt.a,{})]})})}),Object(N.jsx)(At.a,{span:12,children:Object(N.jsx)(tn.a,{placeholder:Mo(go(l,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_OPERATOR)),name:"description",type:"text",value:go(l,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_VALUE),onChange:function(e){t(e,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_PAGE_URL_VALUE),O.PAGE_URL_MODIFIED()},disabled:"Select"===u()})}),Object(N.jsx)(At.a,{align:"right",span:3,children:d(S.CONSTANTS.RULE_SOURCE_FILTER_TYPES.PAGE_URL)})]}),Object(N.jsxs)(Rt.a,{className:"one-padding-bottom",style:{paddingBottom:"1rem",alignItems:"center"},children:[Object(N.jsx)(At.a,{span:5,children:Object(N.jsx)("span",{children:"Resource Type"})}),Object(N.jsx)(At.a,{span:17,children:Object(N.jsx)(xa.a,{isMulti:!0,name:"resource-type",options:Do,placeholder:"All (default)",value:Uo(l,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_RESOURCE_TYPE,Do),onChange:function(e){yo(l,o,n,e,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_RESOURCE_TYPE),O.RESOURCE_TYPE_MODIFIED()}})}),Object(N.jsx)(At.a,{span:2,align:"right",children:d(S.CONSTANTS.RULE_SOURCE_FILTER_TYPES.RESOURCE_TYPE)})]}),Object(N.jsxs)(Rt.a,{className:"one-padding-bottom",style:{paddingBottom:"1rem",alignItems:"center"},children:[Object(N.jsx)(At.a,{span:5,children:Object(N.jsx)("span",{children:"Request Method"})}),Object(N.jsx)(At.a,{span:17,children:Object(N.jsx)(xa.a,{isMulti:!0,name:"request-method",options:wo,placeholder:"All (default)",value:Uo(l,n,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_REQUEST_METHOD,wo),onChange:function(e){return yo(l,o,n,e,S.CONSTANTS.PATH_FROM_PAIR.SOURCE_REQUEST_METHOD)}})}),Object(N.jsx)(At.a,{span:2,align:"right",children:d(S.CONSTANTS.RULE_SOURCE_FILTER_TYPES.REQUEST_METHOD)})]})]})})},Go=n(519),Fo=W.FILES_TABLE_CONSTANTS.COLUMN_WIDTHS,Bo=function(e){return Fo[e]+"%"},Vo=function(e){var t=e.fileDetails,n=(e.fileId,e.updateCollection),a=e.mode,r=e.callback,i=Object(ae.g)(),l=Object(c.useState)(!1),o=Object(u.a)(l,2),d=o[0],O=o[1],j=Object(c.useState)(""),E=Object(u.a)(j,2),b=E[0],p=E[1],h=function(){p(t.shortUrl)},T=function(e){return Object(N.jsx)("td",{className:"text-right",style:{width:Bo(2)},children:Object(N.jsxs)("span",{className:e?"all-direct-children-have-margin":"all-direct-children-have-margin text-light",style:{fontSize:"1.3em"},children:[Object(N.jsxs)("span",{className:"custom-tooltip cursor-pointer",onClick:function(e){return xe(i,t.id||t.mockID)},children:[Object(N.jsx)(x.m,{}),Object(N.jsx)("span",{className:"custom-tooltiptext",children:"Edit File"})]}),Object(N.jsx)(Pr.a,{text:t.shortUrl||wr(t.mockID),onCopy:h,children:Object(N.jsxs)("span",{className:"custom-tooltip cursor-pointer",children:[Object(N.jsx)(x.v,{}),Object(N.jsx)("span",{className:"custom-tooltiptext",children:b===t.shortUrl?"Copied":"Copy direct link"})]})}),Object(N.jsxs)("span",{className:"custom-tooltip cursor-pointer",onClick:function(){return function(e,t){O(!0),e.mockID?Ee.functions().httpsCallable("deleteMock")(e.mockID).then((function(e){O(!0),e.data.success?(Ge.info("Mock deleted"),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.LIBRARY,S.CONSTANTS.GA_EVENTS.ACTIONS.DELETED,"Mock Deleted"),O(!1),t&&t()):Ge.error("Mock cannot be deleted. Try again.")})):kr(e).then((function(){Ge.info("File deleted"),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.LIBRARY,S.CONSTANTS.GA_EVENTS.ACTIONS.DELETED,"File Deleted"),O(!1),t&&t()}))}(t,n)},children:[d?Object(N.jsx)(x.G,{className:"icon-spin"}):Object(N.jsx)(x.J,{}),Object(N.jsx)("span",{className:"custom-tooltiptext",children:"Delete File"})]})]})})};return Object(N.jsx)(Go.a,{children:function(e){var n=e.isHovering;return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("td",{className:" nowrap overflow-hidden cursor-pointer text-center",style:{width:Bo(0)},children:Object(N.jsx)("span",{onClick:function(e){return xe(i,t.id||t.mockID)},children:t.name})}),Object(N.jsx)("td",{className:"text-align-center cursor-pointer",style:{width:Bo(1)},children:t.description}),Object(N.jsx)("td",{className:"text-align-center cursor-pointer",style:{width:Bo(2)},children:new Date(t.modifiedTime).toDateString()}),a!==W.FILES_TABLE_CONSTANTS.MODES.FILE_PICKER?Object(N.jsx)("td",{className:"text-align-center cursor-pointer",style:{width:Bo(2)},children:new Date(t.modifiedTime).toDateString()}):null,a===W.FILES_TABLE_CONSTANTS.MODES.FILE_PICKER?Object(N.jsx)("td",{className:"text-right",style:{width:Bo(2)},children:Object(N.jsx)(oe.a,{color:"secondary",outline:!0,type:"button",size:"sm",onClick:function(){return r(t.shortUrl)},children:"Insert"})}):T(n)]})}})},Ho=function(e){var t=e.type,n=void 0===t?"rule":t,a=e.colSpan,r=void 0===a?7:a;return Object(N.jsx)("tr",{children:Object(N.jsx)("td",{colSpan:r,children:Object(N.jsx)("center",{children:Object(N.jsxs)("h2",{style:{margin:"2rem"},children:["Couldn`t find any ",n," matching the given keyword."]})})})})},Yo=function(e){var t=e.filesList,n=e.updateCollection,a=e.mode,r=e.callback,s=function(e){return et(e).files}(Object(c.useContext)(X).state);Object(c.useEffect)((function(){Object.keys(t).length>0&&Wn("isHostFileTask",!0)}),[t]);var i=ce()(s)?Object.keys(t):Object.keys(t).filter((function(e){return t[e].name.match(new RegExp(s,"i"))}));return ce()(i)?Object(N.jsx)("tbody",{children:Object(N.jsx)(Ho,{type:"file",colSpan:"4"})}):Object(N.jsx)("tbody",{children:i.map((function(e){return Object(N.jsx)(Vo,{fileId:e,fileDetails:t[e],updateCollection:n,mode:a,callback:r},e)}))})},Ko=W.FILES_TABLE_CONSTANTS.COLUMN_WIDTHS,Wo=function(e){var t=e.filesList,n=e.updateCollection,a=e.mode,r=e.callback;return Object(N.jsxs)(Ns.a,{className:"align-items-center table-flush table-hover",style:{tableLayout:"fixed"},children:[Object(N.jsx)("thead",{className:"thead-light",children:Object(N.jsx)("tr",{children:[{columnData:"Name"},{columnData:"Description"},{columnData:"Last Updated"},{columnData:"Actions",styles:{textAlign:"right"}}].map((function(e,t){var n=e.columnData,a=e.styles,r=e.onClickHandler;return Object(N.jsx)("th",{scope:"col",className:"text-align-center",style:Object(j.a)({width:Ko[t]+"%"},a),onClick:r,children:n},t)}))},"0")}),Object(N.jsx)(Yo,{updateCollection:n,filesList:t,mode:a,callback:r})]})},qo=function(e){var t=e.isOpen,n=e.toggle,a=e.callback,r=Object(c.useContext)(X).state,s=$e(r),i=Object(c.useState)(!0),l=Object(u.a)(i,2),d=l[0],O=l[1],j=Object(c.useState)({}),E=Object(u.a)(j,2),b=E[0],S=E[1],p=Object(c.useCallback)((function(){nc(s.details.profile.uid).then((function(e){S(e),O(!1)}))}),[s]);return Object(c.useLayoutEffect)((function(){s.loggedIn&&s.details.profile&&p()}),[s,p]),Object(N.jsx)(en.a,{visible:t,onCancel:n,footer:null,title:"My Files",children:Object(N.jsx)("div",{className:"modal-body ",children:s.loggedIn?d?Object(N.jsx)(Nr,{customLoadingMessage:"Loading Files"}):ce()(b)?Object(N.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:Object(N.jsxs)("h5",{children:["You havn't uploaded any file yet."," ",Object(N.jsx)(o.b,{rel:"noopener noreferrer",target:"_blank",to:W.PATHS.FILES.ABSOLUTE,children:"Upload Now?"})]})}):Object(N.jsx)(Wo,{filesList:b,mode:W.FILES_TABLE_CONSTANTS.MODES.FILE_PICKER,callback:a}):Object(N.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:Object(N.jsx)("p",{children:"You need to login first!"})})})})},Qo=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions,i=r.generatePlaceholderText,l=r.modifyPairAtGivenPath,o=Object(c.useState)(!1),d=Object(u.a)(o,2),O=d[0],j=d[1];return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsxs)(Rt.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(At.a,{span:3,children:Object(N.jsx)("span",{children:"Redirect to"})}),Object(N.jsx)(At.a,{span:21,children:Object(N.jsx)(tn.a,{className:"display-inline-block has-dark-text",placeholder:i(n.source.operator,"destination"),type:"text",onChange:function(e){return l(e,a,"destination")},value:n.destination,addonAfter:Object(N.jsx)(yr.a,{title:"Pick from My Files",children:Object(N.jsx)(x.r,{style:{cursor:"pointer"},id:"pick-from-library",onClick:function(e){j(!0)}})})})})]},t),O?Object(N.jsx)(qo,{isOpen:O,toggle:function(){j(!O)},callback:function(e){j(!1),l(void 0,a,"destination",e)}}):null]})},zo=zt.a.Text,Jo=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions,c=e.options,s=e.ruleDetails,i=r.modifyPairAtGivenPath,l=r.openFilterModal,o=r.getFilterCount,u=r.deletePair,d=r.generatePlaceholderText;c=c||{};var O=Object(N.jsxs)(qt.a,{children:[Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_KEYS,S.CONSTANTS.RULE_KEYS.URL)},children:"URL"})},1),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_KEYS,S.CONSTANTS.RULE_KEYS.HOST)},children:"Host"})},2),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_KEYS,S.CONSTANTS.RULE_KEYS.PATH)},children:"Path"})},3)]}),j=Object(N.jsxs)(qt.a,{children:[Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,S.CONSTANTS.RULE_OPERATORS.EQUALS)},children:"Equals"})},1),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,S.CONSTANTS.RULE_OPERATORS.CONTAINS)},children:"Contains"})},2),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,S.CONSTANTS.RULE_OPERATORS.MATCHES)},children:"Matches (RegEx)"})},3),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,S.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES)},children:"Matches (Wildcard)"})},4)]});return Object(N.jsxs)(Rt.a,{span:24,style:{alignItems:"center",justifyContent:"center"},className:" margin-top-one",children:[Object(N.jsx)(At.a,{span:2,align:"left",children:Object(N.jsx)("span",{children:"If request"})}),Object(N.jsx)(At.a,{span:2,align:"center",children:Object(N.jsx)(Qt.a,{overlay:O,children:Object(N.jsxs)(zo,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"uppercase",cursor:"pointer"},children:[n.source.key," ",Object(N.jsx)(Jt.a,{})]})})}),Object(N.jsx)(At.a,{span:3,align:"center",children:Object(N.jsx)(Qt.a,{overlay:j,children:Object(N.jsxs)(zo,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"capitalize",cursor:"pointer"},children:[n.source.operator===S.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES?"Wildcard":n.source.operator===S.CONSTANTS.RULE_OPERATORS.MATCHES?"RegEx":n.source.operator," ",Object(N.jsx)(Jt.a,{})]})})}),Object(N.jsx)(At.a,{span:s.SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW&&s.ALLOW_REQUEST_SOURCE_FILTERS?11:s.SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW?13:s.ALLOW_REQUEST_SOURCE_FILTERS?15:17,children:Object(N.jsx)(tn.a,{placeholder:s.ALLOW_APPLY_RULE_TO_ALL_URLS?"Leave this field Empty to apply rule to all URLs":d(n.source.operator,"source-value"),type:"text",onChange:function(e){return i(e,a,"source.value")},value:n.source.value})}),s.ALLOW_REQUEST_SOURCE_FILTERS?Object(N.jsxs)(At.a,{span:2,align:"left",children:["\xa0\xa0",Object(N.jsx)(yr.a,{title:"Filters",children:Object(N.jsxs)("span",{onClick:function(){return l(a)},id:"edit-filters",style:{cursor:"pointer"},children:[Object(N.jsx)(x.s,{color:"#4A5868"})," ",0!==o(a)?Object(N.jsx)(Zn.a,{style:{color:"#465967",backgroundColor:"#E5EAEF"},children:o(a)}):null]})})]}):null,s.SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW?Object(N.jsx)(At.a,{align:"right",span:4,children:Object(N.jsx)(yr.a,{title:"Remove Pair",children:Object(N.jsx)(x.J,{id:"delete-pair",color:"#4A5868",onClick:function(e){return u(e,a)},style:{cursor:"pointer"}})})}):null]},t)},Xo=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsx)(Jo,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsx)(Qo,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:a})})})]})},Zo=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(N.jsx)(Jo,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})},$o=n(77),eu=n.n($o),tu=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions,c=r.modifyPairAtGivenPath,s=r.deletePair,i=Object(N.jsxs)(qt.a,{children:[Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)(eu.a,{onClick:function(e){return c(e,a,"target",S.CONSTANTS.HEADERS_TARGET.REQUEST)},children:S.CONSTANTS.HEADERS_TARGET.REQUEST})},1),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)(eu.a,{onClick:function(e){return c(e,a,"target",S.CONSTANTS.HEADERS_TARGET.RESPONSE)},children:S.CONSTANTS.HEADERS_TARGET.RESPONSE})},2)]}),l=Object(N.jsxs)(qt.a,{children:[Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)(eu.a,{onClick:function(e){return c(e,a,"type",S.CONSTANTS.MODIFICATION_TYPES.ADD)},children:"Add"})},1),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)(eu.a,{onClick:function(e){return c(e,a,"type",S.CONSTANTS.MODIFICATION_TYPES.REMOVE)},children:"Remove"})},2),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)(eu.a,{onClick:function(e){return c(e,a,"type",S.CONSTANTS.MODIFICATION_TYPES.MODIFY)},children:"Modify"})},3)]});return Object(N.jsxs)(Rt.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(At.a,{span:3,children:Object(N.jsx)(Qt.a,{overlay:l,children:Object(N.jsxs)(eu.a,{className:"ant-dropdown-link cursor-pointer",onClick:function(e){return e.preventDefault()},children:[n.type," ",Object(N.jsx)(Jt.a,{})]})})}),Object(N.jsx)(At.a,{span:3,children:Object(N.jsx)(Qt.a,{overlay:i,children:Object(N.jsxs)(eu.a,{className:"ant-dropdown-link cursor-pointer",onClick:function(e){return e.preventDefault()},children:[n.target," ",Object(N.jsx)(Jt.a,{})]})})}),Object(N.jsx)(At.a,{span:8,className:"my-auto margin-bottom-1-when-xs margin-bottom-1-when-sm margin-bottom-1-when-md ",children:Object(N.jsx)(tn.a,{addonBefore:"Header",className:"display-inline-block has-dark-text",style:{paddingLeft:"4px",width:"95%"},placeholder:"Header Name",type:"text",value:n.header,onChange:function(e){return c(e,a,"header")}})}),Object(N.jsx)(At.a,{span:9,className:"my-auto",children:Object(N.jsx)(tn.a,{addonBefore:"Value",className:"display-inline-block has-dark-text",style:{paddingLeft:"4px",width:"95%"},placeholder:"Header Value",type:"text",value:n.value,onChange:function(e){return c(e,a,S.CONSTANTS.RULE_KEYS.VALUE)},disabled:"Remove"===n.type})}),Object(N.jsx)(At.a,{span:1,className:"my-auto",align:"right",children:Object(N.jsx)(yr.a,{title:"Remove Pair",children:Object(N.jsx)(x.J,{id:"delete-pair",color:"#4A5868",onClick:function(e){return s(e,a)},style:{cursor:"pointer"}})})})]},t)},nu=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:"24",children:Object(N.jsx)(tu,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a})})}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsx)(Jo,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})})]})},au=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions,c=r.modifyPairAtGivenPath,s=r.deletePair;return Object(N.jsxs)(Rt.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(At.a,{span:11,children:Object(N.jsx)(tn.a,{addonBefore:"Replace",className:"display-inline-block has-dark-text",placeholder:"This part in URL",type:"text",onChange:function(e){return c(e,a,"from")},value:n.from,style:{width:"95%",paddingLeft:"4px"}})}),Object(N.jsx)(At.a,{span:11,children:Object(N.jsx)(tn.a,{addonBefore:"With",className:"display-inline-block has-dark-text",placeholder:"This part",type:"text",onChange:function(e){return c(e,a,"to")},value:n.to,style:{width:"95%",paddingLeft:"4px"}})}),Object(N.jsx)(At.a,{span:2,align:"right",children:Object(N.jsx)(yr.a,{title:"Remove Pair",children:Object(N.jsx)(x.J,{id:"delete-pair",color:"#4A5868",onClick:function(e){return s(e,a)},style:{cursor:"pointer"}})})})]},t)},ru=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsx)(au,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a})})}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsx)(Jo,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})})]})},cu=n(316),su=function(e){var t=e.rowIndex,n=e.pairIndex,a=e.helperFunctions,r=e.modification,c=e.modificationIndex,s=a.modifyPairAtGivenPath,i=a.deleteModification,l=Object(N.jsxs)(qt.a,{children:[Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return s(e,n,"modifications[".concat(c,"].type"),"Add")},children:"Add/Replace"})},1),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return s(e,n,"modifications[".concat(c,"].type"),"Remove")},children:"Remove"})},2),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return s(e,n,"modifications[".concat(c,"].type"),"Remove All")},children:"Remove All"})},3)]});return Object(N.jsxs)(Rt.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(At.a,{span:3,children:Object(N.jsx)(Qt.a,{overlay:l,children:Object(N.jsxs)(eu.a,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"uppercase",cursor:"pointer"},children:[r.type," ",Object(N.jsx)(Jt.a,{})]})})}),Object(N.jsx)(At.a,{span:10,children:Object(N.jsx)(tn.a,{addonBefore:"Param",className:"display-inline-block has-dark-text",style:{paddingLeft:"4px"},placeholder:"Param Name",type:"text",onChange:function(e){return s(e,n,"modifications[".concat(c,"].param"))},value:r.param,disabled:"Remove All"===r.type})}),Object(N.jsx)(At.a,{span:10,children:Object(N.jsx)(tn.a,{addonBefore:"Value",className:"display-inline-block has-dark-text",style:{paddingLeft:"4px",width:"95%"},placeholder:"Param Value",type:"text",onChange:function(e){return s(e,n,"modifications[".concat(c,"].value"))},value:r.value,disabled:"Add"!==r.type})}),Object(N.jsx)(At.a,{span:1,align:"right",children:Object(N.jsx)(yr.a,{title:"Remove",children:Object(N.jsx)(cu.a,{id:"delete-pair",color:"#4A5868",onClick:function(e){return i(e,n,c)},style:{cursor:"pointer"}})})})]},t)},iu=function(e){var t=e.rowIndex,n=e.helperFunctions.addEmptyModification;return Object(N.jsx)(Rt.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:Object(N.jsx)(At.a,{offset:3,span:21,children:Object(N.jsx)(Nt.a,{type:"secondary",size:"small",onClick:n,icon:Object(N.jsx)(ea.a,{}),children:Object(N.jsx)("span",{className:"btn-inner--text",children:"Add Modification"})})})},t)},lu=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails,i=a.pushValueToArrayInPair,l=a.deleteArrayValueByIndexInPair,o=function(e){i(e,n,"modifications",u())},u=Object(c.useCallback)((function(){return Object(j.a)(Object(j.a)({},r.EMPTY_MODIFICATION_FORMAT),{},{id:sn()})}),[r.EMPTY_MODIFICATION_FORMAT]),d=Object(c.useCallback)(o,[u,n,i]),O=Object(c.useCallback)((function(){d()}),[d]),E=function(e,t,n){l(e,t,"modifications",n)};return Object(c.useEffect)((function(){0===t.modifications.length&&O()}),[O,t.modifications.length]),Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsx)(Jo,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})}),t.modifications.map((function(e,r){return Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsx)(su,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:Object(j.a)(Object(j.a)({},a),{},{deleteModification:E}),modification:e,modificationIndex:r},e.id)})},r)})),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsx)(iu,{rowIndex:3,pair:t,pairIndex:n,helperFunctions:Object(j.a)(Object(j.a)({},a),{},{addEmptyModification:o})})})})]})},ou=n(280),uu=n(215),du=function(){return Object.keys(S.CONSTANTS.SCRIPT_LIBRARIES).map((function(e){return{value:e,label:S.CONSTANTS.SCRIPT_LIBRARIES[e].name}}))},Ou=function(e){var t=e.rowIndex,n=e.pairIndex,a=Object(c.useContext)(X),r=a.dispatch,s=a.state,i=Ze(s),l=function(e,t){var a=JSON.parse(JSON.stringify(i)),c=[];e&&(c=e.map((function(e){return e.value}))),ou(a.pairs[n],t,c),r(Ut(a))};return Object(N.jsxs)(Rt.a,{className:" margin-top-one",style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(At.a,{className:"my-auto",span:4,children:Object(N.jsx)("span",{children:"Insert Libraries"})}),Object(N.jsx)(At.a,{span:20,className:"my-auto margin-bottom-1-when-xs margin-bottom-1-when-sm",children:Object(N.jsx)(xa.a,{isMulti:!0,name:"resource-type",options:du(),placeholder:"None",value:function(e,t){var a=uu(i.pairs[n],e,[]);return t.filter((function(e){return a.includes(e.value)}))}(S.CONSTANTS.PATH_FROM_PAIR.SCRIPT_LIBRARIES,du()),onChange:function(e){return l(e,S.CONSTANTS.PATH_FROM_PAIR.SCRIPT_LIBRARIES)}})})]},t)},ju=function(e){var t=e.rowIndex,n=e.helperFunctions.addEmptyScript;return Object(N.jsx)(Rt.a,{className:" margin-top-one",style:{alignItems:"center",justifyContent:"center"},children:Object(N.jsx)(At.a,{span:20,offset:4,className:"my-auto",children:Object(N.jsx)(Nt.a,{type:"secondary",size:"small",onClick:n,icon:Object(N.jsx)(ea.a,{}),children:"Insert Custom Script"})})},t)},Eu=n(317);n(470),n(471),n(906);var bu=zt.a.Text,Su=function(e){var t=e.rowIndex,n=e.pairIndex,a=e.helperFunctions,r=e.script,i=e.scriptIndex,l=e.ruleDetails,o=a.modifyPairAtGivenPath,d=a.deleteScript,O=Object(c.useState)(!1),j=Object(u.a)(O,2),E=j[0],b=j[1],p=function(){b(!E)},h=function(e){b(!0)},T=function(e){b(!1),o(void 0,n,"scripts[".concat(i,"].value"),e)},m=function(e,t){o(e,n,"scripts[".concat(i,"].type"),t,[{path:"scripts[".concat(i,"].value"),value:""}])},f=Object(N.jsxs)(qt.a,{children:[Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return o(e,n,"scripts[".concat(i,"].loadTime"),S.CONSTANTS.SCRIPT_LOAD_TIME.AFTER_PAGE_LOAD)},children:"After Page Load"})},1),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return o(e,n,"scripts[".concat(i,"].loadTime"),S.CONSTANTS.SCRIPT_LOAD_TIME.BEFORE_PAGE_LOAD)},children:"Before Page Load"})},2)]}),R=Object(N.jsxs)(qt.a,{children:[Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return m(e,S.CONSTANTS.SCRIPT_TYPES.URL)},children:"URL"})},1),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return m(e,S.CONSTANTS.SCRIPT_TYPES.CODE)},children:"Custom Code"})},2)]}),A=Object(N.jsxs)(qt.a,{children:[Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return o(e,n,"scripts[".concat(i,"].codeType"),S.CONSTANTS.SCRIPT_CODE_TYPES.JS)},children:"JavaScript"})},1),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return o(e,n,"scripts[".concat(i,"].codeType"),S.CONSTANTS.SCRIPT_CODE_TYPES.CSS)},children:"CSS"})},2)]});return Object(N.jsxs)("div",{style:{border:"1px solid #d5dee6",borderRadius:"4px",padding:"1%",margin:"1%",boxShadow:"1px 1px #d5dee6"},children:[Object(N.jsxs)(Rt.a,{className:"margin-top-one",style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(At.a,{span:4,children:Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(bu,{children:"Code Type"}),Object(N.jsx)(Qt.a,{overlay:A,children:Object(N.jsxs)(bu,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"uppercase",cursor:"pointer"},children:[r.codeType," ",Object(N.jsx)(Jt.a,{})]})})]})}),Object(N.jsx)(At.a,{span:4,children:Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(bu,{children:"Code Source"}),Object(N.jsx)(Qt.a,{overlay:R,children:Object(N.jsxs)(bu,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"uppercase",cursor:"pointer"},children:[r.type," ",Object(N.jsx)(Jt.a,{})]})})]})}),r.codeType===S.CONSTANTS.SCRIPT_CODE_TYPES.JS?Object(N.jsx)(At.a,{span:4,children:Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(bu,{children:"Insert"}),Object(N.jsx)(Qt.a,{overlay:f,children:Object(N.jsxs)(bu,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"capitalize",cursor:"pointer"},children:[r.loadTime===S.CONSTANTS.SCRIPT_LOAD_TIME.AFTER_PAGE_LOAD?"After Page Load":"Before Page Load"," ",Object(N.jsx)(Jt.a,{})]})})]})}):null,Object(N.jsx)(At.a,{className:"my-auto",span:12,align:"right",children:Object(N.jsx)(yr.a,{title:"Remove",children:Object(N.jsx)(cu.a,{id:"delete-pair",color:"#4A5868",onClick:function(e){return d(e,n,i)},style:{cursor:"pointer"}})})})]}),r.type===S.CONSTANTS.SCRIPT_TYPES.URL?Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsxs)(Rt.a,{className:"margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(At.a,{span:4,children:Object(N.jsx)("span",{children:"Source"})}),Object(N.jsx)(At.a,{span:20,children:Object(N.jsx)(tn.a,{addonAfter:Object(N.jsx)(yr.a,{title:"Import from My Files",children:Object(N.jsx)(co.a,{style:{cursor:"pointer"},onClick:h})}),className:"display-inline-block has-dark-text",placeholder:"Enter Source URL (relative or absolute)",type:"text",onChange:function(e){return o(e,n,"scripts[".concat(i,"].value"))},value:r.value})})]}),E?Object(N.jsx)(qo,{isOpen:E,toggle:p,callback:T}):null]}):Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsx)(Eu.Controlled,{style:{borderRadius:"5px"},value:r.value,maxLength:"25",options:{mode:r.codeType===S.CONSTANTS.SCRIPT_CODE_TYPES.JS?"javascript":S.CONSTANTS.SCRIPT_CODE_TYPES.CSS,theme:"eclipse",autoCloseBrackets:!0,autoRefresh:!0,lineNumbers:!0,matchBrackets:{strict:!0},maxLength:25,placeholder:"/* Type or Paste your code here */ \n"},onBeforeChange:function(e,t,a){o(void 0,n,"scripts[".concat(i,"].value"),a)}})})},t),Object(N.jsx)(Rt.a,{span:24,children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsxs)("span",{className:"codemirror-character-count",children:[l.CUSTOM_SCRIPT_CHARACTER_LIMIT-r.value.length," ","characters left"]})})})]})]},t)},pu=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails,c=a.pushValueToArrayInPair,i=a.deleteArrayValueByIndexInPair,l=function(){return Object(j.a)(Object(j.a)({},r.EMPTY_SCRIPT_FORMAT),{},{id:sn()})},o=function(e,t,n){e&&e.preventDefault(),i(e,t,"scripts",n)};return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Jo,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r}),Object(N.jsx)(Ou,{rowIndex:3,pair:t,pairIndex:n,helperFunctions:Object(j.a)({},a)}),t.scripts.map((function(e,c){return Object(N.jsx)(Su,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:Object(j.a)(Object(j.a)({},a),{},{deleteScript:o}),ruleDetails:r,script:e,scriptIndex:c},e.id)})),Object(N.jsx)(ju,{helperFunctions:Object(j.a)(Object(j.a)({},a),{},{addEmptyScript:function(e){e&&e.preventDefault(),c(e,n,"scripts",l())}})})]})},hu=n(162);n(470),n(471);var Tu=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions,i=e.ruleDetails,l=r.modifyPairAtGivenPath,o=Object(c.useContext)(X).state,u=$e(o),d=po(u);return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsxs)(Rt.a,{className:"margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(At.a,{span:12,children:Object(N.jsx)("span",{children:"Response Body"})}),Object(N.jsx)(At.a,{span:12,align:"right",children:Object(N.jsx)(hu.a,{className:"custom-control-input",id:"customCheck1",type:"checkbox",onChange:function(e){n.response.type===S.CONSTANTS.RESPONSE_BODY_TYPES.STATIC?l(null,a,"response.type",S.CONSTANTS.RESPONSE_BODY_TYPES.CODE,[{path:"response.value",value:i.RESPONSE_BODY_JAVASCRIPT_DEFAULT_VALUE}]):l(null,a,"response.type",S.CONSTANTS.RESPONSE_BODY_TYPES.STATIC,[{path:"response.value",value:""}])},checked:n.response.type!==S.CONSTANTS.RESPONSE_BODY_TYPES.STATIC,children:"Modify using JavaScript"})})]},t),Object(N.jsx)(Rt.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:Object(N.jsx)(At.a,{xl:"12",span:24,children:Object(N.jsx)(Eu.Controlled,{style:{borderRadius:"5px"},value:n.response.value,maxLength:d,options:{mode:"javascript",theme:"eclipse",autoCloseBrackets:!0,autoRefresh:!0,lineNumbers:!0,matchBrackets:{strict:!0},maxLength:d},onBeforeChange:function(e,t,n){l(null,a,"response.value",n)}})})}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{xl:"12",span:24,children:Object(N.jsxs)("span",{className:"codemirror-character-count",children:[d-On(n.response.value)," ","characters left"]})})})]},t)},mu=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsx)(Jo,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsx)(Tu,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})})]})},fu=function(e){switch(e.envType){case"device":return[{label:"Android",options:[{label:"Android Phone",value:{env:"andoid.phone",userAgent:"Mozilla/5.0 (Linux; Android 8.0; Pixel 2 Build/OPD3.170816.012) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Mobile Safari/537.36"}},{label:"Android Tablet",value:{env:"andoid.tablet",userAgent:"Mozilla/5.0 (Linux; Android 6.0.1; Nexus 10 Build/MOB31T) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/71.0.3578.98 Safari/537.36"}}]},{label:"Apple",options:[{label:"Apple iPhone",value:{env:"apple.iphone",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.38 (KHTML, like Gecko) Version/11.0 Mobile/15A372 Safari/604.1"}},{label:"Apple iPad",value:{env:"apple.ipad",userAgent:"Mozilla/5.0 (iPad; CPU OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1"}}]},{label:"Windows",options:[{label:"Windows Phone",value:{env:"windows.phone",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows Phone 8.0; Trident/6.0; IEMobile/10.0; ARM; Touch; NOKIA; Lumia 920)"}},{label:"Windows Tablet",value:{env:"windows.tablet",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; WOW64; Trident/6.0; Touch; NOKIA; Lumia 920)"}}]},{label:"Blackberry",options:[{label:"Blackberry Phone",value:{env:"blackberry.phone",userAgent:"Mozilla/5.0 (BlackBerry; U; BlackBerry 9900; en-US) AppleWebKit/534.11 (KHTML, like Gecko) Version/7.0.0.187 Mobile Safari/534.11"}},{label:"Blackberry Tablet",value:{env:"blackberry.tablet",userAgent:"Mozilla/5.0 (PlayBook; U; RIM Tablet OS 2.0.0; en-US) AppleWebKit/535.8 (KHTML, like Gecko) Version/7.2.0.0 Safari/535.8"}}]},{label:"Symbian",options:[{label:"Symbian Phone",value:{env:"symbian_phone",userAgent:"Mozilla/5.0 (SymbianOS) AppleWebKit/533.4 (KHTML, like Gecko) NokiaBrowser/7.3.1.33 Mobile Safari/533.4 3gpp-gba"}}]}];case"browser":return[{label:"Google Chrome",options:[{label:"Chrome on Windows",value:{env:"chrome.windows",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36"}},{label:"Chrome on Macintosh",value:{env:"chrome.macintosh",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36"}},{label:"Chrome on Linux",value:{env:"chrome.linux",userAgent:"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/57.0.2987.133 Safari/537.36"}}]},{label:"Mozilla Firefox",options:[{label:"Firefox on Windows",value:{env:"firefox.windows",userAgent:"Mozilla/5.0 (Windows NT 10.0; WOW64; rv:52.0) Gecko/20100101 Firefox/52.0"}},{label:"Firfox on Macintosh",value:{env:"firefox.macintosh",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10; rv:52.0) Gecko/20100101 Firefox/52.0"}},{label:"Firfox on Linux",value:{env:"firefox.linux",userAgent:"Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0"}}]},{label:"Safari",options:[{label:"Safari",value:{env:"safari",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_3) AppleWebKit/602.4.8 (KHTML, like Gecko) Version/10.0.3 Safari/602.4.8"}}]},{label:"Microsoft Internet Explorer",options:[{label:"Internet Explorer 6",value:{env:"msie.msie6",userAgent:"Mozilla/4.0(compatible; MSIE 6.0; Windows NT 5.1)"}},{label:"Internet Explorer 7",value:{env:"msie.msie7",userAgent:"Mozilla/4.0(compatible; MSIE 7.0; Windows NT 6.0)"}},{label:"Internet Explorer 8",value:{env:"msie.msie8",userAgent:"Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 6.1; Trident/4.0)"}},{label:"Internet Explorer 9",value:{env:"msie.msie9",userAgent:"Mozilla/5.0 (compatible; MSIE 9.0; Windows NT 6.1; Trident/5.0)"}},{label:"Internet Explorer 10",value:{env:"msie.msie10",userAgent:"Mozilla/5.0 (compatible; MSIE 10.0; Windows NT 6.2; Trident/6.0)"}},{label:"Internet Explorer 11",value:{env:"msie.msie11",userAgent:"Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11.0) like Gecko"}}]},{label:"Microsoft Edge",options:[{label:"Microsoft Edge",value:{env:"msedge",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/42.0.2311.135 Safari/537.36 Edge/12.10240"}}]},{label:"Opera",options:[{label:"Opera 68",value:{env:"opera",userAgent:"Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.52 Safari/537.36 OPR/15.0.1147.100"}}]}];default:return[]}},Ru=zt.a.Text,Au=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions.modifyPairAtGivenPath,c=function(e,t){var n=[{path:"env",value:""}];"custom"===t&&n.push({path:"userAgent",value:window.navigator.userAgent}),r(e,a,"envType",t,n)},s=Object(N.jsxs)(qt.a,{children:[Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return c(e,"device")},children:"Device"})},1),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return c(e,"browser")},children:"Browser"})},2),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return c(e,"custom")},children:"Custom"})},3)]});return Object(N.jsxs)(Rt.a,{className:" margin-top-one",span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(At.a,{span:2,className:"my-auto",children:Object(N.jsx)("span",{children:"UserAgent"})}),Object(N.jsx)(At.a,{span:2,className:"my-auto",children:Object(N.jsx)(Qt.a,{overlay:s,children:Object(N.jsxs)(Ru,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"capitalize",cursor:"pointer"},children:[""===n.envType?"Select":n.envType," ",Object(N.jsx)(Jt.a,{})]})})}),Object(N.jsx)(At.a,{xl:"7",lg:"7",md:"7",sm:"12",xs:"12",span:14,children:"custom"===n.envType?Object(N.jsx)(tn.a,{placeholder:"Enter custom UserAgent string",type:"text",onChange:function(e){return r(e,a,"userAgent")},className:"display-inline-block has-dark-text ",value:n.userAgent}):Object(N.jsx)(xa.a,{isMulti:!1,name:"env",options:fu(n),placeholder:"Type to search",value:{label:n.env.replace("msie.msie","Internet Explorer ").replace(/[.|_]/," ")},onChange:function(e){var t;r(null,a,"env",(t=e).value.env,[{path:"userAgent",value:t.value.userAgent}])},styles:{valueContainer:function(){return{textTransform:"capitalize",fontSize:"0.9em",marginLeft:"2%"}}},noOptionsMessage:function(){return"Please select device type first"}})}),Object(N.jsx)(At.a,{span:6})]},t)},xu=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsx)(Jo,{rowIndex:1,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsx)(Au,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:a})})})]})},Nu=zt.a.Text,Cu=function(e){var t=e.rowIndex,n=e.pair,a=e.pairIndex,r=e.helperFunctions,c=e.options,s=e.ruleDetails,i=r.modifyPairAtGivenPath,l=r.openFilterModal,o=r.getFilterCount,u=r.deletePair,d=r.generatePlaceholderText;c=c||{};var O=Object(N.jsxs)(qt.a,{children:[Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,S.CONSTANTS.RULE_OPERATORS.EQUALS)},children:"Equals"})},1),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,S.CONSTANTS.RULE_OPERATORS.CONTAINS)},children:"Contains"})},2),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,S.CONSTANTS.RULE_OPERATORS.MATCHES)},children:"Matches (RegEx)"})},3),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_OPERATORS,S.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES)},children:"Matches (Wildcard)"})},4)]}),j=Object(N.jsxs)(qt.a,{children:[Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_KEYS,S.CONSTANTS.RULE_KEYS.URL)},children:"URL"})},1),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_KEYS,S.CONSTANTS.RULE_KEYS.HOST)},children:"Host"})},2),Object(N.jsx)(qt.a.Item,{children:Object(N.jsx)("span",{onClick:function(e){return i(e,a,S.CONSTANTS.PATH_FROM_PAIR.RULE_KEYS,S.CONSTANTS.RULE_KEYS.PATH)},children:"Path"})},3)]});return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(Rt.a,{span:24,style:{alignItems:"center",justifyContent:"center"},children:[Object(N.jsx)(At.a,{span:2,children:Object(N.jsx)("span",{children:"If request"})}),Object(N.jsx)(At.a,{span:2,children:Object(N.jsx)(Qt.a,{overlay:j,children:Object(N.jsxs)(Nu,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"uppercase",cursor:"pointer"},children:[n.source.key," ",Object(N.jsx)(Jt.a,{})]})})}),Object(N.jsx)(At.a,{span:2,children:Object(N.jsx)(Qt.a,{overlay:O,children:Object(N.jsxs)(Nu,{strong:!0,className:"ant-dropdown-link",onClick:function(e){return e.preventDefault()},style:{textTransform:"capitalize",cursor:"pointer"},children:[n.source.operator===S.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES?"Wildcard":n.source.operator===S.CONSTANTS.RULE_OPERATORS.MATCHES?"RegEx":n.source.operator," ",Object(N.jsx)(Jt.a,{})]})})}),Object(N.jsx)(At.a,{span:9,children:Object(N.jsx)(tn.a,{placeholder:s.ALLOW_APPLY_RULE_TO_ALL_URLS?"Leave this field Empty to apply rule to all URLs":d(n.source.operator,"source-value"),type:"text",onChange:function(e){return i(e,a,"source.value")},value:n.source.value,style:{width:"98%"}})}),s.ALLOW_REQUEST_SOURCE_FILTERS?Object(N.jsx)(At.a,{span:1,align:"left",children:Object(N.jsx)(yr.a,{title:"Filters",children:Object(N.jsxs)("span",{onClick:function(){return l(a)},style:{cursor:"pointer"},children:[Object(N.jsx)(x.s,{color:"#4A5868"})," ",0!==o(a)?Object(N.jsx)(Zn.a,{style:{color:"#465967",backgroundColor:"#E5EAEF"},children:o(a)}):null]})})}):null,Object(N.jsx)(At.a,{span:2,children:Object(N.jsx)("span",{children:"Delay (ms)"})}),Object(N.jsx)(At.a,{sm:"2",xl:"3",className:"mb-auto mt-sm-2 mt-xl-auto",span:5,children:Object(N.jsx)(tn.a,{className:"display-inline-block has-dark-text",placeholder:"Time in ms",type:"text",onChange:function(e){return i(e,a,"delay")},value:n.delay})}),s.SHOW_DELETE_PAIR_ICON_ON_SOURCE_ROW?Object(N.jsx)(At.a,{className:"my-auto",span:1,align:"right",children:Object(N.jsx)(yr.a,{title:"Remove Pair",children:Object(N.jsx)(x.J,{onClick:function(e){return u(e,a)},style:{cursor:"pointer"}})})}):null]},t)})},Iu=function(e){var t=e.pair,n=e.pairIndex,a=e.helperFunctions,r=e.ruleDetails;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Cu,{rowIndex:2,pair:t,pairIndex:n,helperFunctions:a,ruleDetails:r})})},gu=n(321),_u=function(e){var t=e.isOpen,n=e.toggle,a=Object(c.useState)(""),r=Object(u.a)(a,2),s=r[0],i=r[1],l=Object(c.useState)(""),o=Object(u.a)(l,2),d=o[0],O=o[1],j=Object(c.useContext)(X).state;return Object(N.jsxs)(gu.a,{title:"Test your Rule",height:300,placement:"bottom",onClose:function(){return n(!1)},visible:t,extra:Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){return n(!1)},children:"Close"}),children:[Object(N.jsx)(tn.a,{size:"large",value:s,onChange:function(e){return i(e.target.value)},addonBefore:"URL",placeholder:"Enter URL to test"}),Object(N.jsx)(tn.a,{size:"large",style:{marginTop:"20px"},value:d,readOnly:!0,addonBefore:"Simulated URL",placeholder:"Your Simulated URL"}),Object(N.jsxs)("div",{style:{marginTop:"50px"},children:[Object(N.jsx)(Nt.a,{size:"large",type:"primary",onClick:function(){if(on(s)){var e=Ze(j);!function(e,t,n){var a=e.process({rule:t,requestURL:n});console.log(a),a?(Ge.success("Test Complete"),O(a.url)):(O(s),Ge.warn("URL does not contain the value to be changed!"))}(S.RULE_PROCESSOR.getInstance(e.ruleType),e,s)}else Ge.warn("Please provide a valid URL to test")},children:"Test Rule"}),Object(N.jsx)(Nt.a,{size:"large",danger:!0,type:"primary",style:{marginLeft:"10px"},onClick:function(){return n(!1)},children:"Cancel"})]})]})},Lu=function(e,t,n){var a=JSON.parse(JSON.stringify(e));a.pairs.push(function(e){return Object(j.a)(Object(j.a)({},e.EMPTY_PAIR_FORMAT),{},{id:sn()})}(t)),Oo(n,a)},yu=W.RULE_EDITOR_CONFIG,Uu=n(280),vu=n(215),Pu=function(e,t){if("source-value"===t)switch(e){case S.CONSTANTS.RULE_OPERATORS.EQUALS:return"e.g. http://www.example.com";case S.CONSTANTS.RULE_OPERATORS.CONTAINS:return"e.g. google";case S.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES:return"e.g. *://*.mydomain.com/*";case S.CONSTANTS.RULE_OPERATORS.MATCHES:return"e.g. /example-([0-9]+)/ig";default:return""}else if("destination"===t)switch(e){case S.CONSTANTS.RULE_OPERATORS.EQUALS:case S.CONSTANTS.RULE_OPERATORS.CONTAINS:return"e.g. http://www.new-example.com";case S.CONSTANTS.RULE_OPERATORS.WILDCARD_MATCHES:return"e.g. $1://$2.newdomain.com/$3 (Each * can be replaced with respective $)";case S.CONSTANTS.RULE_OPERATORS.MATCHES:return"e.g. http://www.new-example.com?queryParam=$1&searchParam=$2";default:return""}return""},Du=function(e){var t=Object(c.useContext)(X),n=t.dispatch,a=t.state,r=Ze(a),i=function(e){return n(Ut(e))},l=Object(c.useState)(!1),o=Object(u.a)(l,2),d=o[0],O=o[1],j=Object(c.useState)(!1),E=Object(u.a)(j,2),b=E[0],p=E[1],h=function(e,t,n,a,c){e&&e.preventDefault();var s;s=void 0!==a?a:e.target.value;var l=JSON.parse(JSON.stringify(r));Uu(l.pairs[t],n,s),c&&c.forEach((function(e){Uu(l.pairs[t],e.path,e.value)})),i(l)},T=function(t,n){var a={modifyPairAtGivenPath:h,generatePlaceholderText:Pu,openFilterModal:R,deletePair:f,getFilterCount:A,pushValueToArrayInPair:x,deleteArrayValueByIndexInPair:C};switch(e.currentlySelectedRuleConfig.TYPE){case S.CONSTANTS.RULE_TYPES.REDIRECT:return Object(N.jsx)(Xo,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case S.CONSTANTS.RULE_TYPES.CANCEL:return Object(N.jsx)(Zo,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case S.CONSTANTS.RULE_TYPES.REPLACE:return Object(N.jsx)(ru,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case S.CONSTANTS.RULE_TYPES.HEADERS:return Object(N.jsx)(nu,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case S.CONSTANTS.RULE_TYPES.QUERYPARAM:return Object(N.jsx)(lu,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case S.CONSTANTS.RULE_TYPES.SCRIPT:return Object(N.jsx)(pu,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case S.CONSTANTS.RULE_TYPES.RESPONSE:return Object(N.jsx)(mu,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case S.CONSTANTS.RULE_TYPES.USERAGENT:return Object(N.jsx)(xu,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig});case S.CONSTANTS.RULE_TYPES.DELAY:return Object(N.jsx)(Iu,{pair:t,pairIndex:n,helperFunctions:a,ruleDetails:e.currentlySelectedRuleConfig})}},m=function(){if(e.mode!==yu.MODES.EDIT)return null;switch(e.currentlySelectedRuleConfig.TYPE){case S.CONSTANTS.RULE_TYPES.REDIRECT:case S.CONSTANTS.RULE_TYPES.REPLACE:case S.CONSTANTS.RULE_TYPES.QUERYPARAM:return Object(N.jsx)(Nt.a,{onClick:function(){return p(!0)},type:"primary",block:!0,size:"large",style:{margin:"10px 600px"},children:"Test Rule"});default:return null}},f=function(e,t){e&&e.preventDefault();var n=JSON.parse(JSON.stringify(r));n.pairs.splice(t,1),i(n)},R=function(e){O(e),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,S.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"Rule Filters Modal Opened")},A=function(e){return Object.keys(r.pairs[e].source.filters||{}).length},x=function(e,t,n,a){e&&e.preventDefault();var c=JSON.parse(JSON.stringify(r)),s=vu(c.pairs[t],n);Uu(c.pairs[t],n,[].concat(Object(Ct.a)(s),[a])),i(c)},C=function(e,t,n,a){e&&e.preventDefault();var c=JSON.parse(JSON.stringify(r));vu(c.pairs[t],n).splice(a,1),i(c)};return r.pairs&&0===r.pairs.length&&Lu(r,e.currentlySelectedRuleConfig,n),Object(N.jsxs)(s.a.Fragment,{children:[r.pairs?r.pairs.map((function(e,t){return Object(N.jsxs)(Rt.a,{children:[Object(N.jsx)(At.a,{className:"source-destination-pair ",span:24,children:T(e,t)}),m()]},e.id||t)})):null,b?Object(N.jsx)(_u,{isOpen:b,toggle:p}):null,!1!==d?Object(N.jsx)(ko,{pairIndex:d,closeModal:function(){O(!1),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,S.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED,"Rule Filters Modal Closed")},modifyPairAtGivenPath:h}):null]})},wu=function(e){var t=e.setIsChangeRuleGroupModalActive,n=e.currentlySelectedGroup;return Object(N.jsx)("b",{onClick:function(){return t(!0)},style:{cursor:"pointer"},children:"".concat(n)})},Mu=function(e,t,n){Oo(t,Object(j.a)(Object(j.a)({},e),{},Object(O.a)({},n.target.name,n.target.value)))},ku=function(){var e=Object(c.useContext)(X),t=e.dispatch,n=e.state,a=Ze(n);return Object(N.jsx)(tn.a,{placeholder:"Description (optional)",name:"description",type:"text",className:" has-dark-text height-two-rem",value:a.description,onChange:function(e){return Mu(a,t,e)}})},Gu=function(e){var t=e.currentlySelectedRuleConfig;return Object(N.jsx)(ie.a,{xl:"10",lg:"11",md:"11",sm:"10",xs:"9",children:Object(N.jsx)("span",{children:t.PAIR_CONFIG.TITLE})})},Fu=function(e){var t=e.currentlySelectedRuleConfig,n=Object(c.useContext)(X),a=n.dispatch,r=n.state,s=$e(r),i=Ze(r),l=Object(c.useState)(0),o=Object(u.a)(l,2),d=o[0],O=o[1],j=Object(c.useState)(""),E=Object(u.a)(j,2),b=E[0],p=E[1],h=Object(c.useState)(W.FEATURES.RULE_PAIRS),T=Object(u.a)(h,2),m=T[0],f=T[1],R=Object(c.useState)(0),A=Object(u.a)(R,2),x=A[0],C=A[1],I=Object(c.useState)(!1),g=Object(u.a)(I,2),_=g[0],L=g[1];Object(c.useEffect)((function(){O(i.pairs.length)}),[i]);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Nt.a,{className:"btn-icon btn-3 has-no-box-shadow float-right has-no-border",type:"secondary",onClick:function(){var e=pt(s),n=Tt(W.FEATURES.RULE_PAIRS,e);d<n?(Lu(i,t,a),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE_PAIRS,S.CONSTANTS.GA_EVENTS.ACTIONS.CREATED,"New.rule.pair.made",d)):(C(n),p(e),f(W.FEATURES.RULE_PAIRS),L(!0),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE_PAIRS,S.CONSTANTS.GA_EVENTS.ACTIONS.LIMIT_REACHED,"Rule.pairs.limit.reached",d))},icon:Object(N.jsx)(ea.a,{}),children:"Add Pair"}),_?Object(N.jsx)(Dr,{isOpen:_,toggle:function(){L(!_)},featureName:m,featureLimit:x,userPlanName:b,mode:0===x?W.LIMIT_REACHED_MODAL.MODES.CHECK_IF_ENABLED:W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT}):null]})},Bu=function(e){var t=e.currentlySelectedRuleConfig,n=e.setIsChangeRuleGroupModalActive,a=e.currentlySelectedGroup,r=e.mode,s=Object(c.useContext)(X),i=s.dispatch,l=s.state,o=Ze(l);return Object(N.jsxs)(je.a,{children:[r!==W.RULE_EDITOR_CONFIG.MODES.SHARED_LIST_RULE_VIEW?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(Rt.a,{className:"one-margin-bottom",children:[Object(N.jsx)(At.a,{className:"col-auto text-xl-right text-md-right text-lg-right",span:a&&"string"===typeof a&&a.length>28?24:8,children:Object(N.jsx)(tn.a,{addonBefore:Object(N.jsx)(wu,{currentlySelectedRuleConfig:t,setIsChangeRuleGroupModalActive:n,currentlySelectedGroup:a}),placeholder:"Rule Name",name:"name",type:"text",className:" has-dark-text height-two-rem",value:o.name,onChange:function(e){return Mu(o,i,e)},autoFocus:!0})}),Object(N.jsx)(At.a,{span:a&&"string"===typeof a&&a.length>28?24:14,offset:a&&"string"===typeof a&&a.length>28?0:2,style:a&&"string"===typeof a&&a.length>28?{marginTop:"1%"}:{},children:Object(N.jsx)(ku,{})})]}),Object(N.jsx)("br",{})]}):null,Object(N.jsxs)(Rt.a,{className:"one-margin-bottom",children:[Object(N.jsx)(At.a,{span:12,children:Object(N.jsx)(Gu,{currentlySelectedRuleConfig:t})}),Object(N.jsx)(At.a,{span:12,align:"right",children:t.ALLOW_ADD_PAIR&&r!==W.RULE_EDITOR_CONFIG.MODES.SHARED_LIST_RULE_VIEW?Object(N.jsx)(Fu,{currentlySelectedRuleConfig:t}):null})]}),t.TYPE===S.CONSTANTS.RULE_TYPES.DELAY?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Rt.a,{className:" margin-top-one",children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsx)(pi.a,{message:"Delay is capped automatically to avoid browsing performance degradation.",type:"info",showIcon:!0,description:"For XHR/Fetch, max delay is ".concat(S.CONSTANTS.DELAY_REQUEST_CONSTANTS.MAX_DELAY_VALUE_XHR,"ms & for other resources (JS, CSS, Images etc), max delay is ").concat(S.CONSTANTS.DELAY_REQUEST_CONSTANTS.MAX_DELAY_VALUE_NON_XHR,"ms"),closable:!0})})}),Object(N.jsx)("br",{})]}):null,Object(N.jsx)(Du,{mode:r,currentlySelectedRuleConfig:t})]})},Vu=W.RULE_EDITOR_CONFIG,Hu=W.RULE_TYPES_CONFIG,Yu=W.RULES_LIST_TABLE_CONSTANTS,Ku=Yu.UNGROUPED_GROUP_ID,Wu=Yu.UNGROUPED_GROUP_NAME,qu=function(e){var t=So(e.location,e.isSharedListViewRule),n=t.MODE,a=t.RULE_TYPE_TO_CREATE,r=t.RULE_TO_EDIT_ID,s=Object(ae.g)(),i=Object(c.useContext)(X),l=i.dispatch,o=i.state,d=Ze(o),O=function(e){return Xe(e).config}(o),j=We(o),E=rt(o),b=$e(o),p=Object(c.useRef)(!1),h=Object(c.useState)(!1),T=Object(u.a)(h,2),m=T[0],f=T[1],R=Object(c.useState)(""),A=Object(u.a)(R,2),x=A[0],C=A[1],I=Object(c.useState)(!1),g=Object(u.a)(I,2),_=g[0],L=g[1],y=Object(c.useCallback)(Eo,[Eo]),U=Object(c.useCallback)(Oo,[Oo]),v=Object(c.useCallback)(jo,[O]);if(Object(c.useEffect)((function(){(!1===d||n===Vu.MODES.CREATE&&d.ruleType!==a||n===Vu.MODES.CREATE&&O.TYPE!==a||n===Vu.MODES.CREATE&&O.TYPE!==d.ruleType)&&(n===Vu.MODES.CREATE?(v(l,O,a,Oo),y(l,Hu[a],s)):n===Vu.MODES.EDIT?xs(E).getRecord(r).then((function(e){void 0===e?we(s):p.current||(U(l,e),y(l,Hu[e.ruleType],s))})):n===Vu.MODES.SHARED_LIST_RULE_VIEW?e.rule&&(p.current||(U(l,e.rule),y(l,Hu[e.rule.ruleType],s))):we(s))}),[O,d,n,v,U,r,a,l,s,y,e.rule,E,e.location]),Object(c.useEffect)((function(){d.groupId===Ku?C(Wu):void 0!==d.groupId&&xs(E).getRecord(d.groupId).then((function(e){C(e?e.name:Wu)}))}),[d.groupId,E]),!m&&ce()(j)&&xs(E).getRecords(S.CONSTANTS.OBJECT_TYPES.RULE).then((function(e){f(!0),l(Lt(e,[]))})),Object(c.useEffect)((function(){return function(){p.current=!0,bo(l)}}),[l]),Object(c.useEffect)((function(){e.location.pathname.includes("/rules/editor/create/")&&e.location.state&&e.location.state.prevPath&&e.location.state.prevPath.includes("/rules/editor/edit/")&&bo(l)}),[l,e.location]),!1===O||void 0===O||void 0===O.NAME||void 0===d.name||n===Vu.MODES.CREATE&&d.ruleType!==a)return Object(N.jsx)(Nr,{renderHeader:!0});var P={numOfRulePairsOfUser:d.pairs.length,planName:pt(b),planRulePairLimit:Tt(W.FEATURES.RULE_PAIRS,pt(b))};return Object(N.jsxs)(N.Fragment,{children:[n!==Vu.MODES.SHARED_LIST_RULE_VIEW?Object(N.jsx)(xo,{currentlySelectedRuleConfig:O,topCountShowRequiredDataObject:P,location:e.location}):null,Object(N.jsx)("br",{}),Object(N.jsx)(Bu,{currentlySelectedRuleConfig:O,setIsChangeRuleGroupModalActive:L,currentlySelectedGroup:x,mode:n}),_?Object(N.jsx)(Ql,{isOpen:_,toggle:function(){L(!_)},mode:"CURRENT_RULE"}):null]})},Qu=function(e){var t=e.rule,n=e.isOpen,a=e.toggle;return t?Object(N.jsx)(en.a,{className:"modal-dialog-centered max-width-80-percent ",visible:n,onCancel:a,footer:null,title:"Preview Rule - Read only",width:"100%",children:Object(N.jsx)(qu,{rule:t,isSharedListViewRule:!0})}):Object(N.jsx)("span",{})},zu=W.RULES_LIST_TABLE_CONSTANTS,Ju=function(e,t){e(yt("rules",!t))},Xu=n(453),Zu=W.RULES_LIST_TABLE_CONSTANTS,$u=function(e,t,n,a){var r=Object(j.a)(Object(j.a)({},n),{},{creationDate:cn(),name:n.name+" Copy",id:n.ruleType+"_"+sn(),isSample:!1,isFavourite:!1,status:"Inactive"});return xs(e).saveRuleOrGroup(r).then((function(){fe(a,r.id)}))},ed=n(280),td=n(215),nd=zt.a.Link,ad=W.RULES_LIST_TABLE_CONSTANTS,rd=ad.GROUP_DETAILS,cd=ad.GROUP_RULES,sd=ad.UNGROUPED_GROUP_ID,id=ad.UNGROUPED_GROUP_NAME,ld=function(e,t){return e.groupId!==sd&&(!!e.groupId&&(!!t[e.groupId]&&t[e.groupId][rd].status===S.CONSTANTS.RULE_STATUS.INACTIVE))},od=function(e){return e.status===S.CONSTANTS.RULE_STATUS.ACTIVE},ud=function(e){var t=e.handleChangeGroupOnClick,n=e.handleShareRulesOnClick,a=e.handleExportRulesOnClick,r=e.handleImportRulesOnClick,i=e.handleDeleteRulesOnClick,l=e.handleNewGroupOnClick,o=e.handleNewRuleOnClick,O=e.totalRulesCount,E=e.rules,b=e.groups,p=e.options,h=e.headerTitle,T=e.toolBarRender,m=Object(ae.g)(),f=Object(c.useState)(!1),R=Object(u.a)(f,2),A=R[0],x=R[1],C=Object(c.useState)(!1),I=Object(u.a)(C,2),g=I[0],_=I[1],L=Object(c.useState)(!1),y=Object(u.a)(L,2),U=y[0],v=y[1],P=Object(c.useState)(!1),D=Object(u.a)(P,2),w=D[0],M=D[1],k=Object(c.useState)(0),G=Object(u.a)(k,2),F=G[0],B=G[1],V=Object(c.useState)("Free"),H=Object(u.a)(V,2),Y=H[0],K=H[1],q=Object(c.useState)(!1),Q=Object(u.a)(q,2),z=Q[0],J=Q[1],Z=Object(c.useState)([]),$=Object(u.a)(Z,2),ee=$[0],re=$[1],se=Object(c.useContext)(X),ie=se.state,le=se.dispatch,oe=$e(ie),ue=function(e){return et(e).rules}(ie),de=E||We(ie),Oe=b||Qe(ie),je=function(e){return Ye(e).rulesToPopulate}(ie),Ee=ze(ie),be=rt(ie),Se=nt(ie),he=Je(ie),Te=Wl(he),me=Te,Re=function(e){_(e),x(!0)},Ae=Object(c.useCallback)((function(e){le(function(e){return{type:d.UPDATE_RULES_TO_POPULATE,payload:e}}(e))}),[le]),xe=Object(c.useCallback)((function(e){le({type:d.UPDATE_GROUPWISE_RULES_TO_POPULATE,payload:e})}),[le]),Ne=!(p&&p.disableStatus),Ce=!(p&&p.disableEditing),ge=!(p&&p.disableActions),_e=!(p&&p.disableFavourites),Le=Object(c.useCallback)((function(){var e=de.filter((function(e){return!qi(e)}));0===ue.length?Ae(e):Ae(e.filter((function(e){return e.name.match(new RegExp(ue,"i"))})))}),[de,ue,Ae]),ye=Object(c.useCallback)((function(){var e={};ed(e,"".concat(sd,".").concat(rd),{}),ed(e,"".concat(sd,".").concat(cd),[]),Oe.forEach((function(t){ed(e,"".concat(t.id,".").concat(rd),t),ed(e,"".concat(t.id,".").concat(cd),[])})),je.sort(Wi).forEach((function(t){td(e,"".concat(t.groupId,".").concat(cd),[]).push(t)})),xe(e)}),[Oe,je,xe]),Ue=function(e,t){e.stopPropagation(),e.preventDefault(),function(e){var t=e.status===S.CONSTANTS.RULE_STATUS.ACTIVE?S.CONSTANTS.RULE_STATUS.INACTIVE:S.CONSTANTS.RULE_STATUS.ACTIVE;xs(be).saveRuleOrGroup(Object(j.a)(Object(j.a)({},e),{},{status:t})).then((function(){le(yt("rules",!Se))})).then((function(){S.CONSTANTS.RULE_STATUS.ACTIVE,Ge.success("Group is now ".concat(t.toLowerCase()))}))}(t),Kn("group","toggled","Group Toggled")},ve=function(e){e.stopPropagation(),function(e,t){var n=[];return new Promise((function(a,r){ce()(t)?r(new Error("No Rules were Selected")):xs(e).getAllRecords().then((function(r){t.forEach((function(t){var a=Object(j.a)(Object(j.a)({},r[t]),{},{groupId:zu.UNGROUPED_GROUP_ID});n.push(xs(e).saveRuleOrGroup(a))})),Promise.all(n).then((function(){return a()}))}))}))}(be,Te).then((function(){Kl(le),Ju(le,Se)})).then((function(){Ge.info("Rules Ungrouped"),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.UNGROUPED,"Rules Ungrouped")})).catch((function(){return Ge.warn("Please select rules first",{hideProgressBar:!0})}))},Pe=function(e,t){e.stopPropagation(),function(e,t,n){return n[t]?ce()(n[t].group_rules)?xs(e).removeRecord(t):Promise.reject("Delete or Ungroup rules first"):Promise.reject("Invalid Group")}(be,t.id,Ee).then((function(){Ju(le,Se),Ge.info("Group deleted"),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.GROUP,S.CONSTANTS.GA_EVENTS.ACTIONS.DELETED,"Group Deleted")})).catch((function(e){return Ge.warn(e,{hideProgressBar:!0})}))},De=function(e,t){xs(be).saveRuleOrGroup(Object(j.a)(Object(j.a)({},t),{},{isFavourite:e})).then((function(){le(yt("rules",!Se)),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,"FAVOURITE","Rule Favourite Toggled")}))},we=function(e,t){e.stopPropagation(),Ce&&function(e){if(e.isFavourite)De(!1,e);else{var t=de.filter((function(e){return e.isFavourite})).length,n=pt(oe),a=Tt(W.FEATURES.FAV_RULES,n);t>=a?(B(a),M(W.FEATURES.FAV_RULES),K(n),v(!0)):De(!0,e)}}(t)},Me=function(e,t){xs(be).saveRuleOrGroup(Object(j.a)(Object(j.a)({},t),{},{status:e})).then((function(){S.CONSTANTS.RULE_STATUS.ACTIVE,Ge.success("Rule is now ".concat(e.toLowerCase())),le(yt("rules",!Se)),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,t.ruleType+" rule","toggled")}))},ke=function(){le(Pt("authModal",!0,{redirectURL:window.location.href,src:W.FEATURES.RULES}))},Fe=function(e,t){e.stopPropagation(),oe.loggedIn?function(e){le(Pt("loadingModal",!0));var t=pt(oe),n=Tt(W.FEATURES.SHARED_LISTS,t);Zl(oe.details.profile.uid).then((function(a){var r=0;a&&(r=Object.keys(a).length),r>=n?(B(n),K(t),M(W.FEATURES.SHARED_LISTS),v(!0)):(re([e.id]),J(!0),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,"rules",S.CONSTANTS.GA_EVENTS.ACTIONS.SHARED)),le(Pt("loadingModal",!1))}))}(t):ke()},Be=function(e){var t=pt(oe);ht(W.FEATURES.EXPORT_IMPORT,t)?(Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,e.ruleType+" rule",S.CONSTANTS.GA_EVENTS.ACTIONS.EXPORTED),function(e,t){var n=[];n.push(e),e.groupId!==Zu.UNGROUPED_GROUP_ID&&n.push(t[e.groupId][Zu.GROUP_DETAILS]),Xu(JSON.stringify(n,null,2),"requestly_rules.txt","text/plain")}(e,Ee)):(B(0),K(t),M(W.FEATURES.EXPORT_IMPORT),v(!0))},Ve=function(){var e=Object(ne.a)(te.a.mark((function e(t,n){var a,r,c,s,i,l,o,u;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,n.ruleType+" rule",S.CONSTANTS.GA_EVENTS.ACTIONS.COPIED),e.next=4,xs().getAllRecords();case 4:a=e.sent,r=(new Date).getTime(),c=null;try{c=window.localStorage.getItem("authModalShownLastOn")||a.user_info.installationDate}catch(d){ke(),window.localStorage.setItem("authModalShownLastOn",r)}if(s=(r-c)/864e5,i=de.filter((function(e){return!e.MKTRuleID&&e.creationDate})),oe.loggedIn||!(i.length>=5||s>=15)){e.next=13;break}return window.localStorage.setItem("authModalShownLastOn",r),e.abrupt("return",ke());case 13:l=pt(oe),o=Tt(W.FEATURES.RULES,l),u=de.filter((function(e){return!qi(e)})),u.length>=o?(B(o),K(l),M(W.FEATURES.RULES),v(!0)):$u(be,0,n,m);case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),He=function(e,t){e.stopPropagation(),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,t.ruleType+" rule",S.CONSTANTS.GA_EVENTS.ACTIONS.DELETED),function(e,t,n,a){return xs(e).removeRecord(n).then((function(){t(yt("rules",!a))}))}(be,le,t.id,Se).then((function(){Ge.info("Rule deleted")})).then((function(){Kl(le)}))},Ke={selectedRowKeys:me,onChange:function(e){var t=e.filter((function(e){return!e.startsWith("Group_")&&e!==sd})),n={};t.forEach((function(e){n[e]=!0})),le({type:d.SET_SELECTED_RULES,payload:n})},checkStrictly:!1},qe=[{title:"Rule Details",dataIndex:"name",render:function(e,t){if("group"===t.objectType)return{children:Object(N.jsxs)("span",{children:[Object(N.jsx)("strong",{children:e})," ",Object(N.jsxs)("i",{children:["(",(n=t.id,td(Ee,"".concat(n,".").concat(cd),[]).length)," Rules)"]})]}),colSpan:2};var n,a=e.length>40?e.substring(0,40)+"...":e,r=t.description.length>40?t.description.substring(0,40)+"...":t.description;return{children:Object(N.jsxs)("div",{style:{overflow:"hidden",whiteSpace:"nowrap",wordWrap:"break-word",wordBreak:"break-word",textOverflow:"ellipsis"},children:[Object(N.jsx)(nd,{onClick:function(e){return function(e,t){e.stopPropagation(),Ce?fe(m,t.id):Re&&Re(t)}(e,t)},children:a}),Object(N.jsx)("br",{}),Object(N.jsx)(eu.a,{type:"secondary",style:{overflow:"hidden",whiteSpace:"nowrap",wordWrap:"break-word",wordBreak:"break-word",textOverflow:"ellipsis"},children:r})]})}}},{title:"Type",dataIndex:"ruleType",render:function(e,t){return t.objectType&&"group"===t.objectType?{children:null,colSpan:0}:Object(N.jsx)(gs.a,{icon:s.a.createElement(W.RULE_TYPES_CONFIG[t.ruleType].ICON),children:Object(N.jsxs)("span",{children:["\xa0 \xa0",W.RULE_TYPES_CONFIG[t.ruleType].NAME]})})}},{title:"Status",dataIndex:"status",align:"right",render:function(e,t){return t.objectType&&"group"===t.objectType?Ne&&t.id!==sd?Ce?Object(N.jsx)(Ls.a,{size:"small",checkedChildren:Object(N.jsx)(ol.a,{}),unCheckedChildren:Object(N.jsx)(oi.a,{}),checked:od(t),onClick:function(e,n){return Ue(n,t)}}):Object(N.jsx)(eu.a,{children:od(t)?"On":"Off"}):null:Ne?Ce?Object(N.jsx)(Ls.a,{size:"small",disabled:ld(t,Ee),checked:od(t),onClick:function(e,n){return function(e,t){if(e.preventDefault(),e.stopPropagation(),od(t))Me(S.CONSTANTS.RULE_STATUS.INACTIVE,t);else{var n=de.filter((function(e){return e.status===S.CONSTANTS.RULE_STATUS.ACTIVE&&!qi(e)})).length,a=pt(oe),r=Tt(W.FEATURES.ACTIVE_RULES,a);n>=r?(B(r),M(W.FEATURES.ACTIVE_RULES),K(a),v(!0)):Me(S.CONSTANTS.RULE_STATUS.ACTIVE,t)}}(n,t)}}):Object(N.jsx)(eu.a,{children:od(t)?"On":"Off"}):null}},{title:"Last Modified",align:"center",dataIndex:"modificationDate",valueType:"date",render:function(e,t){if(t.objectType&&"group"===t.objectType)return null;var n=t.modificationDate?t.modificationDate:t.creationDate;return qr()(n).format("LL")}},{title:"Favorite",align:"center",dataIndex:"isFavourite",render:function(e,t){return t.objectType&&"group"===t.objectType?null:_e?t.isFavourite?Object(N.jsx)($l.a,{onClick:function(e){return we(e,t)},style:{color:"#004BAD",cursor:"pointer"}}):Object(N.jsx)(eo.a,{onClick:function(e){return we(e,t)},style:{cursor:"pointer"}}):null}},{title:"Actions",align:"right",render:function(e,t){return t.objectType&&"group"===t.objectType?ge&&t.id!==sd?Object(N.jsx)(Kr.a,{children:function(e){var n=e.isHovering;return Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(eu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(yr.a,{title:"Ungroup Selected Rules",children:Object(N.jsx)(to.a,{onClick:function(e){return ve(e)}})})}),Object(N.jsx)(eu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(yr.a,{title:"Rename Group",children:Object(N.jsx)($n.a,{onClick:function(e){return function(e,t){e.stopPropagation();var n=t.id;le(Pt("renameGroupModal",!0,{groupId:{groupId:n}}))}(e,t)}})})}),Object(N.jsx)(eu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(yr.a,{title:"Delete Group",children:Object(N.jsx)(Yr.a,{onClick:function(e){return Pe(e,t)}})})})]})}}):null:ge?Object(N.jsx)(Kr.a,{children:function(e){var n=e.isHovering;return Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(eu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(yr.a,{title:"Edit Rule",children:Object(N.jsx)($n.a,{onClick:function(e){return n=t,e.stopPropagation(),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,n.ruleType+" rule",S.CONSTANTS.GA_EVENTS.ACTIONS.MODIFIED),void fe(m,n.id);var n}})})}),Object(N.jsx)(eu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(yr.a,{title:"Share Rule",children:Object(N.jsx)(no.a,{onClick:function(e){return Fe(e,t)}})})}),Object(N.jsx)(eu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(yr.a,{title:"Export Rule",children:Object(N.jsx)(ao.a,{onClick:function(e){return n=t,e.stopPropagation(),void(oe.loggedIn?Be(n):ke());var n}})})}),Object(N.jsx)(eu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(yr.a,{title:"Copy Rule",children:Object(N.jsx)(Ec.a,{onClick:function(e){return Ve(e,t)}})})}),Object(N.jsx)(eu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(yr.a,{title:"Delete Rule",children:Object(N.jsx)(Yr.a,{onClick:function(e){return He(e,t)}})})})]})}}):Object(N.jsx)(Kr.a,{children:function(e){var n=e.isHovering;return Object(N.jsx)(xt.b,{children:Object(N.jsx)(eu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(yr.a,{title:"Edit Rule",children:Object(N.jsx)(ro.a,{onClick:function(e){e.stopPropagation(),Re(t)}})})})})}})}}],Xe=function(){var e=pt(oe);return Tt(W.FEATURES.RULES,e)},Ze=function(e){"Escape"===e.key&&(e.preventDefault(),m.goBack())},tt=Object(c.useCallback)((function(){Kl(le)}),[le]);Object(c.useEffect)((function(){return tt}),[tt]),Object(c.useEffect)((function(){return h&&document.addEventListener("keydown",Ze),function(){h&&document.removeEventListener("keydown",Ze)}}),[]),Object(c.useEffect)((function(){Le()}),[Le]),Object(c.useEffect)((function(){ye()}),[ye]),Object(c.useEffect)((function(){le(_t(Oe))}),[le,Oe]),je.length;var at=[];for(var ct in Ee){var st=Ee[ct][rd];st.children=Ee[ct][cd],st.name||(st.creationDate=1629967497355,st.description="",st.id=sd,st.name=id,st.objectType="group",st.status=S.CONSTANTS.RULE_STATUS.ACTIVE),at.push(st)}return Object(pe.isEmpty)(at)||at[0].id!==sd||at.push(at.shift()),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ta.a,{rowClassName:function(e,t){return"group"===e.objectType?"rule-group-row":null},expandable:{defaultExpandAllRows:!1,defaultExpandedRowKeys:[sd],expandRowByClick:!0,rowExpandable:!0},tableAlertRender:function(e){return Object(N.jsx)("span",{children:"".concat(e.selectedRowKeys.length," Rules selected")})},tableAlertOptionRender:function(){return Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(yr.a,{title:"Change Group",children:Object(N.jsx)(Nt.a,{shape:"circle",onClick:t,icon:Object(N.jsx)(co.a,{})})}),Object(N.jsx)(yr.a,{title:"Share",children:Object(N.jsx)(Nt.a,{shape:"circle",onClick:n,icon:Object(N.jsx)(no.a,{})})}),Object(N.jsx)(yr.a,{title:"Export",children:Object(N.jsx)(Nt.a,{shape:"circle",onClick:a,icon:Object(N.jsx)(ao.a,{})})}),Object(N.jsx)(yr.a,{title:"Delete",children:Object(N.jsx)(Nt.a,{shape:"circle",onClick:i,icon:Object(N.jsx)(Yr.a,{})})})]})},rowSelection:!p.disableSelection&&Ke,columns:qe,dataSource:at,rowKey:"id",pagination:!1,search:!1,dateFormatter:!1,headerTitle:h||Object(N.jsxs)(N.Fragment,{children:["My HTTP Rules ","bronze"===pt(oe)&&O<=Xe()?"(".concat(O,"/").concat(Xe()," Rules Created)"):null,"bronze"===pt(oe)?Object(N.jsx)(nd,{onClick:function(e){e.preventDefault(),Ie(m),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULES,S.CONSTANTS.GA_EVENTS.ACTIONS.REMOVE_LIMIT_CLICKED,"remove.limit.clicked@rules.page",O)},style:{marginLeft:"1rem"},children:"Remove Limits"}):null]}),options:!1,toolBarRender:T||function(){return[Object(N.jsx)(Nt.a,{onClick:r,icon:Object(N.jsx)(so.a,{}),children:"Import"}),Object(N.jsx)(Nt.a,{onClick:a,icon:Object(N.jsx)(ao.a,{}),children:"Export"}),Object(N.jsx)(Nt.a,{onClick:n,icon:Object(N.jsx)(no.a,{}),children:"Share"}),Object(N.jsx)(Nt.a,{onClick:l,icon:Object(N.jsx)(ea.a,{}),children:"New Group"}),Object(N.jsx)(Nt.a,{type:"primary",onClick:o,icon:Object(N.jsx)(ea.a,{}),children:"New Rule"})]}}),A?Object(N.jsx)(Qu,{isOpen:A,toggle:function(){x(!A)},rule:g}):null,U&&w?Object(N.jsx)(Dr,{isOpen:U,toggle:function(){v(!U)},featureName:w,featureLimit:F,userPlanName:Y,mode:0===F||!1===F?W.LIMIT_REACHED_MODAL.MODES.CHECK_IF_ENABLED:W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT}):null,z?Object(N.jsx)(Xl,{isOpen:z,toggle:function(){J(!z)},rulesToShare:ee}):null]})},dd=function(){var e=Object(c.useContext)(X),t=e.state,n=e.dispatch,a=Je(t),r=$e(t),s=We(t),i=at(t),l=Object.values(S.CONSTANTS.RULE_TYPES),o=Object(c.useState)(""),d=Object(u.a)(o,2),O=d[0],E=d[1],b=Object(c.useState)(W.FEATURES.RULES),p=Object(u.a)(b,2),h=p[0],T=p[1],m=Object(c.useState)(0),f=Object(u.a)(m,2),R=f[0],A=f[1],x=Object(c.useState)(Wl(a)),C=Object(u.a)(x,2),I=C[0],g=C[1],_=Object(c.useState)(0),L=Object(u.a)(_,2),y=L[0],U=L[1],v=Object(c.useState)(!1),P=Object(u.a)(v,2),D=P[0],w=P[1],M=Object(c.useState)(!1),k=Object(u.a)(M,2),G=k[0],F=k[1],B=Object(c.useState)(!1),V=Object(u.a)(B,2),H=V[0],Y=V[1],K=Object(c.useState)(!1),q=Object(u.a)(K,2),Q=q[0],z=q[1],J=Object(c.useState)(!1),Z=Object(u.a)(J,2),$=Z[0],ee=Z[1],ae=Object(c.useState)(!1),re=Object(u.a)(ae,2),ce=re[0],se=re[1],ie=Object(c.useState)(!1),le=Object(u.a)(ie,2),oe=le[0],ue=le[1],de=Object(c.useState)(!1),Oe=Object(u.a)(de,2),je=Oe[0],Ee=Oe[1],be=Object(c.useState)(!1),Se=Object(u.a)(be,2),pe=Se[0],he=Se[1],Te=function(){F(!G)},me=function(){n(Pt("authModal",!0,{redirectURL:window.location.href,src:W.FEATURES.RULES,callback:function(){return F(!0)}}))},fe=function(){var e=Object(ne.a)(te.a.mark((function e(){var t,n,a,r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xs().getAllRecords();case 2:t=e.sent,n=(new Date).getTime(),a=null;try{a=window.localStorage.getItem("authModalShownLastOn")||t.user_info.installationDate}catch(c){me(),window.localStorage.setItem("authModalShownLastOn",n)}r=(n-a)/864e5,s.filter((function(e){return!e.MKTRuleID&&e.creationDate})).length>=5||r>=15?(window.localStorage.setItem("authModalShownLastOn",n),me()):F(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=pt(r),t=Tt(W.FEATURES.RULES,e);s.filter((function(e){return!qi(e)})).length>=t?(A(t),E(e),T(W.FEATURES.RULES),he(!0)):F(!0)},Ae=function(e){return e?Object.keys(e).length:0},xe=function(){n(Pt("loadingModal",!0));var e=pt(r),t=Tt(W.FEATURES.SHARED_LISTS,e);Zl(r.details.profile.uid).then((function(r){Ae(r)>=t?(A(t),E(e),T(W.FEATURES.SHARED_LISTS),he(!0)):(g(Wl(a)),Ee(!0),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.RULE,"rules",S.CONSTANTS.GA_EVENTS.ACTIONS.SHARED)),n(Pt("loadingModal",!1))}))},Ne=function(){ue(!0)},Ce=function(){var e=pt(r);ht(W.FEATURES.EXPORT_IMPORT,e)?(g(Wl(a)),ee(!0)):(A(0),E(e),T(W.FEATURES.EXPORT_IMPORT),he(!0))},Ie=function(){return w(window.innerWidth<620)};return window.clearRulesSelection=!1,Object(c.useEffect)((function(){return window.addEventListener("resize",Ie),function(){return window.removeEventListener("resize",Ie)}}),[D]),Object(c.useEffect)((function(){l.forEach((function(e){var t=s.filter((function(t){return t.ruleType===e&&!t.MKTRuleID}));Wn(e+"_rules",t.length)})),r&&r.details&&r.details.profile?Zl(r.details.profile.uid).then((function(e){var t=Ae(e);Wn(S.CONSTANTS.GA_EVENTS.ATTR.NUM_SHARED_LISTS,t),t>0&&Wn("iscreatesharedlisttask",!0)})):(Wn(S.CONSTANTS.GA_EVENTS.ATTR.NUM_SHARED_LISTS,0),Wn("iscreatesharedlisttask",!1))}),[s,l,r]),Object(c.useEffect)((function(){var e=s.filter((function(e){return void 0===e.MKTRuleID}));U(e.length)}),[s]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ft.a,{className:"primary-card",title:null,children:Object(N.jsx)(ud,{handleChangeGroupOnClick:function(){g(Wl(a)),z(!0)},handleShareRulesOnClick:function(){r.loggedIn?xe():me()},handleExportRulesOnClick:function(){r.loggedIn?Ce():me()},handleDeleteRulesOnClick:function(){g(Wl(a)),se(!0)},handleImportRulesOnClick:function(e){r.loggedIn?Ne():me()},totalRulesCount:y,handleNewGroupOnClick:function(){g(Wl(a)),Y(!0)},handleNewRuleOnClick:function(e){r.loggedIn?Re():fe()},options:{disableSelection:!1,disableEditing:!1,disableActions:!1,disableFavourites:!1,disableStatus:!1}})}),G?Object(N.jsx)(Nl,{isOpen:G,toggle:Te,onClickHandler:Te}):null,H?Object(N.jsx)(Fl,{isOpen:H,toggle:function(){Y(!H)}}):null,Q?Object(N.jsx)(Ql,{isOpen:Q,toggle:function(){z(!Q)},mode:"SELECTED_RULES"}):null,$?Object(N.jsx)(Hl,{isOpen:$,toggle:function(){ee(!$)},rulesToExport:I}):null,ce?Object(N.jsx)(ql,{isOpen:ce,toggle:function(){se(!ce)},rulesToDelete:I}):null,oe?Object(N.jsx)(wl,{isOpen:oe,toggle:function(){ue(!oe)}}):null,je?Object(N.jsx)(Xl,{isOpen:je,toggle:function(){Ee(!je)},rulesToShare:I}):null,pe?Object(N.jsx)(Dr,{isOpen:pe,toggle:function(){he(!pe)},featureName:h,featureLimit:R,userPlanName:O,mode:0===R?W.LIMIT_REACHED_MODAL.MODES.CHECK_IF_ENABLED:W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT}):null,i.renameGroupModal.isActive?Object(N.jsx)(zl,Object(j.a)({isOpen:i.renameGroupModal.isActive,toggle:function(){n(Pt("renameGroupModal"))}},i.renameGroupModal.props)):null]})},Od=S.CONSTANTS.GA_EVENTS,jd=function(){var e=Object(c.useContext)(X),t=e.dispatch,n=e.state,a=We(n).filter((function(e){return!qi(e)})),r=nt(n),i=rt(n),l=Object(c.useState)(!1),o=Object(u.a)(l,2),d=o[0],O=o[1],j=Object(c.useCallback)(t,[t]);return Object(c.useEffect)((function(){var e=xs(i).getRecords(S.CONSTANTS.OBJECT_TYPES.GROUP),t=xs(i).getRecords(S.CONSTANTS.OBJECT_TYPES.RULE);Promise.all([e,t]).then((function(e){var t=e[0],n=e[1];j(Lt(n,t)),O(!0),Wn(Od.ATTR.NUM_RULES,n.length),Wn(Od.ATTR.NUM_ACTIVE_RULES,n.filter((function(e){return e.status===S.CONSTANTS.RULE_STATUS.ACTIVE})).length),Wn(Od.ATTR.NUM_GROUPS,t.length),Wn(Od.ATTR.NUM_ACTIVE_GROUPS,t.filter((function(e){return e.status===S.CONSTANTS.GROUP_STATUS.ACTIVE})).length)}))}),[j,r,i]),Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(ml,{}),Object(N.jsx)(Rl,{}),d?0!==a.length?Object(N.jsx)(dd,{}):Object(N.jsx)(kl,{}):Object(N.jsx)(Nr,{customLoadingMessage:"Loading Rules",skeletonType:"list"})]})},Ed=function(){var e=Object(c.useContext)(X).state,t=rt(e);return Object(N.jsx)(N.Fragment,{children:t===S.CONSTANTS.APP_MODES.DESKTOP||us()?Object(N.jsx)(jd,{}):Object(N.jsx)(Us,{heading:"Get Started",content:"Please install Requestly Browser Extension to setup rules to modify network requests."})})},bd=function(e){var t=e.heading,n=e.content,a=Object(c.useState)(!1),r=Object(u.a)(a,2),s=r[0],i=r[1],l=Object(c.useContext)(X).state,o=$e(l),d=W.FEATURES.RULES,O=pt(o),j=Tt(W.FEATURES.SHARED_LISTS,O);return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ft.a,{children:Object(N.jsx)(Rt.a,{style:{textAlign:"center"},align:"center",children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3",children:t}),Object(N.jsx)("p",{className:"lead",children:n}),Object(N.jsx)(xt.b,{children:Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){i(!0)},children:"Upgrade"})})]})})})}),s?Object(N.jsx)(Dr,{isOpen:s,toggle:function(){i(!s)},featureName:d,featureLimit:j,userPlanName:O,mode:0===j?W.LIMIT_REACHED_MODAL.MODES.CHECK_IF_ENABLED:W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT}):null]})},Sd=function(e){var t=e.heading,n=e.content,a=e.cbUrl,r=Object(c.useContext)(X).dispatch,s=Object(ae.g)();return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ft.a,{children:Object(N.jsx)(Rt.a,{style:{textAlign:"center"},align:"center",children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3",children:t}),Object(N.jsx)("p",{className:"lead",children:n}),Object(N.jsx)(xt.b,{children:Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){r(Pt("authModal",!0,{redirectURL:window.location.href,src:W.FEATURES.RULES,callback:function(){s.push(a)}}))},children:"Login"})})]})})})})})},pd=function(e){var t=e.location,n=Object(c.useContext)(X).state,a=We(n),r=$e(n),s=a.filter((function(e){return!e.MKTRuleID&&e.creationDate})),i=pt(r),l=Tt(W.FEATURES.RULES,i),o=!r.loggedIn&&s.length<5||r.loggedIn&&s.length<l;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ft.a,{className:"primary-card",children:S.CONSTANTS.APP_MODES.EXTENSION&&us()||S.CONSTANTS.APP_MODES.DESKTOP?o?Object(N.jsx)(qu,{location:t}):r.loggedIn?Object(N.jsx)(bd,{heading:"Limit Reached",content:"We are limited to 10 rules for the free plan. Please upgrade to create more rules."}):Object(N.jsx)(Sd,{heading:"Please login to create more rules.",content:"",cbUrl:t.pathname}):Object(N.jsx)(Us,{heading:"Get Started",content:"Please install Requestly Browser Extension to setup rules to modify network requests."})})})},hd=n(155),Td=function(){var e=Object(c.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(0),i=Object(u.a)(r,2),l=i[0],o=i[1],d=Object(c.useState)(0),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useContext)(X).state,p=rt(b),h=function(){js().then((function(e){a(e.storageType),o(e.numItems),E(e.bytesUsed)}))},T=function(e){e!==n&&("sync"===e&&(l>80||j>8e4)?alert("Unable to change storage type. Too much data to be stored in Sync Storage."):Ts(e).then((function(e){h(),Ge.info("StorageType changed successfully!")})))};return Object(c.useEffect)((function(){p===S.CONSTANTS.APP_MODES.EXTENSION&&h()}),[p]),p===S.CONSTANTS.APP_MODES.DESKTOP?Object(N.jsx)(ll,{customErrorMessage:"All Requeslty rules get saved to your system as of now. We'll soon introduce a feature to move them to cloud and sync across devices."}):n?Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(ft.a,{className:"primary-card",title:"Change where your browser stores the Rules",children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(le.a,{style:{background:"transparent"},children:Object(N.jsxs)(Rt.a,{style:{paddingBottom:"1rem",alignItems:"center"},children:[Object(N.jsx)(At.a,{span:2,align:"center",children:"Select Storage"}),Object(N.jsx)(At.a,{span:11,children:Object(N.jsx)(yc.a,{className:"card-stats mb-4 mb-lg-0",style:{border:"sync"===n?"1px solid "+W.THEME_COLORS.PRIMARY_COLOR:"",cursor:"not-allowed",backgroundColor:"#dddddd99",opacity:.6},onClick:function(){Ge.info("We've disabled sync storage for the moment!")},children:Object(N.jsxs)(je.a,{children:[Object(N.jsxs)(Rt.a,{children:[Object(N.jsxs)("div",{className:"col",children:[Object(N.jsxs)(Ja.a,{className:"text-uppercase text-muted ",children:[Object(N.jsx)("strong",{children:"Sync Storage"}),"sync"===n?Object(N.jsx)(x.d,{style:{color:W.THEME_COLORS.PRIMARY_COLOR,marginLeft:"2%"}}):null]}),Object(N.jsx)("span",{children:"Sync data between multiple devices when user is logged in browser profile."})]}),Object(N.jsx)(At.a,{className:"col-auto",align:"right",children:Object(N.jsx)(hd.d,{size:"2rem"})})]}),Object(N.jsx)("p",{className:"mt-3  text-muted text-sm",children:Object(N.jsx)("span",{className:"text-nowrap",children:"Prefer when you have less than 75 rules."})})]})})}),Object(N.jsx)(At.a,{span:11,children:Object(N.jsx)(yc.a,{className:"card-stats mb-4 mb-lg-0 cursor-pointer",style:{border:"local"===n?"1px solid "+W.THEME_COLORS.PRIMARY_COLOR:""},onClick:function(){return T("local")},children:Object(N.jsxs)(je.a,{children:[Object(N.jsxs)(Rt.a,{span:24,children:[Object(N.jsxs)(At.a,{children:[Object(N.jsxs)(Ja.a,{className:"text-uppercase text-muted ",children:["Local Storage"," ","local"===n?Object(N.jsx)(x.d,{style:{color:W.THEME_COLORS.PRIMARY_COLOR}}):null]}),Object(N.jsx)("span",{className:"margin-top-one",children:"Store data locally to current browser. It has more capacity than Sync Storage."})]}),Object(N.jsx)(At.a,{className:"col-auto",align:"right",children:Object(N.jsx)(hd.e,{size:"2rem"})})]}),Object(N.jsx)("p",{className:"mt-3  text-muted text-sm",children:Object(N.jsx)("span",{className:"text-nowrap",children:"Prefer when you have more than 75 rules."})})]})})})]})})})})})})}):Object(N.jsx)(Us,{heading:"Requestly Extension Settings",content:"Please install Requestly Browser Extension first."})},md=function(e){Object(Qa.a)(n,e);var t=Object(za.a)(n);function n(){return Object(Wa.a)(this,n),t.apply(this,arguments)}return Object(qa.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Td,{})})}}]),n}(s.a.Component),fd=function(e,t){var n=function(e,t){return $r(e).concat(t)}(e,t),a=kn.setValue(n,null),r=ec(t),c=kn.setValue(r,null);return Promise.all([a,c])},Rd=function(e,t){e(function(e){return{type:d.UPDATE_SELECTED_SHARED_LISTS,payload:e}}(t))},Ad=function(e){var t=e.sharedListIdsToDeleteArray,n=e.userId,a=e.isOpen,r=e.toggle,i=Object(c.useContext)(X).dispatch,l=Object(c.useState)(!1),o=Object(u.a)(l,2),d=o[0],O=o[1],j=Object(c.useState)(!1),E=Object(u.a)(j,2),b=E[0],S=E[1],p=function(e){var t=e.showConfirmationBtn;return Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,align:"center",children:Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(Nt.a,{color:"secondary","data-dismiss":"modal",type:"button",onClick:r,children:"Close"}),t?Object(N.jsx)(Nt.a,{type:"primary","data-dismiss":"modal",onClick:function(){return S(!0)},children:"Yes"}):null]})})})},h=function(){return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(At.a,{align:"center",span:24,children:[Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(Il.a,{})}),Object(N.jsx)("h5",{children:"Please select a list before deleting"})]})}),Object(N.jsx)("br",{}),p({showConfirmationBtn:!1})]})},T=Object(c.useCallback)((function(e){var a=[];return t.forEach((function(e){a.push(fd(n,e))})),Promise.all(a)}),[i,t,n]);return Object(c.useEffect)((function(){b&&!d&&T().then((function(){O(!0),Rd(i,{}),function(e){e(yt("sharedLists"))}(i),r()}))}),[b,d,T,r,i]),Object(N.jsx)(en.a,{className:"modal-dialog-centered ",visible:a,onCancel:r,footer:null,title:"Delete List",children:b?d?Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("div",{className:"modal-body ",children:Object(N.jsx)(At.a,{lg:"12",md:"12",xl:"12",sm:"12",xs:"12",className:"text-center",children:Object(N.jsx)("b",{children:"Successfully deleted lists"})})}),p({showConfirmationBtn:!1})]}):Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,align:"center",children:Object(N.jsx)(xt.b,{children:Object(N.jsx)(ca.a,{})})})}):ce()(t)?h():Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(At.a,{span:24,align:"center",children:[Object(N.jsx)("h1",{className:"display-2",children:Object(N.jsx)(x.J,{})}),Object(N.jsx)("b",{children:"Are you sure to delete the selected lists?"}),Object(N.jsxs)("p",{children:[Object(N.jsx)("b",{children:"Total Lists Selected: "}),t.length," ",Object(N.jsx)("br",{})]})]})}),p({showConfirmationBtn:!0})]})})},xd=zt.a.Link,Nd=function(e){var t=e.sharedLists,n=Object(c.useContext)(X).state,a=$e(n),r=Object(c.useState)(""),s=Object(u.a)(r,2),i=s[0],l=s[1],o=Object(c.useState)([]),d=Object(u.a)(o,2),O=d[0],j=d[1],E=Object(ae.g)(),b=Object(c.useState)(!1),p=Object(u.a)(b,2),h=p[0],T=p[1];Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.VIEWED,"SharedList Table Viewed");var m=Object.values(t),f=[{title:"Name",dataIndex:"listName",width:"20%",textWrap:"word-break",ellipsis:!0,render:function(e,t){return Object(N.jsx)(xd,{onClick:function(e){return Re(E,t.shareId,t.listName)},children:e})}},{title:"Public URL",dataIndex:"size",width:"50%",textWrap:"word-break",ellipsis:!0,render:function(e,t){var n=S.CONSTANTS.getSharedListURL(t.shareId,t.listName);return Object(N.jsx)("span",{children:Object(N.jsx)("span",{style:{marginRight:"1%",cursor:"pointer"},children:Object(N.jsx)(vr.CopyToClipboard,{text:n,onCopy:function(){return function(e){Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.COPIED,"SharedList url copied from index page"),l(e)}(n)},children:Object(N.jsx)(yr.a,{title:i===n?"Copied!":"Copy To Clipboard",children:n})})})})}},{title:"Created on",align:"center",dataIndex:"creationDate",valueType:"date",render:function(e,t){var n=t.creationDate;return qr()(n).format("LL")}},{title:"Actions",align:"right",render:function(e,t){return Object(N.jsx)(Kr.a,{children:function(e){var n=e.isHovering;return Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(eu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(yr.a,{title:"View List Content",children:Object(N.jsx)(ro.a,{onClick:function(){return e=t.shareId,n=t.listName,void Re(E,e,n);var e,n}})})}),Object(N.jsx)(eu.a,{type:n?"primary":"secondary",style:{cursor:"pointer"},children:Object(N.jsx)(yr.a,{title:"Delete List",children:Object(N.jsx)(Yr.a,{onClick:function(){return e=t.shareId,j([e]),T(!0),void Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.WORKFLOW_STARTED,"SharedList Delete Requested from Index Page");var e}})})})]})}})}}];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(ft.a,{className:"primary-card",title:null,children:Object(N.jsx)(ta.a,{rowKey:"shareId",dataSource:m,options:!1,pagination:!1,search:!1,dateFormatter:!1,headerTitle:Object(N.jsxs)(N.Fragment,{children:["Manage Shared Lists"," ","bronze"===pt(a)?"(".concat(Object.entries(t).length,"/").concat(function(){var e=pt(a);return Tt(W.FEATURES.SHARED_LISTS,e)}()," Lists Created)"):null,"bronze"===pt(a)?Object(N.jsx)(xd,{onClick:function(e){e.preventDefault(),Ie(E),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.REMOVE_LIMIT_CLICKED,"remove.limit.clicked@shared.lists.page",Object.entries(t).length)},style:{marginLeft:"1rem"},children:"Remove Limits"}):null]}),columns:f})}),h?Object(N.jsx)(Ad,{isOpen:h,toggle:function(){T(!h)},sharedListIdsToDeleteArray:O,userId:a.details.profile.uid}):null]})},Cd=function(){var e=Object(ae.g)();return Object(N.jsx)(ft.a,{className:"primary-card",children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,style:{textAlign:"center"},children:Object(N.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("h1",{className:"display-3",children:"Share Rules with other users"}),Object(N.jsx)("p",{className:"lead",children:"To create a Shared List, go to Rules page, select the required Rules & click Share Rules button"}),Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){return me(e)},children:"Go to Rules"}),Object(N.jsx)(Nt.a,{color:"secondary",onClick:function(){return window.open(W.LINKS.REQUESTLY_DOCS_SHARING_RULES,"_blank")},children:"Documentation"})]})]})})})})},Id=S.CONSTANTS.GA_EVENTS,gd=function(){var e=Object(c.useContext)(X).state,t=$e(e),n=function(e){return tt(e).sharedLists}(e),a=Object(c.useState)(!0),r=Object(u.a)(a,2),s=r[0],i=r[1],l=Object(c.useState)({}),o=Object(u.a)(l,2),d=o[0],O=o[1],j=Object(c.useCallback)((function(e){Zl(e.details.profile.uid).then((function(e){O(e),i(!1),e&&Wn(Id.ATTR.NUM_SHARED_LISTS,Object.keys(e).length),e||Wn(Id.ATTR.NUM_SHARED_LISTS,0)}))}),[]);return Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.WORKFLOW_STARTED,"SharedList index page opened"),Object(c.useLayoutEffect)((function(){t.loggedIn&&t.details.profile&&(Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.ALREADY_LOGIN,"Already login on SharedList index page"),j(t))}),[t,j,n]),s?Object(N.jsx)(Nr,{customLoadingMessage:"Loading Shared Lists"}):ce()(d)?Object(N.jsx)(Cd,{}):Object(N.jsx)(Nd,{sharedLists:d})},_d=function(e){Object(Qa.a)(n,e);var t=Object(za.a)(n);function n(){return Object(Wa.a)(this,n),t.apply(this,arguments)}return Object(qa.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ft,{component:gd})})}}]),n}(s.a.Component),Ld=function(e){var t=e.rules,n=e.groups,a=Object(ae.g)(),r=Object(c.useContext)(X).state,s=rt(r),i=We(r),l=Object(c.useState)(!1),o=Object(u.a)(l,2),d=o[0],O=o[1],j=Object(c.useState)(!1),E=Object(u.a)(j,2),b=E[0],p=E[1],h=$e(r),T=function(e){if(us()){O(!0),Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.IMPORTED,"SharedList Import Started");var r=t||[],c=n||[];Dl([].concat(Object(Ct.a)(r),Object(Ct.a)(c)),h,i).then((function(e){Ll(s,e.data).then((function(){Ge.info("Successfully imported rules"),me(a)}))}))}else p(!0)},m=function(){return p(!b)},f=function(){return Object(N.jsx)(en.a,{visible:b,onCancel:m,footer:null,children:Object(N.jsx)(Us,{heading:"Browser Extension Required",content:"Please install Requestly Browser Extension to import shared list."})})};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(f,{}),Object(N.jsx)(ft.a,{className:"primary-card",title:null,children:Object(N.jsx)(ud,{options:{disableSelection:!0,disableEditing:!0,disableActions:!0,disableFavourites:!0,disableStatus:!0},rules:t,groups:n,headerTitle:"Shared List - Content",toolBarRender:function(){return[Object(N.jsx)(Nt.a,{type:"primary",icon:Object(N.jsx)(so.a,{}),onClick:T,loading:d,children:"Import to My Rules"})]}})})]})},yd=W.PATHS,Ud=function(){var e=Object(c.useContext)(X),t=e.state,n=e.dispatch,a=nt(t),r=rt(t),i=Object(c.useState)([]),l=Object(u.a)(i,2),o=l[0],d=l[1],O=Object(c.useState)([]),j=Object(u.a)(O,2),E=j[0],b=j[1],p=Object(c.useCallback)(n,[n]),h=window.location.pathname.split("/")[yd.SHARED_LISTS.VIEWER.ABSOLUTE.split("/").length+1-1].split("-")[0];Object(c.useEffect)((function(){var e=xs(r).getRecords(S.CONSTANTS.OBJECT_TYPES.GROUP),t=xs(r).getRecords(S.CONSTANTS.OBJECT_TYPES.RULE);Promise.all([e,t]).then((function(e){var t=e[0],n=e[1];p(Lt(n,t))}))}),[p,a,r]);var T=Object(c.useCallback)((function(){(function(e){var t=ec(e);return kn.getValue(t)})(h).then((function(e){d(e.rules),b(e.groups)}))}),[h]);return Kn(S.CONSTANTS.GA_EVENTS.CATEGORIES.SHARED_LIST,S.CONSTANTS.GA_EVENTS.ACTIONS.VIEWED,"SharedList Index Page Viewed"),Object(c.useLayoutEffect)((function(){T()}),[T]),Object(N.jsx)(s.a.Fragment,{children:ce()(o)?null:Object(N.jsx)(Ld,{rules:o,groups:E})})},vd=function(e){Object(Qa.a)(n,e);var t=Object(za.a)(n);function n(){return Object(Wa.a)(this,n),t.apply(this,arguments)}return Object(qa.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ud,{})})}}]),n}(s.a.Component),Pd=n(389),Dd=function(e){var t=e.isOpen,n=e.toggleModal,a=e.userId,r=e.teamId,s=e.isCurrentlyAdmin,i=e.callbackOnSuccess,l=Object(c.useState)(!1),o=Object(u.a)(l,2),d=o[0],O=o[1];return Object(N.jsxs)(en.a,{style:{marginTop:"200px"},visible:t,onCancel:n,footer:null,children:[Object(N.jsx)("div",{children:Object(N.jsx)("h2",{children:"Change Role"})}),Object(N.jsx)("div",{children:s?Object(N.jsxs)("h3",{children:["Remove admin access from this user? ",Object(N.jsx)("br",{}),"This user would no longer be able to add or remove members from this team"]}):Object(N.jsxs)("h3",{children:["Grant admin access to this user? ",Object(N.jsx)("br",{}),"This user would be able to add or remove members from this team"]})}),Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse",marginTop:"20px"},children:[Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){return O(!0),void Ee.functions().httpsCallable("updateTeamUserRole")({teamId:r,userId:a,role:s?"user":"admin"}).then((function(e){Ge.info("Successfully changed the role"),i&&i(),O(!1),n()})).catch((function(e){Ge.error(e.message),O(!1),n()}))},disabled:d,children:d?Object(N.jsxs)("span",{children:[Object(N.jsx)(x.G,{style:{marginRight:"5px"},className:"icon-spin"}),Object(N.jsx)("span",{children:s?"Revoking admin access":"Granting admin access"})]}):s?"Remove admin access":"Grant admin access"}),Object(N.jsx)(Nt.a,{style:{marginRight:"10px"},type:"secondary",onClick:n,disabled:d,children:"Close"})]})]})},wd=function(e){var t=e.isOpen,n=e.toggleModal,a=e.userId,r=e.teamId,s=(e.isCurrentlyAdmin,e.callbackOnSuccess),i=Object(c.useState)(!1),l=Object(u.a)(i,2),o=l[0],d=l[1];return Object(N.jsxs)(en.a,{style:{marginTop:"200px"},visible:t,onCancel:n,footer:null,children:[Object(N.jsx)("div",{children:Object(N.jsx)("h2",{children:"Remove Member"})}),Object(N.jsxs)("div",{children:[Object(N.jsx)("h3",{children:"Do you really want to remove this user from the team?"}),Object(N.jsx)("h3",{children:"They would no longer be able use your team's subscription"})]}),Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse",marginTop:"20px"},children:[Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){return d(!0),void Ee.functions().httpsCallable("updateTeamUserRole")({teamId:r,userId:a,role:"remove"}).then((function(e){Ge.info("Member removed"),s&&s(),d(!1),n()})).catch((function(e){Ge.error(e.message),d(!1),n()}))},disabled:o,children:o?Object(N.jsxs)("span",{children:[Object(N.jsx)(x.G,{style:{marginRight:"5px"},className:"icon-spin"}),Object(N.jsx)("span",{children:"Removing user"})]}):"Yes, remove"}),Object(N.jsx)(Nt.a,{style:{marginRight:"10px"},type:"secondary",onClick:n,disabled:o,children:"No"})]})]})},Md=function(e){var t=e.teamId,n=e.refresh,a=Object(ae.g)(),r=Object(c.useRef)(!0),i=Object(c.useContext)(X).state,l=$e(i),o=Object(c.useState)([]),d=Object(u.a)(o,2),O=d[0],E=d[1],b=Object(c.useState)([]),S=Object(u.a)(b,2),p=S[0],h=S[1],T=Object(c.useState)({isActive:!1,userId:!1,isCurrentlyAdmin:!1}),m=Object(u.a)(T,2),f=m[0],R=m[1],A=Object(c.useState)({isActive:!1,userId:!1}),C=Object(u.a)(A,2),I=C[0],g=C[1],_=Ee.functions().httpsCallable("getTeamUsers"),L=Object(c.useCallback)(_,[]),y=[{title:!1,dataIndex:"img",key:"img",align:"center",render:function(e){return Object(N.jsx)("span",{style:{zIndex:"unset"},children:Object(N.jsx)("img",{alt:e.displayName,style:{borderRadius:"50%",width:"12%"},src:e.photoUrl})})}},{title:"Member",dataIndex:"member",align:"center",render:function(e){return Object(N.jsx)("span",{style:{width:"100px"},children:e.displayName.concat(l.details.profile.uid===e.id?" (You) ":"")})}},{title:"Role",dataIndex:"role",align:"center",render:function(e){return Object(N.jsx)("span",{style:{width:"300px"},children:e.isOwner?Object(N.jsxs)("span",{children:[Object(N.jsx)(Zn.a,{status:"success"})," Owner"]}):e.isAdmin?Object(N.jsxs)("spna",{children:[Object(N.jsx)(Zn.a,{status:"success"})," Admin"]}):Object(N.jsx)("span",{children:"Member"})})}},{title:"Actions",dataIndex:"actions",align:"right",render:function(e){return Object(N.jsx)("span",{style:{width:"300px"},children:e.isOwner?"-":Object(N.jsxs)("span",{style:{fontSize:"1.3em"},children:[Object(N.jsxs)("span",{className:"custom-tooltip",style:{marginRight:"20px",cursor:"pointer"},children:[Object(N.jsx)(x.m,{onClick:function(){R(Object(j.a)(Object(j.a)({},f),{},{isActive:!0,userId:e.id,isCurrentlyAdmin:e.isAdmin}))}}),Object(N.jsx)("span",{className:"custom-tooltiptext",children:"Change Role"})]}),Object(N.jsxs)("span",{className:"custom-tooltip",style:{cursor:"pointer"},children:[Object(N.jsx)(x.J,{onClick:function(){g(Object(j.a)(Object(j.a)({},I),{},{isActive:!0,userId:e.id}))}}),Object(N.jsx)("span",{className:"custom-tooltiptext",children:"Remove"})]})]})})}}],U=function(){L({teamId:t}).then((function(e){if(!r.current)return null;var t=e.data;if(!t.success)throw new Error(t.message);E(t.users)})).catch((function(e){if(!r.current)return null;Ge.error(e.message),Le(a)}))},v=Object(c.useCallback)(U,[t,a]),P=function(){E([]),r.current=!0,U()},D=Object(c.useCallback)(P,[]);return Object(c.useEffect)((function(){return v(),function(){r.current=!1}}),[v]),Object(c.useEffect)((function(){D()}),[D,n]),Object(c.useEffect)((function(){h([]),O.map((function(e,t){return h((function(n){return[].concat(Object(Ct.a)(n),[{key:t+1,img:e,member:e,role:e,actions:e}])}))}))}),[O]),Object(N.jsxs)(s.a.Fragment,{children:[Object(pe.isEmpty)(O)?Object(N.jsx)(Se,{customLoadingMessage:"Finding your teammates"}):Object(N.jsx)(Pd.a,{columns:y,dataSource:p,pagination:!1}),Object(N.jsx)(Dd,{isOpen:f.isActive,toggleModal:function(){R(Object(j.a)(Object(j.a)({},f),{},{isActive:!f.isActive}))},userId:f.userId,teamId:t,isCurrentlyAdmin:f.isCurrentlyAdmin,callbackOnSuccess:function(){return P()}}),Object(N.jsx)(wd,{isOpen:I.isActive,toggleModal:function(){g(Object(j.a)(Object(j.a)({},I),{},{isActive:!I.isActive}))},userId:I.userId,teamId:t,callbackOnSuccess:function(){return P()}})]})},kd=function(e){var t=e.isOpen,n=e.toggleModal,a=e.teamId,r=e.email,s=e.isAdmin,i=Object(c.useState)(!1),l=Object(u.a)(i,2),o=l[0],d=l[1];return Object(N.jsxs)(en.a,{className:"modal-dialog-centered modal-danger",contentClassName:"bg-gradient-danger bg-gradient-blue",visible:t,onCancel:n,footer:null,children:[Object(N.jsxs)("div",{className:"modal-header",children:[Object(N.jsx)("h5",{className:"modal-title",children:"Invite email to your team"}),Object(N.jsx)("button",{"aria-label":"Close",className:"close","data-dismiss":"modal",type:"button",onClick:n,children:Object(N.jsx)("span",{"aria-hidden":!0,children:"\xd7"})})]}),Object(N.jsx)("div",{className:"modal-body",children:Object(N.jsx)(je.a,{children:Object(N.jsxs)("div",{children:["Oops! ",r," does not seem to have a Requestly account yet. Do you want to send them a magic invite link via email? They will be automatically added to this team upon signup using that link."]})})}),Object(N.jsxs)("div",{className:"modal-footer",children:[Object(N.jsx)(oe.a,{className:"text-white ml-auto",color:"link","data-dismiss":"modal",type:"button",onClick:n,disabled:o,children:"No, I'll add them later"}),Object(N.jsx)(oe.a,{className:"btn-white",color:"default",type:"button",onClick:function(){return d(!0),void Ee.functions().httpsCallable("inviteEmailToTeam")({teamId:a,email:r,isAdmin:s}).then((function(e){e.data.success?Ge.info("We've sent them an invite"):Ge.error("Opps! Couldn`t send the invite"),d(!1),n()})).catch((function(e){console.log(e.message),Ge.error("Opps! Couldn`t send the invite"),d(!1),n()}))},disabled:o,children:o?Object(N.jsxs)("span",{children:[Object(N.jsx)(x.G,{className:"icon-spin"})," Sending invite"]}):"Yes, please send"})]})]})},Gd=S.CONSTANTS.GA_EVENTS,Fd=function(e){var t=e.isOpen,n=e.toggleModal,a=e.teamId,r=e.callback,s=Object(c.useState)(""),i=Object(u.a)(s,2),l=i[0],o=i[1],d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)(!1),S=Object(u.a)(b,2),p=S[0],h=S[1],T=Object(c.useState)(!1),m=Object(u.a)(T,2),f=m[0],R=m[1];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(en.a,{style:{marginTop:"200px"},visible:t,onCancel:n,footer:null,title:"Add Team Member",children:[Object(N.jsx)("div",{children:Object(N.jsx)(je.a,{children:Object(N.jsxs)("div",{style:{marginTop:"30px"},children:[Object(N.jsx)(tn.a,{placeholder:"Email Address",type:"email",value:l,onChange:function(e){o(e.target.value)},addonBefore:Object(N.jsx)(di.a,{})}),Object(N.jsx)("div",{style:{marginTop:"2%"},children:Object(N.jsx)(hu.a,{checked:j,onChange:function(e){E(!j),Kn(Gd.CATEGORIES.TEAMS,Gd.ACTIONS.WORKFLOW_STARTED,"Check for Admin access to Team else made admin")},children:"Grant Admin Access"})})]})})}),Object(N.jsxs)("div",{style:{display:"flex",flexDirection:"row-reverse",gap:8},children:[Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){return function(){if(!ga()(l))return Ge.warn("Please enter a valid email"),void Kn(Gd.CATEGORIES.TEAMS,Gd.ACTIONS.ERROR,"Email entered is not Valid");var e=Ee.functions().httpsCallable("addUserToTeam");R(!0),e({teamId:a,email:l,isAdmin:j}).then((function(e){R(!1),r&&r(),n(),Kn(Gd.CATEGORIES.TEAMS,Gd.ACTIONS.FORM_SUBMITTED,"Successfully added member in team")})).catch((function(e){R(!1),"user-not-found"===e.message?(h(!0),Kn(Gd.CATEGORIES.TEAMS,Gd.ACTIONS.ERROR,"Add member User Not found error")):"user-already-exists"===e.message?(Ge.warn("User already has access to the team"),n(),Kn(Gd.CATEGORIES.TEAMS,Gd.ACTIONS.ERROR,"User already has access to the team")):(Ge.warn("Trouble adding user"),Kn(Gd.CATEGORIES.TEAMS,Gd.ACTIONS.ERROR,"Trouble adding user"))}))}()},disabled:f,children:f?Object(N.jsxs)("span",{children:[Object(N.jsx)(x.G,{className:"icon-spin"})," Adding Member"]}):Object(N.jsx)("span",{children:"Add Member"})}),Object(N.jsx)(Nt.a,{"data-dismiss":"modal",type:"secondary",onClick:n,disabled:f,children:"Close"})]})]}),p?Object(N.jsx)(kd,{isOpen:p,toggleModal:function(){h(!p),n()},email:l,teamId:a,isAdmin:j}):null]})},Bd=S.CONSTANTS.GA_EVENTS,Vd=function(e){var t=e.teamId,n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(!1),l=Object(u.a)(i,2),o=l[0],d=l[1];return Object(N.jsxs)("div",{style:{marginTop:"30px"},children:[Object(N.jsxs)(Rt.a,{children:[Object(N.jsx)(At.a,{children:Object(N.jsx)("h3",{children:"Members"})}),Object(N.jsx)(At.a,{style:{margin:"5px 20px 0px auto"},children:Object(N.jsxs)(Nt.a,{type:"primary",onClick:function(){s(!0),Kn(Bd.CATEGORIES.TEAMS,Bd.ACTIONS.CLICKED,"Add Member in Team button clicked")},children:[Object(N.jsx)(ea.a,{})," Add Member"]})})]}),Object(N.jsx)("div",{style:{marginTop:"20px"},children:Object(N.jsx)(Md,{teamId:t,refresh:o})}),r?Object(N.jsx)(Fd,{isOpen:r,toggleModal:function(){s(!r)},teamId:t,callback:function(){d(!o)}}):null]})},Hd=S.CONSTANTS.GA_EVENTS,Yd=da,Kd=Oa,Wd=Sa,qd=ba,Qd=function(e){var t=e.teamId,n=e.mode,a=e.isNewSubscription,r=void 0===a||a,i=e.isRenewal,l=void 0!==i&&i,o=Object(ae.g)(),d=Object(c.useRef)(!0),O=function(e){switch(e){case"team":return"enterprise";case"individual":return"gold";default:return"individual"}}(n),j=Object(c.useState)(!1),E=Object(u.a)(j,2),b=E[0],S=E[1],p=Object(c.useState)("US"),h=Object(u.a)(p,2),T=h[0],m=h[1],f=Object(c.useState)(!1),R=Object(u.a)(f,2),A=R[0],C=R[1],I=function(e,a){var c=a.price,i=a.days,u=a.planId,O=qd(T);return Object(N.jsxs)("div",{style:{textAlign:"center",width:"100%",padding:"40px"},children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("h4",{style:{textTransform:"capitalize"},children:Yd(i)}),Object(N.jsxs)("h1",{children:["".concat(O).concat(c[Wd(T)]||"0"),Object(N.jsx)("small",{children:"/".concat(Kd(i))})]})]}),Object(N.jsx)("div",{children:A&&u===A?Object(N.jsxs)(Nt.a,{block:!0,type:"secondary",disabled:!0,children:[Object(N.jsx)("i",{className:"fa fa-check"})," Current Plan"]}):Object(N.jsx)(Nt.a,{block:!0,disabled:b,type:"primary",onClick:function(a){!function(e,a){var c=a.rqPlanId,s=a.planType,i=a.days;r||l?(Ue({mode:n,teamId:t,planType:s,days:i}),Kn(Hd.CATEGORIES.PRICING,Hd.ACTIONS.CLICKED,"Clicked Select button of Mini Pricing Table Redirecting@Checkout")):(S(!0),"team"===n?Ee.functions().httpsCallable("createTeamSubscription")({rqPlanId:c,teamId:t,currency:Wd(T)}).then((function(e){if(!d.current)return null;var n=e.data;n.success?(_e(o,t),Kn(Hd.CATEGORIES.REQUEST_UPGRADE,Hd.ACTIONS.UPDATED,"Updated Existing Team Subscription")):(S(!1),Ge.error(n.message),Kn(Hd.CATEGORIES.REQUEST_UPGRADE,Hd.ACTIONS.ERROR,"Error occureed while updating existing team subscription",{error:n.message}))})).catch((function(e){if(!d.current)return null;S(!1),Ge.error(e.message),Kn(Hd.CATEGORIES.REQUEST_UPGRADE,Hd.ACTIONS.ERROR,"Error occureed while updating existing team subscription",{error:e.message})})):"individual"===n&&Ee.functions().httpsCallable("createIndividualSubscription")({rqPlanId:c,teamId:t||null,currency:Wd(T)}).then((function(e){if(!d.current)return null;var t=e.data;t.success?(ye(o,!0,!0),Kn(Hd.CATEGORIES.REQUEST_UPGRADE,Hd.ACTIONS.UPDATED,"Updated Existing Individual Subscription")):(S(!1),0===t.message.indexOf("This customer has no attached payment source or default payment method")?Pe({mode:"individual"}):(Ge.error(t.message),Kn(Hd.CATEGORIES.REQUEST_UPGRADE,Hd.ACTIONS.ERROR,"Error occureed while updating existing Individual subscription",{error:t.message})))})).catch((function(e){if(!d.current)return null;S(!1),Ge.error(e.message),Kn(Hd.CATEGORIES.REQUEST_UPGRADE,Hd.ACTIONS.ERROR,"Error occureed while updating existing Individual subscription",{error:e.message})})))}(0,{rqPlanId:u,planType:e,days:i})},children:b?Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(x.G,{className:"icon-spin"})," Please wait"]}):Object(N.jsx)(s.a.Fragment,{children:"Select"})})})]})},g=function(e){return Object(N.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"50% 50%",placeItems:"center"},children:[I(e.id,e.monthly),I(e.id,e.annual)]})},_=Object(c.useCallback)((function(){fetch("https://api.country.is/").then((function(e){if(!d.current)return null;200===e.status&&e.json().then((function(e){e.country&&m(e.country)}))})).catch((function(e){if(!d.current)return null;console.log(e)}))}),[]),L=Object(c.useCallback)((function(){Ee.functions().httpsCallable("getTeamInfo")({teamId:t}).then((function(e){if(!d.current)return null;var t=e.data;if(!t.success)throw new Error(t.message);var n=t.data;"active"===n.subscriptionStatus&&C(n.plan)})).catch((function(e){if(!d.current)return null;e&&(Ge.error("This link has been expired. Please retry."),Kn(Hd.CATEGORIES.PAGE_VISITS,Hd.ACTIONS.ROUTE_VIEWED,"link expired Redirected to 404 from teams page"),we(o))}))}),[t,o]),y=Object(c.useCallback)((function(){Ee.functions().httpsCallable("fetchIndividualUserSubscriptionDetails")().then((function(e){if(!d.current)return null;!1===e.data.success&&(Kn(Hd.CATEGORIES.PAGE_VISITS,Hd.ACTIONS.ROUTE_VIEWED,"Redirected to 404 from teams page"),we(o));var t=e.data.data;"active"===t.status&&C(t.rqPlanId)})).catch((function(e){if(!d.current)return null;Ge.error("This link has been expired. Please retry."),Kn(Hd.CATEGORIES.PAGE_VISITS,Hd.ACTIONS.ROUTE_VIEWED,"link expired Redirected to Account details from teams page"),ge(o)}))}),[o]);return Object(c.useEffect)((function(){return _(),function(){d.current=!1}}),[_]),Object(c.useEffect)((function(){"enterprise"!==O||r?"gold"!==O||r||y():L()}),[L,y,O,r]),Object(N.jsx)(N.Fragment,{children:st.map((function(e){return Object(N.jsx)(s.a.Fragment,{children:e.id===O?g(e):null},e.id)}))})},zd=S.CONSTANTS.GA_EVENTS,Jd=function(e){var t=e.teamId,n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],i=a[1];return Object(N.jsx)(s.a.Fragment,{children:r?Object(N.jsx)(Rt.a,{align:"center",children:Object(N.jsx)(At.a,{children:Object(N.jsx)(Qd,{teamId:t,isNewSubscription:!0,mode:"team"})})}):Object(N.jsx)(Rt.a,{children:Object(N.jsxs)("div",{style:{background:"transparent",margin:"auto",textAlign:"center"},children:[Object(N.jsx)("h3",{children:"One subscription for all your team members. Subscribe to one of the plans to get started."}),Object(N.jsx)("br",{}),Object(N.jsxs)("p",{children:[Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){i(!0),Kn(zd.CATEGORIES.TEAMS,zd.ACTIONS.CLICKED,"Clicked View Plans button on Team Info page redirected@mini pricing table")},children:"View Plans"}),Object(N.jsx)(Nt.a,{style:{marginLeft:"10px"},type:"secondary",onClick:function(){window.open(W.PATHS.PRICING.ABSOLUTE),Kn(zd.CATEGORIES.TEAMS,zd.ACTIONS.CLICKED,"Clicked Learn More button on Team Info page redirected@Pricing table")},children:"Learn More"})]})]})})})},Xd=n(983),Zd=function(e){var t=e.teamId,n=Object(c.useRef)(!0),a=Object(c.useState)({}),r=Object(u.a)(a,2),i=r[0],l=r[1],o=Object(c.useState)(!1),d=Object(u.a)(o,2),O=d[0],j=d[1],E=Object(c.useCallback)((function(){j(!0),Ee.functions().httpsCallable("getTeamSubscriptionInfo")({teamId:t}).then((function(e){if(!n.current)return null;l(e.data),j(!1)})).catch((function(e){if(!n.current)return null;Ge.error("Oops! An error occured. You might not have permission."),j(!1)}))}),[t]);return Object(c.useEffect)((function(){return E(),function(){n.current=!1}}),[E]),Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,children:O?Object(N.jsx)(Se,{customLoadingMessage:"Fetching subscription"}):Object(N.jsx)(yc.a,{title:"Billing",extra:i.subscriptionStatus?Object(N.jsx)(At.a,{children:Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){return Pe({mode:"team",teamId:t})},icon:Object(N.jsx)(Xd.a,{}),children:"Update Payment Method"})}):null,children:i.subscriptionStatus?Object(N.jsx)(ni,{mode:"team",teamId:t}):Object(N.jsx)(Jd,{teamId:t})})})})})},$d=n(328),eO=n(984),tO=S.CONSTANTS.GA_EVENTS,nO=function(e){var t=e.teamId,n=Object(ae.g)(),a=Object(c.useRef)(!0);t||we(n);var r=Object(c.useState)(""),s=Object(u.a)(r,2),i=s[0],l=s[1],o=Object(c.useState)(""),d=Object(u.a)(o,2),O=d[0],j=d[1],E=Object(c.useState)(""),b=Object(u.a)(E,2),S=b[0],p=b[1],h=Object(c.useState)(""),T=Object(u.a)(h,2),m=T[0],f=T[1],R=Object(c.useState)(""),A=Object(u.a)(R,2),x=A[0],C=A[1],I=Object(c.useState)(!1),g=Object(u.a)(I,2),_=g[0],L=g[1],y=Object(c.useCallback)((function(){L(!0),Ee.functions().httpsCallable("getTeamInfo")({teamId:t}).then((function(e){if(!a.current)return null;var t=e.data;if(!t.success)throw new Error(t.message);var n=t.data;l(n.name),j(new Date(1e3*n.creationTime._seconds).toDateString()),p(n.subscriptionStatus),C(new Date(1e3*n.subscriptionCurrentPeriodStart).toDateString()),f(new Date(1e3*n.subscriptionCurrentPeriodEnd).toDateString()),L(!1)})).catch((function(e){if(!a.current)return null;e&&(Ge.error("This link has been expired. Please retry."),Kn(tO.CATEGORIES.PAGE_VISITS,tO.ACTIONS.ROUTE_VIEWED,"Redirected to 404 from team info page"),we(n))}))}),[n,t]);return Object(c.useEffect)((function(){return y(),function(){a.current=!1}}),[y,t]),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{children:Object(N.jsxs)(Rt.a,{children:[Object(N.jsx)(At.a,{span:12,children:Object(N.jsx)("span",{children:"Team Details"})}),"active"===S?Object(N.jsx)(At.a,{align:"right",span:12,children:Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){ve({mode:"team",planType:"enterprise",teamId:t}),Kn(tO.CATEGORIES.TEAMS,tO.ACTIONS.CLICKED,"Change Plan button clicked redirected to update subscription")},icon:Object(N.jsx)($d.a,{}),children:"Change Plan"})}):null,"canceled"===S||"incomplete_expired"===S?Object(N.jsx)(At.a,{align:"right",span:12,children:Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){ve({mode:"team",planType:"enterprise",teamId:t,isRenewal:!0}),Kn(tO.CATEGORIES.TEAMS,tO.ACTIONS.CLICKED,"Renew Subscription button clicked redirected to update subscription")},icon:Object(N.jsx)(eO.a,{}),children:"Renew Subscription"})}):null]})}),_?Object(N.jsx)("div",{children:Object(N.jsx)(Se,{customLoadingMessage:"Loading Team Info"})}):Object(N.jsx)("div",{style:{marginTop:"1%"},children:Object(N.jsxs)(la.b,{title:null,bordered:!0,column:2,children:[Object(N.jsx)(la.b.Item,{label:"Team Name",children:i}),Object(N.jsx)(la.b.Item,{label:"Created on",children:O}),!S||Object(pe.isEmpty)(S)?null:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(la.b.Item,{label:"Current Period",children:"".concat(x," ~ ").concat(m)}),Object(N.jsx)(la.b.Item,{label:"Subscription Status",children:ha(S)})]})]})})]})},aO=function(e){var t=e.teamId;return Object(N.jsxs)(yc.a,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{children:Object(N.jsx)("h1",{children:"Manage Team"})})}),Object(N.jsxs)("div",{children:[Object(N.jsx)(nO,{teamId:t}),Object(N.jsx)(Vd,{teamId:t}),Object(N.jsx)(Zd,{teamId:t}),Object(N.jsxs)("div",{style:{fontSize:"0.8125rem",textAlign:"center",marginTop:"40px"},children:["Any questions? Reach our payment support team at"," ",Object(N.jsx)("a",{href:"mailto:".concat(S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),children:S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL}),"."]})]})]})},rO=function(e){var t=e.match.params.teamId;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ft,{component:aO,teamId:t})})},cO=S.CONSTANTS.GA_EVENTS,sO=function(){var e=Object(c.useContext)(X).state,t=$e(e),n=Object(c.useState)({}),a=Object(u.a)(n,2),r=a[0],i=a[1],l=Object(c.useState)(""),d=Object(u.a)(l,2),O=d[0],j=d[1],E=Object(c.useState)(!1),b=Object(u.a)(E,2),S=b[0],p=b[1],h=Object(c.useState)(!0),T=Object(u.a)(h,2),m=T[0],f=T[1],R=Object(c.useState)(!1),A=Object(u.a)(R,2),C=A[0],I=A[1],g=Object(c.useState)(!0),_=Object(u.a)(g,2),L=_[0],y=_[1],U=Object(c.useState)(!1),v=Object(u.a)(U,2),P=v[0],D=v[1],w=Object(c.useState)(!1),M=Object(u.a)(w,2),k=M[0],G=M[1],F=Object(c.useState)(!1),B=Object(u.a)(F,2),V=B[0],H=B[1],Y=Object(c.useState)(!1),K=Object(u.a)(Y,2),q=K[0],Q=K[1],z=Object(c.useState)(!1),J=Object(u.a)(z,2),Z=J[0],$=J[1],ee=function(e){return e?Object(N.jsxs)("span",{style:{color:"green"},children:["  ",Object(N.jsx)(x.c,{})]}):""},te=function(e,t){j(t),wn(["customProfile",r.uid],{position:e}),Kn(cO.CATEGORIES.UNLOCK,cO.ACTIONS.CLICKED,e),Wn(cO.ATTR.PROFILE,e)},ne=function(e,t){switch(e.preventDefault(),Kn(cO.CATEGORIES.UNLOCK,cO.ACTIONS.CLICKED,t),t){case"twitter_follow_step":window.open("https://twitter.com/requestlyIO","_blank"),setTimeout((function(){p(!0)}),3e3);break;case"tweet_step":window.open(" https://twitter.com/intent/tweet?url=https%3A%2F%2Frequestly.io%2F&via=requestlyIO&text=Check%20out%20Requestly%20chrome%20extension%20which%20lets%20you%20Setup%20redirects%2C%20modify%20headers%2C%20switch%20hosts%2C%20insert%20user%20scripts%20and%20much%20more%21","_blank"),setTimeout((function(){f(!0)}),3e3);break;case"linkedin_step":window.open("https://www.linkedin.com/company/14623447/","_blank"),setTimeout((function(){D(!0)}),3e3);break;case"reddit_step":window.open("https://www.reddit.com/r/requestly/","_blank"),setTimeout((function(){G(!0)}),3e3);break;case"rate_us_chrome_store_step":window.open("https://chrome.google.com/webstore/detail/requestly-redirect-url-mo/mdnleldcmiljblolnjhpnblkcekpdkpa","_blank"),setTimeout((function(){I(!0)}),6e3);break;case"watch_and_star_us_on_github_step":window.open("https://github.com/requestly/customer-support/subscription","_blank"),setTimeout((function(){y(!0)}),6e3)}},ae=function(){O&&S&&m&&C&&L&&P&&k?dn(r.email)?($(!0),wn(["unlock",r.uid],{status:"pending",lastUpdated:(new Date).toISOString().split("T")[0]},(function(){Ee.functions().httpsCallable("unlockPremium")({userId:r.uid,email:r.email,userName:r.displayName,position:O}).then((function(){window.location.reload(),$(!1)}))}))):Ge.warn("Please login with company email to unlock Requestly Premium"):Ge.warn("Please complete all the steps before continuing")};return Object(c.useLayoutEffect)((function(){t.details.isLoggedIn&&(i(t.details.profile),Dn(["unlock",t.details.profile.uid]).then((function(e){(e=e||{}).status&&"unlocked"===e.status?(Q(!0),H(!1)):"pending"===e.status?(H(!0),Q(!1)):(Q(!1),H(!1))})).catch((function(){Q(!1),H(!1)})))}),[t]),Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(ue.a,{className:" mt--7 sm-margin-top-negative-3",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)("div",{className:"col",children:Object(N.jsxs)(Oe.a,{className:"shadow",children:[Object(N.jsx)(Vt.a,{className:"border-0 has-thin-border-bottom",style:{position:"sticky",top:"0",zIndex:"1"},children:Object(N.jsx)(de.a,{className:"align-items-center",children:Object(N.jsxs)(ie.a,{className:"text-center text-sm-center text-xl-left text-lg-left text-md-left margin-bottom-1-when-xs margin-bottom-1-when-sm",children:[Object(N.jsx)("h2",{className:"mb-0",children:"Unlock 30 days of Requestly Premium"}),Object(N.jsx)("h4",{className:"text-muted mb-0",children:"Requestly Premium can be unlocked with company email accounts only"})]})})}),Object(N.jsx)(je.a,{children:V?Object(N.jsx)("article",{className:"message is-link",children:Object(N.jsxs)("div",{className:"message-body has-text-centered",children:["Thank you for expressing your interest to unlock Requestly Premium."," ",Object(N.jsx)("br",{}),"We have received your request and will activate your premium in 2-3 business days."]})}):q?Object(N.jsxs)(le.a,{style:{background:"transparent"},className:"text-center",children:["You have successfully unlocked Requestly Premium.",Object(N.jsx)("br",{})," If you love Requestly Premium, you can get our premium plan"," ",Object(N.jsx)(o.b,{to:W.PATHS.PRICING.ABSOLUTE,children:"here"}),Object(N.jsx)("br",{})," We offer discounts on bulk purchase (Enterprise Plan).",Object(N.jsx)("br",{})," Please get in touch at contact@requestly.io for the same.",Object(N.jsx)("div",{className:"has-text-centered",style:{paddingTop:"1rem",paddingBottom:"0.25rem"},children:Object(N.jsx)(o.b,{to:W.PATHS.PRICING.ABSOLUTE,className:"button is-primary",children:"Upgrade"})})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Mc.a,{color:"secondary",className:"has-transparent-bgcolor has-no-border",children:Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{children:"Follow us on LinkedIn"}),Object(N.jsxs)(ie.a,{children:[P?"Complete":"Pending",ee(P)]}),Object(N.jsx)(ie.a,{children:Object(N.jsxs)("span",{onClick:function(e){return ne(e,"linkedin_step")},className:"cursor-pointer",children:[Object(N.jsx)(x.w,{}),"\xa0\xa0 Follow Us"]})})]})}),Object(N.jsx)(Mc.a,{color:"secondary",className:"has-transparent-bgcolor has-no-border",children:Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{children:"How do you best identify yourself"}),Object(N.jsxs)(ie.a,{children:[O?"Complete":"Pending",ee(O)]}),Object(N.jsx)(ie.a,{children:$t(O,te)})]})}),Object(N.jsx)(Mc.a,{color:"secondary",className:"has-transparent-bgcolor has-no-border",children:Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{children:"Follow us on Twitter"}),Object(N.jsxs)(ie.a,{children:[S?"Complete":"Pending",ee(S)]}),Object(N.jsx)(ie.a,{children:Object(N.jsxs)("span",{onClick:function(e){return ne(e,"twitter_follow_step")},className:"cursor-pointer",children:[Object(N.jsx)(x.K,{}),"\xa0\xa0 Follow"]})})]})}),Object(N.jsx)(Mc.a,{color:"secondary",className:"has-transparent-bgcolor has-no-border",children:Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{children:"Rate us on Chrome Store"}),Object(N.jsxs)(ie.a,{children:[C?"Complete":"Pending",ee(C)]}),Object(N.jsx)(ie.a,{onClick:function(e){return ne(e,"rate_us_chrome_store_step")},className:"cursor-pointer",children:Object(N.jsxs)("span",{className:"button is-success",children:[Object(N.jsx)(x.e,{}),"\xa0\xa0 Rate Us"]})})]})}),Object(N.jsx)(Mc.a,{color:"secondary",className:"has-transparent-bgcolor has-no-border",children:Object(N.jsxs)(de.a,{children:[Object(N.jsx)(ie.a,{children:"Join our subreddit"}),Object(N.jsxs)(ie.a,{children:[k?"Complete":"Pending",ee(k)]}),Object(N.jsx)(ie.a,{children:Object(N.jsxs)("span",{onClick:function(e){return ne(e,"reddit_step")},className:"cursor-pointer",children:[Object(N.jsx)(x.B,{}),"\xa0\xa0 Join Us"]})})]})}),Object(N.jsx)("div",{className:"columns",children:Object(N.jsx)("div",{className:"column has-text-centered text-center",children:Object(N.jsx)(oe.a,{disabled:!(S&&m&&C&&r&&L),className:"btn-icon btn-3",color:"primary",type:"button",onClick:ae,children:Z?Object(N.jsx)(x.G,{className:"icon-spin"}):Object(N.jsx)("span",{children:"Unlock Premium"})})})})]})})]})})})})})},iO=function(e){Object(Qa.a)(n,e);var t=Object(za.a)(n);function n(){return Object(Wa.a)(this,n),t.apply(this,arguments)}return Object(qa.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ft,{component:sO})})}}]),n}(s.a.Component),lO=S.CONSTANTS.GA_EVENTS,oO=W.PATHS,uO=function(){var e=Object(c.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),i=Object(u.a)(r,2),l=i[0],o=i[1],d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useContext)(X).state,S=$e(b);return Object(c.useEffect)((function(){var e,t=ar();t.oobCode&&!j&&S.loggedIn&&(E(!0),a(t.continueUrl),(e=t.oobCode,Ee.auth().applyActionCode(e)).then((function(e){o(!0),Tn(S.details.profile.uid,!0),Kn(lO.CATEGORIES.USER,lO.ACTIONS.EMAIL_VERIFICATION_SUCCESSFUL,"".concat(lO.CATEGORIES.USER,"_").concat(lO.ACTIONS.EMAIL_VERIFICATION_SUCCESSFUL))})).catch((function(e){console.log(e),o(!1),Kn(lO.CATEGORIES.USER,lO.ACTIONS.EMAIL_VERIFICATION_FAILED,"".concat(lO.CATEGORIES.USER,"_").concat(lO.ACTIONS.EMAIL_VERIFICATION_FAILED))})))}),[S.loggedIn,S.details,j,l]),Object(N.jsx)(s.a.Fragment,{children:S.loggedIn?Object(N.jsx)(ue.a,{className:" mt--7 sm-margin-top-negative-3",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(Oe.a,{className:"shadow",children:Object(N.jsx)(je.a,{children:Object(N.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:l&&n?Object(N.jsxs)("div",{children:[Object(N.jsx)("h5",{className:"title is-6",children:"Your Email has been Verified."}),Object(N.jsx)(Ir,{delay:3,path:oO.RULES.RELATIVE,message:"Redirecting you to home"})]}):Object(N.jsxs)("div",{children:[Object(N.jsx)("h5",{className:"title is-6",children:"Oops! Looks like the email verification link is invalid or expired."}),Object(N.jsx)(oe.a,{className:"btn-icon btn-3",color:"primary",type:"button",onClick:fn,children:"Resend Verification email"})]})})})})})})}):Object(N.jsx)(Mt,{})})},dO=function(e){Object(Qa.a)(n,e);var t=Object(za.a)(n);function n(){return Object(Wa.a)(this,n),t.apply(this,arguments)}return Object(qa.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(uO,{})})}}]),n}(s.a.Component),OO=function(){var e=Object(c.useState)(pn(window.localStorage.getItem("RQEmailForSignIn"))?window.localStorage.getItem("RQEmailForSignIn"):null),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(!1),s=Object(u.a)(r,2),i=s[0],l=s[1],o=Object(c.useContext)(X).state,d=$e(o);return Object(c.useEffect)((function(){setTimeout((function(){document.getElementById("SignInViaEmailLinkLoginBtn").click()}),300)}),[]),Object(N.jsx)(ue.a,{className:" mt--7 sm-margin-top-negative-3",fluid:!0,children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{children:Object(N.jsx)(Oe.a,{className:"shadow",children:Object(N.jsx)(je.a,{children:Object(N.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:Object(N.jsx)(de.a,{className:"justify-content-md-center",children:Object(N.jsx)(ie.a,{lg:"3",children:Object(N.jsxs)(Aa.a,{children:[Object(N.jsxs)(Ra.a,{children:[Object(N.jsx)("label",{htmlFor:"SignInViaEmailLinkInputField",children:"Confirm email address"}),Object(N.jsx)(Wt.a,{id:"SignInViaEmailLinkInputField",placeholder:"name@example.com",type:"email",value:n||"",onChange:function(e){a(e.target.value)}})]}),Object(N.jsx)(Ra.a,{children:n&&i?Object(N.jsxs)(oe.a,{color:"primary",type:"button",disabled:!0,children:[Object(N.jsx)(x.G,{className:"icon-spin mr-2"}),"Login"]}):Object(N.jsx)(oe.a,{color:"primary",type:"button",onClick:function(e){l(!0),e.preventDefault(),d.loggedIn&&Va(),ar().oobCode&&pn(n)?gn(n).then((function(e){if(!e)throw new Error("Failed");l(!1)})).catch((function(e){Ge.error("URL seems invalid. Please contact support"),l(!1),a(null)})):(Ge.error("Please recheck the email entered, or this URL is invalid."),l(!1))},id:"SignInViaEmailLinkLoginBtn",children:"Login"})})]})})})})})})})})})},jO=function(e){Object(Qa.a)(n,e);var t=Object(za.a)(n);function n(){return Object(Wa.a)(this,n),t.apply(this,arguments)}return Object(qa.a)(n,[{key:"render",value:function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(OO,{})})}}]),n}(s.a.Component),EO=n(491),bO=n.n(EO),SO=function(){var e=Object(ae.g)(),t=Object(dr.useStripe)(),n=Object(dr.useElements)(),a=Object(c.useRef)(!0),r=new URLSearchParams(window.location.search),i=r.get("m"),l=r.get("t"),o=Object(c.useContext)(X).state,d=$e(o),O=Object(c.useState)(!1),j=Object(u.a)(O,2),E=j[0],b=j[1],p=Object(c.useState)(!1),h=Object(u.a)(p,2),T=h[0],m=h[1],f=Object(c.useState)(null),R=Object(u.a)(f,2),A=R[0],x=R[1],C=Object(c.useState)(null),I=Object(u.a)(C,2),g=I[0],_=I[1],L=Object(c.useState)(!1),y=Object(u.a)(L,2),U=y[0],v=y[1],P=Object(c.useState)(!0),D=Object(u.a)(P,2),w=D[0],M=D[1];("individual"!==i&&"team"!==i||"team"===i&&"string"!==typeof l)&&we(e);var k=Object(c.useCallback)((function(){Ee.functions().httpsCallable("getTeamInfo")({teamId:l}).then((function(e){if(!a.current)return null;var t=e.data;if(!t.success)throw new Error("Unable to find team");var n=t.data.owner;n&&d&&d.details&&d.details.profile?(v(d.details.profile.uid===n),M(!1)):(v(!1),M(!1))})).catch((function(e){if(!a.current)return null;e&&(v(!1),M(!1))}))}),[l,d]),G=function(){var a=Object(ne.a)(te.a.mark((function a(r){var c,s,o,u,d,O,j;return te.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.preventDefault(),b(!0),_(null),m(!1),c=!1,s="",x(null),t&&n){a.next=9;break}return a.abrupt("return");case 9:return o=n.getElement(dr.CardElement),a.next=12,t.createPaymentMethod({type:"card",card:o});case 12:u=a.sent,d=u.error,O=u.paymentMethod,d?(x(d.message),c=!0):s=O.id,j="individual"===i?"updateIndividualPaymentMethod":"updateTeamPaymentMethod",c?b(!1):Ee.functions().httpsCallable(j)({teamId:l||!1,paymentMethodId:s}).then((function(t){if(!t.data.success)throw new Error("Unable to update. Please contact us");m(!0),b(!1),Ge.info("The payment method has been successfully updated."),"individual"===i?ye(e,!0,!0):_e(e,l)})).catch((function(e){b(!1),_(e.message)}));case 18:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(c.useEffect)((function(){return"team"===i?k():"individual"===i&&(v(!0),M(!1)),function(){a.current=!1}}),[i,k]),Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)("div",{className:"card-deck mb-3",children:Object(N.jsx)("div",{className:"card has-no-box-shadow",children:Object(N.jsxs)("div",{className:"card-body",children:[T&&Object(N.jsx)(Sr,{type:"success",message:"The payment method has been successfully updated.",dismissible:!0,onDismiss:function(){return m(!1)}}),null!==g&&Object(N.jsx)(Sr,{type:"danger",message:g,dismissible:!0,onDismiss:function(){return _(null)}}),w?Object(N.jsx)(Se,{}):U?Object(N.jsx)("div",{className:"row justify-content-md-center",children:Object(N.jsxs)("div",{className:"col col-sm-12 col-md-8 col-lg-8 col-xl-6",children:[Object(N.jsx)("div",{className:"card-deck",children:Object(N.jsxs)("div",{className:"card mb-4",children:[Object(N.jsx)("div",{className:"card-header text-center",children:"Credit or debit card"}),Object(N.jsx)("div",{className:"card-body",children:Object(N.jsx)("div",{className:"row justify-content-md-center",children:Object(N.jsxs)("div",{className:"col col-12",children:[null!==A&&Object(N.jsx)(Sr,{type:"danger",message:A,dismissible:!0,onDismiss:function(){return x(null)}}),Object(N.jsx)(dr.CardElement,{options:fr})]})})})]})}),Object(N.jsx)(Nt.a,{type:"primary",loading:!!E,onClick:G,icon:Object(N.jsx)(ol.a,{}),children:"Save"})]})}):Object(N.jsxs)(bO.a,{style:{background:"transparent"},className:"text-center",children:[Object(N.jsx)("p",{children:"Only the team owner can update the payment method."}),Object(N.jsxs)("p",{children:["Need help? Contact us at"," ",Object(N.jsx)("a",{href:"mailto:"+S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL,children:S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})]})]})]})})})})},pO=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(c.useEffect)((function(){n||a(Object(Or.a)(S.CONFIG.stripeConfig.publishableKey))}),[n]),Object(N.jsx)(ft.a,{className:"primary-card",title:"Update Payment Method",children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:4,offset:10,align:"center",children:!1!==n?Object(N.jsx)(dr.Elements,{stripe:n,children:Object(N.jsx)(SO,{})}):null})})})},hO=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ft,{component:pO})})},TO=function(){return Object(N.jsx)(ae.a,{to:W.PATHS.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US.ABSOLUTE})},mO=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ft,{component:TO})})},fO=function(){return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(ft.a,{className:"primary-card",title:null,children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{align:"center",children:Object(N.jsx)(Oe.a,{className:"shadow",children:Object(N.jsx)(je.a,{children:Object(N.jsx)(de.a,{children:Object(N.jsx)(ie.a,{lg:"12",md:"12",className:"text-center",children:Object(N.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:Object(N.jsxs)("p",{className:"lead",children:["For subscription update, cancellation or refunds, please write to us at"," ",Object(N.jsx)("a",{href:"mailto:".concat(S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL),children:S.CONSTANTS.COMPANY_INFO.SUPPORT_EMAIL})," ","and we'll revert you shortly."]})})})})})})})})})})},RO=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Ft,{component:fO})})},AO=n(322),xO=function(e){return Object(N.jsx)(en.a,{className:"modal-dialog-centered ",visible:e.isOpen,onCancel:e.toggle,footer:Object(N.jsx)(Nt.a,{color:"primary",type:"button",onClick:e.action,children:"Continue"}),children:Object(N.jsx)("div",{className:"modal-body one-padding-top zero-padding-bottom",children:Object(N.jsx)(Rt.a,{className:"one-padding-bottom  my-auto",children:Object(N.jsx)(At.a,{className:"my-auto",children:Object(N.jsx)("p",{children:"This requires existing instance of browser to be closed. Please save your work and click Continue to relaunch it."})})})})})},NO=n(985),CO=yc.a.Meta,IO=function(){var e=Object(c.useContext)(X),t=e.state,n=e.dispatch,a=ct(t),r=Object(c.useState)({}),i=Object(u.a)(r,2),l=i[0],d=i[1],O=Object(c.useState)(!1),E=Object(u.a)(O,2),b=E[0],S=E[1],p=Object(c.useState)(!1),h=Object(u.a)(p,2),T=h[0],m=h[1],f=a.appsList,R=a.availableAppsScanned,A=a.isBackgroundProcessActive,x=a.isProxyServerRunning,C=a.proxyPort,I=Object.values(f),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};d(Object(j.a)(Object(j.a)({},l),{},{appId:!0})),window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("activate-app",{id:e,proxyPort:C,options:Object(j.a)({},t)}).then((function(t){if(d(Object(j.a)(Object(j.a)({},l),{},{appId:!1})),t.success){Ge.success("Connected ".concat(f[e].name));var a=Object(j.a)({},f);a[e].isActive=!0,n(Dt({appsListObject:a}))}else t.metadata&&t.metadata.closeConfirmRequired?(m(e),S(!0)):Ge.error("Unable to activate ".concat(f[e].name,". Issue reported."))})).catch((function(e){return console.log(e)}))},_=function(e,t,a){return a?t?Object(N.jsx)(Nt.a,{danger:!0,type:"link",icon:Object(N.jsx)(NO.a,{}),className:"btn btn-danger btn-icon btn-3  has-no-box-shadow",onClick:function(){return function(e){d(Object(j.a)(Object(j.a)({},l),{},{appId:!0})),window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("deactivate-app",{id:e,proxyPort:C}).then((function(t){if(d(Object(j.a)(Object(j.a)({},l),{},{appId:!1})),t.success){Ge.info("Disconnected ".concat(f[e].name));var a=Object(j.a)({},f);a[e].isActive=!1,n(Dt({appsListObject:a}))}else Ge.error("Unable to deactivate ".concat(f[e].name,". Issue reported."))})).catch((function(e){return console.log(e)}))}(e)},children:"Close"}):Object(N.jsx)(Nt.a,{type:"secondary",icon:Object(N.jsx)(Ks.a,{}),onClick:function(){return g(e)},loading:l[e],children:"Open"}):Object(N.jsx)("span",{className:"text-primary cursor-disabled",children:"Couldn't find it on your system"})};return Object(c.useEffect)((function(){if(window.RQ&&window.RQ.DESKTOP&&A&&x&&!R){var e=[];I.forEach((function(t){t.comingSoon||e.push(t.id)})),window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("are-apps-activatable",e).then((function(e){var t=Object(j.a)({},f);Object.entries(e).forEach((function(e){return t[e[0]].isAvailable=e[1]})),n(Dt({appsListObject:t,availableAppsScanned:!0}))})).catch((function(e){return console.error(e.message)}))}}),[x,A,R,I,f,n]),R?Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,align:"center",children:Object(N.jsxs)("p",{className:"text-center lead",children:["Connect your system apps to Requestly. After connecting the required app, click ",Object(N.jsx)(o.b,{to:W.PATHS.RULES.RELATIVE,children:"here"})," ","to setup Rules."]})})}),Object(N.jsx)("br",{}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,align:"center",children:Object(N.jsx)(xt.b,{align:"center",wrap:!0,children:I.sort((function(e,t){return e.comingSoon===t.comingSoon?0:e.comingSoon?1:-1})).sort((function(e,t){return e.isAvailable===t.isAvailable?0:e.isAvailable?-1:1})).map((function(e){return Object(N.jsx)(yc.a,{style:{width:300},actions:[Object(N.jsx)("p",{children:e.comingSoon?(t=e.name,Object(N.jsxs)("span",{className:"text-primary cursor-disabled",children:["Support for ",t," is coming soon"]})):_(e.id,e.isActive,e.isAvailable)})],children:Object(N.jsx)(CO,{avatar:Object(N.jsx)(AO.a,{src:window.location.origin+"/assets/img/thirdPartyAppIcons/"+e.icon}),title:e.name,description:e.description})},e.id);var t}))})})}),Object(N.jsx)("br",{}),Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(At.a,{span:24,align:"center",children:["Couldn't find required app? Click"," ",Object(N.jsx)(o.b,{to:W.PATHS.DESKTOP.MANUAL_SETUP.RELATIVE,children:"here"})," ","to manually set proxy and install certificate."]})}),b?Object(N.jsx)(xO,{isOpen:b,toggle:function(){b?(m(!1),S(!1)):S(!0)},action:function(){T&&(S(!1),g(T,{closeConfirmed:!0}))}}):null]}):Object(N.jsx)(Rt.a,{children:Object(N.jsx)(Se,{customLoadingMessage:"Searching system apps"})})},gO=function(){var e=Object(ae.g)(),t=Object(c.useContext)(X).state,n=rt(t),a=ct(t).isBackgroundProcessActive;return n===S.CONSTANTS.APP_MODES.EXTENSION&&me(e),a?Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(ft.a,{className:"primary-card",children:Object(N.jsx)(IO,{})})}):Object(N.jsx)(Se,{customLoadingMessage:"Loading background process"})},_O=function(){return Object(N.jsx)(gO,{})},LO=n(492),yO=n.n(LO),UO=n(494),vO=(n(910),n(225)),PO=n(169),DO=n(93),wO=function(e){return Object(N.jsxs)(xt.b,{style:{backgroundColor:"whitesmoke",width:"100%"},children:[Object(N.jsx)("div",{style:{display:"flex",marginLeft:"4px"},children:Object(N.jsx)(oi.a,{onClick:e.handleClosePane,style:{alignSelf:"center",margin:"0"}})}),Object(N.jsx)(Zn.a,{count:e.method,style:{backgroundColor:"grey"}}),Object(N.jsx)(Zn.a,{overflowCount:699,count:e.statusCode,style:{backgroundColor:"#87d068"}}),Object(N.jsx)("span",{style:{fontSize:"0.9rem"},children:e.url})]})},MO=function(e){var t=Object.entries(e.data).filter((function(e){return"headers"!==e[0]})),n=e.data.headers;return Object(N.jsxs)(PO.a,{children:[Object(N.jsx)(PO.a.Controls,{children:Object(N.jsxs)(PO.a.TabList,{children:[Object(N.jsx)(PO.a.Tab,{id:e.title,children:Object(N.jsxs)("span",{style:{backgroundColor:"whitesmoke",fontWeight:"bold",color:"black",fontSize:"0.9rem"},children:[e.title+" Details"," "]})}),Object(N.jsx)(PO.a.Tab,{id:"Headers",children:"Headers"})]})}),Object(N.jsxs)(PO.a.Panels,{children:[Object(N.jsx)(PO.a.Panel,{children:Object(N.jsx)("div",{style:{maxHeight:"400px"},children:Object(N.jsxs)(DO.a,{children:[Object(N.jsx)(DO.a.Head,{children:Object(N.jsxs)(DO.a.Row,{children:[Object(N.jsx)(DO.a.HeadCell,{children:"Property"}),Object(N.jsx)(DO.a.HeadCell,{children:"Value"})]})}),Object(N.jsx)(DO.a.Body,{children:t.map((function(e,t){var n=Object(u.a)(e,2),a=n[0],r=n[1];return Object(N.jsxs)(DO.a.Row,{id:t,children:[Object(N.jsx)(DO.a.Cell,{style:{textTransform:"capitalize"},children:a}),Object(N.jsx)(DO.a.Cell,{children:r})]})}))})]})})}),Object(N.jsx)(PO.a.Panel,{children:Object(N.jsx)("div",{style:{maxHeight:"400px"},children:Object(N.jsxs)(DO.a,{children:[Object(N.jsx)(DO.a.Head,{children:Object(N.jsxs)(DO.a.Row,{children:[Object(N.jsx)(DO.a.HeadCell,{children:"Key"}),Object(N.jsx)(DO.a.HeadCell,{children:"Value"})]})}),Object(N.jsx)(DO.a.Body,{children:Object.entries(n).map((function(e,t){var n=Object(u.a)(e,2),a=n[0],r=n[1];return Object(N.jsxs)(DO.a.Row,{id:t,children:[Object(N.jsx)(DO.a.Cell,{children:a}),Object(N.jsx)(DO.a.Cell,{children:r})]})}))})]})})})]})]})},kO=function(e){var t=e.selectedRequestData,n=e.handleClosePane;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(wO,{url:t.url,method:t.request.method,statusCode:t.response.statusCode,handleClosePane:n}),Object(N.jsxs)("div",{className:"previewData",children:[Object(N.jsx)("div",{style:{width:"50%"},children:Object(N.jsx)(MO,{data:t.request,title:"Request"})}),Object(N.jsx)(vO.a,{type:"vertical",style:{height:"auto"}}),Object(N.jsx)("div",{style:{width:"50%"},children:Object(N.jsx)(MO,{data:t.response,title:"Response"})})]})]})},GO=function(){return Object(N.jsx)("div",{children:Object(N.jsx)("center",{children:Object(N.jsx)("h2",{style:{margin:"2rem"},children:"Couldn`t find any URL matching the given keyword."})})})},FO=function(e){return Object(N.jsx)("div",{children:e.children})},BO=[{name:"Time",selector:"timestamp",sortable:!0,left:!0,width:"10%"},{name:"URL",grow:50,selector:"url",sortable:!1,wrap:!1,left:!0,format:function(e){return"".concat(e.url.slice(0,100),"...")},minWidth:20,width:"50%"},{name:"Method",selector:"request.method",sortable:!0,center:!0,maxWidth:"10%"},{name:"Content-Type",selector:"response.contentType",sortable:!0,maxWidth:"20%",center:!0}],VO=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)([]),i=Object(u.a)(r,2),l=i[0],o=i[1],d=Object(c.useState)(!1),O=Object(u.a)(d,2),j=O[0],E=O[1],b=Object(c.useState)({}),S=Object(u.a)(b,2),p=S[0],h=S[1],T=Object(c.useState)(!1),m=Object(u.a)(T,2),f=m[0],R=m[1],A=Object(c.useState)(""),x=Object(u.a)(A,2),C=x[0],I=x[1],g=[],_=j?UO.a:FO;if(p.timestamp){g=[{property:"Time",value:p.timestamp},{property:"Method",value:p.request.method},{property:"Status Code",value:p.response.statusCode},{property:"Path",value:p.request.path},{property:"Host",value:p.request.host},{property:"Port",value:p.request.port},{property:"REQUEST HEADERS",value:""}];for(var L=0,y=Object.entries(p.request.headers);L<y.length;L++){var U=Object(u.a)(y[L],2),v={property:U[0],value:U[1]};g.push(v)}g.push({property:"RESPONSE HEADERS",value:""});for(var P=0,D=Object.entries(p.response.headers);P<D.length;P++){var w=Object(u.a)(D[P],2),M={property:w[0],value:w[1]};g.push(M)}}return Object(c.useEffect)((function(){return window.RQ&&window.RQ.DESKTOP&&(window.RQ.DESKTOP.SERVICES.IPC.invokeEventInMain("get-current-network-logs").then((function(e){return a(e)})),window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("enable-request-logger").then((function(){window.RQ.DESKTOP.SERVICES.IPC.registerEvent("log-network-request",(function(e){a(e)}))}))),function(){window.RQ&&window.RQ.DESKTOP&&window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("disable-request-logger").then((function(){window.RQ.DESKTOP.SERVICES.IPC.unregisterEvent("log-network-request")}))}}),[]),Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{style:{marginTop:6,padding:3},children:Object(N.jsx)(At.a,{align:"center",span:24,children:Object(N.jsx)(tn.a.Search,{placeholder:"Input Search Keyword",onChange:function(e){var t=e.target.value;I(t);var a=new RegExp(t,"i"),r=n.filter((function(e){return e.url.match(a)}));0===r.length?R(!0):(R(!1),o(r))},style:{width:300}})})}),Object(N.jsxs)(_,{split:"horizontal",minSize:10,defaultSize:400,maxSize:600,style:{position:"unset"},children:[f?Object(N.jsx)(GO,{}):Object(N.jsx)(yO.a,{columns:BO,data:C?l:n,striped:!0,highlightOnHover:!0,pointerOnHover:!0,dense:!0,noHeader:!0,fixedHeader:!0,fixedHeaderScrollHeight:"85vh",onRowClicked:function(e){h(e),E(!0)},defaultSortAsc:!1,defaultSortField:"timestamp"}),j?Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(kO,{handleClosePane:function(){E(!1)},selectedRequestData:p})}):null]})]})},HO=function(){return Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsxs)(Rt.a,{children:[Object(N.jsx)(At.a,{span:24,align:"left",children:Object(N.jsx)("h1",{children:"Traffic Table"})}),Object(N.jsx)(At.a,{span:24,align:"center",children:Object(N.jsx)(pi.a,{message:"To optimize performance, logger works only when this screen is open & only 50 most recent logs are shown.",type:"info",showIcon:!0,closable:!0})})]}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{span:24,children:Object(N.jsx)(VO,{})})})]})},YO=function(){return Object(N.jsx)(ft.a,{className:"primary-card",children:Object(N.jsx)(HO,{})})},KO=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(YO,{})})},WO=zt.a.Text,qO=function(){var e=Object(c.useContext)(X).state,t=ct(e),n=t.isBackgroundProcessActive,a=t.isProxyServerRunning,r=t.proxyPort;return n&&a?Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{lg:"12",className:"text-center",children:Object(N.jsx)("h2",{children:"Setting up system proxy"})})}),Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(At.a,{children:[Object(N.jsx)("p",{children:"Requestly requires your applications to send their network traffic through the its local proxy server before going to their destination."}),Object(N.jsx)("p",{children:"The proxy server you set globally will be used by Safari, Google Chrome, and other applications that respect your system proxy settings. Some applications, including Mozilla Firefox, can have their own custom proxy settings independent from your system settings."})]})}),Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(At.a,{className:"text-center",children:[Object(N.jsx)("p",{children:Object(N.jsxs)("strong",{children:["Set your proxy settings to host 127.0.0.1 and port ",r," ","(http://127.0.0.1:",r,")"]})}),Object(N.jsx)("p",{children:"Make sure to set HTTPS proxy, if you want to intercept secure traffic."})]})}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{lg:"12",className:"text-center",children:Object(N.jsx)("h2",{children:"Intercepting HTTPS traffic"})})}),Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{children:Object(N.jsx)("p",{children:"Requestly generates its own certificates for sites, which it signs using a root certificate called RequestlyCA, which is uniquely generated for your installation of Requestly. You will see a warning in your browser, or other application, when it receives that certificate because the RequestlyCA certificate is not in your list of trusted root certificates."})})}),Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(At.a,{children:[Object(N.jsx)("p",{children:"Requestly generates its own certificates for sites, which it signs using a root certificate called RequestlyCA, which is uniquely generated for your installation of Requestly. You need to install this certificate on your system."}),Object(N.jsxs)("p",{className:"text-center",children:["Click"," ",Object(N.jsx)(WO,{type:"link",onClick:function(){return is()},children:"here"})," ","to save certificate to your disk."]})]})})]}):Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(Rt.a,{children:Object(N.jsx)(At.a,{children:Object(N.jsx)(yc.a,{className:"shadow",children:Object(N.jsx)(je.a,{children:Object(N.jsx)(le.a,{style:{background:"transparent"},className:"text-center",children:Object(N.jsx)("p",{children:"Proxy server is not running. Please restart the app or report to us if issue persists."})})})})})})})},QO=function(){return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(ft.a,{className:"primary-card",children:Object(N.jsx)(qO,{})})})},zO=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(QO,{})})},JO=W.PATHS,XO=W.AUTH,ZO=[{path:JO.RULE_EDITOR.RELATIVE,name:"Rule Editor",icon:"ni ni-ui-04 text-blue",component:pd},{path:JO.ONBOARDING.RELATIVE,name:"Onboarding Status",icon:"ni ni-bullet-list-67",component:function(){return Object(N.jsx)(ae.a,{to:JO.RULES.MY_RULES.ABSOLUTE})}},{path:JO.RULES.MY_RULES.ABSOLUTE,name:"Rules",icon:"fas fa-exchange-alt",component:Ed},{path:JO.RULES.RELATIVE,name:"Rules",icon:"fas fa-exchange-alt",component:function(){return Object(N.jsx)(ae.a,{to:JO.RULES.MY_RULES.ABSOLUTE})}},{path:JO.MARKETPLACE.RELATIVE,name:"Market",icon:"fas fa-store-alt",component:Vs},{path:JO.FILES.VIEWER.RELATIVE,name:"File Viewer",icon:"ni ni-folder-17",component:_c},{path:JO.FILES.MY_FILES.ABSOLUTE,name:"Files",icon:"fas fa-folder-open",component:cc},{path:JO.FILES.RELATIVE,name:"Mock APIs",icon:"fas fa-server",component:function(){return Object(N.jsx)(ae.a,{to:JO.FILES.MY_FILES.ABSOLUTE})}},{path:JO.MOCK_SERVER.VIEWER.RELATIVE,name:"Mock Server",icon:"ni ni-folder-17",component:_c},{path:JO.MOCK_SERVER.MY_MOCKS.ABSOLUTE,name:"My Mocks",icon:"fas fa-folder-open",component:cc},{path:JO.MOCK_SERVER.RELATIVE,name:"Mock Server",icon:"fas fa-server",component:function(){return Object(N.jsx)(ae.a,{to:JO.MOCK_SERVER.MY_MOCKS.ABSOLUTE})}},{path:JO.SHARED_LISTS.VIEWER.RELATIVE,name:"Shared Lists Viewer",icon:"ni ni-curved-next",component:vd},{path:JO.SHARED_LISTS.MY_LISTS.ABSOLUTE,name:"Sharing",icon:"fas fa-share-alt",component:_d},{path:JO.SHARED_LISTS.RELATIVE,name:"Sharing",icon:"fas fa-share-alt",component:function(){return Object(N.jsx)(ae.a,{to:JO.SHARED_LISTS.MY_LISTS.ABSOLUTE})}},{name:"Unlock Premium",icon:"ni ni-lock-circle-open text-red",component:iO,showLinkInSidebar:!1},{path:JO.REFERRAL.RELATIVE,name:"Refer Your Friends",icon:"ni ni-notification-70 text-green",component:function(){return Object(N.jsx)(ae.a,{to:JO.ACCOUNT.MY_REFERRALS.ABSOLUTE})}},{path:JO.BACKUP.RELATIVE,name:"Data Backup",icon:"ni ni-archive-2 text-purple",component:function(){return Object(N.jsx)(ae.a,{to:JO.ACCOUNT.MY_BACKUPS.ABSOLUTE})}},{name:"Request an Upgrade",icon:"fas fa-file-signature text-blue",component:pl,showLinkInSidebar:!1},{path:JO.PRICING.RELATIVE,name:"Pricing",icon:"ni ni-lock-circle-open text-red",component:Ui},{path:JO.LICENSE.MANAGE.RELATIVE,name:"Manage License",icon:"ni ni-lock-circle-open text-red",component:Jc},{path:JO.LICENSE.RELATIVE,name:"License",icon:"ni ni-lock-circle-open text-red",component:qc},{path:JO.SETTINGS.REMOTE_RULES.RELATIVE,name:"Settings",icon:"ni ni-lock-circle-open text-red",component:Ol},{path:JO.SETTINGS.STORAGE_SETTINGS.RELATIVE,name:"Storage Settings",icon:"ni ni-lock-circle-open text-red",component:md},{path:JO.SETTINGS.RELATIVE,name:"Settings",icon:"ni ni-lock-circle-open text-red",component:function(){return Object(N.jsx)(ae.a,{to:JO.SETTINGS.STORAGE_SETTINGS.ABSOLUTE})}},{path:JO.GOODBYE.RELATIVE,name:"Goodbye",icon:"ni ni-lock-circle-open text-red",component:wc},{path:JO.ACCOUNT.TEAM.RELATIVE+"/:teamId",name:"Manage Team",icon:"ni ni-lock-circle-open text-red",component:rO},{path:JO.ACCOUNT.MY_TEAMS.RELATIVE,icon:"ni ni-lock-circle-open text-red",component:Ys},{path:JO.ACCOUNT.PERSONAL_SUBSCRIPTION.RELATIVE,icon:"ni ni-lock-circle-open text-red",component:ri},{path:JO.ACCOUNT.UPDATE_SUBSCRIPTION.RELATIVE,icon:"ni ni-lock-circle-open text-red",component:mO},{path:JO.ACCOUNT.UPDATE_SUBSCRIPTION_CONTACT_US.RELATIVE,icon:"ni ni-lock-circle-open text-red",component:RO},{path:JO.ACCOUNT.UPDATE_PAYMENT_METHOD.RELATIVE,icon:"ni ni-lock-circle-open text-red",component:hO},{path:JO.ACCOUNT.REFRESH_SUBSCRIPTION.RELATIVE,icon:"ni ni-lock-circle-open text-red",component:il},{path:JO.ACCOUNT.CHECKOUT.RELATIVE,name:"< Back to Account Settings",icon:"ni ni-lock-circle-open text-red",component:xr},{path:JO.ACCOUNT.MY_ACCOUNT.RELATIVE,name:"Manage Account",icon:"ni ni-lock-circle-open text-red",component:Ka},{path:JO.ACCOUNT.MY_BACKUPS.RELATIVE,name:"My Backups",icon:"ni ni-lock-circle-open text-red",component:cl},{path:JO.ACCOUNT.MY_REFERRALS.RELATIVE,name:"My Referrals",icon:"ni ni-lock-circle-open text-red",component:Bi},{path:JO.ACCOUNT.RELATIVE,name:"Manage Account",icon:"ni ni-lock-circle-open text-red",component:function(){return Object(N.jsx)(ae.a,{to:JO.ACCOUNT.MY_ACCOUNT.ABSOLUTE})}},{path:JO.AUTH.SIGN_IN.RELATIVE,name:"Sign In",icon:"ni ni-lock-circle-open text-red",component:lr,props:{authMode:XO.ACTION_LABELS.LOG_IN}},{path:JO.AUTH.DEKSTOP_SIGN_IN.RELATIVE,name:"Sign In",icon:"ni ni-lock-circle-open text-red",component:ur},{path:JO.AUTH.SIGN_UP.RELATIVE,name:"Sign Up",icon:"ni ni-lock-circle-open text-red",component:lr,props:{authMode:XO.ACTION_LABELS.SIGN_UP}},{path:JO.AUTH.FORGOT_PASSWORD.RELATIVE,name:"Forgot Password",icon:"ni ni-lock-circle-open text-red",component:lr,props:{authMode:XO.ACTION_LABELS.REQUEST_RESET_PASSWORD}},{path:JO.AUTH.EMAIL_ACTION.RELATIVE,name:"Email Action",icon:"ni ni-lock-circle-open text-red",component:Lr},{path:JO.AUTH.RESET_PASSWORD.RELATIVE,name:"Reset Password",icon:"ni ni-lock-circle-open text-red",component:lr,props:{authMode:XO.ACTION_LABELS.DO_RESET_PASSWORD}},{path:JO.AUTH.VERIFY_EMAIL.RELATIVE,name:"Verify E-mail",icon:"ni ni-lock-circle-open text-red",component:dO},{path:JO.AUTH.EMAIL_LINK_SIGNIN.RELATIVE,name:"Sign in via email link",icon:"ni ni-lock-circle-open text-red",component:jO},{path:JO.PAYMENT_SUCCESS.ABSOLUTE,name:"Payment Successful",icon:"ni ni-lock-circle-open text-red",component:zs},{path:JO.PAYMENT_SUCCESS.RELATIVE,name:"Payment Successful",icon:"ni ni-lock-circle-open text-red",component:zs},{path:JO.PAYMENT_FAIL.ABSOLUTE,name:"Payment Failed",icon:"ni ni-lock-circle-open text-red",component:Qs},{path:JO.PAYMENT_FAIL.RELATIVE,name:"Payment Failed",icon:"ni ni-lock-circle-open text-red",component:Qs},{path:JO.PAGE404.RELATIVE,name:"404",icon:"ni ni-lock-circle-open text-red",component:Zs},{path:JO.PAGE403.RELATIVE,name:"403",icon:"ni ni-lock-circle-open text-red",component:ei,layout:JO.LANDING,showLinkInSidebar:!1},{path:JO.ACCEPT_TEAM_INVITE.RELATIVE,name:"Join a Team",icon:"ni ni-lock-circle-open text-red",component:Bt},{path:JO.ACCOUNT.SUPPORT.RELATIVE,name:"Requestly Support",icon:"ni ni-support-16 text-red",component:function(){return window.location.href=W.LINKS.CONTACT_US_PAGE,null}},{path:JO.APP_MODE.RELATIVE,name:"App Mode",icon:"ni ni-support-16 text-red",component:er},{path:JO.DESKTOP.MANUAL_SETUP.RELATIVE,name:"Manual Setup",icon:"ni ni-support-16 text-red",component:zO},{path:JO.DESKTOP.MY_APPS.ABSOLUTE,name:"Manage Proxy Apps",icon:"ni ni-support-16 text-red",component:_O},{path:JO.DESKTOP.INTERCEPT_TRAFFIC.ABSOLUTE,name:"Intercept Traffic",icon:"ni ni-support-16 text-red",component:KO},{path:JO.DESKTOP.RELATIVE,name:"Manage Proxy Apps",icon:"ni ni-support-16 text-red",component:function(){return Object(N.jsx)(ae.a,{to:JO.DESKTOP.MY_APPS.ABSOLUTE})}},{path:JO.FEEDBACK.RELATIVE,name:"Requestly Feedback",icon:"ni ni-support-16 text-red",component:wc}],$O=function(e){var t=e.toggle,n=e.isOpen;return Object(N.jsx)(en.a,{className:"modal-dialog-centered ",visible:n,onCancel:t,footer:null,children:Object(N.jsx)("div",{className:"modal-body ",children:Object(N.jsx)(Se,{customLoadingMessage:"Loading"})})})},ej=function(e){var t=e.isOpen,n=e.toggle,a=e.authMode,r=e.src,s=e.callback,i=Object(c.useContext)(X).state,l=$e(i),o=Object(c.useState)(a||W.AUTH.ACTION_LABELS.LOG_IN),d=Object(u.a)(o,2),O=d[0],j=d[1];return Object(c.useLayoutEffect)((function(){l.loggedIn&&n()}),[l.loggedIn,n]),Object(N.jsx)(en.a,{size:"small",visible:t,onCancel:function(){return n()},footer:null,style:{width:"300px",margin:"0 auto"},bodyStyle:{padding:"0",borderRadius:"0.45rem"},width:"400px",children:Object(N.jsx)(cr,{authMode:O,src:r,callbacks:{onSignInSuccess:s,onRequestPasswordResetSuccess:n},setAuthMode:j})})},tj=W.PATHS,nj=function(e){var t=Object(c.useContext)(X),n=t.state,a=t.dispatch,r=at(n),s=function(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){t.current=e})),t.current}({location:e.location});Object(c.useEffect)((function(){var t,n;s&&s.location!==e.location&&(document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,document.getElementById("dashboardMainContent").scrollTop=0),s&&s.location===e.location||(n=e.location.pathname,t=n.split("/").slice(0,3).join("/"),Kn(Yn.CATEGORIES.PAGE_VISITS,"visit ".concat(t),"".concat(Yn.CATEGORIES.PAGE_VISITS,"_").concat(t)))}),[e.location,s]);var i;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{id:"dashboardMainContent",children:Object(N.jsxs)(ae.d,{children:[(i=ZO,i.map((function(e,t){var n=e.props||{};return Object(N.jsx)(ae.b,{path:"/".concat(e.path).replace(/\/\//g,"/"),render:function(t){return Object(N.jsx)(e.component,Object(j.a)(Object(j.a)({},t),n))}},t)}))),Object(N.jsx)(ae.a,{exact:!0,from:tj.ROOT,to:tj.RULES.ABSOLUTE}),Object(N.jsx)(ae.a,{exact:!0,from:tj.INDEX_HTML,to:tj.RULES.ABSOLUTE}),Object(N.jsx)(ae.a,{from:tj.EXTENSION_INSTALLED,to:tj.RULES.ABSOLUTE}),Object(N.jsx)(ae.a,{from:tj.ANY,to:tj.PAGE404.ABSOLUTE})]})}),r.loadingModal.isActive?Object(N.jsx)($O,{isOpen:r.loadingModal.isActive,toggle:function(){a(Pt("loadingModal"))}}):null,r.authModal.isActive?Object(N.jsx)(ej,Object(j.a)({isOpen:r.authModal.isActive,toggle:function(){a(Pt("authModal"))}},r.authModal.props)):null]})},aj=n(503),rj=n(989),cj=n(990),sj=n(991),ij=n(992),lj=n(987),oj=n(993),uj=n(994),dj=n(995),Oj=n(996),jj=n(997),Ej=n(998),bj=n(999),Sj=function(){var e=Object(c.useContext)(X),t=e.state,n=e.dispatch,a=rt(t),r=ct(t);return Object(c.useEffect)((function(){a===S.CONSTANTS.APP_MODES.DESKTOP&&(r.isBackgroundProcessActive||ss().then((function(e){n(Dt({isBackgroundProcessActive:!!e})),!0===e&&window.RQ.DESKTOP.SERVICES.IPC.invokeEventInBG("start-proxy-server").then((function(e){var t=e.success,a=e.port;n(Dt({isProxyServerRunning:!!t,proxyPort:a}))}))})))}),[a,r,n]),Object(N.jsx)(s.a.Fragment,{})},pj=function(){var e=document.getElementById("ipl-progress-indicator");e&&(e.classList.add("available"),setTimeout((function(){e.outerHTML=""}),1e3)),document.body.style.pointerEvents="unset"},hj=n.p+"static/media/rq_logo.8e5025c3.svg",Tj=zt.a.Text,mj=function(){return Object(N.jsx)("footer",{className:"ant-layout-footer",style:{padding:"0px"},children:Object(N.jsxs)("div",{className:"ant-pro-global-footer",children:[Object(N.jsx)(vO.a,{}),Object(N.jsx)(Rt.a,{children:Object(N.jsxs)(At.a,{span:24,align:"center",children:[Object(N.jsx)(Zn.a,{status:"success"}),Object(N.jsxs)(Tj,{type:"secondary",children:["Need a hand, feedback or issue? Chat with our developers."," ",Object(N.jsxs)("a",{href:"https://discord.gg/SumMHwuaZv",target:"_blank",rel:"noreferrer",children:[" ","Join Requestly community on Discord"," ",Object(N.jsx)(x.k,{className:"fix-icon-is-up"})," "]})]})]})})]})})},fj=n(502),Rj=n(513),Aj=n(988),xj=n(7),Nj=n.n(xj),Cj=n(498),Ij=n.n(Cj),gj=["overlayClassName"],_j=function(e){var t=e.overlayClassName,n=Object(He.a)(e,gj);return Object(N.jsx)(Qt.a,Object(j.a)({overlayClassName:Nj()(Ij.a.container,t)},n))},Lj=n(157),yj=n.n(Lj),Uj=n(499),vj=function(e){var t=e.menu,n=Object(ae.g)(),a=Object(c.useContext)(X),r=a.dispatch,i=a.state,l=$e(i),o=Object(c.useState)(!1),d=Object(u.a)(o,2),O=d[0],j=d[1],E=function(){r(Pt("authModal",!0,{redirectURL:window.location.href}))},b=Object(c.useCallback)((function(e){switch(e.key){case"license":!function(e){e.push(he.LICENSE.ABSOLUTE)}(n);break;case"storage":!function(e){e.push(he.SETTINGS.ABSOLUTE)}(n);break;case"remote_rules":!function(e){e.push(he.SETTINGS.REMOTE_RULES.ABSOLUTE)}(n);break;case"account":ge(n);break;case"logout":j(!0),Va().then((function(){return j(!1)})).catch((function(){return j(!1)}))}}),[n]),S=Object(N.jsx)("span",{className:"".concat(yj.a.action," ").concat(yj.a.account),children:Object(N.jsx)(ra.a,{size:"small",style:{marginLeft:8,marginRight:8}})});if(O)return S;var p=Object(N.jsxs)(qt.a,{className:yj.a.menu,selectedKeys:[],onClick:b,children:[t&&Object(N.jsxs)(qt.a.Item,{children:[Object(N.jsx)(x.u,{style:{marginRight:"8%"}}),"License"]},"license"),t&&Object(N.jsxs)(qt.a.Item,{children:[Object(N.jsx)(hd.c,{style:{marginRight:"8%"}}),"Storage"]},"storage"),t&&Object(N.jsxs)(qt.a.Item,{children:[Object(N.jsx)(x.h,{style:{marginRight:"8%"}}),"Remote Rules"]},"remote_rules"),t&&Object(N.jsxs)(qt.a.Item,{children:[Object(N.jsx)(x.M,{style:{marginRight:"8%"}}),"Account"]},"account"),t&&Object(N.jsx)(qt.a.Divider,{}),Object(N.jsxs)(qt.a.Item,{children:[Object(N.jsx)(Fe.b,{style:{marginRight:"8%"}}),"Logout"]},"logout")]}),h=!0;return Object.values(W.PATHS.AUTH).forEach((function(e){window.location.pathname===e.ABSOLUTE&&(h=!1)})),h?Object(N.jsx)(s.a.Fragment,{children:l.loggedIn&&l.details&&l.details.profile&&l.details.profile.displayName&&l.details.profile.photoURL?function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"User",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"http://www.gravatar.com/avatar/?d=identicon";return Object(N.jsx)(_j,{overlay:p,children:Object(N.jsxs)("span",{className:"".concat(yj.a.action," ").concat(yj.a.account),children:[Object(N.jsx)(AO.a,{size:"small",className:yj.a.avatar,src:t,alt:"avatar",style:{marginRight:"8px",marginLeft:"8px",cursor:"pointer"}}),Object(N.jsx)("span",{className:"".concat(yj.a.name," anticon"),style:{cursor:"pointer",marginRight:"8px"},children:e})]})})}(l.details.profile.displayName,l.details.profile.photoURL):Object(N.jsx)(Uj.Button,{className:"".concat(yj.a.action," ").concat(yj.a.account),onClick:E,type:"text",children:"Sign in"})}):null},Pj=n(243),Dj=n.n(Pj),wj=n(986),Mj=n(108),kj=n(136),Gj=n.n(kj),Fj=zt.a.Text,Bj=function(e){var t=e.list,n=void 0===t?[]:t,a=e.onClick;e.onClear,e.title,e.onViewMore,e.emptyText,e.showClear,e.clearText,e.viewMoreText,e.showViewMore;return n&&0!==n.length?Object(N.jsx)("div",{children:Object(N.jsx)(_i.b,{className:Gj.a.list,dataSource:n,renderItem:function(e,t){var n=Nj()(Gj.a.item,Object(O.a)({},Gj.a.read,e.read)),r=e.avatar?"string"===typeof e.avatar?Object(N.jsx)(AO.a,{className:Gj.a.avatar,src:e.avatar}):Object(N.jsx)("span",{className:Gj.a.iconElement,children:e.avatar}):null;return Object(N.jsx)(_i.b.Item,{className:n,onClick:function(){null===a||void 0===a||a(e)},actions:Object(N.jsx)("h1",{children:"Test Action"}),children:Object(N.jsx)(_i.b.Item.Meta,{className:Gj.a.meta,avatar:r,title:Object(N.jsxs)("div",{className:Gj.a.title,children:[e.title,Object(N.jsx)("div",{className:Gj.a.extra,children:e.extra})]}),description:Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:Gj.a.description,children:e.description}),Object(N.jsx)("div",{className:Gj.a.datetime,children:e.datetime})]})})},e.key||t)}})}):Object(N.jsx)("div",{className:Gj.a.notFound,children:Object(N.jsx)(Fj,{type:"secondary",children:"You have no notifications."})})},Vj=n(500),Hj=n.n(Vj),Yj=["overlayClassName"],Kj=function(e){var t=e.overlayClassName,n=Object(He.a)(e,Yj);return Object(N.jsx)(Qt.a,Object(j.a)({overlayClassName:Nj()(Hj.a.container,t)},n))},Wj=n(190),qj=n.n(Wj),Qj=Mj.a.TabPane,zj=function(e){var t=e.className,n=e.count,a=e.bell,r=Nj()(t,qj.a.noticeButton),c=function(){var t=e.children,n=e.loading,a=e.onClear,r=e.onTabChange,c=e.onItemClick,i=e.onViewMore,l=e.clearText,o=e.viewMoreText;if(!t)return null;var u=[];return s.a.Children.forEach(t,(function(e){if(e){var t=e.props,n=t.list,r=t.title,s=t.count,d=t.tabKey,O=t.showClear,j=t.showViewMore,E=n&&n.length?n.length:0,b=s||0===s?s:E,S=b>0?"".concat(r," (").concat(b,")"):r;u.push(Object(N.jsx)(Qj,{tab:S,children:Object(N.jsx)(Bj,{clearText:l,viewMoreText:o,list:n,tabKey:d,onClear:function(){return a&&a(r,d)},onClick:function(t){return c&&c(t,e.props)},onViewMore:function(t){return i&&i(e.props,t)},showClear:O,showViewMore:j,title:r})},d))}})),Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ra.a,{spinning:n,delay:300,children:Object(N.jsx)("div",{style:{background:"white",padding:"10px",margin:"5px",borderRadius:"5px",border:"1px solid #dfdfdf",minWidth:"300px"},children:Object(N.jsx)(Mj.a,{className:qj.a.tabs,onChange:r,children:u})})})})}(),i=a||Object(N.jsx)(wj.a,{className:qj.a.icon}),l=Object(N.jsx)("span",{style:{cursor:"pointer"},className:Nj()(r,{opened:!1}),children:Object(N.jsx)(Zn.a,{count:n,style:{boxShadow:"none"},className:qj.a.badge,children:i})});return c?Object(N.jsx)(Kj,{placement:"bottomRight",overlay:c,overlayClassName:qj.a.popover,trigger:["click"],children:l}):l};zj.defaultProps={emptyImage:"https://gw.alipayobjects.com/zos/rmsportal/wAhyIChODzsoKIOBHcBk.svg"},zj.Tab=Bj;var Jj=zj,Xj=function(){var e=Object(c.useContext)(X).state,t=$e(e),n=Object(c.useState)(!1),a=Object(u.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(!0),l=Object(u.a)(i,2),o=l[0],d=l[1],O=Object(c.useState)(!1),E=Object(u.a)(O,2),b=E[0],S=E[1];Object(c.useEffect)((function(){var e,n=t.details.profile||t.details;t.loggedIn&&!r&&(s(!0),(e=n.uid,e?kn.getValue(["customProfile",e,"signup"]).then(function(){var t=Object(ne.a)(te.a.mark((function t(n){return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=6;break}return t.next=3,Tn(e,!0);case 3:return t.abrupt("return",!0);case 6:return t.abrupt("return",n.emailVerified);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.log(e)})):new Promise.resolve(!1)).then((function(e){d(e)})).catch((function(e){return console.log(e)})))}),[t.loggedIn,t.details,r,d]);var p=[];if(!o){p.push({type:"notification",id:"verify-email",status:"urgent",title:"Verify your Email",avatar:Object(N.jsx)(di.a,{style:{background:"white"}}),description:Object(N.jsxs)("span",{children:[Object(N.jsx)("p",{children:"Please check your email for the verification link."}),Object(N.jsx)(Nt.a,{size:"small",icon:Object(N.jsx)(lj.a,{}),onClick:function(){S(!0),fn().finally((function(){return S(!1)}))},loading:b,children:"Resend Email"})]})})}var h=function(e){if(!e||0===e.length||!Array.isArray(e))return{};var t=e.map((function(e){var t=Object(j.a)({},e);if(t.datetime&&(t.datetime=qr()(e.datetime).fromNow()),t.id&&(t.key=t.id),t.extra&&t.status){var n={todo:"",processing:"blue",urgent:"red",doing:"gold"}[t.status];t.extra=Object(N.jsx)(gs.a,{color:n,style:{marginRight:0},children:t.extra})}return t}));return Object(pe.groupBy)(t,"type")}(p),T=function(e){var t={};return Object.keys(e).forEach((function(n){var a=e[n];t[n]||(t[n]=0),Array.isArray(a)&&(t[n]=a.filter((function(e){return!e.read})).length)})),t}(h||{});return Object(N.jsx)(Jj,{className:qj.a.action,count:p.length&&p.length>=1?p.length:null,loading:!1,clearText:"Clear",viewMoreText:"See more",onViewMore:function(){return ke.b.info("Click on view more")},clearClose:!0,children:Object(N.jsx)(Jj.Tab,{tabKey:"notification",count:T.notification,list:h.notification,title:"Notifications",emptyText:"You have viewed all notifications",showViewMore:!0})})},Zj=n(179),$j=function(){var e=Object(c.useContext)(X).state,t=rt(e),n=ct(e),a=n.isBackgroundProcessActive,r=n.isProxyServerRunning,i=n.proxyPort;return t!==S.CONSTANTS.APP_MODES.DESKTOP?null:Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(Zj.a,{content:a?r?Object(N.jsxs)("div",{children:[Object(N.jsx)("p",{children:"Proxy server is running at"}),Object(N.jsx)("p",{children:"http://127.0.0.1:".concat(i)})]}):"Proxy server is not running.":"Waiting for proxy server to start.",title:null,children:Object(N.jsx)(Zn.a,{status:a&&r?"success":"warning",text:a?r?Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)("span",{children:"Port: "}),Object(N.jsx)("span",{children:i})]}):"Not running":"Waiting.."})})})},eE=n(501),tE=function(){var e=Object(ae.g)(),t=Object(c.useContext)(X),n=t.dispatch,a=t.state,r=$e(a),s=Object(c.useState)(!1),i=Object(u.a)(s,2),l=i[0],o=i[1],d=dt(r.details.planDetails),O=pt(r),E=Object(c.useState)(!1),b=Object(u.a)(E,2),S=b[0],p=b[1],h=Object(c.useState)(!1),T=Object(u.a)(h,2),m=T[0],f=T[1],R=Object(c.useState)(0),A=Object(u.a)(R,2),x=A[0],C=A[1],I=function(){d||(C(0),f(W.FEATURES.BACKUP_RULES),p(!0))},g=function(){var e=Object(ne.a)(te.a.mark((function e(t){var a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.loggedIn&&r.details&&r.details.profile){e.next=3;break}return n(Pt("authModal",!0,{redirectURL:window.location.href})),e.abrupt("return");case 3:if(a=function(){var e=Object(ne.a)(te.a.mark((function e(){return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),Object(j.a)({},r).details.isBackupEnabled=!r.details.isBackupEnabled,e.next=5,zi(r.details.profile.uid,t);case 5:o(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),!d){e.next=9;break}return a(),e.abrupt("return");case 9:return I(),e.abrupt("return");case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){return Object(N.jsxs)("div",{style:{maxWidth:"350px"},children:[Object(N.jsx)("p",{children:"Securely backup your Rules to Requestly servers so that you don't ever lose them while switching devices."}),Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){return g(!0)},loading:l,icon:Object(N.jsx)(jc.a,{}),children:"Turn on backups"}),r.loggedIn&&r.details&&r.details.profile?Object(N.jsx)(Nt.a,{type:"secondary",children:"View previous backups"}):null]})]})},L=function(){return Object(N.jsxs)("div",{style:{maxWidth:"300px"},children:[Object(N.jsx)("p",{children:"Securely backup your Rules to Requestly servers so that you don't ever lose them while switching devices."}),Object(N.jsxs)(xt.b,{children:[Object(N.jsx)(Nt.a,{type:"primary",onClick:function(){return g(!1)},loading:l,children:"Turn off backups"}),r.loggedIn&&r.details&&r.details.profile?Object(N.jsx)(Nt.a,{onClick:function(){return function(e,t){t?window.location.href=he.ACCOUNT.MY_BACKUPS.ABSOLUTE:e.push(he.ACCOUNT.MY_BACKUPS.ABSOLUTE)}(e)},type:"secondary",children:"Existing Backups"}):null]})]})},y=function(){return r.loggedIn&&r.details&&r.details.profile?(r.details.profile||r.details||r.loggedIn)&&d||(r.details.profile||r.details||r.loggedIn)&&!d?r.details.isBackupEnabled?L():_():void 0:_()},U=function(){return r.loggedIn&&r.details&&r.details.profile?(r.details.profile||r.details||r.loggedIn)&&d?r.details.isBackupEnabled?Object(N.jsx)(Zj.a,{content:y(),title:"Backups are enabled.",children:Object(N.jsx)("span",{className:"backup-success-bg",style:{cursor:"pointer",marginRight:"12px"},children:Object(N.jsx)(eE.a,{})})}):Object(N.jsx)(Zj.a,{content:y(),title:"Working locally",children:Object(N.jsx)("span",{className:"backup-error-bg",style:{cursor:"pointer",marginRight:"12px"},children:Object(N.jsx)(hd.b,{})})}):(r.details.profile||r.details||r.loggedIn)&&!d?r.details.isBackupEnabled?Object(N.jsx)(Zj.a,{content:y(),children:Object(N.jsx)(hd.a,{className:"fix-icon-is-up",onClick:I,style:{cursor:"pointer",marginLeft:"12px",marginRight:"12px"}})}):Object(N.jsx)(Zj.a,{content:y(),title:"Working locally",children:Object(N.jsx)("span",{className:"backup-error-bg",style:{cursor:"pointer",marginRight:"12px"},children:Object(N.jsx)(hd.b,{})})}):Object(N.jsx)(N.Fragment,{}):Object(N.jsx)(Zj.a,{content:y(),title:"Working locally",children:Object(N.jsx)("span",{className:"backup-error-bg",style:{cursor:"pointer",marginRight:"12px"},children:Object(N.jsx)(hd.b,{})})})};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U,{}),S&&m?Object(N.jsx)(Dr,{isOpen:S,toggle:function(){p(!S)},featureName:m,featureLimit:x,userPlanName:O,mode:0===x||!1===x?W.LIMIT_REACHED_MODAL.MODES.CHECK_IF_ENABLED:W.LIMIT_REACHED_MODAL.MODES.CHECK_LIMIT}):null]})},nE=function(){var e=Object(c.useContext)(X).state,t=rt(e),n=Dj.a.right;return n="".concat(Dj.a.right,"  ").concat(Dj.a.dark),Object(N.jsxs)(xt.b,{className:n,children:[Object(N.jsx)($j,{}),t===S.CONSTANTS.APP_MODES.DESKTOP?null:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("span",{className:Dj.a.action,onClick:function(){window.open("http://docs.requestly.io/")},style:{cursor:"pointer",marginLeft:"12px",marginRight:"12px"},children:Object(N.jsx)(Rj.a,{})}),Object(N.jsx)("span",{className:Dj.a.action,onClick:function(){window.open("https://github.com/requestly/customer-support/")},style:{cursor:"pointer",marginLeft:"12px",marginRight:"12px"},children:Object(N.jsx)(Aj.a,{})})]}),Object(N.jsx)(tE,{}),Object(N.jsx)(Xj,{})," ",Object(N.jsx)(vj,{menu:!0})]})},aE=W.PATHS,rE=Object(ae.i)((function(e){var t=e.history,n=e.location,a=Object(c.useContext)(X),r=a.state,i=a.dispatch,l=rt(r),O=$e(r),E=Object(c.useState)(!1),b=Object(u.a)(E,2),p=b[0],h=b[1],T=Object(c.useState)(!1),m=Object(u.a)(T,2),f=m[0],R=m[1],A=Object(c.useState)(!1),C=Object(u.a)(A,2),I=C[0],g=C[1],_=Object(c.useState)(!1),L=Object(u.a)(_,2),y=L[0],U=L[1],v=function(){var e=[{path:aE.RULES.ABSOLUTE,name:"HTTP Rules",icon:Object(N.jsx)(rj.a,{}),routes:[{name:"My Rules",path:aE.RULES.MY_RULES.ABSOLUTE,icon:Object(N.jsx)(cj.a,{})},{name:"Marketplace",path:aE.MARKETPLACE.ABSOLUTE,icon:Object(N.jsx)(sj.a,{})},{name:"Create New Rule",path:"/",collapsed:!1,icon:Object(N.jsx)(ea.a,{}),children:[{name:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.A,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Redirect a URL"]}),collapsed:!1,path:aE.RULE_EDITOR.CREATE_RULE.REDIRECT_RULE.ABSOLUTE},{name:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.b,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Block a URL"]}),collapsed:!1,path:aE.RULE_EDITOR.CREATE_RULE.CANCEL_RULE.ABSOLUTE},{name:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.o,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Replace URL Substring"]}),collapsed:!1,path:aE.RULE_EDITOR.CREATE_RULE.REPLACE_RULE.ABSOLUTE},{name:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.t,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Modify HTTP Headers"]}),collapsed:!1,path:aE.RULE_EDITOR.CREATE_RULE.HEADERS_RULE.ABSOLUTE},{name:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.z,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Modify Query Params"]}),collapsed:!1,path:aE.RULE_EDITOR.CREATE_RULE.QUERY_PARAMS_RULE.ABSOLUTE},{name:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.f,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Insert JS/CSS"]}),collapsed:!1,path:aE.RULE_EDITOR.CREATE_RULE.SCRIPT_RULE.ABSOLUTE},{name:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.g,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Modify HTTP Response"]}),collapsed:!1,path:aE.RULE_EDITOR.CREATE_RULE.RESPONSE_RULE.ABSOLUTE},{name:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.y,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Change UserAgent Header"]}),collapsed:!1,path:aE.RULE_EDITOR.CREATE_RULE.USER_AGENT_RULE.ABSOLUTE},{name:Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(x.D,{className:"fix-icon-is-up mr-2 icon-in-sidebar"})," ","Delay a Request"]}),collapsed:!1,path:aE.RULE_EDITOR.CREATE_RULE.DELAY_RULE.ABSOLUTE}]}]},{path:aE.MOCK_SERVER.ABSOLUTE,name:"My Mock Server",icon:Object(N.jsx)(ij.a,{}),routes:[{name:"My Mocks",path:aE.MOCK_SERVER.MY_MOCKS.ABSOLUTE,icon:Object(N.jsx)(cj.a,{})},{name:"Create New Mock",path:aE.MOCK_SERVER.VIEWER.CREATE.ABSOLUTE,icon:Object(N.jsx)(lj.a,{})}]},{path:aE.SHARED_LISTS.ABSOLUTE,name:"Shared Lists",icon:Object(N.jsx)(no.a,{}),routes:[{name:"My Lists",path:aE.SHARED_LISTS.MY_LISTS.ABSOLUTE,icon:Object(N.jsx)(cj.a,{})}]},{path:aE.SETTINGS.ABSOLUTE,name:"Settings",icon:Object(N.jsx)(Yc.a,{}),routes:[{name:"Storage Settings",path:aE.SETTINGS.STORAGE_SETTINGS.ABSOLUTE,icon:Object(N.jsx)(oj.a,{})},{name:"Remote Rules",path:aE.SETTINGS.REMOTE_RULES.ABSOLUTE,icon:Object(N.jsx)(oj.a,{})}]},{path:aE.ACCOUNT.ABSOLUTE,name:"Account",icon:Object(N.jsx)(Gc.a,{}),routes:[{name:"Account Settings",path:aE.ACCOUNT.MY_ACCOUNT.ABSOLUTE,icon:Object(N.jsx)(uj.a,{})},{name:"Backups",path:aE.ACCOUNT.MY_BACKUPS.ABSOLUTE,icon:Object(N.jsx)(dj.a,{})},{name:"Referrals",path:aE.ACCOUNT.MY_REFERRALS.ABSOLUTE,icon:Object(N.jsx)(Oj.a,{})}]}];return l&&l===S.CONSTANTS.APP_MODES.DESKTOP&&e.unshift({path:aE.DESKTOP.ABSOLUTE,name:"Source",icon:Object(N.jsx)(jj.a,{}),routes:[{name:"Connected Apps",path:aE.DESKTOP.MY_APPS.ABSOLUTE,icon:Object(N.jsx)(Ej.a,{})},{name:"Intercept Traffic",path:aE.DESKTOP.INTERCEPT_TRAFFIC.ABSOLUTE,icon:Object(N.jsx)(bj.a,{})}]}),e};if(Object(c.useEffect)((function(){p||(h(!0),se.a.auth().onAuthStateChanged(function(){var e=Object(ne.a)(te.a.mark((function e(t){var n,a;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=15;break}if(l===S.CONSTANTS.APP_MODES.EXTENSION||us()){e.next=7;break}return e.next=4,xs(l).getAllRecords();case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=[];case 8:n=e.t0,a=Object.values(n).filter((function(e){return void 0===e.MKTRuleID&&e.creationDate})).length,Dn(["userSubscriptions",t.uid,"planDetails"]).then(function(){var e=Object(ne.a)(te.a.mark((function e(n){var r;return te.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=dt(n),!e.t0){e.next=5;break}return e.next=4,_n(t.uid);case 4:e.t0=e.sent;case 5:r=e.t0,i(It(!0,{profile:Un(t),isLoggedIn:!0,planDetails:n,isBackupEnabled:r})),dt(n)&&Ji(l).then((function(e){(!e||Zi(e))&&a&&r?$i(l).then((function(e){e&&i(gt(e))})):i(gt(e))})),f||(R(!0),pj());case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("Unable to fetch user plan",e.message),i(It(!1,!1)),f||(R(!0),pj())})),window.top===window.self&&Vn(t),e.next=17;break;case 15:i(It(!1,!1)),f||(R(!0),pj());case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[i,l,p,f]),Object(c.useLayoutEffect)((function(){window.RQ&&window.RQ.MODE&&i(function(e){return{type:d.UPDATE_APP_MODE,payload:{appMode:e}}}(window.RQ.MODE))}),[i]),Object(c.useLayoutEffect)((function(){O.details&&O.details.isLoggedIn&&O.details.planDetails?(g(St(O.details.planDetails)),U(ut(O))):(U(!1),g(!1))}),[O]),!ce()(window.location.hash)){var P=window.location.hash.split("/"),D=P[0],w=P[1];switch(D){case aE.HASH.SHARED_LISTS:window.location.assign(aE.SHARED_LISTS.VIEWER.ABSOLUTE+"/"+w);break;case aE.HASH.RULE_EDITOR:window.location.replace(aE.RULE_EDITOR.EDIT_RULE.ABSOLUTE+"/"+w)}}return Object(N.jsx)("div",{id:"requestly-dashboard-layout",style:{height:"100vh"},children:Object(N.jsx)(aj.a,{contentStyle:An(n.pathname)?{margin:"0px"}:{},siderWidth:250,footerRender:(!l||l!==S.CONSTANTS.APP_MODES.DESKTOP)&&function(){return Object(N.jsx)(mj,{})},menuFooterRender:function(e){return y?I?function(e){return Object(N.jsxs)("span",{style:{lineHeight:"48rpx",display:"flex",height:48,color:"#0a48b3",alignItems:"center",cursor:"pointer",fontWeight:400},onClick:function(){return e.push(W.PATHS.PRICING.ABSOLUTE)},children:[Object(N.jsx)(x.E,{style:{width:16,height:16,margin:"0 16px",marginRight:10}}),"Renew Premium"]})}(t):function(e){return Object(N.jsxs)("span",{style:{lineHeight:"48rpx",display:"flex",height:48,color:"limegreen",alignItems:"center",cursor:"pointer",fontWeight:400},onClick:function(){return e.push(W.PATHS.ACCOUNT.ABSOLUTE)},children:[Object(N.jsx)(fj.a,{style:{width:16,height:16,margin:"0 16px",marginRight:10}}),"Requestly Premium"]})}(t):function(e){return Object(N.jsxs)("span",{style:{lineHeight:"48rpx",display:"flex",height:48,alignItems:"center",cursor:"pointer",fontWeight:400,color:"#0a48b3"},onClick:function(){return Ie(e)},children:[Object(N.jsx)(x.E,{style:{width:16,height:16,margin:"0 16px",marginRight:10}}),"Upgrade to Premium"]})}(t)},onMenuHeaderClick:function(){return me(t)},menuItemRender:function(e,t){return Object(N.jsx)(o.b,{to:{pathname:e.path,state:{prevPath:n.pathname}},children:t})},rightContentRender:function(){return Object(N.jsx)(s.a.Fragment,{children:Object(N.jsx)(nE,{})})},collapsedButtonRender:!1,navTheme:"light",headerTheme:"light",primaryColor:"#0a48b3",layout:"mix",contentWidth:"Fluid",fixedHeader:!0,fixSiderbar:!0,splitMenus:!0,title:!1,logo:hj,route:An(n.pathname)?[]:{path:"/",routes:v()},menuHeaderRender:!1,menu:{defaultOpenAll:!0,ignoreFlatMenu:!0},children:Object(N.jsxs)(s.a.Fragment,{children:[Object(N.jsx)(Sj,{}),Object(N.jsxs)(ae.d,{children:[Object(N.jsx)(ae.b,{path:aE.DASHBOARD,render:function(e){return Object(N.jsx)(nj,Object(j.a)({},e))}}),Object(N.jsx)(ae.a,{from:aE.EXTENSION_INSTALLED,to:aE.RULES.ABSOLUTE}),Object(N.jsx)(ae.a,{from:aE.GOODBYE.RELATIVE,to:aE.FEEDBACK.ABSOLUTE}),Object(N.jsx)(ae.a,{from:aE.LEGACY.FILES_LIBRARY.ABSOLUTE+"/:id",to:aE.FILES.VIEWER.ABSOLUTE+"/:id"}),Object(N.jsx)(ae.a,{from:aE.LEGACY.PRICING.ABSOLUTE,to:aE.PRICING.ABSOLUTE}),Object(N.jsx)(ae.a,{from:aE.LEGACY.LICENSE.MANAGE.ABSOLUTE,to:aE.LICENSE.MANAGE.ABSOLUTE}),Object(N.jsx)(ae.a,{from:aE.LEGACY.LICENSE.ABSOLUTE,to:aE.LICENSE.ABSOLUTE}),Object(N.jsx)(ae.a,{from:aE.LEGACY.SETTINGS.REMOTE_RULES.ABSOLUTE,to:aE.SETTINGS.REMOTE_RULES.ABSOLUTE}),Object(N.jsx)(ae.a,{from:aE.LEGACY.SETTINGS.ABSOLUTE,to:aE.SETTINGS.ABSOLUTE}),Object(N.jsx)(ae.a,{from:aE.LEGACY.UNLOCK_PREMIUM.ABSOLUTE,to:aE.UNLOCK_PREMIUM.ABSOLUTE}),Object(N.jsx)(ae.a,{from:aE.LEGACY.GOODBYE.ABSOLUTE,to:aE.GOODBYE.ABSOLUTE}),Object(N.jsx)(ae.a,{exact:!0,from:aE.ROOT,to:aE.RULES.ABSOLUTE})]})]})})})})),cE=rE;n(932),n(933),n(934);l.a.render(Object(N.jsx)($,{children:Object(N.jsx)(o.a,{children:Object(N.jsx)(cE,{})})}),document.getElementById("root"))}},[[935,1,2]]]);