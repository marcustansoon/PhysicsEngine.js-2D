"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[73642],{5368:(e,t,i)=>{i.r(t);var r=i(735566),o=i(49437);const n="tv.logger.loglevel",s="tv.logger.logHighRate",a=(0,r.getLogger)("logger");function l(){try{o.TVLocalStorage.setItem(s,String((0,r.isHighRateEnabled)())),o.TVLocalStorage.setItem(n,String((0,r.getLogLevel)()))}catch(e){a.logWarn(`Cannot save logger state (level: ${(0,r.getLogLevel)()}, high-rate: ${(0,r.isHighRateEnabled)()}) to localStorage: ${e.message}`)}}window.lget=r.getLogHistory,window.lon=(e,t)=>{a.logNormal("Debug logging enabled"),(0,r.loggingOn)(e,t),l()},window.loff=()=>{a.logInfo("Debug logging disabled"),(0,r.loggingOff)(),l()},window.llevel=e=>{a.logInfo("Changed logging level"),(0,r.setLogLevel)(e),l()},function(){const e="true"===o.TVLocalStorage.getItem(s);(0,r.setHighRateStatus)(e);let t=parseInt(o.TVLocalStorage.getItem(n)||"");Number.isNaN(t)&&(t=r.LOGLEVEL.WARNING),(0,r.setLogLevel)(t),a.logNormal(`Init with settings - level: ${(0,r.getLogLevel)()}, high-rate: ${(0,r.isHighRateEnabled)()}`)}(),a.logNormal(`Sync logger and perf times, now is ${performance.now()}`)},925470:(e,t,i)=>{i.d(t,{canUpgradePlan:()=>g,enabled:()=>_,getConfig:()=>S,getExpertPlansWithFeature:()=>m,getProPlansWithFeature:()=>u,getProductFeaturesConfig:()=>p,getProductId:()=>l});var r=i(650151)
;const o=JSON.parse('{"free":{"CHAT_ASSISTANT":{"limit":5},"CHART_STORAGE":{"limit":1},"MULTIPLE_CHARTS":{"limit":1},"INDICATORS_ON_CHART":{"limit":2},"FUNDAMENTALS_ON_CHART":{"limit":1},"HISTORICAL_BARS":{"limit":5},"STUDY_ON_STUDY":{"limit":800,"child_limit":1},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":3,"complex_limit":0,"primitive_limit":3},"SCREENER_INTERVALS":{"interval":["1D","1W","1M"]},"STUDY_TEMPLATES":{"limit":1},"SIMULTANEOUS_CONNECTIONS":{"limit":1},"BACKEND_CONNECTIONS":{"limit":2},"IDEA_SOCIAL_LINKS":{"socials":["Twitter","Youtube"]},"MULTICOLOR_FLAGGED_SYMBOLS":{"limit":1},"WATCHLIST_SYMBOLS":{"limit":30},"VIDEO_IDEAS_LENGTH":{"limit":20}},"pro":{"CHAT_ASSISTANT":{"limit":5},"CHART_STORAGE":{"limit":5},"MULTIPLE_CHARTS":{"limit":2},"MARKET_DATA_LIMITS":{"limit":2,"primitive_limit":2},"CUSTOM_INTERVALS":{},"MULTIPLE_WATCHLISTS":{},"IMPORT_WATCHLISTS":{},"EXPORT_WATCHLISTS":{},"INDICATORS_ON_CHART":{"limit":5},"FUNDAMENTALS_ON_CHART":{"limit":4},"TV_PROSTUDIES":{"study_packages":["tv-chartpatterns"]},"HISTORICAL_BARS":{"limit":10},"TV_VOLUMEBYPRICE":{"study_packages":["tv-volumebyprice"]},"STUDY_ON_STUDY":{"limit":800,"child_limit":1},"TICK_BY_TICK_PUSH_DATA":{},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":20,"complex_limit":20,"primitive_limit":20},"SCREENER_AUTO_REFRESH":{},"SCREENER_NEW_AUTO_REFRESH":{},"SCREENER_EXPORT_DATA":{},"SCREENER_NEW_EXPORT_CSV_DATA":{},"SCREENER_NEW_SHOW_RESTRICTED_DATA":{},"SHOW_BONDS_RESTRICTED_DATA":{},"SCREENER_INTERVALS":{"interval":["1m","5m","15m","30m","1h","2h","4h","1D","1W","1M"]},"NO_SPONSORED_ADS":{"disable_on_lite_plan":"exclude_mobile"},"STUDY_TEMPLATES":{"limit":99999},"SIMULTANEOUS_CONNECTIONS":{"limit":1},"BACKEND_CONNECTIONS":{"limit":10},"IDC_AVAILABLE_DELAY":{},"STATUS":{"disable_on_trial":true},"BAR_REPLAY_INTRADAY":{"limit":1},"MULTIFLAGGED_SYMBOLS_LISTS":{},"SHOWS":{"disable_on_trial":true},"ALERTS_WEBHOOK":{},"DEEP_FUNDAMENTALS_HISTORY":{},"PUBLISH_PROTECTED_SCRIPTS":{"disable_on_trial":true},"IDEA_SOCIAL_LINKS":{"socials":["Twitter","Youtube"]},"EXTENDED_SOCIAL_LINKS":{"socials":["Facebook","Instagram"],"disable_on_trial":true},"MULTI_MONITOR":{},"MULTICOLOR_FLAGGED_SYMBOLS":{"limit":7},"INTRADAY_EXCHANGE":{},"VOLUME_PROFILE":{},"STREAMS_ACCESS":{"followers":10},"SMS_2FA_VERIFICATION":{"disable_on_trial":true},"SOCIAL_ACTIVITY":{"disable_on_trial":true},"WATCHLIST_SYMBOLS":{"limit":1000},"FIELDS_PERMISSIONS":{"items":["refbonds"]},"CUSTOM_RANGE_BARS":{},"FASTEST_DATA_FLOW":{},"SESSION_VOLUME_PROFILE":{},"SHOW_ETF_HOLDINGS_DATA":{}},"pro_realtime":{"extends":"pro","CHART_STORAGE":{"limit":10},"MULTIPLE_CHARTS":{"limit":4},"MARKET_DATA_LIMITS":{"limit":4,"primitive_limit":4},"INDICATORS_ON_CHART":{"limit":10},"FUNDAMENTALS_ON_CHART":{"limit":7},"TV_PROSTUDIES":{"study_packages":["tv-prostudies","tv-chartpatterns"]},"STUDY_ON_STUDY":{"limit":800,"child_limit":9},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":100,"complex_limit":100,"primitive_limit":100},"CHAT_ASSISTANT":{"limit":5},"CAN_EDIT_PUBLIC_CHATS":{"disable_on_trial":true},"BACKEND_CONNECTIONS":{"limit":20},"EXPORT_CHART_DATA":{},"CUSTOM_FORMULAS":{},"INTRADAY_EXOTIC_CHARTS":{},"KAGI_RENKO":{},"INTRADAY_SPREAD":{},"CUSTOM_CHATS":{},"BACKTESTING_EXPORT":{}},"pro_premium":{"extends":"pro_realtime","USE_BAR_MAGNIFIER":{},"CHART_STORAGE":{"limit":99999},"MULTIPLE_CHARTS":{"limit":8},"MARKET_DATA_LIMITS":{"limit":6,"primitive_limit":6},"INDICATORS_ON_CHART":{"limit":25},"FUNDAMENTALS_ON_CHART":{"limit":10},"CHAT_ASSISTANT":{"limit":99999},"CHART_PATTERNS":{"study_packages":["tv-chartpatterns","tv-chart_patterns"]},"HISTORICAL_BARS":{"limit":20},"STUDY_ON_STUDY":{"limit":800,"child_limit":24},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":400,"complex_limit":400,"primitive_limit":400,"watchlist_limit":2,"overall_watchlist_limit":5},"SIMULTANEOUS_CONNECTIONS":{"limit":2},"BACKEND_CONNECTIONS":{"limit":50},"IDEA_SIGNATURE":{"disable_on_trial":true},"PROFILE_WEBSITE_FIELD":{"disable_on_trial":true},"BAR_REPLAY_INTRADAY":{"limit":4},"ALERTS_NO_EXPIRATION":{},"PUBLISH_INVITE_ONLY_SCRIPTS":{"disable_on_trial":true},"EXPORT_CHART_DATA":{},"DEEP_HISTORY_BACKTEST":{},"ALERTS_ON_SECONDS":{},"PERMANENT_STREAM_RECORDS":{},"EXTENDED_SOCIAL_LINKS":{"socials":["Facebook","Instagram","Website"],"disable_on_trial":true},"SECONDS_INTERVALS":{},"TPO_PERIODIC":{"study_packages":["tv-volumebyprice"]},"TPO_CHART_STYLE":{},"VOLUME_CANDLES":{},"VIDEO_IDEAS_LENGTH":{"limit":60},"VOLUME_FOOTPRINT":{},"PINE_SCREENER":{}},"pro_expert":{"extends":"pro_premium","INDICATORS_ON_CHART":{"limit":30},"FUNDAMENTALS_ON_CHART":{"limit":15},"STUDY_ON_STUDY":{"limit":800,"child_limit":29},"MULTIPLE_CHARTS":{"limit":10},"MARKET_DATA_LIMITS":{"limit":12,"primitive_limit":12},"HISTORICAL_BARS":{"limit":25},"SERVER_SIDE_ALERTS":{"overall_limit":2000,"limit":600,"complex_limit":600,"primitive_limit":600,"watchlist_limit":10,"overall_watchlist_limit":20},"BACKEND_CONNECTIONS":{"limit":80},"BAR_REPLAY_INTRADAY":{"limit":6},"EXPORT_FINANCIALS_DATA":{},"TICK_INTERVALS":{},"FIRST_PRIORITY_SUPPORT":{},"BUY_PRO_DATA":{}},"pro_premium_expert":{"extends":"pro_expert","INDICATORS_ON_CHART":{"limit":50},"FUNDAMENTALS_ON_CHART":{"limit":25},"STUDY_ON_STUDY":{"limit":800,"child_limit":49},"MULTIPLE_CHARTS":{"limit":16},"MARKET_DATA_LIMITS":{"limit":99999,"primitive_limit":25},"HISTORICAL_BARS":{"limit":40},"SERVER_SIDE_ALERTS":{"overall_limit":4000,"limit":1000,"complex_limit":1000,"primitive_limit":1000,"watchlist_limit":15,"overall_watchlist_limit":30},"BACKEND_CONNECTIONS":{"limit":200},"BAR_REPLAY_INTRADAY":{"limit":10}}}'),n=JSON.parse('{"cme":{"INDICATORS_ON_CHART":{"limit":99999}},"bovespa":{"INDICATORS_ON_CHART":{"limit":99999}},"qecomqa":{"INDICATORS_ON_CHART":{"limit":99999}}}')
;var s=i(638456),a=i(232759);function l(e){let t=window.user;"undefined"!=typeof window&&window.user&&(t=window.user),e&&(t=e);let i=t?.pro_plan||"free";return"free"!==i&&!(0,a.isTrialProduct)(i)||(i=(0,a.getProductForTrial)(i)),i}function _(e,t,i){let r=window.user;i&&(r=i);const o=S(e,t,r);if(!o)return!1;if(o.disable_on_trial&&(!r||r.is_trial))return!1;const n=o.disable_on_lite_plan;if(n&&r.is_lite_plan){if("all"===n)return!1;if("exclude_mobile"===n&&!s.CheckMobile.any())return!1}return!0}const c={free:"free",pro:"pro",pro_trial:"pro_trial",pro_realtime:"pro_realtime",pro_realtime_trial:"pro_realtime_trial",pro_premium:"pro_premium",pro_premium_trial:"pro_premium_trial"};function u(e){return Object.values(c).filter((t=>{const i=S(e,(0,a.getProductForTrial)(t));return i&&!((0,a.isTrialProduct)(t)&&i.disable_on_trial)}))}const d={pro_expert:"pro_expert",pro_premium_expert:"pro_premium_expert"};function m(e){return Object.values(d).filter((t=>{const i=S(e,t);return i&&!((0,a.isTrialProduct)(t)&&i.disable_on_trial)}))}function p(e){const t=o[e];return t?t.extends?Object.assign({},p(t.extends),t):t:null}function S(e,t,i){let r=p(t||(l(i)??""));if(!r)return null;const o=window.TradingView?.widgetCustomer;return o&&n[o]&&(r=Object.assign({},r,n[o])),r&&r[e]||null}function g(){const e=S("BACKEND_CONNECTIONS")?.limit??0,t=(0,r.ensureDefined)(window.pro),i=t.getProductsByType(t.PRODUCT_TYPES.pro_plan);for(const t of i)if((S("BACKEND_CONNECTIONS",(0,r.ensureDefined)(t.id))?.limit??0)>e)return!0;return!1}},128327:(e,t,i)=>{function r(e){if(e instanceof Error)return e.stack||e.message;try{return e.outerHTML.slice(0,1024)}catch{}try{if(void 0!==e)return JSON.stringify(e).slice(0,1024)}catch{}return String(e)}function o(){window.__tv_js_errors||(window.__tv_js_errors=[]),window.addEventListener("error",(e=>{const t=(new Date).toISOString();window.__tv_js_errors.push(`${t} ${e.message||"JS error"}. ${e.filename||"<unknown url>"}, line ${e.lineno}, col ${e.colno}.\nError: ${r(e.error)}`)}),!1),window.addEventListener("unhandledrejection",(e=>{const t=(new Date).toISOString();window.__tv_js_errors.push(`${t} Unhandled rejection.\nReason: ${r(e.reason)}`)}),!1),document.addEventListener("securitypolicyviolation",(e=>{if(String(e.sourceFile).startsWith("https://securepubads.g.doubleclick.net")&&String(e.blockedURI).startsWith("https://adservice.google."))return;const t=(new Date).toISOString(),i="report"===e.disposition?"CSP report-only":"CSP violation";window.__tv_js_errors.push(`${t} ${i}: ${e.violatedDirective||e.effectiveDirective}. ${e.sourceFile||"<unknown url>"}, line ${e.lineNumber}, col ${e.columnNumber}.\nBlocked URI: ${e.blockedURI}\nSample: ${e.sample}\nTarget: ${r(e.target)}`)}),!1)}i.d(t,{install:()=>o})},849204:(e,t,i)=>{i.d(t,{LogoSize:()=>r,getLogoUrlResolver:()=>l});var r,o=i(650151),n=i(588948);!function(e){e[e.Medium=0]="Medium",e[e.Large=1]="Large"}(r||(r={}));class s{constructor(e){(0,o.assert)(""!==e,"S3 base url must be a non-empty string"),this._baseUrl=e}getSymbolLogoUrl(e,t){switch((0,
o.assert)(""!==e,"logo id must be a non-empty string"),t){case r.Medium:return this._baseUrl+`${e}.svg`;case r.Large:return this._baseUrl+`${e}--big.svg`}}collectSymbolLogoUrls(e,t){const{logoId:i,baseCurrencyLogoId:o,currencyLogoId:n}=e;if(i)return[this.getSymbolLogoUrl(i,t)];const s=[];if(o&&s.push(this.getSymbolLogoUrl(o,t)),n&&s.push(this.getSymbolLogoUrl(n,r.Medium)),s.length<2)return s;const a=s.some((e=>_(e))),l=s.every((e=>!e.includes("country")||_(e)));return a&&l?s.filter((e=>!_(e))):s;function _(e){return e.includes("country/US")}}getCountryFlagUrl(e,t){return this.getSymbolLogoUrl("country/"+e,t)}getCryptoLogoUrl(e,t){return this.getSymbolLogoUrl("crypto/"+e,t)}getProviderLogoUrl(e,t){return this.getSymbolLogoUrl("provider/"+e,t)}getSourceLogoUrl(e,t){return this.getSymbolLogoUrl("source/"+e,t)}getBlockchainContractLogoUrl(e,t){return this.getSymbolLogoUrl("blockchain/"+e,t)}}let a;function l(){return function(){if(!a){const e=(0,n.getInitData)(),t=e.settings?e.settings.S3_LOGO_SERVICE_BASE_URL:"";a=new s(t)}return a}()}},779923:(e,t,i)=>{async function r(e,t){const r=await Promise.all([i.e(61560),i.e(92537),i.e(98185),i.e(18883),i.e(15371),i.e(85902),i.e(7291),i.e(32937),i.e(46195),i.e(61681),i.e(65743),i.e(61171),i.e(67780),i.e(66032),i.e(79317),i.e(13672),i.e(30158),i.e(44213),i.e(30683),i.e(9323),i.e(60159),i.e(61144),i.e(30775),i.e(90320),i.e(32227),i.e(87473),i.e(62526),i.e(73349),i.e(43530),i.e(38890)]).then(i.bind(i,190916));return r.showSimpleDialog(e,r.renameModule,t)}async function o(e,t){const r=await Promise.all([i.e(61560),i.e(92537),i.e(98185),i.e(18883),i.e(15371),i.e(85902),i.e(7291),i.e(32937),i.e(46195),i.e(61681),i.e(65743),i.e(61171),i.e(67780),i.e(66032),i.e(79317),i.e(13672),i.e(30158),i.e(44213),i.e(30683),i.e(9323),i.e(60159),i.e(61144),i.e(30775),i.e(90320),i.e(32227),i.e(87473),i.e(62526),i.e(73349),i.e(43530),i.e(38890)]).then(i.bind(i,190916));return r.showSimpleDialog(e,r.confirmModule,t)}async function n(e,t){const r=await Promise.all([i.e(61560),i.e(92537),i.e(98185),i.e(18883),i.e(15371),i.e(85902),i.e(7291),i.e(32937),i.e(46195),i.e(61681),i.e(65743),i.e(61171),i.e(67780),i.e(66032),i.e(79317),i.e(13672),i.e(30158),i.e(44213),i.e(30683),i.e(9323),i.e(60159),i.e(61144),i.e(30775),i.e(90320),i.e(32227),i.e(87473),i.e(62526),i.e(73349),i.e(43530),i.e(38890)]).then(i.bind(i,190916));return r.showSimpleDialog(e,r.warningModule,t)}i.r(t),i.d(t,{showConfirm:()=>o,showRename:()=>r,showWarning:()=>n})},766251:(e,t,i)=>{i.d(t,{getNewPeveCloseMode:()=>n,setNewPrevCloseMode:()=>o});let r=!1;function o(e){r=e}function n(){return r}},534197:(e,t,i)=>{i.r(t),i.d(t,{destroyQuoteSessions:()=>l,getQuoteSessionInstance:()=>n,getQuoteSessionNoEnsure:()=>a,setQuoteSessionInstance:()=>s});var r=i(288533);const o={};function n(e="full"){return o[e]||s(e,new r(e)),o[e]}function s(e="full",t){o[e]=t}function a(e="full"){return o[e]}function l(){for(const e in o)if(o.hasOwnProperty(e)){const t=o[e];void 0!==t&&t.destroy(),delete o[e]}}},288533:(e,t,i)=>{e=i.nmd(e)
;var r=i(920057).default,o=i(290484).default,n=i(220129).PriceFormatter;const{uniq:s}=i(999102);var a=i(623213);const{normalizeUpdateMode:l}=i(778003);var _=i(144731).deepExtend;const{QUOTE_FIELDS_CACHE:c,QUOTE_FIELDS:u}=i(207815);var d,m=i(547465).Delegate,p=i(766251).getNewPeveCloseMode;function S(e,t){this.options=Object.assign({throttleTimeout:125},t),this._connected=!1,this._symbol_data={},this._subscriptions={},this.onConnect=new m,this.onDisconnect=new m,this._quoteApi=new d(window.ChartApiInstance),this._type=e||"full",this._delayUpdateFastSymbols=o(this._updateFastSymbols,250),this._throttledSymbolData={},this._formatterValuesCache={},this._waitingForFormatters={},this._snapshotValuesCache={},this._waitingForSnapshot={},this.connect()}d=i(235267).QuoteSession,S.prototype.destroy=function(){this._quoteApi.destroy(),this._quoteApi=null,this._connected=!1,this.onDisconnect.fire()},S.prototype.typeFields={},S.prototype.typeFields.simple=["base-currency-logoid","ch","chp","currency-logoid","currency_code","currency_id","base_currency_id","current_session","description","exchange","format","fractional","is_tradable","language","local_description","listed_exchange","logoid","lp","lp_time","minmov","minmove2","original_name","pricescale","pro_name","short_name","type","typespecs","update_mode","volume","variable_tick_size","value_unit_id","unit_id","measure"],S.prototype.typeFields.simpleDetailed=[].concat(S.prototype.typeFields.simple,["ask","bid","fundamentals","high_price","is_tradable","low_price","open_price","prev_close_price","rch","rchp","rtc","rtc_time","status","basic_eps_net_income","beta_1_year","earnings_per_share_basic_ttm","industry","market_cap_basic","price_earnings_ttm","sector","volume","dividends_yield","timezone"]),S.prototype.typeFields.full=[],S.prototype.typeFields.watchlist=[].concat(S.prototype.typeFields.simple,["rchp","rtc","country_code","provider_id"]),S.prototype.typeFields.portfolio=["pro_name","short_name","exchange","listed_exchange","description","local_description","language","sector","type","typespecs","industry","currency_code","currency_id","ch","chp","logoid","currency-logoid","base-currency-logoid","earnings_per_share_forecast_next_fq","earnings_release_next_date","earnings_release_date","earnings_per_share_fq","lp","fractional","minmov","minmove2","pricescale","volume","average_volume","market_cap_calc","market_cap_basic","total_revenue","earnings_per_share_basic_ttm","price_earnings_ttm","beta_1_year","dps_common_stock_prim_issue_fy","dividends_yield","fundamental_currency_code","rates_mc","rates_fy","rates_ttm","format","value_unit_id","unit_id","measure"],S.prototype.typeFields.notes=["short_name","pro_name","logoid","currency-logoid","base-currency-logoid","symbol-primaryname","type","typespecs"],S.prototype.typeFields.estimates=["fundamental_data","type","typespecs","earnings_per_share_forecast_next_symbol_currency_fq","earnings_release_next_aligned_date","earnings_release_next_calendar_date","earnings_release_next_date"],
S.prototype.typeFields.economic=["reference-last-period","lp","currency_code","value_unit_id","unit_id","measure"],S.prototype.typeFields.options=["ask","bid","lp"],S.prototype.connect=function(e){this._quoteApi.connect(this.quoteHandler.bind(this))},S.prototype.quoteHandler=function(e){var t=e.method,i=e.params;switch(t){case"connected":this._connected||(this._connected=!0,this.onConnected());break;case"quote_list_fields":break;case"quote_symbol_data":this._connected&&this.onSymbolData(i[0]);break;case"quote_completed":this._connected&&this.onSymbolData({symbolname:i[0],complete:performance.now(),values:{}});break;case"disconnected":this._connected&&(this._connected=!1,this.onDisconnect.fire())}},S.prototype.onConnected=function(){this.setFields();var e=Object.keys(this._symbol_data);e.length&&(this._quoteApi.quoteAddSymbols(e),this._delayUpdateFastSymbols()),this.onConnect.fire()},S.prototype.setFields=function(){var e=S.prototype.typeFields[this._type];e&&e.length&&this._quoteApi.quoteSetFields(e)},S.prototype.onSymbolData=function(e){try{e.status&&c.update(e,u,!1)}catch(e){}var t=e.symbolname,i=this._throttledSymbolData[t];p()&&(delete e.values.prev_close_price,void 0!==e.values.regular_close&&(e.values.prev_close_price=e.values.regular_close)),i||(i=this._throttledSymbolData[t]={fnDispatch:r(this.dipatchSymbolData.bind(this),this.options.throttleTimeout)}),i.cache?_(i.cache,e):i.cache=e,i.fnDispatch(t)},S.prototype._parseUpdateMode=function(e){l(e)},S.prototype.dipatchSymbolData=function(e){var t=this._symbol_data[e],i=this._throttledSymbolData[e].cache;if(delete this._throttledSymbolData[e].cache,this._symbol_data[e])for(var r in _(t,i),t.values&&this._parseUpdateMode(t.values),this._subscriptions){var o=this._subscriptions[r];o.has(e)&&[...o.get(e)].forEach((function(e){e(t,i)}))}},S.prototype.subscribe=function(e,t,i){this._subscriptions[e]=this._subscriptions[e]||new Map;var r=this._subscriptions[e];t=[].concat(t);var o=[];t.forEach((function(e){this._symbol_data[e]?r&&r.has(e)||this._symbol_data[e].subscribers_count++:(this._symbol_data[e]={subscribers_count:1},o.push(e)),r.has(e)||r.set(e,[]),r.get(e).push(i),r.get(e).fast=!0,this._symbol_data[e]&&this._symbol_data[e].values&&i(this._symbol_data[e],this._symbol_data[e])}),this),o.length&&this._connected&&(this._quoteApi.quoteAddSymbols(o),this._delayUpdateFastSymbols())},S.prototype.unsubscribe=function(e,t,i){t=[].concat(t);for(var r=this._subscriptions[e],o=[],n=0;n<t.length;n++){var s=t[n];if(r)if(r.has(s)&&i){var a=r.get(s).indexOf(i);~a&&r.get(s).splice(a,1),r.get(s).length||r.delete(s)}else r.delete(s);r&&0===r.size&&delete this._subscriptions[e],this._symbol_data.hasOwnProperty(s)&&(r&&!r.has(s)&&this._symbol_data[s].subscribers_count--,this._symbol_data[s].subscribers_count||(delete this._symbol_data[s],o.push(s)))}o.length&&this._connected&&(this._quoteApi.quoteRemoveSymbols(o),this._delayUpdateFastSymbols())},S.prototype.setFastSymbols=function(e,t){
if(this._subscriptions[e])for(var i=this._subscriptions[e],r=Array.from(i.keys()),o=0;o<r.length;++o){var n=r[o];i.get(n).fast=-1!==t.indexOf(n)}this._delayUpdateFastSymbols()},S.prototype._updateFastSymbols=function(){if(this._connected){var e=this._fastSymbols();0===e.length?this._quoteApi.quoteHibernateAll():this._quoteApi.quoteFastSymbols(e)}},S.prototype._delayUpdateFastSymbols=S.prototype._updateFastSymbols,S.prototype._fastSymbols=function(){var e=[];for(var t in this._subscriptions)for(var i=this._subscriptions[t],r=Array.from(i.keys()),o=0;o<r.length;++o){var n=r[o];i.get(n).fast&&e.push(n)}return e=s(e)},S.prototype.formatter=function(e,t){var i=this;if(this._waitingForFormatters[e])return this._waitingForFormatters[e];function r(e){var i=t&&!e.fractional?1:e.minmov;return new n({priceScale:e.pricescale,minMove:i,fractional:e.fractional,minMove2:e.minmove2})}var o=new Promise((function(t,o){if(i._formatterValuesCache[e])t(r(i._formatterValuesCache[e]));else{var n=a.guid();i.subscribe(n,[e],(function(s){"error"===s.status&&(i._waitingForFormatters[e]=null,o("Quotes snapshot is not received")),function(e){return e&&null!=e.pricescale&&null!=e.minmov}(s.values)&&(i._waitingForFormatters[e]=null,i._formatterValuesCache[e]=s.values,t(r(s.values)),i.unsubscribe(n,e))}))}}));return this._waitingForFormatters[e]=o,o},S.prototype.snapshot=function(e){var t=this;if(this._waitingForSnapshot[e])return this._waitingForSnapshot[e];var i=new Promise((function(i,r){if(t._snapshotValuesCache[e])i(t._snapshotValuesCache[e]);else{var o=a.guid();t.subscribe(o,[e],(function(n){"error"===n.status&&(t._waitingForSnapshot[e]=null,r("Quotes snapshot is not received"));var s=n.values;s&&s.minmov&&s.pricescale&&s.description&&(t._waitingForSnapshot[e]=null,t._snapshotValuesCache[e]=s,i(s),t.unsubscribe(o,e))}))}}));return this._waitingForSnapshot[e]=i,i},TradingView.QuoteSessionMultiplexer=S,e&&e.exports&&(e.exports=S)},909456:(e,t,i)=>{i.d(t,{numDependencyFormatter:()=>n,numberToStringWithLeadingZero:()=>o});var r=i(536794);function o(e,t){if(!(0,r.isNumber)(e))return"n/a";if(!(0,r.isInteger)(t))throw new TypeError("invalid length");if(t<0||t>24)throw new TypeError("invalid length");if(0===t)return e.toString();return("0000000000000000"+e.toString()).slice(-t)}function n(e){const t=new Map;return i=>{const r=i??-1;let o=t.get(r);return o||(o=e(i),t.set(r,o)),o}}},781441:(e,t,i)=>{i.d(t,{formatNumber:()=>s,parseNumber:()=>l});var r=i(960521),o=i(259332),n=i(969680);function s(e,t,i,o,n){if(!Number.isFinite(e))return`${e}`;const s=-1===Math.sign(e)?"-":"";e=Math.abs(e);let a=void 0===i?e.toString():e.toFixed(i);if(a.includes("e")){if(!o)return`${s}${a.replace(".",t.decimalSign)}`;{const t=new r.Big(e);a=t.lt(1)?t.toFixed():t.toString()}}const l=a.split("."),_=l[0];let c=l[1];const u=function(e,t){let i=e.length;const r=[];for(;i>0;)r.unshift(e.slice(Math.max(i-3,0),i)),i-=3;return r.join(t)}(_,t.groupingSeparator);return void 0!==i&&(c=0===i?void 0:e.toFixed(i).slice(-i)),void 0!==n&&void 0!==c&&(c=function(e,t){let i=e.length-1
;for(let r=i;r>=t&&"0"===e[r];r-=1)i-=1;return e.slice(0,i+1)}(c,n)),c?`${s}${u}${t.decimalSign}${c}`:`${s}${u}`}const a=(0,o.default)((e=>{const t=e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");return new RegExp(t,"gm")}));function l(e,t){if(/^(NaN|[+|-]?Infinity)$/.test(e))return parseFloat(e);e=(0,n.stripLTRMarks)(e);const i=a(t.groupingSeparator);return i&&(e=e.replace(i,"")),e=e.replace(t.decimalSign,"."),/^(\+|-)?\d+(\.\d+|\.)?(e(\+|-)?\d+)?$/.test(e)?parseFloat(e):NaN}},722652:(e,t,i)=>{i.d(t,{PercentageFormatter:()=>s,formattingSymbol:()=>n});var r=i(220129),o=i(969680);const n="%";class s extends r.PriceFormatter{constructor(e={}){void 0!==e.decimalPlaces&&(e.priceScale=Math.pow(10,e.decimalPlaces)),super(e),this.type="percentage"}state(){return{...super.state(),percent:!0}}parse(e,t){return e=e.replace(n,""),super.parse(e,t)}format(e,t={}){const{useRtlFormat:i=!0}=t,r=super.format(e,{...t,useRtlFormat:!1})+n;return i?(0,o.forceLTRStr)(r):r}static serialize(e){return e.state()}static deserialize(e){return new s(e)}}},410022:(e,t,i)=>{window.TradingView=window.TradingView||{},i(778785).setClasses(),i(431021),i(128327).install(),i(638456),i(142492),i(813082),i(746631),i(819982),i(125226),i(49437),i(55161),i(62802),i(5368)},302221:(e,t,i)=>{var r;i.d(t,{BillingCycle:()=>r}),function(e){e.Monthly="m",e.ThreeMonths="3m",e.OneYear="y"}(r||(r={}))},707934:(e,t,i)=>{i.r(t),i.d(t,{createGoProDialog:()=>m,isUpgradableFeature:()=>u,onGoProDialog:()=>_});var r=i(735566),o=i(638456);const n=(0,r.getLogger)("GoProDialog"),s=new Set,a=[],l=new Promise((e=>{window.addEventListener("load",(()=>{setTimeout((()=>{e()}),3e3)})),setTimeout((()=>{e()}),3e3)}));function _(e,t){a.push(e),t&&t.forEach((e=>{s.add(e)}))}const c=["sessionLock","sessionLogout","checkingNSE"];function u(e){return!1===c.includes(e)}const d=e=>["alerts","primitiveAlerts","complexAlerts","watchlistAlerts","alertsNoExpiration","alertsWebhook","alertsOnSeconds"].includes(e);async function m(e){if(d(e.feature)&&n.logNormal(`\n\t\t\tcreateGoProDialog options:\n\t\t\tfeature: ${e.feature}\n\t\t\thiddenFeatures: ${0!==s.size?Array.from(s).join(", "):"none"}\n\t\t\tisSymphonyEmbed: ${(0,o.isSymphonyEmbed)()}\n\t\t\tisUpgradableFeature: ${u(e.feature)}\n\t`),await l,a.forEach((t=>{t(e.feature)})),s.has(e.feature))return;if((0,o.isSymphonyEmbed)()&&u(e.feature)){const t=await Promise.all([i.e(21122),i.e(92537),i.e(84712),i.e(87833),i.e(38452),i.e(7276),i.e(47093),i.e(44581)]).then(i.bind(i,681143));e.actionsOverride=t.generateSymphonyActions({feature:e.feature,upgradeMessage:e.upgradeMessage,additional:e.customParams}),e.hideLimitTable=!0}const t=await Promise.all([i.e(4362),i.e(37975),i.e(92537),i.e(39759),i.e(18883),i.e(52186),i.e(19190),i.e(65161),i.e(98681),i.e(67131),i.e(59546),i.e(82332),i.e(94036),i.e(25974),i.e(33595),i.e(94967),i.e(7276),i.e(51989),i.e(17725),i.e(39190),i.e(32227),i.e(59844),i.e(87288),i.e(94718),i.e(7160),i.e(5246)]).then(i.bind(i,427013));await(window.pro?.ensureValidShopConf()),
d(e.feature)&&n.logNormal(`\n\t\t\tcreateGoProDialog.renderGoproDialog.options:\n\t\t\tactionsOverride: ${e.actionsOverride},\n\t\t\thideLimitTable: ${e.hideLimitTable}\n\t\t`),t.renderGoproDialog(e)}window.TradingView.createGoProDialog=m},232759:(e,t,i)=>{i.r(t),i.d(t,{CUSTOM_SUFFIX:()=>a,EA_SUFFIX:()=>s,TRIAL_SUFFIX:()=>n,billingCycleToMonth:()=>y,billingCycleToTimeUnit:()=>l,billingPeriodText:()=>u,countDiscountByBillingCycle:()=>E,countPriceIncludeExtraDays:()=>f,floor0:()=>v,getCouponBillingCycleInfo:()=>b,getDiscountFromEarlyAccess:()=>S,getDiscountProductId:()=>g,getPlanName:()=>L,getProductForTrial:()=>p,getReadableCycle:()=>_,getReadableNumericCycle:()=>c,getRelativeAmountOfDaysFromBillingCycle:()=>A,humanizeCardPlan:()=>T,humanizeProPlan:()=>h,isEarlyAccess:()=>d,isOldUser:()=>D,isTrialProduct:()=>m,round0:()=>R,round1or0:()=>N,round2:()=>I,round2or0:()=>C,roundMinimal:()=>O});i(142492);var r=i(444372),o=i(302221);const n="_trial",s="_discount",a="_custom";function l(e){return{y:r.t(null,{plural:"years",count:1},i(993205)),m:r.t(null,{plural:"months",count:1},i(898393)),"3m":r.t(null,void 0,i(81277))}[e]}function _(e){return{m:r.t(null,void 0,i(173039)),y:r.t(null,void 0,i(317310)),"3m":r.t(null,void 0,i(820877))}[e]||""}function c(e){return{[o.BillingCycle.Monthly]:r.t(null,void 0,i(173039)),[o.BillingCycle.OneYear]:r.t(null,void 0,i(744479)),[o.BillingCycle.ThreeMonths]:r.t(null,void 0,i(820877))}[e]||""}function u(e){return{y:r.t(null,void 0,i(967752)),m:r.t(null,void 0,i(745504))}[e]??""}function d(e){return/\d{0,2}_discount$/.test(e)}function m(e){return new RegExp(n+"$").test(e)}function p(e){return e.split(n)[0]}function S(e){const t=e.match(new RegExp("^(d{0,2})"+s+"$"));return t?+t[1]||50:0}function g(e,t,i){return`${e}_${t}${i}`}function h(e,t){let o=e;switch(e){case"free":o="Basic";break;case"pro":o="Essential";break;case"pro_realtime":o="Plus";break;case"pro_premium":o="Premium";break;case"pro_expert":o="Expert";break;case"pro_premium_expert":o="Ultimate"}return t&&(o+=" "+r.t(null,void 0,i(233969))),o}function T(e){let t=e;switch(e){case"pro":t="Essential";break;case"pro_realtime":t="Plus";break;case"pro_premium":t="Premium";break;case"pro_expert":t="Expert";break;case"pro_premium_expert":t="Ultimate";break;case"free":t="Basic"}return t}function A(e,t){const i=t||new Date,r=y(e),o=i.getMonth()+r,n=new Date(new Date(i).setMonth(o));return n.getMonth()>o%12&&n.setDate(0),function(e,t){const i=t.getTime()-e.getTime();return Math.round(i/1e3/60/60/24)}(i,n)}function E(e,t,i){return Math.round((t-e)*y(i))}function f(e,t,i=0){return e/(30*y(t)+i)*(30*y(o.BillingCycle.Monthly))}function y(e){switch(e){case o.BillingCycle.OneYear:return 12;case o.BillingCycle.ThreeMonths:return 3;default:return 1}}function b(e){const t=r.t(null,void 0,i(425256));switch(e){case o.BillingCycle.Monthly:return r.t(null,void 0,i(699912));case o.BillingCycle.OneYear:default:return t}}function I(e){return(Math.round(100*e)/100).toFixed(2)}function R(e){const t=Math.round(100*e)/100;return Math.round(t).toFixed(0)}
function v(e){return Math.floor(e).toString()}function C(e){const t=Math.round(100*e)/100,i=Math.round(t);return Math.abs(t-i)>0?t.toFixed(2):i.toFixed(0)}function N(e){return Number.isInteger(e)?e.toFixed(0):(Math.round(10*e)/10).toFixed(1)}function O(e){const t=Math.round(100*e)/100,i=Math.round(10*e)/10,r=Math.round(t);return Math.abs(t-r)>0?Math.abs(t-i)>0?t.toFixed(2):i.toFixed(1):r.toFixed(0)}function L(e){const t=r.t(null,void 0,i(946530));if(m(e)){const i=h(p(e));return t.format({proPlanName:i})}return h(e)}function D(){return!!window.user.date_joined&&new Date(window.user.date_joined).getTime()<new Date("2022-05-26").getTime()}},819982:(e,t,i)=>{var r=i(707934).createGoProDialog,o=i(678708).showSignModal;window.TVDialogs={showSignInDialog:function(e){return o(e)},showGoProDialog:function(e){r(e)}}},999102:(e,t,i)=>{function r(e){return e.reduce((function(e,t,i){return~e.indexOf(t)||e.push(t),e}),[])}i.r(t),i.d(t,{uniq:()=>r})}}]);
